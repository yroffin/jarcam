(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,n){e.exports=n("zUnb")},"0EUg":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("bHdf");function r(){return Object(i.a)(1)}},1:function(e,t){},2:function(e,t){},"2QA8":function(e,t,n){"use strict";n.d(t,"a",function(){return i});const i="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},"2Vo4":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=n("XNiG"),r=n("9ppp");class s extends i.a{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new r.a;return this._value}next(e){super.next(this._value=e)}}},"2fFW":function(e,t,n){"use strict";n.d(t,"a",function(){return r});let i=!1;const r={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){i=e},get useDeprecatedSynchronousErrorHandling(){return i}}},"3N8a":function(e,t,n){"use strict";var i=n("quSY");class r extends i.a{constructor(e,t){super()}schedule(e,t=0){return this}}n.d(t,"a",function(){return s});class s extends r{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n=!1,i=void 0;try{this.work(e)}catch(r){n=!0,i=!!r&&r||new Error(r)}if(n)return this.unsubscribe(),i}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}},"4I5i":function(e,t,n){"use strict";function i(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}n.d(t,"a",function(){return r}),i.prototype=Object.create(Error.prototype);const r=i},"4Vzq":function(e,t,n){var i=n("mrSG").__decorate;Object.defineProperty(t,"__esModule",{value:!0});var r=n("8Y7J"),s=n("qCKp");t.MessageService=function(){function e(){this.messageSource=new s.Subject,this.clearSource=new s.Subject,this.messageObserver=this.messageSource.asObservable(),this.clearObserver=this.clearSource.asObservable()}return e.prototype.add=function(e){e&&this.messageSource.next(e)},e.prototype.addAll=function(e){e&&e.length&&this.messageSource.next(e)},e.prototype.clear=function(e){this.clearSource.next(e||null)},i([r.Injectable()],e)}()},"4WZM":function(e,t,n){var i=n("mrSG").__decorate,r=n("mrSG").__metadata;Object.defineProperty(t,"__esModule",{value:!0});var s=n("8Y7J"),o=n("SVse"),a=n("7LN8"),l=function(){function e(e){this.el=e}return e.prototype.getBlockableElement=function(){return this.el.nativeElement.children[0]},i([s.Input(),r("design:type",String)],e.prototype,"header",void 0),i([s.Input(),r("design:type",String)],e.prototype,"subheader",void 0),i([s.Input(),r("design:type",Object)],e.prototype,"style",void 0),i([s.Input(),r("design:type",String)],e.prototype,"styleClass",void 0),i([s.ContentChild(a.Header),r("design:type",Object)],e.prototype,"headerFacet",void 0),i([s.ContentChild(a.Footer),r("design:type",Object)],e.prototype,"footerFacet",void 0),i([s.Component({selector:"p-card",template:'\n        <div [ngClass]="\'ui-card ui-widget ui-widget-content ui-corner-all\'" [ngStyle]="style" [class]="styleClass">\n            <div class="ui-card-header" *ngIf="headerFacet">\n               <ng-content select="p-header"></ng-content>\n            </div>\n            <div class="ui-card-body">\n                <div class="ui-card-title" *ngIf="header">{{header}}</div>\n                <div class="ui-card-subtitle" *ngIf="subheader">{{subheader}}</div>\n                <div class="ui-card-content">\n                    <ng-content></ng-content>\n                </div>\n                <div class="ui-card-footer" *ngIf="footerFacet">\n                    <ng-content select="p-footer"></ng-content>\n                </div>\n            </div>\n        </div>\n    '})],e)}();t.Card=l,t.CardModule=function(){return i([s.NgModule({imports:[o.CommonModule],exports:[l,a.SharedModule],declarations:[l]})],function(){})}()},"5+tZ":function(e,t,n){"use strict";n.d(t,"a",function(){return l});var i=n("ZUHj"),r=n("l7GE"),s=n("51Dv"),o=n("lJxs"),a=n("Cfvw");function l(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?i=>i.pipe(l((n,i)=>Object(a.a)(e(n,i)).pipe(Object(o.a)((e,r)=>t(n,e,i,r))),n)):("number"==typeof t&&(n=t),t=>t.lift(new u(e,n)))}class u{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new c(e,this.project,this.concurrent))}}class c extends r.a{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(t,e,n)}_innerSub(e,t,n){const r=new s.a(this,void 0,void 0);this.destination.add(r),Object(i.a)(this,e,t,n,r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e,t,n,i,r){this.destination.next(t)}notifyComplete(e){const t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"51Dv":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("7o/Q");class r extends i.a{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}},"5OIv":function(e,t,n){"use strict";n.r(t),n.d(t,"version",function(){return Se}),n.d(t,"parse",function(){return Ee}),n.d(t,"parseExpressionAt",function(){return Te}),n.d(t,"tokenizer",function(){return Me}),n.d(t,"parse_dammit",function(){return we}),n.d(t,"LooseParser",function(){return xe}),n.d(t,"pluginsLoose",function(){return Ce}),n.d(t,"addLooseExports",function(){return Ie}),n.d(t,"Parser",function(){return j}),n.d(t,"plugins",function(){return F}),n.d(t,"defaultOptions",function(){return N}),n.d(t,"Position",function(){return P}),n.d(t,"SourceLocation",function(){return R}),n.d(t,"getLineInfo",function(){return L}),n.d(t,"Node",function(){return J}),n.d(t,"TokenType",function(){return m}),n.d(t,"tokTypes",function(){return x}),n.d(t,"keywordTypes",function(){return b}),n.d(t,"TokContext",function(){return ne}),n.d(t,"tokContexts",function(){return ie}),n.d(t,"isIdentifierChar",function(){return g}),n.d(t,"isIdentifierStart",function(){return f}),n.d(t,"Token",function(){return ve}),n.d(t,"isNewLine",function(){return E}),n.d(t,"lineBreak",function(){return C}),n.d(t,"lineBreakG",function(){return S}),n.d(t,"nonASCIIwhitespace",function(){return T});var i={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},r="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",s={5:r,6:r+" const class extends export import super"},o=/^in(stanceof)?$/,a="\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u052f\u0531-\u0556\u0559\u0560-\u0588\u05d0-\u05ea\u05ef-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u0860-\u086a\u08a0-\u08b4\u08b6-\u08bd\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u09fc\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0af9\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c58-\u0c5a\u0c60\u0c61\u0c80\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d54-\u0d56\u0d5f-\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1878\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1c80-\u1c88\u1c90-\u1cba\u1cbd-\u1cbf\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2118-\u211d\u2124\u2126\u2128\u212a-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309b-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312f\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fef\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua69d\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua7b9\ua7f7-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua8fd\ua8fe\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\ua9e0-\ua9e4\ua9e6-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa7e-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab65\uab70-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc",l="\u200c\u200d\xb7\u0300-\u036f\u0387\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u07fd\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08d3-\u08e1\u08e3-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u09fe\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0afa-\u0aff\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c00-\u0c04\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c81-\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0d00-\u0d03\u0d3b\u0d3c\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0de6-\u0def\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1369-\u1371\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19d0-\u19da\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1ab0-\u1abd\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2-\u1cf4\u1cf7-\u1cf9\u1dc0-\u1df9\u1dfb-\u1dff\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua620-\ua629\ua66f\ua674-\ua67d\ua69e\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c5\ua8d0-\ua8d9\ua8e0-\ua8f1\ua8ff-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\ua9e5\ua9f0-\ua9f9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b-\uaa7d\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f",u=new RegExp("["+a+"]"),c=new RegExp("["+a+l+"]");a=l=null;var h=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,477,28,11,0,9,21,190,52,76,44,33,24,27,35,30,0,12,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,54,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,86,26,230,43,117,63,32,0,257,0,11,39,8,0,22,0,12,39,3,3,20,0,35,56,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,270,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,689,63,129,68,12,0,67,12,65,1,31,6129,15,754,9486,286,82,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,4149,196,60,67,1213,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42710,42,4148,12,221,3,5761,15,7472,3104,541],d=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,525,10,176,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,4,9,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,280,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,135,4,60,6,26,9,1016,45,17,3,19723,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,2214,6,110,6,6,9,792487,239];function p(e,t){for(var n=65536,i=0;i<t.length;i+=2){if((n+=t[i])>e)return!1;if((n+=t[i+1])>=e)return!0}}function f(e,t){return e<65?36===e:e<91||(e<97?95===e:e<123||(e<=65535?e>=170&&u.test(String.fromCharCode(e)):!1!==t&&p(e,h)))}function g(e,t){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||(e<=65535?e>=170&&c.test(String.fromCharCode(e)):!1!==t&&(p(e,h)||p(e,d)))))}var m=function(e,t){void 0===t&&(t={}),this.label=e,this.keyword=t.keyword,this.beforeExpr=!!t.beforeExpr,this.startsExpr=!!t.startsExpr,this.isLoop=!!t.isLoop,this.isAssign=!!t.isAssign,this.prefix=!!t.prefix,this.postfix=!!t.postfix,this.binop=t.binop||null,this.updateContext=null};function v(e,t){return new m(e,{beforeExpr:!0,binop:t})}var y={beforeExpr:!0},_={startsExpr:!0},b={};function w(e,t){return void 0===t&&(t={}),t.keyword=e,b[e]=new m(e,t)}var x={num:new m("num",_),regexp:new m("regexp",_),string:new m("string",_),name:new m("name",_),eof:new m("eof"),bracketL:new m("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new m("]"),braceL:new m("{",{beforeExpr:!0,startsExpr:!0}),braceR:new m("}"),parenL:new m("(",{beforeExpr:!0,startsExpr:!0}),parenR:new m(")"),comma:new m(",",y),semi:new m(";",y),colon:new m(":",y),dot:new m("."),question:new m("?",y),arrow:new m("=>",y),template:new m("template"),invalidTemplate:new m("invalidTemplate"),ellipsis:new m("...",y),backQuote:new m("`",_),dollarBraceL:new m("${",{beforeExpr:!0,startsExpr:!0}),eq:new m("=",{beforeExpr:!0,isAssign:!0}),assign:new m("_=",{beforeExpr:!0,isAssign:!0}),incDec:new m("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new m("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:v("||",1),logicalAND:v("&&",2),bitwiseOR:v("|",3),bitwiseXOR:v("^",4),bitwiseAND:v("&",5),equality:v("==/!=/===/!==",6),relational:v("</>/<=/>=",7),bitShift:v("<</>>/>>>",8),plusMin:new m("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:v("%",10),star:v("*",10),slash:v("/",10),starstar:new m("**",{beforeExpr:!0}),_break:w("break"),_case:w("case",y),_catch:w("catch"),_continue:w("continue"),_debugger:w("debugger"),_default:w("default",y),_do:w("do",{isLoop:!0,beforeExpr:!0}),_else:w("else",y),_finally:w("finally"),_for:w("for",{isLoop:!0}),_function:w("function",_),_if:w("if"),_return:w("return",y),_switch:w("switch"),_throw:w("throw",y),_try:w("try"),_var:w("var"),_const:w("const"),_while:w("while",{isLoop:!0}),_with:w("with"),_new:w("new",{beforeExpr:!0,startsExpr:!0}),_this:w("this",_),_super:w("super",_),_class:w("class",_),_extends:w("extends",y),_export:w("export"),_import:w("import"),_null:w("null",_),_true:w("true",_),_false:w("false",_),_in:w("in",{beforeExpr:!0,binop:7}),_instanceof:w("instanceof",{beforeExpr:!0,binop:7}),_typeof:w("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:w("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:w("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},C=/\r\n?|\n|\u2028|\u2029/,S=new RegExp(C.source,"g");function E(e,t){return 10===e||13===e||!t&&(8232===e||8233===e)}var T=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,M=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,I=Object.prototype,O=I.hasOwnProperty,A=I.toString;function D(e,t){return O.call(e,t)}var k=Array.isArray||function(e){return"[object Array]"===A.call(e)},P=function(e,t){this.line=e,this.column=t};P.prototype.offset=function(e){return new P(this.line,this.column+e)};var R=function(e,t,n){this.start=t,this.end=n,null!==e.sourceFile&&(this.source=e.sourceFile)};function L(e,t){for(var n=1,i=0;;){S.lastIndex=i;var r=S.exec(e);if(!(r&&r.index<t))return new P(n,t-i);++n,i=r.index+r[0].length}}var N={ecmaVersion:7,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:!1,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1,plugins:{}},F={};function V(e){return new RegExp("^(?:"+e.replace(/ /g,"|")+")$")}var j=function(e,t,n){this.options=e=function(e){var t={};for(var n in N)t[n]=e&&D(e,n)?e[n]:N[n];if(t.ecmaVersion>=2015&&(t.ecmaVersion-=2009),null==t.allowReserved&&(t.allowReserved=t.ecmaVersion<5),k(t.onToken)){var i=t.onToken;t.onToken=function(e){return i.push(e)}}return k(t.onComment)&&(t.onComment=function(e,t){return function(n,i,r,s,o,a){var l={type:n?"Block":"Line",value:i,start:r,end:s};e.locations&&(l.loc=new R(this,o,a)),e.ranges&&(l.range=[r,s]),t.push(l)}}(t,t.onComment)),t}(e),this.sourceFile=e.sourceFile,this.keywords=V(s[e.ecmaVersion>=6?6:5]);var r="";if(!e.allowReserved){for(var o=e.ecmaVersion;!(r=i[o]);o--);"module"===e.sourceType&&(r+=" await")}this.reservedWords=V(r);var a=(r?r+" ":"")+i.strict;this.reservedWordsStrict=V(a),this.reservedWordsStrictBind=V(a+" "+i.strictBind),this.input=String(t),this.containsEsc=!1,this.loadPlugins(e.plugins),n?(this.pos=n,this.lineStart=this.input.lastIndexOf("\n",n-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(C).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=x.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule="module"===e.sourceType,this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.inFunction=this.inGenerator=this.inAsync=!1,this.yieldPos=this.awaitPos=0,this.labels=[],0===this.pos&&e.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2),this.scopeStack=[],this.enterFunctionScope(),this.regexpState=null};j.prototype.isKeyword=function(e){return this.keywords.test(e)},j.prototype.isReservedWord=function(e){return this.reservedWords.test(e)},j.prototype.extend=function(e,t){this[e]=t(this[e])},j.prototype.loadPlugins=function(e){for(var t in e){var n=F[t];if(!n)throw new Error("Plugin '"+t+"' not found");n(this,e[t])}},j.prototype.parse=function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)};var B=j.prototype,z=/^(?:'((?:\\.|[^'])*?)'|"((?:\\.|[^"])*?)"|;)/;function H(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1}B.strictDirective=function(e){for(;;){M.lastIndex=e,e+=M.exec(this.input)[0].length;var t=z.exec(this.input.slice(e));if(!t)return!1;if("use strict"===(t[1]||t[2]))return!0;e+=t[0].length}},B.eat=function(e){return this.type===e&&(this.next(),!0)},B.isContextual=function(e){return this.type===x.name&&this.value===e&&!this.containsEsc},B.eatContextual=function(e){return!!this.isContextual(e)&&(this.next(),!0)},B.expectContextual=function(e){this.eatContextual(e)||this.unexpected()},B.canInsertSemicolon=function(){return this.type===x.eof||this.type===x.braceR||C.test(this.input.slice(this.lastTokEnd,this.start))},B.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},B.semicolon=function(){this.eat(x.semi)||this.insertSemicolon()||this.unexpected()},B.afterTrailingComma=function(e,t){if(this.type===e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0},B.expect=function(e){this.eat(e)||this.unexpected()},B.unexpected=function(e){this.raise(null!=e?e:this.start,"Unexpected token")},B.checkPatternErrors=function(e,t){if(e){e.trailingComma>-1&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var n=t?e.parenthesizedAssign:e.parenthesizedBind;n>-1&&this.raiseRecoverable(n,"Parenthesized pattern")}},B.checkExpressionErrors=function(e,t){if(!e)return!1;var n=e.shorthandAssign,i=e.doubleProto;if(!t)return n>=0||i>=0;n>=0&&this.raise(n,"Shorthand property assignments are valid only in destructuring patterns"),i>=0&&this.raiseRecoverable(i,"Redefinition of __proto__ property")},B.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},B.isSimpleAssignTarget=function(e){return"ParenthesizedExpression"===e.type?this.isSimpleAssignTarget(e.expression):"Identifier"===e.type||"MemberExpression"===e.type};var U=j.prototype;U.parseTopLevel=function(e){var t={};for(e.body||(e.body=[]);this.type!==x.eof;){var n=this.parseStatement(!0,!0,t);e.body.push(n)}return this.adaptDirectivePrologue(e.body),this.next(),this.options.ecmaVersion>=6&&(e.sourceType=this.options.sourceType),this.finishNode(e,"Program")};var G={kind:"loop"},W={kind:"switch"};U.isLet=function(){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;M.lastIndex=this.pos;var e=M.exec(this.input),t=this.pos+e[0].length,n=this.input.charCodeAt(t);if(91===n||123===n)return!0;if(f(n,!0)){for(var i=t+1;g(this.input.charCodeAt(i),!0);)++i;var r=this.input.slice(t,i);if(!o.test(r))return!0}return!1},U.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;M.lastIndex=this.pos;var e=M.exec(this.input),t=this.pos+e[0].length;return!(C.test(this.input.slice(this.pos,t))||"function"!==this.input.slice(t,t+8)||t+8!==this.input.length&&g(this.input.charAt(t+8)))},U.parseStatement=function(e,t,n){var i,r=this.type,s=this.startNode();switch(this.isLet()&&(r=x._var,i="let"),r){case x._break:case x._continue:return this.parseBreakContinueStatement(s,r.keyword);case x._debugger:return this.parseDebuggerStatement(s);case x._do:return this.parseDoStatement(s);case x._for:return this.parseForStatement(s);case x._function:return!e&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(s,!1);case x._class:return e||this.unexpected(),this.parseClass(s,!0);case x._if:return this.parseIfStatement(s);case x._return:return this.parseReturnStatement(s);case x._switch:return this.parseSwitchStatement(s);case x._throw:return this.parseThrowStatement(s);case x._try:return this.parseTryStatement(s);case x._const:case x._var:return i=i||this.value,e||"var"===i||this.unexpected(),this.parseVarStatement(s,i);case x._while:return this.parseWhileStatement(s);case x._with:return this.parseWithStatement(s);case x.braceL:return this.parseBlock();case x.semi:return this.parseEmptyStatement(s);case x._export:case x._import:return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),r===x._import?this.parseImport(s):this.parseExport(s,n);default:if(this.isAsyncFunction())return e||this.unexpected(),this.next(),this.parseFunctionStatement(s,!0);var o=this.value,a=this.parseExpression();return r===x.name&&"Identifier"===a.type&&this.eat(x.colon)?this.parseLabeledStatement(s,o,a):this.parseExpressionStatement(s,a)}},U.parseBreakContinueStatement=function(e,t){var n="break"===t;this.next(),this.eat(x.semi)||this.insertSemicolon()?e.label=null:this.type!==x.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var i=0;i<this.labels.length;++i){var r=this.labels[i];if(null==e.label||r.name===e.label.name){if(null!=r.kind&&(n||"loop"===r.kind))break;if(e.label&&n)break}}return i===this.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,n?"BreakStatement":"ContinueStatement")},U.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")},U.parseDoStatement=function(e){return this.next(),this.labels.push(G),e.body=this.parseStatement(!1),this.labels.pop(),this.expect(x._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(x.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")},U.parseForStatement=function(e){this.next();var t=this.options.ecmaVersion>=9&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction)&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(G),this.enterLexicalScope(),this.expect(x.parenL),this.type===x.semi)return t>-1&&this.unexpected(t),this.parseFor(e,null);var n=this.isLet();if(this.type===x._var||this.type===x._const||n){var i=this.startNode(),r=n?"let":this.value;return this.next(),this.parseVar(i,!0,r),this.finishNode(i,"VariableDeclaration"),!(this.type===x._in||this.options.ecmaVersion>=6&&this.isContextual("of"))||1!==i.declarations.length||"var"!==r&&i.declarations[0].init?(t>-1&&this.unexpected(t),this.parseFor(e,i)):(this.options.ecmaVersion>=9&&(this.type===x._in?t>-1&&this.unexpected(t):e.await=t>-1),this.parseForIn(e,i))}var s=new H,o=this.parseExpression(!0,s);return this.type===x._in||this.options.ecmaVersion>=6&&this.isContextual("of")?(this.options.ecmaVersion>=9&&(this.type===x._in?t>-1&&this.unexpected(t):e.await=t>-1),this.toAssignable(o,!1,s),this.checkLVal(o),this.parseForIn(e,o)):(this.checkExpressionErrors(s,!0),t>-1&&this.unexpected(t),this.parseFor(e,o))},U.parseFunctionStatement=function(e,t){return this.next(),this.parseFunction(e,!0,!1,t)},U.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement(!this.strict&&this.type===x._function),e.alternate=this.eat(x._else)?this.parseStatement(!this.strict&&this.type===x._function):null,this.finishNode(e,"IfStatement")},U.parseReturnStatement=function(e){return this.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.start,"'return' outside of function"),this.next(),this.eat(x.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")},U.parseSwitchStatement=function(e){var t;this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(x.braceL),this.labels.push(W),this.enterLexicalScope();for(var n=!1;this.type!==x.braceR;)if(this.type===x._case||this.type===x._default){var i=this.type===x._case;t&&this.finishNode(t,"SwitchCase"),e.cases.push(t=this.startNode()),t.consequent=[],this.next(),i?t.test=this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,t.test=null),this.expect(x.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(!0));return this.exitLexicalScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")},U.parseThrowStatement=function(e){return this.next(),C.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var $=[];U.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===x._catch){var t=this.startNode();this.next(),this.eat(x.parenL)?(t.param=this.parseBindingAtom(),this.enterLexicalScope(),this.checkLVal(t.param,"let"),this.expect(x.parenR)):(this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterLexicalScope()),t.body=this.parseBlock(!1),this.exitLexicalScope(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(x._finally)?this.parseBlock():null,e.handler||e.finalizer||this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")},U.parseVarStatement=function(e,t){return this.next(),this.parseVar(e,!1,t),this.semicolon(),this.finishNode(e,"VariableDeclaration")},U.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push(G),e.body=this.parseStatement(!1),this.labels.pop(),this.finishNode(e,"WhileStatement")},U.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement(!1),this.finishNode(e,"WithStatement")},U.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")},U.parseLabeledStatement=function(e,t,n){for(var i=0,r=this.labels;i<r.length;i+=1)r[i].name===t&&this.raise(n.start,"Label '"+t+"' is already declared");for(var s=this.type.isLoop?"loop":this.type===x._switch?"switch":null,o=this.labels.length-1;o>=0;o--){var a=this.labels[o];if(a.statementStart!==e.start)break;a.statementStart=this.start,a.kind=s}return this.labels.push({name:t,kind:s,statementStart:this.start}),e.body=this.parseStatement(!0),("ClassDeclaration"===e.body.type||"VariableDeclaration"===e.body.type&&"var"!==e.body.kind||"FunctionDeclaration"===e.body.type&&(this.strict||e.body.generator||e.body.async))&&this.raiseRecoverable(e.body.start,"Invalid labeled declaration"),this.labels.pop(),e.label=n,this.finishNode(e,"LabeledStatement")},U.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")},U.parseBlock=function(e){void 0===e&&(e=!0);var t=this.startNode();for(t.body=[],this.expect(x.braceL),e&&this.enterLexicalScope();!this.eat(x.braceR);){var n=this.parseStatement(!0);t.body.push(n)}return e&&this.exitLexicalScope(),this.finishNode(t,"BlockStatement")},U.parseFor=function(e,t){return e.init=t,this.expect(x.semi),e.test=this.type===x.semi?null:this.parseExpression(),this.expect(x.semi),e.update=this.type===x.parenR?null:this.parseExpression(),this.expect(x.parenR),this.exitLexicalScope(),e.body=this.parseStatement(!1),this.labels.pop(),this.finishNode(e,"ForStatement")},U.parseForIn=function(e,t){var n=this.type===x._in?"ForInStatement":"ForOfStatement";return this.next(),"ForInStatement"===n&&("AssignmentPattern"===t.type||"VariableDeclaration"===t.type&&null!=t.declarations[0].init&&(this.strict||"Identifier"!==t.declarations[0].id.type))&&this.raise(t.start,"Invalid assignment in for-in loop head"),e.left=t,e.right="ForInStatement"===n?this.parseExpression():this.parseMaybeAssign(),this.expect(x.parenR),this.exitLexicalScope(),e.body=this.parseStatement(!1),this.labels.pop(),this.finishNode(e,n)},U.parseVar=function(e,t,n){for(e.declarations=[],e.kind=n;;){var i=this.startNode();if(this.parseVarId(i,n),this.eat(x.eq)?i.init=this.parseMaybeAssign(t):"const"!==n||this.type===x._in||this.options.ecmaVersion>=6&&this.isContextual("of")?"Identifier"===i.id.type||t&&(this.type===x._in||this.isContextual("of"))?i.init=null:this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):this.unexpected(),e.declarations.push(this.finishNode(i,"VariableDeclarator")),!this.eat(x.comma))break}return e},U.parseVarId=function(e,t){e.id=this.parseBindingAtom(t),this.checkLVal(e.id,t,!1)},U.parseFunction=function(e,t,n,i){this.initFunction(e),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!i)&&(e.generator=this.eat(x.star)),this.options.ecmaVersion>=8&&(e.async=!!i),t&&(e.id="nullableID"===t&&this.type!==x.name?null:this.parseIdent(),e.id&&this.checkLVal(e.id,this.inModule&&!this.inFunction?"let":"var"));var r=this.inGenerator,s=this.inAsync,o=this.yieldPos,a=this.awaitPos,l=this.inFunction;return this.inGenerator=e.generator,this.inAsync=e.async,this.yieldPos=0,this.awaitPos=0,this.inFunction=!0,this.enterFunctionScope(),t||(e.id=this.type===x.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,n),this.inGenerator=r,this.inAsync=s,this.yieldPos=o,this.awaitPos=a,this.inFunction=l,this.finishNode(e,t?"FunctionDeclaration":"FunctionExpression")},U.parseFunctionParams=function(e){this.expect(x.parenL),e.params=this.parseBindingList(x.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},U.parseClass=function(e,t){this.next(),this.parseClassId(e,t),this.parseClassSuper(e);var n=this.startNode(),i=!1;for(n.body=[],this.expect(x.braceL);!this.eat(x.braceR);){var r=this.parseClassMember(n);r&&"MethodDefinition"===r.type&&"constructor"===r.kind&&(i&&this.raise(r.start,"Duplicate constructor in the same class"),i=!0)}return e.body=this.finishNode(n,"ClassBody"),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")},U.parseClassMember=function(e){var t=this;if(this.eat(x.semi))return null;var n=this.startNode(),i=function(e,i){void 0===i&&(i=!1);var r=t.start,s=t.startLoc;return!(!t.eatContextual(e)||(t.type===x.parenL||i&&t.canInsertSemicolon())&&(n.key&&t.unexpected(),n.computed=!1,n.key=t.startNodeAt(r,s),n.key.name=e,t.finishNode(n.key,"Identifier"),1))};n.kind="method",n.static=i("static");var r=this.eat(x.star),s=!1;r||(this.options.ecmaVersion>=8&&i("async",!0)?(s=!0,r=this.options.ecmaVersion>=9&&this.eat(x.star)):i("get")?n.kind="get":i("set")&&(n.kind="set")),n.key||this.parsePropertyName(n);var o=n.key;return n.computed||n.static||!("Identifier"===o.type&&"constructor"===o.name||"Literal"===o.type&&"constructor"===o.value)?n.static&&"Identifier"===o.type&&"prototype"===o.name&&this.raise(o.start,"Classes may not have a static property named prototype"):("method"!==n.kind&&this.raise(o.start,"Constructor can't have get/set modifier"),r&&this.raise(o.start,"Constructor can't be a generator"),s&&this.raise(o.start,"Constructor can't be an async method"),n.kind="constructor"),this.parseClassMethod(e,n,r,s),"get"===n.kind&&0!==n.value.params.length&&this.raiseRecoverable(n.value.start,"getter should have no params"),"set"===n.kind&&1!==n.value.params.length&&this.raiseRecoverable(n.value.start,"setter should have exactly one param"),"set"===n.kind&&"RestElement"===n.value.params[0].type&&this.raiseRecoverable(n.value.params[0].start,"Setter cannot use rest params"),n},U.parseClassMethod=function(e,t,n,i){t.value=this.parseMethod(n,i),e.body.push(this.finishNode(t,"MethodDefinition"))},U.parseClassId=function(e,t){e.id=this.type===x.name?this.parseIdent():!0===t?this.unexpected():null},U.parseClassSuper=function(e){e.superClass=this.eat(x._extends)?this.parseExprSubscripts():null},U.parseExport=function(e,t){if(this.next(),this.eat(x.star))return this.expectContextual("from"),this.type!==x.string&&this.unexpected(),e.source=this.parseExprAtom(),this.semicolon(),this.finishNode(e,"ExportAllDeclaration");if(this.eat(x._default)){var n;if(this.checkExport(t,"default",this.lastTokStart),this.type===x._function||(n=this.isAsyncFunction())){var i=this.startNode();this.next(),n&&this.next(),e.declaration=this.parseFunction(i,"nullableID",!1,n)}else if(this.type===x._class){var r=this.startNode();e.declaration=this.parseClass(r,"nullableID")}else e.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(e,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())e.declaration=this.parseStatement(!0),"VariableDeclaration"===e.declaration.type?this.checkVariableExport(t,e.declaration.declarations):this.checkExport(t,e.declaration.id.name,e.declaration.id.start),e.specifiers=[],e.source=null;else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==x.string&&this.unexpected(),e.source=this.parseExprAtom();else{for(var s=0,o=e.specifiers;s<o.length;s+=1)this.checkUnreserved(o[s].local);e.source=null}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")},U.checkExport=function(e,t,n){e&&(D(e,t)&&this.raiseRecoverable(n,"Duplicate export '"+t+"'"),e[t]=!0)},U.checkPatternExport=function(e,t){var n=t.type;if("Identifier"===n)this.checkExport(e,t.name,t.start);else if("ObjectPattern"===n)for(var i=0,r=t.properties;i<r.length;i+=1)this.checkPatternExport(e,r[i]);else if("ArrayPattern"===n)for(var s=0,o=t.elements;s<o.length;s+=1){var a=o[s];a&&this.checkPatternExport(e,a)}else"Property"===n?this.checkPatternExport(e,t.value):"AssignmentPattern"===n?this.checkPatternExport(e,t.left):"RestElement"===n?this.checkPatternExport(e,t.argument):"ParenthesizedExpression"===n&&this.checkPatternExport(e,t.expression)},U.checkVariableExport=function(e,t){if(e)for(var n=0,i=t;n<i.length;n+=1)this.checkPatternExport(e,i[n].id)},U.shouldParseExportStatement=function(){return"var"===this.type.keyword||"const"===this.type.keyword||"class"===this.type.keyword||"function"===this.type.keyword||this.isLet()||this.isAsyncFunction()},U.parseExportSpecifiers=function(e){var t=[],n=!0;for(this.expect(x.braceL);!this.eat(x.braceR);){if(n)n=!1;else if(this.expect(x.comma),this.afterTrailingComma(x.braceR))break;var i=this.startNode();i.local=this.parseIdent(!0),i.exported=this.eatContextual("as")?this.parseIdent(!0):i.local,this.checkExport(e,i.exported.name,i.exported.start),t.push(this.finishNode(i,"ExportSpecifier"))}return t},U.parseImport=function(e){return this.next(),this.type===x.string?(e.specifiers=$,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===x.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(e,"ImportDeclaration")},U.parseImportSpecifiers=function(){var e=[],t=!0;if(this.type===x.name){var n=this.startNode();if(n.local=this.parseIdent(),this.checkLVal(n.local,"let"),e.push(this.finishNode(n,"ImportDefaultSpecifier")),!this.eat(x.comma))return e}if(this.type===x.star){var i=this.startNode();return this.next(),this.expectContextual("as"),i.local=this.parseIdent(),this.checkLVal(i.local,"let"),e.push(this.finishNode(i,"ImportNamespaceSpecifier")),e}for(this.expect(x.braceL);!this.eat(x.braceR);){if(t)t=!1;else if(this.expect(x.comma),this.afterTrailingComma(x.braceR))break;var r=this.startNode();r.imported=this.parseIdent(!0),this.eatContextual("as")?r.local=this.parseIdent():(this.checkUnreserved(r.imported),r.local=r.imported),this.checkLVal(r.local,"let"),e.push(this.finishNode(r,"ImportSpecifier"))}return e},U.adaptDirectivePrologue=function(e){for(var t=0;t<e.length&&this.isDirectiveCandidate(e[t]);++t)e[t].directive=e[t].expression.raw.slice(1,-1)},U.isDirectiveCandidate=function(e){return"ExpressionStatement"===e.type&&"Literal"===e.expression.type&&"string"==typeof e.expression.value&&('"'===this.input[e.start]||"'"===this.input[e.start])};var q=j.prototype;q.toAssignable=function(e,t,n){if(this.options.ecmaVersion>=6&&e)switch(e.type){case"Identifier":this.inAsync&&"await"===e.name&&this.raise(e.start,"Can not use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern",n&&this.checkPatternErrors(n,!0);for(var i=0,r=e.properties;i<r.length;i+=1){var s=r[i];this.toAssignable(s,t),"RestElement"!==s.type||"ArrayPattern"!==s.argument.type&&"ObjectPattern"!==s.argument.type||this.raise(s.argument.start,"Unexpected token")}break;case"Property":"init"!==e.kind&&this.raise(e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(e.value,t);break;case"ArrayExpression":e.type="ArrayPattern",n&&this.checkPatternErrors(n,!0),this.toAssignableList(e.elements,t);break;case"SpreadElement":e.type="RestElement",this.toAssignable(e.argument,t),"AssignmentPattern"===e.argument.type&&this.raise(e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":"="!==e.operator&&this.raise(e.left.end,"Only '=' operator can be used for specifying default value."),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);case"AssignmentPattern":break;case"ParenthesizedExpression":this.toAssignable(e.expression,t);break;case"MemberExpression":if(!t)break;default:this.raise(e.start,"Assigning to rvalue")}else n&&this.checkPatternErrors(n,!0);return e},q.toAssignableList=function(e,t){for(var n=e.length,i=0;i<n;i++){var r=e[i];r&&this.toAssignable(r,t)}if(n){var s=e[n-1];6===this.options.ecmaVersion&&t&&s&&"RestElement"===s.type&&"Identifier"!==s.argument.type&&this.unexpected(s.argument.start)}return e},q.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")},q.parseRestBinding=function(){var e=this.startNode();return this.next(),6===this.options.ecmaVersion&&this.type!==x.name&&this.unexpected(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")},q.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case x.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(x.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case x.braceL:return this.parseObj(!0)}return this.parseIdent()},q.parseBindingList=function(e,t,n){for(var i=[],r=!0;!this.eat(e);)if(r?r=!1:this.expect(x.comma),t&&this.type===x.comma)i.push(null);else{if(n&&this.afterTrailingComma(e))break;if(this.type===x.ellipsis){var s=this.parseRestBinding();this.parseBindingListItem(s),i.push(s),this.type===x.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}var o=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(o),i.push(o)}return i},q.parseBindingListItem=function(e){return e},q.parseMaybeDefault=function(e,t,n){if(n=n||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(x.eq))return n;var i=this.startNodeAt(e,t);return i.left=n,i.right=this.parseMaybeAssign(),this.finishNode(i,"AssignmentPattern")},q.checkLVal=function(e,t,n){switch(e.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(t?"Binding ":"Assigning to ")+e.name+" in strict mode"),n&&(D(n,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),n[e.name]=!0),t&&"none"!==t&&(("var"===t&&!this.canDeclareVarName(e.name)||"var"!==t&&!this.canDeclareLexicalName(e.name))&&this.raiseRecoverable(e.start,"Identifier '"+e.name+"' has already been declared"),"var"===t?this.declareVarName(e.name):this.declareLexicalName(e.name));break;case"MemberExpression":t&&this.raiseRecoverable(e.start,"Binding member expression");break;case"ObjectPattern":for(var i=0,r=e.properties;i<r.length;i+=1)this.checkLVal(r[i],t,n);break;case"Property":this.checkLVal(e.value,t,n);break;case"ArrayPattern":for(var s=0,o=e.elements;s<o.length;s+=1){var a=o[s];a&&this.checkLVal(a,t,n)}break;case"AssignmentPattern":this.checkLVal(e.left,t,n);break;case"RestElement":this.checkLVal(e.argument,t,n);break;case"ParenthesizedExpression":this.checkLVal(e.expression,t,n);break;default:this.raise(e.start,(t?"Binding":"Assigning to")+" rvalue")}};var Y=j.prototype;Y.checkPropClash=function(e,t,n){if(!(this.options.ecmaVersion>=9&&"SpreadElement"===e.type||this.options.ecmaVersion>=6&&(e.computed||e.method||e.shorthand))){var i,r=e.key;switch(r.type){case"Identifier":i=r.name;break;case"Literal":i=String(r.value);break;default:return}var s=e.kind;if(this.options.ecmaVersion>=6)"__proto__"===i&&"init"===s&&(t.proto&&(n&&n.doubleProto<0?n.doubleProto=r.start:this.raiseRecoverable(r.start,"Redefinition of __proto__ property")),t.proto=!0);else{var o=t[i="$"+i];o?("init"===s?this.strict&&o.init||o.get||o.set:o.init||o[s])&&this.raiseRecoverable(r.start,"Redefinition of property"):o=t[i]={init:!1,get:!1,set:!1},o[s]=!0}}},Y.parseExpression=function(e,t){var n=this.start,i=this.startLoc,r=this.parseMaybeAssign(e,t);if(this.type===x.comma){var s=this.startNodeAt(n,i);for(s.expressions=[r];this.eat(x.comma);)s.expressions.push(this.parseMaybeAssign(e,t));return this.finishNode(s,"SequenceExpression")}return r},Y.parseMaybeAssign=function(e,t,n){if(this.inGenerator&&this.isContextual("yield"))return this.parseYield();var i=!1,r=-1,s=-1;t?(r=t.parenthesizedAssign,s=t.trailingComma,t.parenthesizedAssign=t.trailingComma=-1):(t=new H,i=!0);var o=this.start,a=this.startLoc;this.type!==x.parenL&&this.type!==x.name||(this.potentialArrowAt=this.start);var l=this.parseMaybeConditional(e,t);if(n&&(l=n.call(this,l,o,a)),this.type.isAssign){var u=this.startNodeAt(o,a);return u.operator=this.value,u.left=this.type===x.eq?this.toAssignable(l,!1,t):l,i||H.call(t),t.shorthandAssign=-1,this.checkLVal(l),this.next(),u.right=this.parseMaybeAssign(e),this.finishNode(u,"AssignmentExpression")}return i&&this.checkExpressionErrors(t,!0),r>-1&&(t.parenthesizedAssign=r),s>-1&&(t.trailingComma=s),l},Y.parseMaybeConditional=function(e,t){var n=this.start,i=this.startLoc,r=this.parseExprOps(e,t);if(this.checkExpressionErrors(t))return r;if(this.eat(x.question)){var s=this.startNodeAt(n,i);return s.test=r,s.consequent=this.parseMaybeAssign(),this.expect(x.colon),s.alternate=this.parseMaybeAssign(e),this.finishNode(s,"ConditionalExpression")}return r},Y.parseExprOps=function(e,t){var n=this.start,i=this.startLoc,r=this.parseMaybeUnary(t,!1);return this.checkExpressionErrors(t)?r:r.start===n&&"ArrowFunctionExpression"===r.type?r:this.parseExprOp(r,n,i,-1,e)},Y.parseExprOp=function(e,t,n,i,r){var s=this.type.binop;if(null!=s&&(!r||this.type!==x._in)&&s>i){var o=this.type===x.logicalOR||this.type===x.logicalAND,a=this.value;this.next();var l=this.start,u=this.startLoc,c=this.parseExprOp(this.parseMaybeUnary(null,!1),l,u,s,r),h=this.buildBinary(t,n,e,c,a,o);return this.parseExprOp(h,t,n,i,r)}return e},Y.buildBinary=function(e,t,n,i,r,s){var o=this.startNodeAt(e,t);return o.left=n,o.operator=r,o.right=i,this.finishNode(o,s?"LogicalExpression":"BinaryExpression")},Y.parseMaybeUnary=function(e,t){var n,i=this.start,r=this.startLoc;if(this.isContextual("await")&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction))n=this.parseAwait(),t=!0;else if(this.type.prefix){var s=this.startNode(),o=this.type===x.incDec;s.operator=this.value,s.prefix=!0,this.next(),s.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(e,!0),o?this.checkLVal(s.argument):this.strict&&"delete"===s.operator&&"Identifier"===s.argument.type?this.raiseRecoverable(s.start,"Deleting local variable in strict mode"):t=!0,n=this.finishNode(s,o?"UpdateExpression":"UnaryExpression")}else{if(n=this.parseExprSubscripts(e),this.checkExpressionErrors(e))return n;for(;this.type.postfix&&!this.canInsertSemicolon();){var a=this.startNodeAt(i,r);a.operator=this.value,a.prefix=!1,a.argument=n,this.checkLVal(n),this.next(),n=this.finishNode(a,"UpdateExpression")}}return!t&&this.eat(x.starstar)?this.buildBinary(i,r,n,this.parseMaybeUnary(null,!1),"**",!1):n},Y.parseExprSubscripts=function(e){var t=this.start,n=this.startLoc,i=this.parseExprAtom(e),r="ArrowFunctionExpression"===i.type&&")"!==this.input.slice(this.lastTokStart,this.lastTokEnd);if(this.checkExpressionErrors(e)||r)return i;var s=this.parseSubscripts(i,t,n);return e&&"MemberExpression"===s.type&&(e.parenthesizedAssign>=s.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=s.start&&(e.parenthesizedBind=-1)),s},Y.parseSubscripts=function(e,t,n,i){for(var r=this.options.ecmaVersion>=8&&"Identifier"===e.type&&"async"===e.name&&this.lastTokEnd===e.end&&!this.canInsertSemicolon()&&"async"===this.input.slice(e.start,e.end),s=void 0;;)if((s=this.eat(x.bracketL))||this.eat(x.dot)){var o=this.startNodeAt(t,n);o.object=e,o.property=s?this.parseExpression():this.parseIdent(!0),o.computed=!!s,s&&this.expect(x.bracketR),e=this.finishNode(o,"MemberExpression")}else if(!i&&this.eat(x.parenL)){var a=new H,l=this.yieldPos,u=this.awaitPos;this.yieldPos=0,this.awaitPos=0;var c=this.parseExprList(x.parenR,this.options.ecmaVersion>=8,!1,a);if(r&&!this.canInsertSemicolon()&&this.eat(x.arrow))return this.checkPatternErrors(a,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=l,this.awaitPos=u,this.parseArrowExpression(this.startNodeAt(t,n),c,!0);this.checkExpressionErrors(a,!0),this.yieldPos=l||this.yieldPos,this.awaitPos=u||this.awaitPos;var h=this.startNodeAt(t,n);h.callee=e,h.arguments=c,e=this.finishNode(h,"CallExpression")}else{if(this.type!==x.backQuote)return e;var d=this.startNodeAt(t,n);d.tag=e,d.quasi=this.parseTemplate({isTagged:!0}),e=this.finishNode(d,"TaggedTemplateExpression")}},Y.parseExprAtom=function(e){var t,n=this.potentialArrowAt===this.start;switch(this.type){case x._super:return this.inFunction||this.raise(this.start,"'super' outside of function or class"),t=this.startNode(),this.next(),this.type!==x.dot&&this.type!==x.bracketL&&this.type!==x.parenL&&this.unexpected(),this.finishNode(t,"Super");case x._this:return t=this.startNode(),this.next(),this.finishNode(t,"ThisExpression");case x.name:var i=this.start,r=this.startLoc,s=this.containsEsc,o=this.parseIdent(this.type!==x.name);if(this.options.ecmaVersion>=8&&!s&&"async"===o.name&&!this.canInsertSemicolon()&&this.eat(x._function))return this.parseFunction(this.startNodeAt(i,r),!1,!1,!0);if(n&&!this.canInsertSemicolon()){if(this.eat(x.arrow))return this.parseArrowExpression(this.startNodeAt(i,r),[o],!1);if(this.options.ecmaVersion>=8&&"async"===o.name&&this.type===x.name&&!s)return o=this.parseIdent(),!this.canInsertSemicolon()&&this.eat(x.arrow)||this.unexpected(),this.parseArrowExpression(this.startNodeAt(i,r),[o],!0)}return o;case x.regexp:var a=this.value;return(t=this.parseLiteral(a.value)).regex={pattern:a.pattern,flags:a.flags},t;case x.num:case x.string:return this.parseLiteral(this.value);case x._null:case x._true:case x._false:return(t=this.startNode()).value=this.type===x._null?null:this.type===x._true,t.raw=this.type.keyword,this.next(),this.finishNode(t,"Literal");case x.parenL:var l=this.start,u=this.parseParenAndDistinguishExpression(n);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(u)&&(e.parenthesizedAssign=l),e.parenthesizedBind<0&&(e.parenthesizedBind=l)),u;case x.bracketL:return t=this.startNode(),this.next(),t.elements=this.parseExprList(x.bracketR,!0,!0,e),this.finishNode(t,"ArrayExpression");case x.braceL:return this.parseObj(!1,e);case x._function:return t=this.startNode(),this.next(),this.parseFunction(t,!1);case x._class:return this.parseClass(this.startNode(),!1);case x._new:return this.parseNew();case x.backQuote:return this.parseTemplate();default:this.unexpected()}},Y.parseLiteral=function(e){var t=this.startNode();return t.value=e,t.raw=this.input.slice(this.start,this.end),this.next(),this.finishNode(t,"Literal")},Y.parseParenExpression=function(){this.expect(x.parenL);var e=this.parseExpression();return this.expect(x.parenR),e},Y.parseParenAndDistinguishExpression=function(e){var t,n=this.start,i=this.startLoc,r=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var s,o=this.start,a=this.startLoc,l=[],u=!0,c=!1,h=new H,d=this.yieldPos,p=this.awaitPos;for(this.yieldPos=0,this.awaitPos=0;this.type!==x.parenR;){if(u?u=!1:this.expect(x.comma),r&&this.afterTrailingComma(x.parenR,!0)){c=!0;break}if(this.type===x.ellipsis){s=this.start,l.push(this.parseParenItem(this.parseRestBinding())),this.type===x.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}l.push(this.parseMaybeAssign(!1,h,this.parseParenItem))}var f=this.start,g=this.startLoc;if(this.expect(x.parenR),e&&!this.canInsertSemicolon()&&this.eat(x.arrow))return this.checkPatternErrors(h,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=d,this.awaitPos=p,this.parseParenArrowList(n,i,l);l.length&&!c||this.unexpected(this.lastTokStart),s&&this.unexpected(s),this.checkExpressionErrors(h,!0),this.yieldPos=d||this.yieldPos,this.awaitPos=p||this.awaitPos,l.length>1?((t=this.startNodeAt(o,a)).expressions=l,this.finishNodeAt(t,"SequenceExpression",f,g)):t=l[0]}else t=this.parseParenExpression();if(this.options.preserveParens){var m=this.startNodeAt(n,i);return m.expression=t,this.finishNode(m,"ParenthesizedExpression")}return t},Y.parseParenItem=function(e){return e},Y.parseParenArrowList=function(e,t,n){return this.parseArrowExpression(this.startNodeAt(e,t),n)};var Z=[];Y.parseNew=function(){var e=this.startNode(),t=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(x.dot)){e.meta=t;var n=this.containsEsc;return e.property=this.parseIdent(!0),("target"!==e.property.name||n)&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is new.target"),this.inFunction||this.raiseRecoverable(e.start,"new.target can only be used in functions"),this.finishNode(e,"MetaProperty")}var i=this.start,r=this.startLoc;return e.callee=this.parseSubscripts(this.parseExprAtom(),i,r,!0),e.arguments=this.eat(x.parenL)?this.parseExprList(x.parenR,this.options.ecmaVersion>=8,!1):Z,this.finishNode(e,"NewExpression")},Y.parseTemplateElement=function(e){var t=e.isTagged,n=this.startNode();return this.type===x.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),n.value={raw:this.value,cooked:null}):n.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value},this.next(),n.tail=this.type===x.backQuote,this.finishNode(n,"TemplateElement")},Y.parseTemplate=function(e){void 0===e&&(e={});var t=e.isTagged;void 0===t&&(t=!1);var n=this.startNode();this.next(),n.expressions=[];var i=this.parseTemplateElement({isTagged:t});for(n.quasis=[i];!i.tail;)this.type===x.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(x.dollarBraceL),n.expressions.push(this.parseExpression()),this.expect(x.braceR),n.quasis.push(i=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(n,"TemplateLiteral")},Y.isAsyncProp=function(e){return!e.computed&&"Identifier"===e.key.type&&"async"===e.key.name&&(this.type===x.name||this.type===x.num||this.type===x.string||this.type===x.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===x.star)&&!C.test(this.input.slice(this.lastTokEnd,this.start))},Y.parseObj=function(e,t){var n=this.startNode(),i=!0,r={};for(n.properties=[],this.next();!this.eat(x.braceR);){if(i)i=!1;else if(this.expect(x.comma),this.afterTrailingComma(x.braceR))break;var s=this.parseProperty(e,t);e||this.checkPropClash(s,r,t),n.properties.push(s)}return this.finishNode(n,e?"ObjectPattern":"ObjectExpression")},Y.parseProperty=function(e,t){var n,i,r,s,o=this.startNode();if(this.options.ecmaVersion>=9&&this.eat(x.ellipsis))return e?(o.argument=this.parseIdent(!1),this.type===x.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(o,"RestElement")):(this.type===x.parenL&&t&&(t.parenthesizedAssign<0&&(t.parenthesizedAssign=this.start),t.parenthesizedBind<0&&(t.parenthesizedBind=this.start)),o.argument=this.parseMaybeAssign(!1,t),this.type===x.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(o,"SpreadElement"));this.options.ecmaVersion>=6&&(o.method=!1,o.shorthand=!1,(e||t)&&(r=this.start,s=this.startLoc),e||(n=this.eat(x.star)));var a=this.containsEsc;return this.parsePropertyName(o),!e&&!a&&this.options.ecmaVersion>=8&&!n&&this.isAsyncProp(o)?(i=!0,n=this.options.ecmaVersion>=9&&this.eat(x.star),this.parsePropertyName(o,t)):i=!1,this.parsePropertyValue(o,e,n,i,r,s,t,a),this.finishNode(o,"Property")},Y.parsePropertyValue=function(e,t,n,i,r,s,o,a){(n||i)&&this.type===x.colon&&this.unexpected(),this.eat(x.colon)?(e.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,o),e.kind="init"):this.options.ecmaVersion>=6&&this.type===x.parenL?(t&&this.unexpected(),e.kind="init",e.method=!0,e.value=this.parseMethod(n,i)):t||a||!(this.options.ecmaVersion>=5)||e.computed||"Identifier"!==e.key.type||"get"!==e.key.name&&"set"!==e.key.name||this.type===x.comma||this.type===x.braceR?this.options.ecmaVersion>=6&&!e.computed&&"Identifier"===e.key.type?(this.checkUnreserved(e.key),e.kind="init",t?e.value=this.parseMaybeDefault(r,s,e.key):this.type===x.eq&&o?(o.shorthandAssign<0&&(o.shorthandAssign=this.start),e.value=this.parseMaybeDefault(r,s,e.key)):e.value=e.key,e.shorthand=!0):this.unexpected():((n||i)&&this.unexpected(),e.kind=e.key.name,this.parsePropertyName(e),e.value=this.parseMethod(!1),e.value.params.length!==("get"===e.kind?0:1)?this.raiseRecoverable(e.value.start,"get"===e.kind?"getter should have no params":"setter should have exactly one param"):"set"===e.kind&&"RestElement"===e.value.params[0].type&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params"))},Y.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(x.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(x.bracketR),e.key;e.computed=!1}return e.key=this.type===x.num||this.type===x.string?this.parseExprAtom():this.parseIdent(!0)},Y.initFunction=function(e){e.id=null,this.options.ecmaVersion>=6&&(e.generator=!1,e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)},Y.parseMethod=function(e,t){var n=this.startNode(),i=this.inGenerator,r=this.inAsync,s=this.yieldPos,o=this.awaitPos,a=this.inFunction;return this.initFunction(n),this.options.ecmaVersion>=6&&(n.generator=e),this.options.ecmaVersion>=8&&(n.async=!!t),this.inGenerator=n.generator,this.inAsync=n.async,this.yieldPos=0,this.awaitPos=0,this.inFunction=!0,this.enterFunctionScope(),this.expect(x.parenL),n.params=this.parseBindingList(x.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(n,!1),this.inGenerator=i,this.inAsync=r,this.yieldPos=s,this.awaitPos=o,this.inFunction=a,this.finishNode(n,"FunctionExpression")},Y.parseArrowExpression=function(e,t,n){var i=this.inGenerator,r=this.inAsync,s=this.yieldPos,o=this.awaitPos,a=this.inFunction;return this.enterFunctionScope(),this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!n),this.inGenerator=!1,this.inAsync=e.async,this.yieldPos=0,this.awaitPos=0,this.inFunction=!0,e.params=this.toAssignableList(t,!0),this.parseFunctionBody(e,!0),this.inGenerator=i,this.inAsync=r,this.yieldPos=s,this.awaitPos=o,this.inFunction=a,this.finishNode(e,"ArrowFunctionExpression")},Y.parseFunctionBody=function(e,t){var n=this.strict,i=!1;if(t&&this.type!==x.braceL)e.body=this.parseMaybeAssign(),e.expression=!0,this.checkParams(e,!1);else{var r=this.options.ecmaVersion>=7&&!this.isSimpleParamList(e.params);n&&!r||(i=this.strictDirective(this.end))&&r&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list");var s=this.labels;this.labels=[],i&&(this.strict=!0),this.checkParams(e,!n&&!i&&!t&&this.isSimpleParamList(e.params)),e.body=this.parseBlock(!1),e.expression=!1,this.adaptDirectivePrologue(e.body.body),this.labels=s}this.exitFunctionScope(),this.strict&&e.id&&this.checkLVal(e.id,"none"),this.strict=n},Y.isSimpleParamList=function(e){for(var t=0,n=e;t<n.length;t+=1)if("Identifier"!==n[t].type)return!1;return!0},Y.checkParams=function(e,t){for(var n={},i=0,r=e.params;i<r.length;i+=1)this.checkLVal(r[i],"var",t?null:n)},Y.parseExprList=function(e,t,n,i){for(var r=[],s=!0;!this.eat(e);){if(s)s=!1;else if(this.expect(x.comma),t&&this.afterTrailingComma(e))break;var o=void 0;n&&this.type===x.comma?o=null:this.type===x.ellipsis?(o=this.parseSpread(i),i&&this.type===x.comma&&i.trailingComma<0&&(i.trailingComma=this.start)):o=this.parseMaybeAssign(!1,i),r.push(o)}return r},Y.checkUnreserved=function(e){var t=e.start,n=e.end,i=e.name;this.inGenerator&&"yield"===i&&this.raiseRecoverable(t,"Can not use 'yield' as identifier inside a generator"),this.inAsync&&"await"===i&&this.raiseRecoverable(t,"Can not use 'await' as identifier inside an async function"),this.isKeyword(i)&&this.raise(t,"Unexpected keyword '"+i+"'"),this.options.ecmaVersion<6&&-1!==this.input.slice(t,n).indexOf("\\")||(this.strict?this.reservedWordsStrict:this.reservedWords).test(i)&&(this.inAsync||"await"!==i||this.raiseRecoverable(t,"Can not use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+i+"' is reserved"))},Y.parseIdent=function(e,t){var n=this.startNode();return e&&"never"===this.options.allowReserved&&(e=!1),this.type===x.name?n.name=this.value:this.type.keyword?(n.name=this.type.keyword,"class"!==n.name&&"function"!==n.name||this.lastTokEnd===this.lastTokStart+1&&46===this.input.charCodeAt(this.lastTokStart)||this.context.pop()):this.unexpected(),this.next(),this.finishNode(n,"Identifier"),e||this.checkUnreserved(n),n},Y.parseYield=function(){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type===x.semi||this.canInsertSemicolon()||this.type!==x.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(x.star),e.argument=this.parseMaybeAssign()),this.finishNode(e,"YieldExpression")},Y.parseAwait=function(){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0),this.finishNode(e,"AwaitExpression")};var K=j.prototype;K.raise=function(e,t){var n=L(this.input,e),i=new SyntaxError(t+=" ("+n.line+":"+n.column+")");throw i.pos=e,i.loc=n,i.raisedAt=this.pos,i},K.raiseRecoverable=K.raise,K.curPosition=function(){if(this.options.locations)return new P(this.curLine,this.pos-this.lineStart)};var X=j.prototype,Q=Object.assign||function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];for(var i=0,r=t;i<r.length;i+=1){var s=r[i];for(var o in s)D(s,o)&&(e[o]=s[o])}return e};X.enterFunctionScope=function(){this.scopeStack.push({var:{},lexical:{},childVar:{},parentLexical:{}})},X.exitFunctionScope=function(){this.scopeStack.pop()},X.enterLexicalScope=function(){var e=this.scopeStack[this.scopeStack.length-1],t={var:{},lexical:{},childVar:{},parentLexical:{}};this.scopeStack.push(t),Q(t.parentLexical,e.lexical,e.parentLexical)},X.exitLexicalScope=function(){var e=this.scopeStack.pop();Q(this.scopeStack[this.scopeStack.length-1].childVar,e.var,e.childVar)},X.canDeclareVarName=function(e){var t=this.scopeStack[this.scopeStack.length-1];return!D(t.lexical,e)&&!D(t.parentLexical,e)},X.canDeclareLexicalName=function(e){var t=this.scopeStack[this.scopeStack.length-1];return!D(t.lexical,e)&&!D(t.var,e)&&!D(t.childVar,e)},X.declareVarName=function(e){this.scopeStack[this.scopeStack.length-1].var[e]=!0},X.declareLexicalName=function(e){this.scopeStack[this.scopeStack.length-1].lexical[e]=!0};var J=function(e,t,n){this.type="",this.start=t,this.end=0,e.options.locations&&(this.loc=new R(e,n)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[t,0])},ee=j.prototype;function te(e,t,n,i){return e.type=t,e.end=n,this.options.locations&&(e.loc.end=i),this.options.ranges&&(e.range[1]=n),e}ee.startNode=function(){return new J(this,this.start,this.startLoc)},ee.startNodeAt=function(e,t){return new J(this,e,t)},ee.finishNode=function(e,t){return te.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)},ee.finishNodeAt=function(e,t,n,i){return te.call(this,e,t,n,i)};var ne=function(e,t,n,i,r){this.token=e,this.isExpr=!!t,this.preserveSpace=!!n,this.override=i,this.generator=!!r},ie={b_stat:new ne("{",!1),b_expr:new ne("{",!0),b_tmpl:new ne("${",!1),p_stat:new ne("(",!1),p_expr:new ne("(",!0),q_tmpl:new ne("`",!0,!0,function(e){return e.tryReadTemplateToken()}),f_stat:new ne("function",!1),f_expr:new ne("function",!0),f_expr_gen:new ne("function",!0,!1,null,!0),f_gen:new ne("function",!1,!1,null,!0)},re=j.prototype;re.initialContext=function(){return[ie.b_stat]},re.braceIsBlock=function(e){var t=this.curContext();return t===ie.f_expr||t===ie.f_stat||(e!==x.colon||t!==ie.b_stat&&t!==ie.b_expr?e===x._return||e===x.name&&this.exprAllowed?C.test(this.input.slice(this.lastTokEnd,this.start)):e===x._else||e===x.semi||e===x.eof||e===x.parenR||e===x.arrow||(e===x.braceL?t===ie.b_stat:e!==x._var&&e!==x.name&&!this.exprAllowed):!t.isExpr)},re.inGeneratorContext=function(){for(var e=this.context.length-1;e>=1;e--){var t=this.context[e];if("function"===t.token)return t.generator}return!1},re.updateContext=function(e){var t,n=this.type;n.keyword&&e===x.dot?this.exprAllowed=!1:(t=n.updateContext)?t.call(this,e):this.exprAllowed=n.beforeExpr},x.parenR.updateContext=x.braceR.updateContext=function(){if(1!==this.context.length){var e=this.context.pop();e===ie.b_stat&&"function"===this.curContext().token&&(e=this.context.pop()),this.exprAllowed=!e.isExpr}else this.exprAllowed=!0},x.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?ie.b_stat:ie.b_expr),this.exprAllowed=!0},x.dollarBraceL.updateContext=function(){this.context.push(ie.b_tmpl),this.exprAllowed=!0},x.parenL.updateContext=function(e){this.context.push(e===x._if||e===x._for||e===x._with||e===x._while?ie.p_stat:ie.p_expr),this.exprAllowed=!0},x.incDec.updateContext=function(){},x._function.updateContext=x._class.updateContext=function(e){e.beforeExpr&&e!==x.semi&&e!==x._else&&(e!==x.colon&&e!==x.braceL||this.curContext()!==ie.b_stat)?this.context.push(ie.f_expr):this.context.push(ie.f_stat),this.exprAllowed=!1},x.backQuote.updateContext=function(){this.curContext()===ie.q_tmpl?this.context.pop():this.context.push(ie.q_tmpl),this.exprAllowed=!1},x.star.updateContext=function(e){if(e===x._function){var t=this.context.length-1;this.context[t]=this.context[t]===ie.f_expr?ie.f_expr_gen:ie.f_gen}this.exprAllowed=!0},x.name.updateContext=function(e){var t=!1;this.options.ecmaVersion>=6&&e!==x.dot&&("of"===this.value&&!this.exprAllowed||"yield"===this.value&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t};var se={$LONE:["ASCII","ASCII_Hex_Digit","AHex","Alphabetic","Alpha","Any","Assigned","Bidi_Control","Bidi_C","Bidi_Mirrored","Bidi_M","Case_Ignorable","CI","Cased","Changes_When_Casefolded","CWCF","Changes_When_Casemapped","CWCM","Changes_When_Lowercased","CWL","Changes_When_NFKC_Casefolded","CWKCF","Changes_When_Titlecased","CWT","Changes_When_Uppercased","CWU","Dash","Default_Ignorable_Code_Point","DI","Deprecated","Dep","Diacritic","Dia","Emoji","Emoji_Component","Emoji_Modifier","Emoji_Modifier_Base","Emoji_Presentation","Extender","Ext","Grapheme_Base","Gr_Base","Grapheme_Extend","Gr_Ext","Hex_Digit","Hex","IDS_Binary_Operator","IDSB","IDS_Trinary_Operator","IDST","ID_Continue","IDC","ID_Start","IDS","Ideographic","Ideo","Join_Control","Join_C","Logical_Order_Exception","LOE","Lowercase","Lower","Math","Noncharacter_Code_Point","NChar","Pattern_Syntax","Pat_Syn","Pattern_White_Space","Pat_WS","Quotation_Mark","QMark","Radical","Regional_Indicator","RI","Sentence_Terminal","STerm","Soft_Dotted","SD","Terminal_Punctuation","Term","Unified_Ideograph","UIdeo","Uppercase","Upper","Variation_Selector","VS","White_Space","space","XID_Continue","XIDC","XID_Start","XIDS"],General_Category:["Cased_Letter","LC","Close_Punctuation","Pe","Connector_Punctuation","Pc","Control","Cc","cntrl","Currency_Symbol","Sc","Dash_Punctuation","Pd","Decimal_Number","Nd","digit","Enclosing_Mark","Me","Final_Punctuation","Pf","Format","Cf","Initial_Punctuation","Pi","Letter","L","Letter_Number","Nl","Line_Separator","Zl","Lowercase_Letter","Ll","Mark","M","Combining_Mark","Math_Symbol","Sm","Modifier_Letter","Lm","Modifier_Symbol","Sk","Nonspacing_Mark","Mn","Number","N","Open_Punctuation","Ps","Other","C","Other_Letter","Lo","Other_Number","No","Other_Punctuation","Po","Other_Symbol","So","Paragraph_Separator","Zp","Private_Use","Co","Punctuation","P","punct","Separator","Z","Space_Separator","Zs","Spacing_Mark","Mc","Surrogate","Cs","Symbol","S","Titlecase_Letter","Lt","Unassigned","Cn","Uppercase_Letter","Lu"],Script:["Adlam","Adlm","Ahom","Anatolian_Hieroglyphs","Hluw","Arabic","Arab","Armenian","Armn","Avestan","Avst","Balinese","Bali","Bamum","Bamu","Bassa_Vah","Bass","Batak","Batk","Bengali","Beng","Bhaiksuki","Bhks","Bopomofo","Bopo","Brahmi","Brah","Braille","Brai","Buginese","Bugi","Buhid","Buhd","Canadian_Aboriginal","Cans","Carian","Cari","Caucasian_Albanian","Aghb","Chakma","Cakm","Cham","Cherokee","Cher","Common","Zyyy","Coptic","Copt","Qaac","Cuneiform","Xsux","Cypriot","Cprt","Cyrillic","Cyrl","Deseret","Dsrt","Devanagari","Deva","Duployan","Dupl","Egyptian_Hieroglyphs","Egyp","Elbasan","Elba","Ethiopic","Ethi","Georgian","Geor","Glagolitic","Glag","Gothic","Goth","Grantha","Gran","Greek","Grek","Gujarati","Gujr","Gurmukhi","Guru","Han","Hani","Hangul","Hang","Hanunoo","Hano","Hatran","Hatr","Hebrew","Hebr","Hiragana","Hira","Imperial_Aramaic","Armi","Inherited","Zinh","Qaai","Inscriptional_Pahlavi","Phli","Inscriptional_Parthian","Prti","Javanese","Java","Kaithi","Kthi","Kannada","Knda","Katakana","Kana","Kayah_Li","Kali","Kharoshthi","Khar","Khmer","Khmr","Khojki","Khoj","Khudawadi","Sind","Lao","Laoo","Latin","Latn","Lepcha","Lepc","Limbu","Limb","Linear_A","Lina","Linear_B","Linb","Lisu","Lycian","Lyci","Lydian","Lydi","Mahajani","Mahj","Malayalam","Mlym","Mandaic","Mand","Manichaean","Mani","Marchen","Marc","Masaram_Gondi","Gonm","Meetei_Mayek","Mtei","Mende_Kikakui","Mend","Meroitic_Cursive","Merc","Meroitic_Hieroglyphs","Mero","Miao","Plrd","Modi","Mongolian","Mong","Mro","Mroo","Multani","Mult","Myanmar","Mymr","Nabataean","Nbat","New_Tai_Lue","Talu","Newa","Nko","Nkoo","Nushu","Nshu","Ogham","Ogam","Ol_Chiki","Olck","Old_Hungarian","Hung","Old_Italic","Ital","Old_North_Arabian","Narb","Old_Permic","Perm","Old_Persian","Xpeo","Old_South_Arabian","Sarb","Old_Turkic","Orkh","Oriya","Orya","Osage","Osge","Osmanya","Osma","Pahawh_Hmong","Hmng","Palmyrene","Palm","Pau_Cin_Hau","Pauc","Phags_Pa","Phag","Phoenician","Phnx","Psalter_Pahlavi","Phlp","Rejang","Rjng","Runic","Runr","Samaritan","Samr","Saurashtra","Saur","Sharada","Shrd","Shavian","Shaw","Siddham","Sidd","SignWriting","Sgnw","Sinhala","Sinh","Sora_Sompeng","Sora","Soyombo","Soyo","Sundanese","Sund","Syloti_Nagri","Sylo","Syriac","Syrc","Tagalog","Tglg","Tagbanwa","Tagb","Tai_Le","Tale","Tai_Tham","Lana","Tai_Viet","Tavt","Takri","Takr","Tamil","Taml","Tangut","Tang","Telugu","Telu","Thaana","Thaa","Thai","Tibetan","Tibt","Tifinagh","Tfng","Tirhuta","Tirh","Ugaritic","Ugar","Vai","Vaii","Warang_Citi","Wara","Yi","Yiii","Zanabazar_Square","Zanb"]};Array.prototype.push.apply(se.$LONE,se.General_Category),se.gc=se.General_Category,se.sc=se.Script_Extensions=se.scx=se.Script;var oe=j.prototype,ae=function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":""),this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};function le(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}function ue(e){return 36===e||e>=40&&e<=43||46===e||63===e||e>=91&&e<=94||e>=123&&e<=125}function ce(e){return e>=65&&e<=90||e>=97&&e<=122}function he(e){return ce(e)||95===e}function de(e){return he(e)||pe(e)}function pe(e){return e>=48&&e<=57}function fe(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function ge(e){return e>=65&&e<=70?e-65+10:e>=97&&e<=102?e-97+10:e-48}function me(e){return e>=48&&e<=55}ae.prototype.reset=function(e,t,n){var i=-1!==n.indexOf("u");this.start=0|e,this.source=t+"",this.flags=n,this.switchU=i&&this.parser.options.ecmaVersion>=6,this.switchN=i&&this.parser.options.ecmaVersion>=9},ae.prototype.raise=function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)},ae.prototype.at=function(e){var t=this.source,n=t.length;if(e>=n)return-1;var i=t.charCodeAt(e);return!this.switchU||i<=55295||i>=57344||e+1>=n?i:(i<<10)+t.charCodeAt(e+1)-56613888},ae.prototype.nextIndex=function(e){var t=this.source,n=t.length;if(e>=n)return n;var i=t.charCodeAt(e);return!this.switchU||i<=55295||i>=57344||e+1>=n?e+1:e+2},ae.prototype.current=function(){return this.at(this.pos)},ae.prototype.lookahead=function(){return this.at(this.nextIndex(this.pos))},ae.prototype.advance=function(){this.pos=this.nextIndex(this.pos)},ae.prototype.eat=function(e){return this.current()===e&&(this.advance(),!0)},oe.validateRegExpFlags=function(e){for(var t=e.validFlags,n=e.flags,i=0;i<n.length;i++){var r=n.charAt(i);-1===t.indexOf(r)&&this.raise(e.start,"Invalid regular expression flag"),n.indexOf(r,i+1)>-1&&this.raise(e.start,"Duplicate regular expression flag")}},oe.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&this.options.ecmaVersion>=9&&e.groupNames.length>0&&(e.switchN=!0,this.regexp_pattern(e))},oe.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames.length=0,e.backReferenceNames.length=0,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var t=0,n=e.backReferenceNames;t<n.length;t+=1)-1===e.groupNames.indexOf(n[t])&&e.raise("Invalid named capture referenced")},oe.regexp_disjunction=function(e){for(this.regexp_alternative(e);e.eat(124);)this.regexp_alternative(e);this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")},oe.regexp_alternative=function(e){for(;e.pos<e.source.length&&this.regexp_eatTerm(e););},oe.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):!(e.switchU?!this.regexp_eatAtom(e):!this.regexp_eatExtendedAtom(e))&&(this.regexp_eatQuantifier(e),!0)},oe.regexp_eatAssertion=function(e){var t=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=t}if(e.eat(40)&&e.eat(63)){var n=!1;if(this.options.ecmaVersion>=9&&(n=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!n,!0}return e.pos=t,!1},oe.regexp_eatQuantifier=function(e,t){return void 0===t&&(t=!1),!!this.regexp_eatQuantifierPrefix(e,t)&&(e.eat(63),!0)},oe.regexp_eatQuantifierPrefix=function(e,t){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,t)},oe.regexp_eatBracedQuantifier=function(e,t){var n=e.pos;if(e.eat(123)){var i=0,r=-1;if(this.regexp_eatDecimalDigits(e)&&(i=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(r=e.lastIntValue),e.eat(125)))return-1!==r&&r<i&&!t&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!t&&e.raise("Incomplete quantifier"),e.pos=n}return!1},oe.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)},oe.regexp_eatReverseSolidusAtomEscape=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=t}return!1},oe.regexp_eatUncapturingGroup=function(e){var t=e.pos;if(e.eat(40)){if(e.eat(63)&&e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}e.pos=t}return!1},oe.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(e):63===e.current()&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=1,!0;e.raise("Unterminated group")}return!1},oe.regexp_eatExtendedAtom=function(e){return e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)||this.regexp_eatInvalidBracedQuantifier(e)||this.regexp_eatExtendedPatternCharacter(e)},oe.regexp_eatInvalidBracedQuantifier=function(e){return this.regexp_eatBracedQuantifier(e,!0)&&e.raise("Nothing to repeat"),!1},oe.regexp_eatSyntaxCharacter=function(e){var t=e.current();return!!ue(t)&&(e.lastIntValue=t,e.advance(),!0)},oe.regexp_eatPatternCharacters=function(e){for(var t=e.pos,n=0;-1!==(n=e.current())&&!ue(n);)e.advance();return e.pos!==t},oe.regexp_eatExtendedPatternCharacter=function(e){var t=e.current();return!(-1===t||36===t||t>=40&&t<=43||46===t||63===t||91===t||94===t||124===t||(e.advance(),0))},oe.regexp_groupSpecifier=function(e){if(e.eat(63)){if(this.regexp_eatGroupName(e))return-1!==e.groupNames.indexOf(e.lastStringValue)&&e.raise("Duplicate capture group name"),void e.groupNames.push(e.lastStringValue);e.raise("Invalid group")}},oe.regexp_eatGroupName=function(e){if(e.lastStringValue="",e.eat(60)){if(this.regexp_eatRegExpIdentifierName(e)&&e.eat(62))return!0;e.raise("Invalid capture group name")}return!1},oe.regexp_eatRegExpIdentifierName=function(e){if(e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(e)){for(e.lastStringValue+=le(e.lastIntValue);this.regexp_eatRegExpIdentifierPart(e);)e.lastStringValue+=le(e.lastIntValue);return!0}return!1},oe.regexp_eatRegExpIdentifierStart=function(e){var t=e.pos,n=e.current();return e.advance(),92===n&&this.regexp_eatRegExpUnicodeEscapeSequence(e)&&(n=e.lastIntValue),function(e){return f(e,!0)||36===e||95===e}(n)?(e.lastIntValue=n,!0):(e.pos=t,!1)},oe.regexp_eatRegExpIdentifierPart=function(e){var t=e.pos,n=e.current();return e.advance(),92===n&&this.regexp_eatRegExpUnicodeEscapeSequence(e)&&(n=e.lastIntValue),function(e){return g(e,!0)||36===e||95===e||8204===e||8205===e}(n)?(e.lastIntValue=n,!0):(e.pos=t,!1)},oe.regexp_eatAtomEscape=function(e){return!!(this.regexp_eatBackReference(e)||this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)||e.switchN&&this.regexp_eatKGroupName(e))||(e.switchU&&(99===e.current()&&e.raise("Invalid unicode escape"),e.raise("Invalid escape")),!1)},oe.regexp_eatBackReference=function(e){var t=e.pos;if(this.regexp_eatDecimalEscape(e)){var n=e.lastIntValue;if(e.switchU)return n>e.maxBackReference&&(e.maxBackReference=n),!0;if(n<=e.numCapturingParens)return!0;e.pos=t}return!1},oe.regexp_eatKGroupName=function(e){if(e.eat(107)){if(this.regexp_eatGroupName(e))return e.backReferenceNames.push(e.lastStringValue),!0;e.raise("Invalid named reference")}return!1},oe.regexp_eatCharacterEscape=function(e){return this.regexp_eatControlEscape(e)||this.regexp_eatCControlLetter(e)||this.regexp_eatZero(e)||this.regexp_eatHexEscapeSequence(e)||this.regexp_eatRegExpUnicodeEscapeSequence(e)||!e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(e)||this.regexp_eatIdentityEscape(e)},oe.regexp_eatCControlLetter=function(e){var t=e.pos;if(e.eat(99)){if(this.regexp_eatControlLetter(e))return!0;e.pos=t}return!1},oe.regexp_eatZero=function(e){return 48===e.current()&&!pe(e.lookahead())&&(e.lastIntValue=0,e.advance(),!0)},oe.regexp_eatControlEscape=function(e){var t=e.current();return 116===t?(e.lastIntValue=9,e.advance(),!0):110===t?(e.lastIntValue=10,e.advance(),!0):118===t?(e.lastIntValue=11,e.advance(),!0):102===t?(e.lastIntValue=12,e.advance(),!0):114===t&&(e.lastIntValue=13,e.advance(),!0)},oe.regexp_eatControlLetter=function(e){var t=e.current();return!!ce(t)&&(e.lastIntValue=t%32,e.advance(),!0)},oe.regexp_eatRegExpUnicodeEscapeSequence=function(e){var t,n=e.pos;if(e.eat(117)){if(this.regexp_eatFixedHexDigits(e,4)){var i=e.lastIntValue;if(e.switchU&&i>=55296&&i<=56319){var r=e.pos;if(e.eat(92)&&e.eat(117)&&this.regexp_eatFixedHexDigits(e,4)){var s=e.lastIntValue;if(s>=56320&&s<=57343)return e.lastIntValue=1024*(i-55296)+(s-56320)+65536,!0}e.pos=r,e.lastIntValue=i}return!0}if(e.switchU&&e.eat(123)&&this.regexp_eatHexDigits(e)&&e.eat(125)&&(t=e.lastIntValue)>=0&&t<=1114111)return!0;e.switchU&&e.raise("Invalid unicode escape"),e.pos=n}return!1},oe.regexp_eatIdentityEscape=function(e){if(e.switchU)return!!this.regexp_eatSyntaxCharacter(e)||!!e.eat(47)&&(e.lastIntValue=47,!0);var t=e.current();return!(99===t||e.switchN&&107===t||(e.lastIntValue=t,e.advance(),0))},oe.regexp_eatDecimalEscape=function(e){e.lastIntValue=0;var t=e.current();if(t>=49&&t<=57){do{e.lastIntValue=10*e.lastIntValue+(t-48),e.advance()}while((t=e.current())>=48&&t<=57);return!0}return!1},oe.regexp_eatCharacterClassEscape=function(e){var t=e.current();if(function(e){return 100===e||68===e||115===e||83===e||119===e||87===e}(t))return e.lastIntValue=-1,e.advance(),!0;if(e.switchU&&this.options.ecmaVersion>=9&&(80===t||112===t)){if(e.lastIntValue=-1,e.advance(),e.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(e)&&e.eat(125))return!0;e.raise("Invalid property name")}return!1},oe.regexp_eatUnicodePropertyValueExpression=function(e){var t=e.pos;if(this.regexp_eatUnicodePropertyName(e)&&e.eat(61)){var n=e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(e))return this.regexp_validateUnicodePropertyNameAndValue(e,n,e.lastStringValue),!0}return e.pos=t,!!this.regexp_eatLoneUnicodePropertyNameOrValue(e)&&(this.regexp_validateUnicodePropertyNameOrValue(e,e.lastStringValue),!0)},oe.regexp_validateUnicodePropertyNameAndValue=function(e,t,n){se.hasOwnProperty(t)&&-1!==se[t].indexOf(n)||e.raise("Invalid property name")},oe.regexp_validateUnicodePropertyNameOrValue=function(e,t){-1===se.$LONE.indexOf(t)&&e.raise("Invalid property name")},oe.regexp_eatUnicodePropertyName=function(e){var t=0;for(e.lastStringValue="";he(t=e.current());)e.lastStringValue+=le(t),e.advance();return""!==e.lastStringValue},oe.regexp_eatUnicodePropertyValue=function(e){var t=0;for(e.lastStringValue="";de(t=e.current());)e.lastStringValue+=le(t),e.advance();return""!==e.lastStringValue},oe.regexp_eatLoneUnicodePropertyNameOrValue=function(e){return this.regexp_eatUnicodePropertyValue(e)},oe.regexp_eatCharacterClass=function(e){if(e.eat(91)){if(e.eat(94),this.regexp_classRanges(e),e.eat(93))return!0;e.raise("Unterminated character class")}return!1},oe.regexp_classRanges=function(e){for(;this.regexp_eatClassAtom(e);){var t=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassAtom(e)){var n=e.lastIntValue;!e.switchU||-1!==t&&-1!==n||e.raise("Invalid character class"),-1!==t&&-1!==n&&t>n&&e.raise("Range out of order in character class")}}},oe.regexp_eatClassAtom=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatClassEscape(e))return!0;if(e.switchU){var n=e.current();(99===n||me(n))&&e.raise("Invalid class escape"),e.raise("Invalid escape")}e.pos=t}var i=e.current();return 93!==i&&(e.lastIntValue=i,e.advance(),!0)},oe.regexp_eatClassEscape=function(e){var t=e.pos;if(e.eat(98))return e.lastIntValue=8,!0;if(e.switchU&&e.eat(45))return e.lastIntValue=45,!0;if(!e.switchU&&e.eat(99)){if(this.regexp_eatClassControlLetter(e))return!0;e.pos=t}return this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)},oe.regexp_eatClassControlLetter=function(e){var t=e.current();return!(!pe(t)&&95!==t||(e.lastIntValue=t%32,e.advance(),0))},oe.regexp_eatHexEscapeSequence=function(e){var t=e.pos;if(e.eat(120)){if(this.regexp_eatFixedHexDigits(e,2))return!0;e.switchU&&e.raise("Invalid escape"),e.pos=t}return!1},oe.regexp_eatDecimalDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;pe(n=e.current());)e.lastIntValue=10*e.lastIntValue+(n-48),e.advance();return e.pos!==t},oe.regexp_eatHexDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;fe(n=e.current());)e.lastIntValue=16*e.lastIntValue+ge(n),e.advance();return e.pos!==t},oe.regexp_eatLegacyOctalEscapeSequence=function(e){if(this.regexp_eatOctalDigit(e)){var t=e.lastIntValue;if(this.regexp_eatOctalDigit(e)){var n=e.lastIntValue;e.lastIntValue=t<=3&&this.regexp_eatOctalDigit(e)?64*t+8*n+e.lastIntValue:8*t+n}else e.lastIntValue=t;return!0}return!1},oe.regexp_eatOctalDigit=function(e){var t=e.current();return me(t)?(e.lastIntValue=t-48,e.advance(),!0):(e.lastIntValue=0,!1)},oe.regexp_eatFixedHexDigits=function(e,t){var n=e.pos;e.lastIntValue=0;for(var i=0;i<t;++i){var r=e.current();if(!fe(r))return e.pos=n,!1;e.lastIntValue=16*e.lastIntValue+ge(r),e.advance()}return!0};var ve=function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new R(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},ye=j.prototype;function _e(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}ye.next=function(){this.options.onToken&&this.options.onToken(new ve(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},ye.getToken=function(){return this.next(),new ve(this)},"undefined"!=typeof Symbol&&(ye[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.getToken();return{done:t.type===x.eof,value:t}}}}),ye.curContext=function(){return this.context[this.context.length-1]},ye.nextToken=function(){var e=this.curContext();return e&&e.preserveSpace||this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length?this.finishToken(x.eof):e.override?e.override(this):void this.readToken(this.fullCharCodeAtPos())},ye.readToken=function(e){return f(e,this.options.ecmaVersion>=6)||92===e?this.readWord():this.getTokenFromCode(e)},ye.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);return e<=55295||e>=57344?e:(e<<10)+this.input.charCodeAt(this.pos+1)-56613888},ye.skipBlockComment=function(){var e,t=this.options.onComment&&this.curPosition(),n=this.pos,i=this.input.indexOf("*/",this.pos+=2);if(-1===i&&this.raise(this.pos-2,"Unterminated comment"),this.pos=i+2,this.options.locations)for(S.lastIndex=n;(e=S.exec(this.input))&&e.index<this.pos;)++this.curLine,this.lineStart=e.index+e[0].length;this.options.onComment&&this.options.onComment(!0,this.input.slice(n+2,i),n,this.pos,t,this.curPosition())},ye.skipLineComment=function(e){for(var t=this.pos,n=this.options.onComment&&this.curPosition(),i=this.input.charCodeAt(this.pos+=e);this.pos<this.input.length&&!E(i);)i=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+e,this.pos),t,this.pos,n,this.curPosition())},ye.skipSpace=function(){e:for(;this.pos<this.input.length;){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:10===this.input.charCodeAt(this.pos+1)&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(!(e>8&&e<14||e>=5760&&T.test(String.fromCharCode(e))))break e;++this.pos}}},ye.finishToken=function(e,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var n=this.type;this.type=e,this.value=t,this.updateContext(n)},ye.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&46===e&&46===t?(this.pos+=3,this.finishToken(x.ellipsis)):(++this.pos,this.finishToken(x.dot))},ye.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===e?this.finishOp(x.assign,2):this.finishOp(x.slash,1)},ye.readToken_mult_modulo_exp=function(e){var t=this.input.charCodeAt(this.pos+1),n=1,i=42===e?x.star:x.modulo;return this.options.ecmaVersion>=7&&42===e&&42===t&&(++n,i=x.starstar,t=this.input.charCodeAt(this.pos+2)),61===t?this.finishOp(x.assign,n+1):this.finishOp(i,n)},ye.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?this.finishOp(124===e?x.logicalOR:x.logicalAND,2):61===t?this.finishOp(x.assign,2):this.finishOp(124===e?x.bitwiseOR:x.bitwiseAND,1)},ye.readToken_caret=function(){return 61===this.input.charCodeAt(this.pos+1)?this.finishOp(x.assign,2):this.finishOp(x.bitwiseXOR,1)},ye.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?45!==t||this.inModule||62!==this.input.charCodeAt(this.pos+2)||0!==this.lastTokEnd&&!C.test(this.input.slice(this.lastTokEnd,this.pos))?this.finishOp(x.incDec,2):(this.skipLineComment(3),this.skipSpace(),this.nextToken()):61===t?this.finishOp(x.assign,2):this.finishOp(x.plusMin,1)},ye.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.pos+1),n=1;return t===e?(n=62===e&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+n)?this.finishOp(x.assign,n+1):this.finishOp(x.bitShift,n)):33!==t||60!==e||this.inModule||45!==this.input.charCodeAt(this.pos+2)||45!==this.input.charCodeAt(this.pos+3)?(61===t&&(n=2),this.finishOp(x.relational,n)):(this.skipLineComment(4),this.skipSpace(),this.nextToken())},ye.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.pos+1);return 61===t?this.finishOp(x.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===e&&62===t&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(x.arrow)):this.finishOp(61===e?x.eq:x.prefix,1)},ye.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(x.parenL);case 41:return++this.pos,this.finishToken(x.parenR);case 59:return++this.pos,this.finishToken(x.semi);case 44:return++this.pos,this.finishToken(x.comma);case 91:return++this.pos,this.finishToken(x.bracketL);case 93:return++this.pos,this.finishToken(x.bracketR);case 123:return++this.pos,this.finishToken(x.braceL);case 125:return++this.pos,this.finishToken(x.braceR);case 58:return++this.pos,this.finishToken(x.colon);case 63:return++this.pos,this.finishToken(x.question);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(x.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(120===t||88===t)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(111===t||79===t)return this.readRadixNumber(8);if(98===t||66===t)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 126:return this.finishOp(x.prefix,1)}this.raise(this.pos,"Unexpected character '"+_e(e)+"'")},ye.finishOp=function(e,t){var n=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(e,n)},ye.readRegexp=function(){for(var e,t,n=this.pos;;){this.pos>=this.input.length&&this.raise(n,"Unterminated regular expression");var i=this.input.charAt(this.pos);if(C.test(i)&&this.raise(n,"Unterminated regular expression"),e)e=!1;else{if("["===i)t=!0;else if("]"===i&&t)t=!1;else if("/"===i&&!t)break;e="\\"===i}++this.pos}var r=this.input.slice(n,this.pos);++this.pos;var s=this.pos,o=this.readWord1();this.containsEsc&&this.unexpected(s);var a=this.regexpState||(this.regexpState=new ae(this));a.reset(n,r,o),this.validateRegExpFlags(a),this.validateRegExpPattern(a);var l=null;try{l=new RegExp(r,o)}catch(u){}return this.finishToken(x.regexp,{pattern:r,flags:o,value:l})},ye.readInt=function(e,t){for(var n=this.pos,i=0,r=0,s=null==t?1/0:t;r<s;++r){var o,a=this.input.charCodeAt(this.pos);if((o=a>=97?a-97+10:a>=65?a-65+10:a>=48&&a<=57?a-48:1/0)>=e)break;++this.pos,i=i*e+o}return this.pos===n||null!=t&&this.pos-n!==t?null:i},ye.readRadixNumber=function(e){this.pos+=2;var t=this.readInt(e);return null==t&&this.raise(this.start+2,"Expected number in radix "+e),f(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(x.num,t)},ye.readNumber=function(e){var t=this.pos;e||null!==this.readInt(10)||this.raise(t,"Invalid number");var n=this.pos-t>=2&&48===this.input.charCodeAt(t);n&&this.strict&&this.raise(t,"Invalid number"),n&&/[89]/.test(this.input.slice(t,this.pos))&&(n=!1);var i=this.input.charCodeAt(this.pos);46!==i||n||(++this.pos,this.readInt(10),i=this.input.charCodeAt(this.pos)),69!==i&&101!==i||n||(43!==(i=this.input.charCodeAt(++this.pos))&&45!==i||++this.pos,null===this.readInt(10)&&this.raise(t,"Invalid number")),f(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var r=this.input.slice(t,this.pos),s=n?parseInt(r,8):parseFloat(r);return this.finishToken(x.num,s)},ye.readCodePoint=function(){var e;if(123===this.input.charCodeAt(this.pos)){this.options.ecmaVersion<6&&this.unexpected();var t=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(t,"Code point out of bounds")}else e=this.readHexChar(4);return e},ye.readString=function(e){for(var t="",n=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var i=this.input.charCodeAt(this.pos);if(i===e)break;92===i?(t+=this.input.slice(n,this.pos),t+=this.readEscapedChar(!1),n=this.pos):(E(i,this.options.ecmaVersion>=10)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(n,this.pos++),this.finishToken(x.string,t)};var be={};ye.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(e){if(e!==be)throw e;this.readInvalidTemplateToken()}this.inTemplateElement=!1},ye.invalidStringToken=function(e,t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw be;this.raise(e,t)},ye.readTmplToken=function(){for(var e="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var n=this.input.charCodeAt(this.pos);if(96===n||36===n&&123===this.input.charCodeAt(this.pos+1))return this.pos!==this.start||this.type!==x.template&&this.type!==x.invalidTemplate?(e+=this.input.slice(t,this.pos),this.finishToken(x.template,e)):36===n?(this.pos+=2,this.finishToken(x.dollarBraceL)):(++this.pos,this.finishToken(x.backQuote));if(92===n)e+=this.input.slice(t,this.pos),e+=this.readEscapedChar(!0),t=this.pos;else if(E(n)){switch(e+=this.input.slice(t,this.pos),++this.pos,n){case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:e+="\n";break;default:e+=String.fromCharCode(n)}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}},ye.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if("{"!==this.input[this.pos+1])break;case"`":return this.finishToken(x.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},ye.readEscapedChar=function(e){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return _e(this.readCodePoint());case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";default:if(t>=48&&t<=55){var n=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],i=parseInt(n,8);return i>255&&(n=n.slice(0,-1),i=parseInt(n,8)),this.pos+=n.length-1,t=this.input.charCodeAt(this.pos),"0"===n&&56!==t&&57!==t||!this.strict&&!e||this.invalidStringToken(this.pos-1-n.length,e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(i)}return String.fromCharCode(t)}},ye.readHexChar=function(e){var t=this.pos,n=this.readInt(16,e);return null===n&&this.invalidStringToken(t,"Bad character escape sequence"),n},ye.readWord1=function(){this.containsEsc=!1;for(var e="",t=!0,n=this.pos,i=this.options.ecmaVersion>=6;this.pos<this.input.length;){var r=this.fullCharCodeAtPos();if(g(r,i))this.pos+=r<=65535?1:2;else{if(92!==r)break;this.containsEsc=!0,e+=this.input.slice(n,this.pos);var s=this.pos;117!==this.input.charCodeAt(++this.pos)&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var o=this.readCodePoint();(t?f:g)(o,i)||this.invalidStringToken(s,"Invalid Unicode escape"),e+=_e(o),n=this.pos}t=!1}return e+this.input.slice(n,this.pos)},ye.readWord=function(){var e=this.readWord1(),t=x.name;return this.keywords.test(e)&&(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+e),t=b[e]),this.finishToken(t,e)};var we,xe,Ce,Se="5.7.3";function Ee(e,t){return new j(t,e).parse()}function Te(e,t,n){var i=new j(n,e,t);return i.nextToken(),i.parseExpression()}function Me(e,t){return new j(t,e)}function Ie(e,t,n){we=e,xe=t,Ce=n}},"66nc":function(e,t,n){var i=n("mrSG").__decorate,r=n("mrSG").__metadata;Object.defineProperty(t,"__esModule",{value:!0});var s=n("8Y7J"),o=n("GS7A"),a=n("SVse"),l=n("sdDj"),u=n("7LN8"),c=0,h=function(){function e(e,t,n){this.el=e,this.renderer=t,this.zone=n,this.draggable=!0,this.resizable=!0,this.closeOnEscape=!0,this.closable=!0,this.responsive=!0,this.showHeader=!0,this.breakpoint=640,this.blockScroll=!1,this.autoZIndex=!0,this.baseZIndex=0,this.minX=0,this.minY=0,this.focusOnShow=!0,this.transitionOptions="400ms cubic-bezier(0.25, 0.8, 0.25, 1)",this.onShow=new s.EventEmitter,this.onHide=new s.EventEmitter,this.visibleChange=new s.EventEmitter,this.id="ui-dialog-"+c++}return Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e,console.warn("width property is deprecated, use style to define the width of the Dialog.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e,console.warn("height property is deprecated, use style to define the height of the Dialog.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minWidth",{get:function(){return this._minWidth},set:function(e){this._minWidth=e,console.warn("minWidth property is deprecated, use style to define the minWidth of the Dialog.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minHeight",{get:function(){return this._minHeight},set:function(e){this._minHeight=e,console.warn("minHeight property is deprecated, use style to define the minHeight of the Dialog.")},enumerable:!0,configurable:!0}),e.prototype.focus=function(){var e=l.DomHandler.findSingle(this.container,"button");e&&this.zone.runOutsideAngular(function(){setTimeout(function(){return e.focus()},5)})},e.prototype.positionOverlay=function(){var e=l.DomHandler.getViewport();l.DomHandler.getOuterHeight(this.container)>e.height?(this.contentViewChild.nativeElement.style.height=.75*e.height+"px",this.container.style.height="auto"):(this.contentViewChild.nativeElement.style.height=null,this.height&&(this.container.style.height=this.height+"px")),this.positionLeft>=0&&this.positionTop>=0?(this.container.style.left=this.positionLeft+"px",this.container.style.top=this.positionTop+"px"):this.positionTop>=0?(this.center(),this.container.style.top=this.positionTop+"px"):this.center()},e.prototype.close=function(e){this.visibleChange.emit(!1),e.preventDefault()},e.prototype.center=function(){var e=l.DomHandler.getOuterWidth(this.container),t=l.DomHandler.getOuterHeight(this.container);0==e&&0==t&&(this.container.style.visibility="hidden",this.container.style.display="block",e=l.DomHandler.getOuterWidth(this.container),t=l.DomHandler.getOuterHeight(this.container),this.container.style.display="none",this.container.style.visibility="visible");var n=l.DomHandler.getViewport(),i=Math.max(Math.floor((n.width-e)/2),0),r=Math.max(Math.floor((n.height-t)/2),0);this.container.style.left=i+"px",this.container.style.top=r+"px"},e.prototype.enableModality=function(){var e=this;if(!this.mask){this.mask=document.createElement("div"),this.mask.style.zIndex=String(parseInt(this.container.style.zIndex)-1);var t="ui-widget-overlay ui-dialog-mask";this.blockScroll&&(t+=" ui-dialog-mask-scrollblocker"),l.DomHandler.addMultipleClasses(this.mask,t),this.closable&&this.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.mask,"click",function(t){e.close(t)})),document.body.appendChild(this.mask),this.blockScroll&&l.DomHandler.addClass(document.body,"ui-overflow-hidden")}},e.prototype.disableModality=function(){if(this.mask){if(this.unbindMaskClickListener(),document.body.removeChild(this.mask),this.blockScroll){for(var e=document.body.children,t=void 0,n=0;n<e.length;n++)if(l.DomHandler.hasClass(e[n],"ui-dialog-mask-scrollblocker")){t=!0;break}t||l.DomHandler.removeClass(document.body,"ui-overflow-hidden")}this.mask=null}},e.prototype.toggleMaximize=function(e){this.maximized?this.revertMaximize():this.maximize(),e.preventDefault()},e.prototype.maximize=function(){l.DomHandler.addClass(this.container,"ui-dialog-maximized"),this.preMaximizePageX=parseFloat(this.container.style.top),this.preMaximizePageY=parseFloat(this.container.style.left),this.preMaximizeContainerWidth=l.DomHandler.getOuterWidth(this.container),this.preMaximizeContainerHeight=l.DomHandler.getOuterHeight(this.container),this.preMaximizeContentHeight=l.DomHandler.getOuterHeight(this.contentViewChild.nativeElement),this.container.style.top="0px",this.container.style.left="0px",this.container.style.width="100vw",this.container.style.height="100vh";var e=parseFloat(this.container.style.top);this.headerViewChild&&this.headerViewChild.nativeElement&&(e+=l.DomHandler.getOuterHeight(this.headerViewChild.nativeElement)),this.footerViewChild&&this.footerViewChild.nativeElement&&(e+=l.DomHandler.getOuterHeight(this.footerViewChild.nativeElement)),this.contentViewChild.nativeElement.style.height="calc(100vh - "+e+"px)",l.DomHandler.addClass(document.body,"ui-overflow-hidden"),this.maximized=!0},e.prototype.revertMaximize=function(){var e=this;this.container.style.top=this.preMaximizePageX+"px",this.container.style.left=this.preMaximizePageY+"px",this.container.style.width=this.preMaximizeContainerWidth+"px",this.container.style.height=this.preMaximizeContainerHeight+"px",this.contentViewChild.nativeElement.style.height=this.preMaximizeContentHeight+"px",l.DomHandler.removeClass(document.body,"ui-overflow-hidden"),this.maximized=!1,this.zone.runOutsideAngular(function(){setTimeout(function(){return l.DomHandler.removeClass(e.container,"ui-dialog-maximized")},300)})},e.prototype.unbindMaskClickListener=function(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)},e.prototype.moveOnTop=function(){this.autoZIndex&&(this.container.style.zIndex=String(this.baseZIndex+ ++l.DomHandler.zindex))},e.prototype.onCloseMouseDown=function(e){this.closeIconMouseDown=!0},e.prototype.initDrag=function(e){this.closeIconMouseDown?this.closeIconMouseDown=!1:this.draggable&&(this.dragging=!0,this.lastPageX=e.pageX,this.lastPageY=e.pageY,l.DomHandler.addClass(document.body,"ui-unselectable-text"))},e.prototype.onDrag=function(e){if(this.dragging){var t=l.DomHandler.getOuterWidth(this.container),n=l.DomHandler.getOuterHeight(this.container),i=e.pageX-this.lastPageX,r=e.pageY-this.lastPageY,s=l.DomHandler.getOffset(this.container),o=s.left+i,a=s.top+r,u=l.DomHandler.getViewport();o>=this.minX&&o+t<u.width&&(this.container.style.left=o+"px"),a>=this.minY&&a+n<u.height&&(this.container.style.top=a+"px"),this.lastPageX=e.pageX,this.lastPageY=e.pageY}},e.prototype.endDrag=function(e){this.draggable&&(this.dragging=!1,l.DomHandler.removeClass(document.body,"ui-unselectable-text"))},e.prototype.initResize=function(e){this.resizable&&(this.preWidth=null,this.resizing=!0,this.lastPageX=e.pageX,this.lastPageY=e.pageY,l.DomHandler.addClass(document.body,"ui-unselectable-text"))},e.prototype.onResize=function(e){if(this.resizing){var t=e.pageX-this.lastPageX,n=e.pageY-this.lastPageY,i=l.DomHandler.getOuterWidth(this.container),r=l.DomHandler.getOuterHeight(this.container),s=l.DomHandler.getOuterHeight(this.contentViewChild.nativeElement),o=i+t,a=r+n,u=this.container.style.minWidth,c=this.container.style.minHeight,h=l.DomHandler.getOffset(this.container),d=l.DomHandler.getViewport();(!u||o>parseInt(u))&&h.left+o<d.width&&(this.container.style.width=o+"px"),(!c||a>parseInt(c))&&h.top+a<d.height&&(this.container.style.height=a+"px",this.contentViewChild.nativeElement.style.height=s+n+"px"),this.lastPageX=e.pageX,this.lastPageY=e.pageY}},e.prototype.onResizeEnd=function(){this.resizing&&(this.resizing=!1,l.DomHandler.removeClass(document.body,"ui-unselectable-text"))},e.prototype.bindGlobalListeners=function(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.resizable&&this.bindDocumentResizeListeners(),this.responsive&&this.bindDocumentResponsiveListener(),this.closeOnEscape&&this.closable&&this.bindDocumentEscapeListener()},e.prototype.unbindGlobalListeners=function(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentResponsiveListener(),this.unbindDocumentEscapeListener()},e.prototype.bindDocumentDragListener=function(){var e=this;this.zone.runOutsideAngular(function(){e.documentDragListener=e.onDrag.bind(e),window.document.addEventListener("mousemove",e.documentDragListener)})},e.prototype.unbindDocumentDragListener=function(){this.documentDragListener&&(window.document.removeEventListener("mousemove",this.documentDragListener),this.documentDragListener=null)},e.prototype.bindDocumentDragEndListener=function(){var e=this;this.zone.runOutsideAngular(function(){e.documentDragEndListener=e.endDrag.bind(e),window.document.addEventListener("mouseup",e.documentDragEndListener)})},e.prototype.unbindDocumentDragEndListener=function(){this.documentDragEndListener&&(window.document.removeEventListener("mouseup",this.documentDragEndListener),this.documentDragEndListener=null)},e.prototype.bindDocumentResizeListeners=function(){var e=this;this.zone.runOutsideAngular(function(){e.documentResizeListener=e.onResize.bind(e),e.documentResizeEndListener=e.onResizeEnd.bind(e),window.document.addEventListener("mousemove",e.documentResizeListener),window.document.addEventListener("mouseup",e.documentResizeEndListener)})},e.prototype.unbindDocumentResizeListeners=function(){this.documentResizeListener&&this.documentResizeEndListener&&(window.document.removeEventListener("mouseup",this.documentResizeListener),window.document.removeEventListener("mouseup",this.documentResizeEndListener),this.documentResizeListener=null,this.documentResizeEndListener=null)},e.prototype.bindDocumentResponsiveListener=function(){var e=this;this.zone.runOutsideAngular(function(){e.documentResponsiveListener=e.onWindowResize.bind(e),window.addEventListener("resize",e.documentResponsiveListener)})},e.prototype.unbindDocumentResponsiveListener=function(){this.documentResponsiveListener&&(window.removeEventListener("resize",this.documentResponsiveListener),this.documentResponsiveListener=null)},e.prototype.onWindowResize=function(){if(!this.maximized){var e=l.DomHandler.getViewport(),t=l.DomHandler.getOuterWidth(this.container);e.width<=this.breakpoint?(this.preWidth||(this.preWidth=t),this.container.style.left="0px",this.container.style.width="100%"):(this.container.style.width=this.preWidth+"px",this.positionOverlay())}},e.prototype.bindDocumentEscapeListener=function(){var e=this;this.documentEscapeListener=this.renderer.listen("document","keydown",function(t){27==t.which&&parseInt(e.container.style.zIndex)==l.DomHandler.zindex&&e.close(t)})},e.prototype.unbindDocumentEscapeListener=function(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)},e.prototype.setDimensions=function(){this.width&&(this.container.style.width=this.width+"px"),this.height&&(this.container.style.height=this.height+"px"),this.minWidth&&(this.container.style.minWidth=this.minWidth+"px"),this.minHeight&&(this.container.style.minHeight=this.minHeight+"px")},e.prototype.appendContainer=function(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.container):l.DomHandler.appendChild(this.container,this.appendTo))},e.prototype.restoreAppend=function(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.container)},e.prototype.onAnimationStart=function(e){switch(e.toState){case"visible":this.container=e.element,this.setDimensions(),this.onShow.emit({}),this.appendContainer(),this.moveOnTop(),this.positionOverlay(),this.bindGlobalListeners(),this.maximized&&l.DomHandler.addClass(document.body,"ui-overflow-hidden"),this.modal&&this.enableModality(),this.focusOnShow&&this.focus(),this.responsive&&this.onWindowResize();break;case"void":this.onContainerDestroy(),this.onHide.emit({})}},e.prototype.onContainerDestroy=function(){this.unbindGlobalListeners(),this.dragging=!1,this.maximized&&(l.DomHandler.removeClass(document.body,"ui-overflow-hidden"),this.maximized=!1),this.modal&&this.disableModality(),this.container=null},e.prototype.ngOnDestroy=function(){this.container&&(this.restoreAppend(),this.onContainerDestroy())},i([s.Input(),r("design:type",Boolean)],e.prototype,"visible",void 0),i([s.Input(),r("design:type",String)],e.prototype,"header",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"draggable",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"resizable",void 0),i([s.Input(),r("design:type",Number)],e.prototype,"positionLeft",void 0),i([s.Input(),r("design:type",Number)],e.prototype,"positionTop",void 0),i([s.Input(),r("design:type",Object)],e.prototype,"contentStyle",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"modal",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"closeOnEscape",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"dismissableMask",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"rtl",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"closable",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"responsive",void 0),i([s.Input(),r("design:type",Object)],e.prototype,"appendTo",void 0),i([s.Input(),r("design:type",Object)],e.prototype,"style",void 0),i([s.Input(),r("design:type",String)],e.prototype,"styleClass",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"showHeader",void 0),i([s.Input(),r("design:type",Number)],e.prototype,"breakpoint",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"blockScroll",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"autoZIndex",void 0),i([s.Input(),r("design:type",Number)],e.prototype,"baseZIndex",void 0),i([s.Input(),r("design:type",Number)],e.prototype,"minX",void 0),i([s.Input(),r("design:type",Number)],e.prototype,"minY",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"focusOnShow",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"maximizable",void 0),i([s.Input(),r("design:type",String)],e.prototype,"transitionOptions",void 0),i([s.ContentChildren(u.Header,{descendants:!1}),r("design:type",s.QueryList)],e.prototype,"headerFacet",void 0),i([s.ContentChildren(u.Footer,{descendants:!1}),r("design:type",s.QueryList)],e.prototype,"footerFacet",void 0),i([s.ViewChild("titlebar"),r("design:type",s.ElementRef)],e.prototype,"headerViewChild",void 0),i([s.ViewChild("content"),r("design:type",s.ElementRef)],e.prototype,"contentViewChild",void 0),i([s.ViewChild("footer"),r("design:type",s.ElementRef)],e.prototype,"footerViewChild",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"onShow",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"onHide",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"visibleChange",void 0),i([s.Input(),r("design:type",Object),r("design:paramtypes",[Object])],e.prototype,"width",null),i([s.Input(),r("design:type",Object),r("design:paramtypes",[Object])],e.prototype,"height",null),i([s.Input(),r("design:type",Object),r("design:paramtypes",[Object])],e.prototype,"minWidth",null),i([s.Input(),r("design:type",Object),r("design:paramtypes",[Object])],e.prototype,"minHeight",null),i([s.Component({selector:"p-dialog",template:'\n        <div #container [ngClass]="{\'ui-dialog ui-widget ui-widget-content ui-corner-all ui-shadow\':true, \'ui-dialog-rtl\':rtl,\'ui-dialog-draggable\':draggable,\'ui-dialog-resizable\':resizable}"\n            [ngStyle]="style" [class]="styleClass"\n            [@animation]="{value: \'visible\', params: {transitionParams: transitionOptions}}" (@animation.start)="onAnimationStart($event)" role="dialog" [attr.aria-labelledby]="id + \'-label\'" *ngIf="visible">\n            <div #titlebar class="ui-dialog-titlebar ui-widget-header ui-helper-clearfix ui-corner-top" (mousedown)="initDrag($event)" *ngIf="showHeader">\n                <span [attr.id]="id + \'-label\'" class="ui-dialog-title" *ngIf="header">{{header}}</span>\n                <span [attr.id]="id + \'-label\'" class="ui-dialog-title" *ngIf="headerFacet && headerFacet.first">\n                    <ng-content select="p-header"></ng-content>\n                </span>\n                <a *ngIf="closable" [ngClass]="{\'ui-dialog-titlebar-icon ui-dialog-titlebar-close ui-corner-all\':true}" tabindex="0" role="button" (click)="close($event)" (keydown.enter)="close($event)" (mousedown)="onCloseMouseDown($event)">\n                    <span class="pi pi-times"></span>\n                </a>\n                <a *ngIf="maximizable" [ngClass]="{\'ui-dialog-titlebar-icon ui-dialog-titlebar-maximize ui-corner-all\':true}" tabindex="0" role="button" (click)="toggleMaximize($event)" (keydown.enter)="toggleMaximize($event)">\n                    <span [ngClass]="maximized ? \'pi pi-window-minimize\' : \'pi pi-window-maximize\'"></span>\n                </a>\n            </div>\n            <div #content class="ui-dialog-content ui-widget-content" [ngStyle]="contentStyle">\n                <ng-content></ng-content>\n            </div>\n            <div #footer class="ui-dialog-footer ui-widget-content" *ngIf="footerFacet && footerFacet.first">\n                <ng-content select="p-footer"></ng-content>\n            </div>\n            <div *ngIf="resizable" class="ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se" style="z-index: 90;" (mousedown)="initResize($event)"></div>\n        </div>\n    ',animations:[o.trigger("animation",[o.state("void",o.style({transform:"translate3d(0, 25%, 0) scale(0.9)",opacity:0})),o.state("visible",o.style({transform:"none",opacity:1})),o.transition("* => *",o.animate("{{transitionParams}}"))])]})],e)}();t.Dialog=h,t.DialogModule=function(){return i([s.NgModule({imports:[a.CommonModule],exports:[h,u.SharedModule],declarations:[h]})],function(){})}()},"7Hc7":function(e,t,n){"use strict";let i=1;const r={},s={setImmediate(e){const t=i++;return r[t]=e,Promise.resolve().then(()=>(function(e){const t=r[e];t&&t()})(t)),t},clearImmediate(e){delete r[e]}};var o=n("3N8a");class a extends o.a{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=s.setImmediate(e.flush.bind(e,null))))}recycleAsyncId(e,t,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(e,t,n);0===e.actions.length&&(s.clearImmediate(t),e.scheduled=void 0)}}var l=n("IjjT");class u extends l.a{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let n,i=-1,r=t.length;e=e||t.shift();do{if(n=e.execute(e.state,e.delay))break}while(++i<r&&(e=t.shift()));if(this.active=!1,n){for(;++i<r&&(e=t.shift());)e.unsubscribe();throw n}}}n.d(t,"a",function(){return c});const c=new u(a)},"7LN8":function(e,t,n){var i=n("mrSG").__decorate,r=n("mrSG").__metadata;Object.defineProperty(t,"__esModule",{value:!0});var s=n("8Y7J"),o=n("SVse"),a=n("8Y7J"),l=function(){return i([a.Component({selector:"p-header",template:"<ng-content></ng-content>"})],function(){})}();t.Header=l;var u=function(){return i([a.Component({selector:"p-footer",template:"<ng-content></ng-content>"})],function(){})}();t.Footer=u;var c=function(){function e(e){this.template=e}return e.prototype.getType=function(){return this.name},i([s.Input(),r("design:type",String)],e.prototype,"type",void 0),i([s.Input("pTemplate"),r("design:type",String)],e.prototype,"name",void 0),i([s.Directive({selector:"[pTemplate]",host:{}})],e)}();t.PrimeTemplate=c;var h=function(){function e(){this.filterType="text",this.exportable=!0,this.resizable=!0,this.sortFunction=new s.EventEmitter}return e.prototype.ngAfterContentInit=function(){var e=this;this.templates.forEach(function(t){switch(t.getType()){case"header":e.headerTemplate=t.template;break;case"body":e.bodyTemplate=t.template;break;case"footer":e.footerTemplate=t.template;break;case"filter":e.filterTemplate=t.template;break;case"editor":e.editorTemplate=t.template;break;default:e.bodyTemplate=t.template}})},i([s.Input(),r("design:type",String)],e.prototype,"field",void 0),i([s.Input(),r("design:type",String)],e.prototype,"colId",void 0),i([s.Input(),r("design:type",String)],e.prototype,"sortField",void 0),i([s.Input(),r("design:type",String)],e.prototype,"filterField",void 0),i([s.Input(),r("design:type",String)],e.prototype,"header",void 0),i([s.Input(),r("design:type",String)],e.prototype,"footer",void 0),i([s.Input(),r("design:type",Object)],e.prototype,"sortable",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"editable",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"filter",void 0),i([s.Input(),r("design:type",String)],e.prototype,"filterMatchMode",void 0),i([s.Input(),r("design:type",String)],e.prototype,"filterType",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"excludeGlobalFilter",void 0),i([s.Input(),r("design:type",Number)],e.prototype,"rowspan",void 0),i([s.Input(),r("design:type",Number)],e.prototype,"colspan",void 0),i([s.Input(),r("design:type",String)],e.prototype,"scope",void 0),i([s.Input(),r("design:type",Object)],e.prototype,"style",void 0),i([s.Input(),r("design:type",String)],e.prototype,"styleClass",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"exportable",void 0),i([s.Input(),r("design:type",Object)],e.prototype,"headerStyle",void 0),i([s.Input(),r("design:type",String)],e.prototype,"headerStyleClass",void 0),i([s.Input(),r("design:type",Object)],e.prototype,"bodyStyle",void 0),i([s.Input(),r("design:type",String)],e.prototype,"bodyStyleClass",void 0),i([s.Input(),r("design:type",Object)],e.prototype,"footerStyle",void 0),i([s.Input(),r("design:type",String)],e.prototype,"footerStyleClass",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"hidden",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"expander",void 0),i([s.Input(),r("design:type",String)],e.prototype,"selectionMode",void 0),i([s.Input(),r("design:type",String)],e.prototype,"filterPlaceholder",void 0),i([s.Input(),r("design:type",Number)],e.prototype,"filterMaxlength",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"frozen",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"resizable",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"sortFunction",void 0),i([s.ContentChildren(c),r("design:type",s.QueryList)],e.prototype,"templates",void 0),i([s.ContentChild(s.TemplateRef),r("design:type",s.TemplateRef)],e.prototype,"template",void 0),i([a.Component({selector:"p-column",template:""})],e)}();t.Column=h;var d=function(){function e(){}return i([s.ContentChildren(h),r("design:type",s.QueryList)],e.prototype,"columns",void 0),i([a.Component({selector:"p-row",template:""})],e)}();t.Row=d;var p=function(){function e(){}return i([s.Input(),r("design:type",Boolean)],e.prototype,"frozen",void 0),i([s.ContentChildren(d),r("design:type",s.QueryList)],e.prototype,"rows",void 0),i([a.Component({selector:"p-headerColumnGroup",template:""})],e)}();t.HeaderColumnGroup=p;var f=function(){function e(){}return i([s.Input(),r("design:type",Boolean)],e.prototype,"frozen",void 0),i([s.ContentChildren(d),r("design:type",s.QueryList)],e.prototype,"rows",void 0),i([a.Component({selector:"p-footerColumnGroup",template:""})],e)}();t.FooterColumnGroup=f,t.SharedModule=function(){return i([s.NgModule({imports:[o.CommonModule],exports:[l,u,h,c,d,p,f],declarations:[l,u,h,c,d,p,f]})],function(){})}()},"7o/Q":function(e,t,n){"use strict";n.d(t,"a",function(){return u});var i=n("n6bG"),r=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),l=n("NJ4a");class u extends s.a{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,this._parentSubscription=null,arguments.length){case 0:this.destination=r.a;break;case 1:if(!e){this.destination=r.a;break}if("object"==typeof e){e instanceof u?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new c(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new c(this,e,t,n)}}[o.a](){return this}static create(e,t,n){const i=new u(e,t,n);return i.syncErrorThrowable=!1,i}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parent:e,_parents:t}=this;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this._parentSubscription=null,this}}class c extends u{constructor(e,t,n,s){let o;super(),this._parentSubscriber=e;let a=this;Object(i.a)(t)?o=t:t&&(o=t.next,n=t.error,s=t.complete,t!==r.a&&(a=Object.create(t),Object(i.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):Object(l.a)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;Object(l.a)(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(l.a)(n)}}__tryOrSetError(e,t,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(i){return a.a.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=i,e.syncErrorThrown=!0,!0):(Object(l.a)(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}},"8Qeq":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("7o/Q");function r(e){for(;e;){const{closed:t,destination:n,isStopped:r}=e;if(t||r)return!1;e=n&&n instanceof i.a?n:null}return!0}},"8Y7J":function(e,t,n){"use strict";n.r(t),n.d(t,"\u0275angular_packages_core_core_s",function(){return ig}),n.d(t,"\u0275angular_packages_core_core_p",function(){return eg}),n.d(t,"\u0275angular_packages_core_core_q",function(){return tg}),n.d(t,"\u0275angular_packages_core_core_r",function(){return ng}),n.d(t,"\u0275angular_packages_core_core_g",function(){return ep}),n.d(t,"\u0275angular_packages_core_core_n",function(){return Rf}),n.d(t,"\u0275angular_packages_core_core_o",function(){return zf}),n.d(t,"\u0275angular_packages_core_core_m",function(){return Cf}),n.d(t,"\u0275angular_packages_core_core_l",function(){return xf}),n.d(t,"\u0275angular_packages_core_core_c",function(){return At}),n.d(t,"\u0275angular_packages_core_core_d",function(){return Yd}),n.d(t,"\u0275angular_packages_core_core_e",function(){return Nd}),n.d(t,"\u0275angular_packages_core_core_f",function(){return Hd}),n.d(t,"\u0275angular_packages_core_core_k",function(){return rh}),n.d(t,"\u0275angular_packages_core_core_t",function(){return Ip}),n.d(t,"\u0275angular_packages_core_core_v",function(){return Sp}),n.d(t,"\u0275angular_packages_core_core_u",function(){return Cp}),n.d(t,"\u0275angular_packages_core_core_y",function(){return Mp}),n.d(t,"\u0275angular_packages_core_core_w",function(){return Ep}),n.d(t,"\u0275angular_packages_core_core_x",function(){return Tp}),n.d(t,"\u0275angular_packages_core_core_bb",function(){return Mn}),n.d(t,"\u0275angular_packages_core_core_bi",function(){return d}),n.d(t,"\u0275angular_packages_core_core_bc",function(){return Kt}),n.d(t,"\u0275angular_packages_core_core_bd",function(){return Qt}),n.d(t,"\u0275angular_packages_core_core_be",function(){return mn}),n.d(t,"\u0275angular_packages_core_core_bh",function(){return rr}),n.d(t,"\u0275angular_packages_core_core_bl",function(){return Ke}),n.d(t,"\u0275angular_packages_core_core_h",function(){return fl}),n.d(t,"\u0275angular_packages_core_core_i",function(){return gl}),n.d(t,"\u0275angular_packages_core_core_j",function(){return ml}),n.d(t,"\u0275angular_packages_core_core_a",function(){return I}),n.d(t,"\u0275angular_packages_core_core_b",function(){return O}),n.d(t,"\u0275angular_packages_core_core_bj",function(){return l}),n.d(t,"\u0275angular_packages_core_core_z",function(){return Qm}),n.d(t,"\u0275angular_packages_core_core_ba",function(){return fg}),n.d(t,"createPlatform",function(){return Kp}),n.d(t,"assertPlatform",function(){return Qp}),n.d(t,"destroyPlatform",function(){return Jp}),n.d(t,"getPlatform",function(){return ef}),n.d(t,"PlatformRef",function(){return tf}),n.d(t,"ApplicationRef",function(){return rf}),n.d(t,"createPlatformFactory",function(){return Xp}),n.d(t,"NgProbeToken",function(){return Zp}),n.d(t,"enableProdMode",function(){return Hl}),n.d(t,"isDevMode",function(){return zl}),n.d(t,"APP_ID",function(){return Jd}),n.d(t,"PACKAGE_ROOT_URL",function(){return op}),n.d(t,"PLATFORM_INITIALIZER",function(){return ip}),n.d(t,"PLATFORM_ID",function(){return rp}),n.d(t,"APP_BOOTSTRAP_LISTENER",function(){return sp}),n.d(t,"APP_INITIALIZER",function(){return Xd}),n.d(t,"ApplicationInitStatus",function(){return Qd}),n.d(t,"DebugElement",function(){return Pf}),n.d(t,"DebugNode",function(){return kf}),n.d(t,"asNativeElements",function(){return Sf}),n.d(t,"getDebugNode",function(){return Af}),n.d(t,"Testability",function(){return Bp}),n.d(t,"TestabilityRegistry",function(){return zp}),n.d(t,"setTestabilityGetter",function(){return Up}),n.d(t,"TRANSLATIONS",function(){return Xf}),n.d(t,"TRANSLATIONS_FORMAT",function(){return Qf}),n.d(t,"LOCALE_ID",function(){return Kf}),n.d(t,"MissingTranslationStrategy",function(){return Jf}),n.d(t,"ApplicationModule",function(){return rg}),n.d(t,"wtfCreateScope",function(){return Op}),n.d(t,"wtfLeave",function(){return Ap}),n.d(t,"wtfStartTimeRange",function(){return Dp}),n.d(t,"wtfEndTimeRange",function(){return kp}),n.d(t,"Type",function(){return lh}),n.d(t,"EventEmitter",function(){return mc}),n.d(t,"ErrorHandler",function(){return Td}),n.d(t,"Sanitizer",function(){return Al}),n.d(t,"SecurityContext",function(){return Ol}),n.d(t,"ANALYZE_FOR_ENTRY_COMPONENTS",function(){return A}),n.d(t,"Attribute",function(){return D}),n.d(t,"ContentChild",function(){return R}),n.d(t,"ContentChildren",function(){return P}),n.d(t,"Query",function(){return k}),n.d(t,"ViewChild",function(){return N}),n.d(t,"ViewChildren",function(){return L}),n.d(t,"Component",function(){return Wh}),n.d(t,"Directive",function(){return Gh}),n.d(t,"HostBinding",function(){return Kh}),n.d(t,"HostListener",function(){return Xh}),n.d(t,"Input",function(){return Yh}),n.d(t,"Output",function(){return Zh}),n.d(t,"Pipe",function(){return $h}),n.d(t,"CUSTOM_ELEMENTS_SCHEMA",function(){return ad}),n.d(t,"NO_ERRORS_SCHEMA",function(){return ld}),n.d(t,"NgModule",function(){return ud}),n.d(t,"ViewEncapsulation",function(){return ne}),n.d(t,"Version",function(){return Dl}),n.d(t,"VERSION",function(){return kl}),n.d(t,"defineInjectable",function(){return y}),n.d(t,"defineInjector",function(){return _}),n.d(t,"forwardRef",function(){return K}),n.d(t,"resolveForwardRef",function(){return X}),n.d(t,"Injectable",function(){return vd}),n.d(t,"INJECTOR",function(){return pa}),n.d(t,"Injector",function(){return ga}),n.d(t,"inject",function(){return Dt}),n.d(t,"InjectFlags",function(){return St}),n.d(t,"ReflectiveInjector",function(){return qd}),n.d(t,"createInjector",function(){return Va}),n.d(t,"ResolvedReflectiveFactory",function(){return jd}),n.d(t,"ReflectiveKey",function(){return Dd}),n.d(t,"InjectionToken",function(){return x}),n.d(t,"Inject",function(){return _t}),n.d(t,"Optional",function(){return bt}),n.d(t,"Self",function(){return wt}),n.d(t,"SkipSelf",function(){return xt}),n.d(t,"Host",function(){return Ct}),n.d(t,"NgZone",function(){return Pp}),n.d(t,"\u0275NoopNgZone",function(){return jp}),n.d(t,"RenderComponentType",function(){return bl}),n.d(t,"Renderer",function(){return xl}),n.d(t,"Renderer2",function(){return Tl}),n.d(t,"RendererFactory2",function(){return Sl}),n.d(t,"RendererStyleFlags2",function(){return El}),n.d(t,"RootRenderer",function(){return Cl}),n.d(t,"COMPILER_OPTIONS",function(){return _p}),n.d(t,"Compiler",function(){return yp}),n.d(t,"CompilerFactory",function(){return bp}),n.d(t,"ModuleWithComponentFactories",function(){return lp}),n.d(t,"ComponentFactory",function(){return el}),n.d(t,"ComponentRef",function(){return Ja}),n.d(t,"ComponentFactoryResolver",function(){return rl}),n.d(t,"ElementRef",function(){return vl}),n.d(t,"NgModuleFactory",function(){return ll}),n.d(t,"NgModuleRef",function(){return al}),n.d(t,"NgModuleFactoryLoader",function(){return eh}),n.d(t,"getModuleFactory",function(){return oh}),n.d(t,"QueryList",function(){return of}),n.d(t,"SystemJsNgModuleLoader",function(){return hf}),n.d(t,"SystemJsNgModuleLoaderConfig",function(){return uf}),n.d(t,"TemplateRef",function(){return vc}),n.d(t,"ViewContainerRef",function(){return pf}),n.d(t,"EmbeddedViewRef",function(){return bf}),n.d(t,"ViewRef",function(){return _f}),n.d(t,"ChangeDetectionStrategy",function(){return F}),n.d(t,"ChangeDetectorRef",function(){return mf}),n.d(t,"DefaultIterableDiffer",function(){return Nf}),n.d(t,"IterableDiffers",function(){return Gf}),n.d(t,"KeyValueDiffers",function(){return Wf}),n.d(t,"SimpleChange",function(){return ui}),n.d(t,"WrappedValue",function(){return li}),n.d(t,"platformCore",function(){return Zf}),n.d(t,"\u0275ALLOW_MULTIPLE_PLATFORMS",function(){return Yp}),n.d(t,"\u0275APP_ID_RANDOM_PROVIDER",function(){return tp}),n.d(t,"\u0275defaultIterableDiffers",function(){return qf}),n.d(t,"\u0275defaultKeyValueDiffers",function(){return Yf}),n.d(t,"\u0275devModeEqual",function(){return ai}),n.d(t,"\u0275isListLikeIterable",function(){return ci}),n.d(t,"\u0275ChangeDetectorStatus",function(){return V}),n.d(t,"\u0275isDefaultChangeDetectionStrategy",function(){return j}),n.d(t,"\u0275Console",function(){return ap}),n.d(t,"\u0275getInjectableDef",function(){return b}),n.d(t,"\u0275inject",function(){return Dt}),n.d(t,"\u0275setCurrentInjector",function(){return It}),n.d(t,"\u0275APP_ROOT",function(){return ka}),n.d(t,"\u0275ivyEnabled",function(){return og}),n.d(t,"\u0275ComponentFactory",function(){return el}),n.d(t,"\u0275CodegenComponentFactoryResolver",function(){return sl}),n.d(t,"\u0275resolveComponentResources",function(){return Q}),n.d(t,"\u0275ReflectionCapabilities",function(){return ph}),n.d(t,"\u0275RenderDebugInfo",function(){return wl}),n.d(t,"\u0275_sanitizeHtml",function(){return uu}),n.d(t,"\u0275_sanitizeStyle",function(){return qc}),n.d(t,"\u0275_sanitizeUrl",function(){return $l}),n.d(t,"\u0275global",function(){return H}),n.d(t,"\u0275looseIdentical",function(){return q}),n.d(t,"\u0275stringify",function(){return Y}),n.d(t,"\u0275makeDecorator",function(){return T}),n.d(t,"\u0275isObservable",function(){return Kd}),n.d(t,"\u0275isPromise",function(){return Zd}),n.d(t,"\u0275clearOverrides",function(){return Ry}),n.d(t,"\u0275initServicesIfNeeded",function(){return Zv}),n.d(t,"\u0275overrideComponentView",function(){return Py}),n.d(t,"\u0275overrideProvider",function(){return ky}),n.d(t,"\u0275NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR",function(){return sv}),n.d(t,"\u0275defineBase",function(){return he}),n.d(t,"\u0275defineComponent",function(){return oe}),n.d(t,"\u0275defineDirective",function(){return de}),n.d(t,"\u0275definePipe",function(){return pe}),n.d(t,"\u0275defineNgModule",function(){return ue}),n.d(t,"\u0275detectChanges",function(){return vo}),n.d(t,"\u0275renderComponent",function(){return Xo}),n.d(t,"\u0275Render3ComponentFactory",function(){return Fl}),n.d(t,"\u0275Render3ComponentRef",function(){return Vl}),n.d(t,"\u0275directiveInject",function(){return Fo}),n.d(t,"\u0275injectAttribute",function(){return Vo}),n.d(t,"\u0275getFactoryOf",function(){return Nn}),n.d(t,"\u0275getInheritedFactory",function(){return Fn}),n.d(t,"\u0275templateRefExtractor",function(){return Nc}),n.d(t,"\u0275ProvidersFeature",function(){return Qa}),n.d(t,"\u0275InheritDefinitionFeature",function(){return ra}),n.d(t,"\u0275NgOnChangesFeature",function(){return aa}),n.d(t,"\u0275LifecycleHooksFeature",function(){return ta}),n.d(t,"\u0275Render3NgModuleRef",function(){return Zu}),n.d(t,"\u0275markDirty",function(){return wo}),n.d(t,"\u0275NgModuleFactory",function(){return Ku}),n.d(t,"\u0275NO_CHANGE",function(){return pi}),n.d(t,"\u0275container",function(){return no}),n.d(t,"\u0275nextContext",function(){return hs}),n.d(t,"\u0275elementStart",function(){return ws}),n.d(t,"\u0275namespaceHTML",function(){return vs}),n.d(t,"\u0275namespaceMathML",function(){return ms}),n.d(t,"\u0275namespaceSVG",function(){return gs}),n.d(t,"\u0275element",function(){return ys}),n.d(t,"\u0275listener",function(){return Is}),n.d(t,"\u0275text",function(){return Gs}),n.d(t,"\u0275embeddedViewStart",function(){return oo}),n.d(t,"\u0275query",function(){return Rc}),n.d(t,"\u0275registerContentQuery",function(){return jo}),n.d(t,"\u0275projection",function(){return ho}),n.d(t,"\u0275bind",function(){return xo}),n.d(t,"\u0275interpolation1",function(){return Eo}),n.d(t,"\u0275interpolation2",function(){return To}),n.d(t,"\u0275interpolation3",function(){return Mo}),n.d(t,"\u0275interpolation4",function(){return Io}),n.d(t,"\u0275interpolation5",function(){return Oo}),n.d(t,"\u0275interpolation6",function(){return Ao}),n.d(t,"\u0275interpolation7",function(){return Do}),n.d(t,"\u0275interpolation8",function(){return ko}),n.d(t,"\u0275interpolationV",function(){return So}),n.d(t,"\u0275pipeBind1",function(){return uc}),n.d(t,"\u0275pipeBind2",function(){return cc}),n.d(t,"\u0275pipeBind3",function(){return hc}),n.d(t,"\u0275pipeBind4",function(){return dc}),n.d(t,"\u0275pipeBindV",function(){return pc}),n.d(t,"\u0275pureFunction0",function(){return Qu}),n.d(t,"\u0275pureFunction1",function(){return Ju}),n.d(t,"\u0275pureFunction2",function(){return ec}),n.d(t,"\u0275pureFunction3",function(){return tc}),n.d(t,"\u0275pureFunction4",function(){return nc}),n.d(t,"\u0275pureFunction5",function(){return ic}),n.d(t,"\u0275pureFunction6",function(){return rc}),n.d(t,"\u0275pureFunction7",function(){return sc}),n.d(t,"\u0275pureFunction8",function(){return oc}),n.d(t,"\u0275pureFunctionV",function(){return ac}),n.d(t,"\u0275getCurrentView",function(){return Ho}),n.d(t,"\u0275getHostElement",function(){return ei}),n.d(t,"\u0275restoreView",function(){return Xt}),n.d(t,"\u0275containerRefreshStart",function(){return ro}),n.d(t,"\u0275containerRefreshEnd",function(){return so}),n.d(t,"\u0275queryRefresh",function(){return Lc}),n.d(t,"\u0275loadQueryList",function(){return Lo}),n.d(t,"\u0275elementEnd",function(){return Os}),n.d(t,"\u0275elementProperty",function(){return Ds}),n.d(t,"\u0275componentHostSyntheticProperty",function(){return ks}),n.d(t,"\u0275projectionDef",function(){return uo}),n.d(t,"\u0275reference",function(){return Ro}),n.d(t,"\u0275enableBindings",function(){return Yt}),n.d(t,"\u0275disableBindings",function(){return Zt}),n.d(t,"\u0275allocHostVars",function(){return Co}),n.d(t,"\u0275elementAttribute",function(){return As}),n.d(t,"\u0275elementContainerStart",function(){return _s}),n.d(t,"\u0275elementContainerEnd",function(){return bs}),n.d(t,"\u0275elementStyling",function(){return Vs}),n.d(t,"\u0275elementHostAttrs",function(){return js}),n.d(t,"\u0275elementStylingMap",function(){return Us}),n.d(t,"\u0275elementStyleProp",function(){return zs}),n.d(t,"\u0275elementStylingApply",function(){return Bs}),n.d(t,"\u0275elementClassProp",function(){return Hs}),n.d(t,"\u0275textBinding",function(){return Ws}),n.d(t,"\u0275template",function(){return to}),n.d(t,"\u0275embeddedViewEnd",function(){return ao}),n.d(t,"\u0275store",function(){return Po}),n.d(t,"\u0275load",function(){return No}),n.d(t,"\u0275pipe",function(){return lc}),n.d(t,"\u0275whenRendered",function(){return na}),n.d(t,"\u0275i18n",function(){return Fu}),n.d(t,"\u0275i18nAttributes",function(){return Vu}),n.d(t,"\u0275i18nExp",function(){return zu}),n.d(t,"\u0275i18nStart",function(){return Du}),n.d(t,"\u0275i18nEnd",function(){return Ru}),n.d(t,"\u0275i18nApply",function(){return Hu}),n.d(t,"\u0275i18nPostprocess",function(){return Pu}),n.d(t,"\u0275setClassMetadata",function(){return Xu}),n.d(t,"\u0275compileComponent",function(){return Lh}),n.d(t,"\u0275compileDirective",function(){return Nh}),n.d(t,"\u0275compileNgModule",function(){return Sh}),n.d(t,"\u0275compileNgModuleDefs",function(){return Eh}),n.d(t,"\u0275patchComponentDefWithScope",function(){return Ah}),n.d(t,"\u0275resetCompiledComponents",function(){return Ih}),n.d(t,"\u0275compilePipe",function(){return Uh}),n.d(t,"\u0275sanitizeHtml",function(){return Yc}),n.d(t,"\u0275sanitizeStyle",function(){return Zc}),n.d(t,"\u0275sanitizeUrl",function(){return Kc}),n.d(t,"\u0275sanitizeResourceUrl",function(){return Xc}),n.d(t,"\u0275bypassSanitizationTrustHtml",function(){return jc}),n.d(t,"\u0275bypassSanitizationTrustStyle",function(){return Bc}),n.d(t,"\u0275bypassSanitizationTrustScript",function(){return zc}),n.d(t,"\u0275bypassSanitizationTrustUrl",function(){return Hc}),n.d(t,"\u0275bypassSanitizationTrustResourceUrl",function(){return Uc}),n.d(t,"\u0275getLContext",function(){return Vn}),n.d(t,"\u0275bindPlayerFactory",function(){return ir}),n.d(t,"\u0275addPlayer",function(){return Wo}),n.d(t,"\u0275getPlayers",function(){return $o}),n.d(t,"\u0275compileNgModuleFactory__POST_R3__",function(){return qp}),n.d(t,"\u0275SWITCH_COMPILE_COMPONENT__POST_R3__",function(){return Qh}),n.d(t,"\u0275SWITCH_COMPILE_DIRECTIVE__POST_R3__",function(){return Jh}),n.d(t,"\u0275SWITCH_COMPILE_PIPE__POST_R3__",function(){return ed}),n.d(t,"\u0275SWITCH_COMPILE_NGMODULE__POST_R3__",function(){return cd}),n.d(t,"\u0275getDebugNode__POST_R3__",function(){return Of}),n.d(t,"\u0275SWITCH_COMPILE_INJECTABLE__POST_R3__",function(){return yd}),n.d(t,"\u0275SWITCH_IVY_ENABLED__POST_R3__",function(){return sg}),n.d(t,"\u0275SWITCH_CHANGE_DETECTOR_REF_FACTORY__POST_R3__",function(){return vf}),n.d(t,"\u0275Compiler_compileModuleSync__POST_R3__",function(){return cp}),n.d(t,"\u0275Compiler_compileModuleAsync__POST_R3__",function(){return dp}),n.d(t,"\u0275Compiler_compileModuleAndAllComponentsSync__POST_R3__",function(){return fp}),n.d(t,"\u0275Compiler_compileModuleAndAllComponentsAsync__POST_R3__",function(){return mp}),n.d(t,"\u0275SWITCH_ELEMENT_REF_FACTORY__POST_R3__",function(){return yl}),n.d(t,"\u0275SWITCH_TEMPLATE_REF_FACTORY__POST_R3__",function(){return yc}),n.d(t,"\u0275SWITCH_VIEW_CONTAINER_REF_FACTORY__POST_R3__",function(){return ff}),n.d(t,"\u0275SWITCH_RENDERER2_FACTORY__POST_R3__",function(){return Ml}),n.d(t,"\u0275getModuleFactory__POST_R3__",function(){return sh}),n.d(t,"\u0275publishGlobalUtil",function(){return Ko}),n.d(t,"\u0275publishDefaultGlobalUtils",function(){return Zo}),n.d(t,"\u0275SWITCH_INJECTOR_FACTORY__POST_R3__",function(){return ma}),n.d(t,"\u0275registerModuleFactory",function(){return nh}),n.d(t,"\u0275EMPTY_ARRAY",function(){return nm}),n.d(t,"\u0275EMPTY_MAP",function(){return im}),n.d(t,"\u0275and",function(){return rm}),n.d(t,"\u0275ccf",function(){return Sm}),n.d(t,"\u0275cmf",function(){return Ly}),n.d(t,"\u0275crt",function(){return Eg}),n.d(t,"\u0275did",function(){return Zm}),n.d(t,"\u0275eld",function(){return sm}),n.d(t,"\u0275elementEventFullName",function(){return Ng}),n.d(t,"\u0275getComponentViewDefinitionFactory",function(){return Em}),n.d(t,"\u0275inlineInterpolate",function(){return em}),n.d(t,"\u0275interpolate",function(){return Jg}),n.d(t,"\u0275mod",function(){return gm}),n.d(t,"\u0275mpd",function(){return fm}),n.d(t,"\u0275ncd",function(){return vv}),n.d(t,"\u0275nov",function(){return Nm}),n.d(t,"\u0275pid",function(){return Km}),n.d(t,"\u0275prd",function(){return Xm}),n.d(t,"\u0275pad",function(){return bv}),n.d(t,"\u0275pod",function(){return wv}),n.d(t,"\u0275ppd",function(){return _v}),n.d(t,"\u0275qud",function(){return dv}),n.d(t,"\u0275ted",function(){return Cv}),n.d(t,"\u0275unv",function(){return xg}),n.d(t,"\u0275vid",function(){return Tv});var i=n("XNiG"),r=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("w1tV");function l(e){for(let t in e)if(e[t]===l)return t;throw Error("Could not find renamed property on target object.")}function u(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}const c=l({ngComponentDef:l}),h=l({ngDirectiveDef:l}),d=l({ngInjectableDef:l}),p=l({ngInjectorDef:l}),f=l({ngPipeDef:l}),g=l({ngModuleDef:l}),m=l({ngBaseDef:l}),v=l({__NG_ELEMENT_ID__:l});function y(e){return{providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function _(e){return{factory:e.factory,providers:e.providers||[],imports:e.imports||[]}}function b(e){return e&&e.hasOwnProperty(d)?e[d]:null}function w(e){return e&&e.hasOwnProperty(p)?e[p]:null}class x{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0!==t?y({providedIn:t.providedIn||"root",factory:t.factory}):void 0}toString(){return`InjectionToken ${this._desc}`}}const C="__annotations__",S="__parameters__",E="__prop__metadata__";function T(e,t,n,i,r){const s=M(t);function o(...e){if(this instanceof o)return s.call(this,...e),this;const t=new o(...e);return function(n){return r&&r(n,...e),(n.hasOwnProperty(C)?n[C]:Object.defineProperty(n,C,{value:[]})[C]).push(t),i&&i(n),n}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o}function M(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}function I(e,t,n){const i=M(t);function r(...e){if(this instanceof r)return i.apply(this,e),this;const t=new r(...e);return n.annotation=t,n;function n(e,n,i){const r=e.hasOwnProperty(S)?e[S]:Object.defineProperty(e,S,{value:[]})[S];for(;r.length<=i;)r.push(null);return(r[i]=r[i]||[]).push(t),e}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r}function O(e,t,n,i){const r=M(t);function s(...e){if(this instanceof s)return r.apply(this,e),this;const t=new s(...e);return function(n,r){const s=n.constructor,o=s.hasOwnProperty(E)?s[E]:Object.defineProperty(s,E,{value:{}})[E];o[r]=o.hasOwnProperty(r)&&o[r]||[],o[r].unshift(t),i&&i(n,r,...e)}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s}const A=new x("AnalyzeForEntryComponents"),D=I("Attribute",e=>({attributeName:e}));class k{}const P=O("ContentChildren",(e,t={})=>Object.assign({selector:e,first:!1,isViewQuery:!1,descendants:!1},t),k),R=O("ContentChild",(e,t={})=>Object.assign({selector:e,first:!0,isViewQuery:!1,descendants:!0},t),k),L=O("ViewChildren",(e,t={})=>Object.assign({selector:e,first:!1,isViewQuery:!0,descendants:!0},t),k),N=O("ViewChild",(e,t)=>Object.assign({selector:e,first:!0,isViewQuery:!0,descendants:!0},t),k),F=function(){var e={OnPush:0,Default:1};return e[e.OnPush]="OnPush",e[e.Default]="Default",e}(),V=function(){var e={CheckOnce:0,Checked:1,CheckAlways:2,Detached:3,Errored:4,Destroyed:5};return e[e.CheckOnce]="CheckOnce",e[e.Checked]="Checked",e[e.CheckAlways]="CheckAlways",e[e.Detached]="Detached",e[e.Errored]="Errored",e[e.Destroyed]="Destroyed",e}();function j(e){return null==e||e===F.Default}const B="undefined"!=typeof window&&window,z="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,H="undefined"!=typeof global&&global||B||z,U=Promise.resolve(0);let G=null;function W(){if(!G){const e=H.Symbol;if(e&&e.iterator)G=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(G=n)}}}return G}function $(e){"undefined"==typeof Zone?U.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}function q(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function Y(e){if("string"==typeof e)return e;if(e instanceof Array)return"["+e.map(Y).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}const Z=l({__forward_ref__:l});function K(e){return e.__forward_ref__=K,e.toString=function(){return Y(this())},e}function X(e){const t=e;return"function"==typeof t&&t.hasOwnProperty(Z)&&t.__forward_ref__===K?t():e}function Q(e){const t=[],n=new Map;function i(i){let r=n.get(i);if(!r){const s=e(i);n.set(i,r=s.then(te)),t.push(r)}return r}return J.forEach(e=>{e.templateUrl&&i(e.templateUrl).then(t=>{e.template=t,e.templateUrl=void 0});const t=e.styleUrls,n=e.styles||(e.styles=[]),r=e.styles.length;t&&t.forEach((s,o)=>{n.push(""),i(s).then(i=>{n[r+o]=i,t.splice(t.indexOf(s),1),0==t.length&&(e.styleUrls=void 0)})})}),J.clear(),Promise.all(t).then(()=>null)}const J=new Set;function ee(e){return e.templateUrl||e.styleUrls&&e.styleUrls.length}function te(e){return"string"==typeof e?e:e.text()}const ne=function(){var e={Emulated:0,Native:1,None:2,ShadowDom:3};return e[e.Emulated]="Emulated",e[e.Native]="Native",e[e.None]="None",e[e.ShadowDom]="ShadowDom",e}(),ie={},re=[];let se=0;function oe(e){const t=e.type,n=t.prototype,i={},r={type:t,providersResolver:null,consts:e.consts,vars:e.vars,factory:e.factory,template:e.template||null,hostBindings:e.hostBindings||null,contentQueries:e.contentQueries||null,contentQueriesRefresh:e.contentQueriesRefresh||null,attributes:e.attributes||null,declaredInputs:i,inputs:null,outputs:null,exportAs:e.exportAs||null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:e.changeDetection===F.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||ne.Emulated,id:"c",styles:e.styles||re,_:null};return r._=""+{toString:()=>{const t=e.directives,n=e.features,s=e.pipes;r.id+=se++,r.inputs=ce(e.inputs,i),r.outputs=ce(e.outputs),n&&n.forEach(e=>e(r)),r.directiveDefs=t?()=>("function"==typeof t?t():t).map(ae):null,r.pipeDefs=s?()=>("function"==typeof s?s():s).map(le):null}},r}function ae(e){return fe(e)||ge(e)}function le(e){return me(e)}function ue(e){return{type:e.type,bootstrap:e.bootstrap||re,declarations:e.declarations||re,imports:e.imports||re,exports:e.exports||re,transitiveCompileScopes:null}}function ce(e,t){if(null==e)return ie;const n={};for(const i in e)if(e.hasOwnProperty(i)){let r=e[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),n[r]=i,t&&(t[r]=s)}return n}function he(e){const t={};return{inputs:ce(e.inputs,t),declaredInputs:t,outputs:ce(e.outputs)}}const de=oe;function pe(e){return{name:e.name,factory:e.factory,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function fe(e){return e[c]||null}function ge(e){return e[h]||null}function me(e){return e[f]||null}function ve(e,t){const n=e[g]||null;if(!n&&!0===t)throw new Error(`Type ${Y(e)} does not have 'ngModuleDef' property.`);return n}const ye=0,_e=1,be=2,we=3,xe=4,Ce=5,Se=6,Ee=7,Te=8,Me=9,Ie=10,Oe=11,Ae=12,De=13,ke=14,Pe=15,Re=16,Le=17,Ne=18,Fe=0,Ve=1,je=6,Be=7,ze=8,He="__ngContext__",Ue=8,Ge=8,We=9,$e=-1;class qe{constructor(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}const Ye=qe.prototype;function Ze(e){return"function"==typeof e?e.name||e:"string"==typeof e?e:null==e?"":"object"==typeof e&&"function"==typeof e.type?e.type.name||e.type:""+e}function Ke(e,t){return e[t+Ne]}function Xe(e){for(;Array.isArray(e);)e=e[Ce];return e}function Qe(e,t){return Xe(t[e+Ne])}function Je(e,t){return Xe(t[e.index])}function et(e,t){return t[ye].data[e+Ne]}function tt(e,t){const n=t[e];return n.length>=Ne?n:n[Ce]}function nt(e){return 0!=(4&e.flags)}function it(e){return 1==(1&e.flags)}function rt(e){return null!==e.template}function st(e){return Array.isArray(e)&&e.length===ze}function ot(e){return 0!=(128&e[_e])}function at(e){let t=Array.isArray(e)?e:ct(e);for(;t&&!(128&t[_e]);)t=t[be];return t}function lt(e){return at(e)[Me]}function ut(e){return e[He]}function ct(e){const t=ut(e);return t?Array.isArray(t)?t:t.lView:null}function ht(e){return e!==$e}function dt(e){return 32767&e}function pt(e){return e>>16}function ft(e,t){let n=pt(e),i=t;for(;n>0;)i=i[Le],n--;return i}const gt=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(H);function mt(e,t){for(let n=0;n<e.length;n++)t.push(e[n])}function vt(e){let t=e[Se];for(;t&&2===t.type;)t=(e=e[Le])[Se];return e}function yt(){const e=H.ng;if(!e||!e.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return e.\u0275compilerFacade}const _t=I("Inject",e=>({token:e})),bt=I("Optional"),wt=I("Self"),xt=I("SkipSelf"),Ct=I("Host"),St=function(){var e={Default:0,Host:1,Self:2,SkipSelf:4,Optional:8};return e[e.Default]="Default",e[e.Host]="Host",e[e.Self]="Self",e[e.SkipSelf]="SkipSelf",e[e.Optional]="Optional",e}();let Et,Tt,Mt=void 0;function It(e){const t=Mt;return Mt=e,t}function Ot(e){const t=Et;return Et=e,t}function At(e,t=St.Default){if(void 0===Mt)throw new Error("inject() must be called from an injection context");return null===Mt?kt(e,void 0,t):Mt.get(e,t&St.Optional?null:void 0,t)}function Dt(e,t=St.Default){return(Et||At)(e,t)}function kt(e,t,n){const i=b(e);if(i&&"root"==i.providedIn)return void 0===i.value?i.value=i.factory():i.value;if(n&St.Optional)return null;if(void 0!==t)return t;throw new Error(`Injector: NOT_FOUND [${Y(e)}]`)}function Pt(e){const t=[];for(let n=0;n<e.length;n++){const i=e[n];if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let e=void 0,n=St.Default;for(let t=0;t<i.length;t++){const r=i[t];r instanceof bt||"Optional"===r.ngMetadataName?n|=St.Optional:r instanceof xt||"SkipSelf"===r.ngMetadataName?n|=St.SkipSelf:r instanceof wt||"Self"===r.ngMetadataName?n|=St.Self:e=r instanceof _t?r.token:r}t.push(Dt(e,n))}else t.push(Dt(i))}return t}function Rt(e,t,n,i){t&&(i.initHooks||(i.initHooks=[])).push(e,t),n&&((i.initHooks||(i.initHooks=[])).push(e,n),(i.checkHooks||(i.checkHooks=[])).push(e,n))}function Lt(e,t){if(e.firstTemplatePass)for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){const t=e.data[n];Nt(t,e,n),Ft(t,e,n),Vt(t,e,n)}}function Nt(e,t,n){e.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(n,e.afterContentInit),e.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(n,e.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,e.afterContentChecked))}function Ft(e,t,n){e.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(n,e.afterViewInit),e.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(n,e.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,e.afterViewChecked))}function Vt(e,t,n){null!=e.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(n,e.onDestroy)}function jt(e,t,n){!n&&32&e[_e]&&(Bt(e,t.initHooks,t.checkHooks,n),e[_e]&=-33)}function Bt(e,t,n,i){if(i)return;const r=2&e[_e]?t:n;r&&zt(e,r)}function zt(e,t){for(let n=0;n<t.length;n+=2)t[n+1].call(e[t[n]])}let Ht,Ut,Gt,Wt,$t=null;function qt(e){$t=e}function Yt(){Ht=!0}function Zt(){Ht=!1}function Kt(){return Wt}function Xt(e){sn=e}function Qt(){return Ut}function Jt(e){Ut=e}function en(e,t){Ut=e,Wt=t}function tn(){return Gt}function nn(e){Gt=e}function rn(e=Wt){return 1==(1&e[_e])}let sn=null,on=!1;function an(){return on}function ln(e){on=e}let un=!0;function cn(){return un}function hn(e){un=e}let dn=-1;function pn(){return dn}function fn(e){dn=e}function gn(e,t){const n=Wt;if(e){const t=e[ye];un=t.firstTemplatePass,dn=t.bindingStartIndex}return Ut=t,Gt=!0,Wt=sn=e,n}function mn(e=1){return(sn=function(e,t){for(;e>0;)t=t[Le],e--;return t}(e,sn))[Me]}function vn(e){const t=Wt[ye];rn(Wt)?Wt[_e]&=-2:(Bt(Wt,t.viewHooks,t.viewCheckHooks,on),Wt[_e]&=-11,Wt[_e]|=32,Wt[Ee]=t.bindingStartIndex),gn(e,null)}let yn=!0;function _n(e){const t=yn;return yn=e,t}const bn=255;let wn=0;function xn(e,t){const n=Sn(e,t);if(-1!==n)return n;const i=t[ye];i.firstTemplatePass&&(e.injectorIndex=t.length,Cn(i.data,e),Cn(t,null),Cn(i.blueprint,null));const r=En(e,t),s=dt(r),o=ft(r,t),a=e.injectorIndex;if(ht(r)){const e=o[ye].data;for(let n=0;n<8;n++)t[a+n]=o[s+n]|e[s+n]}return t[a+Ge]=r,a}function Cn(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Sn(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null==t[e.injectorIndex+Ge]?-1:e.injectorIndex}function En(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=t[Se],i=1;for(;n&&-1===n.injectorIndex;)n=(t=t[Le])?t[Se]:null,i++;return n?n.injectorIndex|i<<16:-1}function Tn(e,t,n){!function(e,t,n){let i="string"!=typeof n?n[v]:n.charCodeAt(0)||0;null==i&&(i=n[v]=wn++);const r=i&bn,s=1<<r,o=64&r,a=32&r,l=t.data;128&r?o?a?l[e+7]|=s:l[e+6]|=s:a?l[e+5]|=s:l[e+4]|=s:o?a?l[e+3]|=s:l[e+2]|=s:a?l[e+1]|=s:l[e]|=s}(e,t[ye],n)}function Mn(e,t){const n=e.attrs;if(n)for(let i=0;i<n.length;i+=2){const e=n[i];if(3===e)break;if(e==t)return n[i+1]}return null}function In(e,t,n,i=St.Default,r){if(e){const r=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e[v];return"number"==typeof t?t&bn:t}(n);if("function"==typeof r){const s=Qt(),o=Kt();en(e,t);try{const e=r();if(null!=e||i&St.Optional)return e;throw new Error(`No provider for ${Ze(n)}!`)}finally{en(s,o)}}else if("number"==typeof r){let s=null,o=Sn(e,t),a=$e,l=i&St.Host?vt(t)[Se]:null;for((-1===o||i&St.SkipSelf)&&(a=-1===o?En(e,t):t[o+Ge],Rn(i,!1)?(s=t[ye],o=dt(a),t=ft(a,t)):o=-1);-1!==o;){a=t[o+Ge];const e=t[ye];if(Pn(r,o,e.data)){const e=An(o,t,n,s,i,l);if(e!==On)return e}Rn(i,t[ye].data[o+Ue]===l)&&Pn(r,o,t)?(s=e,o=dt(a),t=ft(a,t)):o=-1}}}if(i&St.Optional&&void 0===r&&(r=null),0==(i&(St.Self|St.Host))){const e=t[Ie];return e?e.get(n,r,i&St.Optional):kt(n,r,i&St.Optional)}if(i&St.Optional)return r;throw new Error(`NodeInjector: NOT_FOUND [${Ze(n)}]`)}const On={};function An(e,t,n,i,r,s){const o=t[ye],a=o.data[e+Ue],l=Dn(a,t,n,null==i?it(a)&&yn:i!=o&&3===a.type,r&St.Host&&s===a);return null!==l?kn(o.data,t,l,a):On}function Dn(e,t,n,i,r){const s=e.providerIndexes,o=t[ye].data,a=65535&s,l=e.directiveStart,u=s>>16,c=r?a+u:e.directiveEnd;for(let h=i?a:a+u;h<c;h++){const e=o[h];if(h<l&&n===e||h>=l&&e.type===n)return h}if(r){const e=o[l];if(e&&rt(e)&&e.type===n)return l}return null}function kn(e,t,n,i){let r=t[n];if(null!=(s=r)&&"object"==typeof s&&Object.getPrototypeOf(s)==Ye){const s=r;if(s.resolving)throw new Error(`Circular dep for ${Ze(e[n])}`);const o=_n(s.canSeeViewProviders);let a;s.resolving=!0,s.injectImpl&&(a=Ot(s.injectImpl));const l=Qt(),u=Kt();en(i,t);try{r=t[n]=s.factory(null,e,t,i)}finally{s.injectImpl&&Ot(a),_n(o),s.resolving=!1,en(l,u)}}var s;return r}function Pn(e,t,n){const i=64&e,r=32&e;let s;return!!((s=128&e?i?r?n[t+7]:n[t+6]:r?n[t+5]:n[t+4]:i?r?n[t+3]:n[t+2]:r?n[t+1]:n[t])&1<<e)}function Rn(e,t){return!(e&St.Self||e&St.Host&&t)}class Ln{constructor(e,t){this._tNode=e,this._lView=t}get(e,t){return In(this._tNode,this._lView,e,void 0,t)}}function Nn(e){const t=e,n=fe(t)||ge(t)||me(t)||b(t)||w(t);return n&&void 0!==n.factory?n.factory:null}function Fn(e){const t=Nn(Object.getPrototypeOf(e.prototype).constructor);return null!==t?t:e=>new e}function Vn(e){let t=ut(e);if(t){if(Array.isArray(t)){const i=t;let r,s=void 0,o=void 0;if((n=e)&&n.constructor&&n.constructor.ngComponentDef){if(-1==(r=Gn(i,e)))throw new Error("The provided component was not found in the application");s=e}else if(e&&e.constructor&&e.constructor.ngDirectiveDef){if(-1==(r=function(e,t){let n=e[ye].firstChild;for(;n;){const i=n.directiveEnd;for(let r=n.directiveStart;r<i;r++)if(e[r]===t)return n.index;n=Un(n)}return-1}(i,e)))throw new Error("The provided directive was not found in the application");o=Wn(r,i,!1)}else if(-1==(r=Hn(i,e)))return null;const a=Xe(i[r]),l=ut(a),u=l&&!Array.isArray(l)?l:jn(i,r,a);if(s&&void 0===u.component&&(u.component=s,zn(u.component,u)),o&&void 0===u.directives){u.directives=o;for(let e=0;e<o.length;e++)zn(o[e],u)}zn(u.native,u),t=u}}else{const n=e;let i=n;for(;i=i.parentNode;){const e=ut(i);if(e){let i;if(!(i=Array.isArray(e)?e:e.lView))return null;const r=Hn(i,n);if(r>=0){const e=Xe(i[r]),n=jn(i,r,e);zn(e,n),t=n;break}}}}var n;return t||null}function jn(e,t,n){return{lView:e,nodeIndex:t,native:n,component:void 0,directives:void 0,localRefs:void 0}}function Bn(e){let t,n=ut(e);if(Array.isArray(n)){const i=Gn(n,e),r=jn(n,i,(t=tt(i,n))[Ce]);r.component=e,zn(e,r),zn(r.native,r)}else t=tt(n.nodeIndex,n.lView);return t}function zn(e,t){e[He]=t}function Hn(e,t){let n=e[ye].firstChild;for(;n;){if(Je(n,e)===t)return n.index;n=Un(n)}return-1}function Un(e){if(e.child)return e.child;if(e.next)return e.next;for(;e.parent&&!e.parent.next;)e=e.parent;return e.parent&&e.parent.next}function Gn(e,t){const n=e[ye].components;if(n)for(let i=0;i<n.length;i++){const r=n[i];if(tt(r,e)[Me]===t)return r}else if(tt(Ne,e)[Me]===t)return Ne;return-1}function Wn(e,t,n){const i=t[ye].data[e];let r=i.directiveStart;return 0==r?re:(!n&&1&i.flags&&r++,t.slice(r,i.directiveEnd))}function $n(e){const t=ti(e);return void 0===t.component&&(t.component=function(e,n){const i=n[ye].data[t.nodeIndex];return 1&i.flags?n[i.directiveStart]:null}(0,t.lView)),t.component}function qn(e){return ti(e).lView[Me]}function Yn(e){let t=Jn(e).lView;for(;t[be]&&null===t[Ce];)t=t[be];return 128&t[_e]?null:t[Me]}function Zn(e){return function(e){let t;for(t=Array.isArray(e)?e:ct(e);t&&!(128&t[_e]);)t=t[be];return t}(Array.isArray(e)?e:Jn(e).lView)[Me]}function Kn(e){return[...Zn(e).components]}function Xn(e){const t=Jn(e);return new Ln(t.lView[ye].data[t.nodeIndex],t.lView)}function Qn(e){const t=Jn(e);return void 0===t.directives&&(t.directives=Wn(t.nodeIndex,t.lView,!1)),t.directives||[]}function Jn(e,t=!0){const n=Vn(e);if(!n&&t)throw new Error("Invalid ng target");return n}function ei(e){return Vn(e).native}function ti(e){if(!(e instanceof Node))throw new Error("Expecting instance of DOM Node");return Jn(e)}function ni(e){return"boolean"==typeof e.useCapture}function ii(e){const t=ti(e).lView,n=t[Te],i=t[ye].cleanup,r=[];if(i&&n)for(let s=0;s<i.length;){const o=i[s++],a=i[s++];if("string"==typeof o){const l=o,u=Xe(t[a]),c=n[i[s++]],h=i[s++],d="boolean"==typeof h?h:!(h>=0)&&null;e==u&&r.push({element:e,name:l,callback:c,useCapture:d})}}return r.sort(ri),r}function ri(e,t){return e.name==t.name?0:e.name<t.name?-1:1}const si=/([A-Z])/g;function oi(e){try{return null!=e?e.toString().slice(0,30):e}catch(t){return"[ERROR] Exception while trying to serialize the value"}}function ai(e,t){const n=ci(e),i=ci(t);if(n&&i)return function(e,t,n){const i=e[W()](),r=t[W()]();for(;;){const e=i.next(),t=r.next();if(e.done&&t.done)return!0;if(e.done||t.done)return!1;if(!n(e.value,t.value))return!1}}(e,t,ai);{const r=e&&("object"==typeof e||"function"==typeof e),s=t&&("object"==typeof t||"function"==typeof t);return!(n||!r||i||!s)||q(e,t)}}class li{constructor(e){this.wrapped=e}static wrap(e){return new li(e)}static unwrap(e){return li.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof li}}class ui{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function ci(e){return!!hi(e)&&(Array.isArray(e)||!(e instanceof Map)&&W()in e)}function hi(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function di(e){throw new Error(`Multiple components match node with tagname ${e.tagName}`)}const pi={};function fi(e,t,n){return e[t]=n}function gi(e,t){return e[t]}function mi(e,t,n){if(e[t]===pi)e[t]=n;else{if(r=n,(i=e[t])!=i&&r!=r||i===r)return!1;e[t]=n}var i,r;return!0}function vi(e,t,n,i){const r=mi(e,t,n);return mi(e,t+1,i)||r}function yi(e,t,n,i,r){const s=vi(e,t,n,i);return mi(e,t+2,r)||s}function _i(e,t,n,i,r,s){const o=vi(e,t,n,i);return vi(e,t+2,r,s)||o}const bi="ngProjectAs",wi=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}();function xi(e){return!!e.listen}const Ci={createRenderer:(e,t)=>document};function Si(e,t){return null==e.parent?function(e){const t=e[Se];return t&&2!==t.type?Je(t,e[be]):null}(t):Je(Ei(e),t)}function Ei(e){let t=e.parent;for(;t&&5===t.type;)t=t.parent;return t}function Ti(e,t){if(-1===e.index){const e=t[Pe];return e>-1?t[be][e]:null}return t[be][e.parent.index]}function Mi(e,t){const n=Ti(e,t);return n?n[Be]:null}const Ii=[];function Oi(e,t,n,i,r){const s=e[ye].node;let o=-1,a=e,l=s.child;for(;l;){let e=null;if(3===l.type){Ai(t,n,i,Je(l,a),r);const e=a[l.index];st(e)&&Ai(t,n,i,e[je],r)}else if(0===l.type){const s=a[l.index];Ai(t,n,i,s[je],r),i&&(s[Be]=i),s[Ve].length&&(e=(a=s[Ve][0])[ye].node,r=s[je])}else if(1===l.type){const t=vt(a),n=t[Se].projection[l.projection];Ii[++o]=l,Ii[++o]=a,n&&(e=(a=t[be])[ye].data[n.index])}else e=l.child;if(null===e)for(null===l.next&&2&l.flags&&(a=Ii[o--],l=Ii[o--]),e=l.next;!e;){if(null===(l=l.parent||a[ye].node)||l===s)return null;0===l.type&&(r=(a=a[be])[l.index][je]),e=2===l.type&&a[we]?(a=a[we])[ye].node:l.next}l=e}}function Ai(e,t,n,i,r){0===e?xi(t)?t.insertBefore(n,i,r):n.insertBefore(i,r,!0):1===e?xi(t)?t.removeChild(n,i):n.removeChild(i):2===e&&t.destroyNode(i)}function Di(e,t){return xi(t)?t.createText(Ze(e)):t.createTextNode(Ze(e))}function ki(e,t,n){const i=Mi(e[ye].node,e);i&&Oi(e,t?0:1,e[Ae],i,n)}function Pi(e,t,n,i,r){const s=t[Ve];i>0&&(s[i-1][we]=e),i<s.length?(e[we]=s[i],s.splice(i,0,e)):(s.push(e),e[we]=null),r>-1&&(e[Pe]=r,e[be]=n),e[xe]&&e[xe].insertView(i),e[_e]|=16}function Ri(e,t,n){const i=e[Ve],r=i[t];return t>0&&(i[t-1][we]=r[we]),i.splice(t,1),n||ki(r,!1),r[xe]&&r[xe].removeView(),r[Pe]=-1,r[be]=null,r[_e]&=-17,r}function Li(e,t,n){const i=e[Ve][n];Ri(e,n,!!t.detached),Fi(i)}function Ni(e){const t=e[ye].childIndex;return-1===t?null:e[t]}function Fi(e){const t=e[Ae];xi(t)&&t.destroyNode&&Oi(e,2,t,null),function(e){if(-1===e[ye].childIndex)return ji(e);let t=Ni(e);for(;t;){let n=null;if(t.length>=Ne){const e=t;e[ye].childIndex>-1&&(n=Ni(e))}else{const e=t;e[Ve].length&&(n=e[Ve][0])}if(null==n){for(;t&&!t[we]&&t!==e;)ji(t),t=Vi(t,e);ji(t||e),n=t&&t[we]}t=n}}(e),e[_e]|=64}function Vi(e,t){let n;return e.length>=Ne&&(n=e[Se])&&2===n.type?Ti(n,e):e[be]===t?null:e[be]}function ji(e){if(e.length>=Ne){const t=e;!function(e){const t=e[ye];let n;null!=t&&null!=(n=t.destroyHooks)&&zt(e,n)}(t),function(e){const n=t[ye]&&t[ye].pipeDestroyHooks;n&&zt(t,n)}(),function(e){const t=e[ye].cleanup;if(null!=t){const n=e[Te];for(let i=0;i<t.length-1;i+=2)if("string"==typeof t[i]){const r=n[t[i+2]],s=Xe(e[t[i+1]]),o=t[i+3];"boolean"==typeof o?s.removeEventListener(t[i],r,o):o>=0?n[o]():n[-o].unsubscribe(),i+=2}else"number"==typeof t[i]?(0,n[t[i]])():t[i].call(n[t[i+1]]);e[Te]=null}}(t);const n=t[Se];n&&3===n.type&&xi(t[Ae])&&t[Ae].destroy()}}function Bi(e,t){if(zi(e,t)){if(ot(t))return Ui(t[Ae],Je(e,t));const n=t[Se],i=e.parent;return null!=i&&4===i.type&&(e=Wi(i)),null==e.parent&&2===n.type?Mi(n,t):Si(e,t)}return null}function zi(e,t){let n=e,i=e.parent;return e.parent&&(4===e.parent.type?i=(n=Wi(e)).parent:5===e.parent.type&&(i=(n=Ei(n)).parent)),null===i&&(i=t[Se]),i&&2===i.type?function(e,n){const r=Ti(i,t);return null!=r&&null!=r[Be]}():null==n.parent||!(3!==n.parent.type||1&n.parent.flags)}function Hi(e,t,n,i){xi(e)?e.insertBefore(t,n,i):t.insertBefore(n,i,!0)}function Ui(e,t){return xi(e)?e.parentNode(t):t.parentNode}function Gi(e=null,t,n){if(null!==e&&zi(t,n)){const i=n[Ae],r=Si(t,n),s=t.parent||n[Se];if(2===s.type){const t=Ti(s,n),r=t[Ve],o=r.indexOf(n);Hi(i,t[Be],e,$i(o,r,t[je]))}else 4===s.type?Hi(i,Bi(t,n),e,r):5===s.type?Hi(i,r,e,Je(t.parent,n)):xi(i)?i.appendChild(r,e):r.appendChild(e);return!0}return!1}function Wi(e){for(;null!=e.parent&&4===e.parent.type;)e=e.parent;return e}function $i(e,t,n){if(e+1<t.length){const i=t[e+1],r=i[Se];return r.child?Je(r.child,i):n}return n}function qi(e,t,n){if(null!==t&&zi(e,n)){const i=Si(e,n),r=n[Ae];return xi(r)?r.removeChild(i,t):i.removeChild(t),!0}return!1}function Yi(e,t,n,i){const r=Je(e,i);Gi(r,t,n),zn(r,i);const s=Bi(t,n),o=i[e.index];if(0===e.type){o[Be]=s;const e=o[Ve];for(let t=0;t<e.length;t++)ki(e[t],!0,o[je])}else{if(4===e.type){let r=e.child;for(;r;)Yi(r,t,n,i),r=r.next}st(o)&&(o[Be]=s,Gi(o[je],t,n))}}const Zi="ng-template";function Ki(e,t){const n=e.length,i=e.indexOf(t),r=i+t.length;return!(-1===i||i>0&&" "!==e[i-1]||r<n&&" "!==e[r])}function Xi(e,t,n){return t===e.tagName&&(n||3===e.type||4===e.type||0===e.type&&t===Zi)}function Qi(e,t,n){let i=4;const r=e.attrs,s=r?r.indexOf(3):-1;let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!Xi(e,l,n)||""===l&&1===t.length){if(Ji(i))return!1;o=!0}}else{const e=er(8&i?"class":l,r);if(-1===e){if(Ji(i))return!1;o=!0;continue}const n=8&i?l:t[++a];if(""!==n){let t;if(t=s>-1&&e>s?"":r[e+1],8&i&&!Ki(t,n)||2&i&&n!==t){if(Ji(i))return!1;o=!0}}}}else{if(!o&&!Ji(i)&&!Ji(l))return!1;if(o&&Ji(l))continue;o=!1,i=l|1&i}}return Ji(i)||o}function Ji(e){return 0==(1&e)}function er(e,t){if(null===t)return-1;let n=!1,i=0;for(;i<t.length;){const r=t[i];if(r===e)return i;0===r?i+=4:(3===r&&(n=!0),i+=n?1:2)}return-1}function tr(e,t,n=!1){for(let i=0;i<t.length;i++)if(Qi(e,t[i],n))return!0;return!1}function nr(e,t,n){const i=function(e){const t=e.attrs;if(null!=t){const e=t.indexOf(bi);if(0==(1&e))return t[e+1]}return null}(e);for(let r=0;r<t.length;r++)if(i===n[r]||null===i&&tr(e,t[r],!0))return r+1;return 0}function ir(e,t){return new rr(e,t)}class rr{constructor(e,t){this.fn=e,this.value=t}}class sr{constructor(){this._players=[]}flushPlayers(){for(let e=0;e<this._players.length;e++){const t=this._players[e];t.parent||0!==t.state||t.play()}this._players.length=0}queuePlayer(e){this._players.push(e)}}const or="@";function ar(e,t,n,i){return[0,[null,-1,!1,t||null],n||[null],i||[null],[0,0],e||null,null,null,null]}function lr(e,t){let n=e,i=t[n],r=t;for(;Array.isArray(i);)r=i,i=i[Ce];if(s=r,Array.isArray(s)&&"number"==typeof s[0]&&Array.isArray(s[2]))return r;{const s=et(e-Ne,t).stylingTemplate;return r!==t&&(n=Ce),r[n]=s?function(e,t){const n=s.slice();return n[5]=e,n[0]|=32,n}(i):ar(i)}var s}function ur(e){return e[0]===or}function cr(e,t,n,i,r,s){return s=s||n,r?e[r]=i:e.push(i),!!i&&(i.addEventListener(200,()=>{const t=e.indexOf(i);t&&(t<e[0]?e[t]=null:e.splice(t,1)),i.destroy()}),(t.playerHandler||(t.playerHandler=new sr)).queuePlayer(i,s),!0)}function hr(e){return e[8]}function dr(e){return e[8]=[5,null,null,null,null]}function pr(e){return!!(8&e.flags)}function fr(e){const t=ar(),n=t[3]=[null],i=t[2]=[null];let r=-1;for(let s=0;s<e.length;s++){const t=e[s];if("number"==typeof t)r=t;else if(2===r)i.push(t,e[++s]);else if(1===r)n.push(t,!0);else if(3===r)break}return t}function gr(e,t,n){for(let i=1;i<e.length;){if(e[i]===t){const t=e[i+1];return void(null!=t&&0!=t||(e[i+1]=n))}i+=2}e.push(t,n)}function mr(e,t,n,i){for(let r=1;r<n.length;r+=2){const s=n[r+1];s&&(i?br(e,n[r+0],!0,t,null):_r(e,n[r+0],s,t,null))}}function vr(e,t,n,i){for(let r=n;r<i;r+=4)if(Br(e,r)===t)return r;return-1}function yr(e,t,n,i,r){const s=Qr(e,r||null),o=function(e,t,n,i){const r=e[1][4*t+1],s=e[4];return s[r+2+(i?s[r+0]:0)+n]}(e,s,t,i),a=jr(e,o),l=Vr(e,o),u=Xr(e,o),c=n instanceof rr?n.value:n;if(Zr(l,a,c)&&(!a||(c?s<=u:u===s))){const t=2==(2&l),i=e[5],r=n instanceof rr?new Kr(n,i,t?1:2):null,a=r?n.value:n,c=Lr(e,o);let h=!1,d=r?c:0;if(kr(e,r,c)){const t=Pr(e,r,c);d=r?t:0,h=!0}if((h||u!==s)&&Rr(e,o,d,s),u!==s){const t=Br(e,o),n=ts(e,s);!function(e,i,r){n&&n(t)?e[i]|=4:e[i]&=-5}(e,o)}Dr(e,o,a);const p=Ir(l),f=jr(e,p);if(!f||Zr(l,f,a)){let n=!1,i=!0;!qr(a,t)&&qr(f,t)&&(n=!0,i=!1),wr(e,p,n),wr(e,o,i),ns(e,s,!0),Hr(e,!0)}h&&Ur(e,!0)}}function _r(e,t,n,i,r,s,o){n=r&&n?r(t,n):n,s||o?(s&&s.setValue(t,n),o&&o.setValue(t,n)):n?(n=n.toString(),xi(i)?i.setStyle(e,t,n,wi.DashCase):e.style.setProperty(t,n)):xi(i)?i.removeStyle(e,t,wi.DashCase):e.style.removeProperty(t)}function br(e,t,n,i,r,s){r||s?(r&&r.setValue(t,n),s&&s.setValue(t,n)):n?xi(i)?i.addClass(e,t):e.classList.add(t):xi(i)?i.removeClass(e,t):e.classList.remove(t)}function wr(e,t,n){const i=t>=9?t+0:t;n?e[i]|=1:e[i]&=-2}function xr(e,t){return 1==(1&e[t>=9?t+0:t])}function Cr(e,t){return 2==(2&e[t>=9?t+0:t])}function Sr(e,t){return 4==(4&e[t>=9?t+0:t])}function Er(e,t,n){return 63&e|t<<6|n<<20}function Tr(e,t){const n=Mr(t);return(2&t?e[3]:e[2])[n]}function Mr(e){return e>>6&16383}function Ir(e){const t=e>>20&16383;return t>=9?t:-1}function Or(e){return Ir(e[0])}function Ar(e,t,n){e[t+1]=n}function Dr(e,t,n){e[t+2]=n}function kr(e,t,n){const i=e[8];if(t){if(!i||0===n)return!0}else if(!i)return!1;return i[n]!==t}function Pr(e,t,n){let i=e[8]||dr(e);return n>0?i[n]=t:(i.splice(n=i[0],0,t,null),i[0]+=2),n}function Rr(e,t,n,i){const r=function(e,t){return n<<16|e}(i);e[t+3]=r}function Lr(e,t){return e[t+3]>>16&65535}function Nr(e,t){const n=Lr(e,t);if(n){const t=e[8];if(t)return t[n]}return null}function Fr(e,t,n){e[0===t?t:t+0]=n}function Vr(e,t){return e[0===t?t:t+0]}function jr(e,t){return e[t+2]}function Br(e,t){return e[t+1]}function zr(e){return 16&e[0]}function Hr(e,t){wr(e,0,t)}function Ur(e,t){t?e[0]|=8:e[0]&=-9}function Gr(e,t,n){for(let i=(n||0)+1;i<e.length;i+=4)if(e[i]==t)return i-1;return-1}function Wr(e,t,n){const i=jr(e,t),r=Br(e,t),s=Vr(e,t),o=Lr(e,t);let a=s,l=Vr(e,n);const u=Ir(a);if(u>=0){const t=Vr(e,u);Fr(e,u,Er(t,Mr(t),n))}const c=Ir(l);if(c>=0){const n=Vr(e,c);Fr(e,c,Er(n,Mr(n),t))}Dr(e,t,jr(e,n)),Ar(e,t,Br(e,n)),Fr(e,t,Vr(e,n)),Rr(e,t,Lr(e,n),0),Dr(e,n,i),Ar(e,n,r),Fr(e,n,s),Rr(e,n,o,0)}function $r(e,t,n,i,r,s,o,a){const l=t<e.length;e.splice(t,0,1|r|(n?2:0),i,s,0),Rr(e,t,a,o),l&&function(e,n){for(let i=t+4;i<e.length;i+=4){const t=Ir(Vr(e,i));if(t>0){const n=Mr(Vr(e,t));Fr(e,t,Er((xr(e,t)?1:0)|(Cr(e,t)?2:0)|(Sr(e,t)?4:0),n,i))}}}(e)}function qr(e,t){return t?!!e:null!==e}function Yr(e,t,n,i){let r,s=i&&i(t)?4:0;return n?(s|=2,r=es(e[3],t)):r=es(e[2],t),Er(s,r=r>0?r+1:0,0)}function Zr(e,t,n){return!(2&e)&&t&&n&&4&e?t.toString()!==n.toString():t!==n}class Kr{constructor(e,t,n){this._element=t,this._type=n,this._values={},this._dirty=!1,this._factory=e}setValue(e,t){this._values[e]!==t&&(this._values[e]=t,this._dirty=!0)}buildPlayer(e,t){if(this._dirty){const n=this._factory.fn(this._element,this._type,this._values,t,e||null);return this._values={},this._dirty=!1,n}}}function Xr(e,t){return 65535&e[t+3]}function Qr(e,t){const n=Jr(e[1],t);return n>0?n/4:0}function Jr(e,t){for(let n=0;n<e.length;n+=4)if(e[n]===t)return n;return-1}function es(e,t){for(let n=1;n<e.length;n+=2)if(e[n]===t)return n;return-1}function ts(e,t){const n=e[1];return n[4*t+3]||n[3]||null}function ns(e,t,n){e[1][4*t+2]=n}function is(e){let t=e[6];if(null==t){t="";const n=e[3];for(let e=1;e<n.length;e+=2)n[e+1]&&(t+=(t.length?" ":"")+n[e]);e[6]=t}return t}const rs=Promise.resolve(null);function ss(e){const t=e[ye];if(t.firstTemplatePass=!1,hn(!1),!rn(e)){const n=an();jt(e,t,n),function(e){for(let t=Ni(e);null!==t;t=t[we])if(t.length<Ne&&-1===t[Fe]){const e=t;for(let t=0;t<e[Ve].length;t++){const n=e[Ve][t];cs(n,n[ye],n[Me])}}}(e),function(e){if(null!=e.contentQueries)for(let t=0;t<e.contentQueries.length;t+=2){const n=e.contentQueries[t];e.data[n].contentQueriesRefresh(n-Ne,e.contentQueries[t+1])}}(t),Bt(e,t.contentHooks,t.contentCheckHooks,n),function(e,t){if(e.expandoInstructions){let n=t[Ee]=e.expandoStartIndex;fn(n);let i=-1,r=-1;for(let s=0;s<e.expandoInstructions.length;s++){const o=e.expandoInstructions[s];if("number"==typeof o){if(o<=0){r=-o;const t=e.expandoInstructions[++s];i=n+=We+t}else n+=o;fn(n)}else null!==o&&(t[Ee]=n,o(2,Xe(t[i]),r)),i++}}}(t,e)}!function(e){if(null!=e)for(let t=0;t<e.length;t++)lo(e[t])}(t.components)}function os(e,t,n,i,r,s,o,a){const l=t.blueprint.slice();return l[_e]=51|i,l[be]=l[Le]=e,l[Me]=n,l[Oe]=r||e&&e[Oe],l[Ae]=s||e&&e[Ae],l[De]=o||e&&e[De]||null,l[Ie]=a||e&&e[Ie]||null,l}function as(e,t,n,i,r){const s=Kt(),o=s[ye],a=e+Ne;s[a]=n;let l=o.data[a];null==l&&(l=o.data[a]=Ls(s,t,a,i,r,null));const u=Qt(),c=tn();return u&&(!c||null!=u.child||null===l.parent&&2!==u.type?c||(u.next=l):u.child=l),null==o.firstChild&&(o.firstChild=l),Jt(l),nn(!0),l}function ls(e,t){return null==t[ye].node&&(t[ye].node=Ls(t,2,e,null,null,null)),t[Se]=t[ye].node}function us(e){const t=e[ye];t.firstTemplatePass&&(t.expandoStartIndex++,t.blueprint.push(null),t.data.push(null),e.push(null))}function cs(e,t,n){const i=tn(),r=Qt();let s;if(nn(!0),Jt(null),128&e[_e])mo(lt(e));else try{nn(!0),Jt(null),s=gn(e,e[Se]),vs(),t.template(ps(e),n),e[ye].firstTemplatePass=!1,hn(!1),ss(e)}finally{vn(s),nn(i),Jt(r)}}function hs(e=1){return mn(e)}function ds(e,t,n){const i=e[Oe],r=gn(e,e[Se]),s=!an();try{s&&i.begin&&i.begin(),rn(e)&&(n&&(vs(),n(1,t)),ss(e),e[_e]&=-2),n&&n(2,t),ss(e)}finally{s&&i.end&&i.end(),vn(r)}}function ps(e){return rn(e)?1:2}let fs=null;function gs(){fs="http://www.w3.org/2000/svg"}function ms(){fs="http://www.w3.org/1998/MathML/"}function vs(){fs=null}function ys(e,t,n,i){ws(e,t,n,i),Os()}function _s(e,t,n){const i=Kt(),r=i[ye],s=i[Ae].createComment("");Gi(s,as(e,4,s,"ng-container",t||null),i),Cs(r,i,n),zn(s,i)}function bs(){let e=Qt();const t=Kt(),n=t[ye];tn()?nn(!1):Jt(e=e.parent);const i=t[xe];i&&(t[xe]=i.addNode(e)),Lt(n,e)}function ws(e,t,n,i){const r=Kt(),s=r[ye],o=xs(t),a=as(e,3,o,t,n||null);if(n&&(s.firstTemplatePass&&!a.stylingTemplate&&function(e){for(let t=0;t<e.length;t++){const n=e[t];if(1==n||2==n)return!0}return!1}(n)&&(a.stylingTemplate=fr(n)),Ts(o,n)),Gi(o,a,r),Cs(s,r,i),0===Tt&&zn(o,r),Tt++,s.firstTemplatePass){const e=zo(a);e&&e.hasOwnProperty("class")&&(a.flags|=8)}var l,u,c;a.stylingTemplate&&0==(8&a.flags)&&(mr(l=o,c=r[Ae],(u=a.stylingTemplate)[3],!0),mr(l,c,u[2],!1))}function xs(e,t){const n=t||Kt()[Ae];return xi(n)?n.createElement(e,fs):null===fs?n.createElement(e):n.createElementNS(fs,e)}function Cs(e,t,n,i=Je){if(!Ht)return;const r=Qt();cn()&&function(e,t,n,i,r){const s=r?{"":-1}:null;if(n){Xs(i,e.data.length,n.length);for(let e=0;e<n.length;e++){const t=n[e];t.providersResolver&&t.providersResolver(t)}$s(e,i,n.length);for(let i=0;i<n.length;i++){const r=n[i],o=e.data.length;Qs(e,t,r,r.factory),Ks(e.data.length-1,r,s),Rt(o,r.onInit,r.doCheck,e)}}s&&function(e,t,n){if(t){const i=e.localNames=[];for(let e=0;e<t.length;e+=2){const r=n[t[e+1]];if(null==r)throw new Error(`Export of name '${t[e+1]}' not found!`);i.push(t[e],r)}}}(i,r,s)}(e,t,function(e,t,n){const i=e.directiveRegistry;let r=null;if(i)for(let s=0;s<i.length;s++){const e=i[s];tr(n,e.selectors,!1)&&(r||(r=[]),Tn(xn(Qt(),t),t,e.type),rt(e)?(1&n.flags&&di(n),n.flags=1,r.unshift(e)):r.push(e))}return r}(e,t,r),r,n||null),function(e,t,n){const i=n.directiveStart,r=n.directiveEnd;!cn()&&i<r&&xn(n,t);for(let s=i;s<r;s++){const i=e.data[s];rt(i)&&Js(t,n,i),qs(t,kn(e.data,t,s,n),i,s)}}(e,t,r),function(e,t,n){const i=n.directiveStart,r=n.directiveEnd,s=e.expandoInstructions,o=cn();for(let a=i;a<r;a++){const i=e.data[a],r=t[a];if(i.hostBindings){const e=s.length;qt(i),i.hostBindings(1,r,n.index-Ne),qt(null),e===s.length&&o&&s.push(i.hostBindings)}else o&&s.push(null)}}(e,t,r),function(e,t,n){const i=t.localNames;if(i){let r=t.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?n(t,e):e[o];e[r++]=a}}}(t,r,i)}function Ss(e,t,n,i,r,s){return e.ngPrivateData||(e.ngPrivateData=Es(-1,e,t,n,i,r,s))}function Es(e,t,n,i,r,s,o){const a=Ne+n,l=a+i,u=function(e,t){const n=new Array(t).fill(null,0,e).fill(pi,e);return n[Pe]=-1,n[Ee]=e,n}(a,l);return u[ye]={id:e,blueprint:u,template:t,viewQuery:o,node:null,data:u.slice(),childIndex:-1,bindingStartIndex:a,expandoStartIndex:l,expandoInstructions:null,firstTemplatePass:!0,initHooks:null,checkHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,pipeDestroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof r?r():r,pipeRegistry:"function"==typeof s?s():s,firstChild:null}}function Ts(e,t){const n=Kt()[Ae],i=xi(n);let r=0;for(;r<t.length;){const s=t[r++];if("number"==typeof s){if(0!==s)break;{const s=t[r++],o=t[r++],a=t[r++];i?n.setAttribute(e,o,a,s):e.setAttributeNS(s,o,a)}}else{const o=t[r++];s!==bi&&(ur(s)?i&&n.setProperty(e,s,o):i?n.setAttribute(e,s,o):e.setAttribute(s,o))}}}function Ms(e,t){const n=e.createRenderer(null,null);return"string"==typeof t?xi(n)?n.selectRootElement(t):n.querySelector(t):t}function Is(e,t,n=!1){const i=Kt(),r=Qt(),s=i[ye],o=s.firstTemplatePass&&(s.cleanup||(s.cleanup=[]));if(3===r.type){const s=Je(r,i),a=i[Ae],l=Uo(i),u=l.length;let c=n;if(xi(a)){const n=a.listen(s,e,t);l.push(t,n),c=u+1}else{const i=function(e){return function(t){!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}(t);s.addEventListener(e,i,n),l.push(i)}o&&o.push(e,r.index,u,c)}void 0===r.outputs&&(r.outputs=Fs(r,1));const a=r.outputs;let l;if(a&&(l=a[e])){const n=l.length;if(n){const s=Uo(i);for(let a=0;a<n;a+=2){const n=i[l[a]][l[a+1]].subscribe(t),u=s.length;s.push(t,n),o&&o.push(e,r.index,u,-(u+1))}}}}function Os(){let e=Qt();tn()?nn(!1):Jt(e=e.parent);const t=Kt(),n=t[xe];if(n&&(t[xe]=n.addNode(e)),Lt(Kt()[ye],e),Tt--,pr(e)){const n=lr(e.index,t);Ns(t,e.inputs.class,is(n))}}function As(e,t,n,i){if(n!==pi){const r=Kt(),s=r[Ae],o=Qe(e,r);if(null==n)xi(s)?s.removeAttribute(o,t):o.removeAttribute(t);else{const e=null==i?Ze(n):i(n);xi(s)?s.setAttribute(o,t,e):o.setAttribute(t,e)}}}function Ds(e,t,n,i,r){Rs(e,t,n,i,r)}function ks(e,t,n,i,r){Rs(e,t,n,i,r,Ps)}function Ps(e,t){return t[e.index][Ae]}function Rs(e,t,n,i,r,s){if(n===pi)return;const o=Kt(),a=Qe(e,o),l=et(e,o);let u,c;if(!r&&(u=zo(l))&&(c=u[t]))Ns(o,c,n),it(l)&&function(t,n){const i=tt(e+Ne,t);4&i[_e]||(i[_e]|=8)}(o);else if(3===l.type){const e=s?s(l,o):o[Ae];n=null!=i?i(n):n,xi(e)?e.setProperty(a,t,n):ur(t)||(a.setProperty?a.setProperty(t,n):a[t]=n)}}function Ls(e,t,n,i,r,s){const o=Qt(),a=tn()?o:o&&o.parent,l=a&&e&&a!==e[Se]?a:null;return{type:t,index:n,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,flags:0,providerIndexes:0,tagName:i,attrs:r,localNames:null,initialInputs:void 0,inputs:void 0,outputs:void 0,tViews:s,next:null,child:null,parent:l,detached:null,stylingTemplate:null,projection:null}}function Ns(e,t,n){for(let i=0;i<t.length;i+=2)e[t[i]][t[i+1]]=n}function Fs(e,t){const n=Kt()[ye];let i=null;const r=e.directiveStart,s=e.directiveEnd;if(s>r){const e=0===t,o=n.data;for(let t=r;t<s;t++){const n=o[t],r=e?n.inputs:n.outputs;for(let e in r)if(r.hasOwnProperty(e)){const n=r[e];(i=i||{}).hasOwnProperty(e)?i[e].push(t,n):i[e]=[t,n]}}}return i}function Vs(e,t,n,i){const r=Qt();r.stylingTemplate||(r.stylingTemplate=ar()),function(e,t,n,i,r,s){if(32&e[0])return;const o=function(e,t,n){const i=e[1],r=e[4].length;let s;const o=Jr(i,t);if(-1===o)s=i.length/4,i.push(t,r,!1,n||null);else{if(i[o+1]>=0)return-1;s=o/4,i[o+1]=r,i[o+3]=n||null}return s}(e,t,r);if(-1===o)return;const a=e[4],l=a[1],u=a[0],c=4*u;let h=9+c,d=h+4*l,p=d+c;const f=a.length;a.push(i?i.length:0,n?n.length:0);let g=0;const m=[];if(i&&i.length)for(let x=0;x<i.length;x++){const t=i[x];let n=vr(e,t,9,h);-1==n&&(n=h+g,g+=4,m.push(t)),a.push(n)}const v=[];if(n&&n.length)for(let x=0;x<n.length;x++){const t=n[x];let i=vr(e,t,h,d);-1==i?(i=d+g,g+=4,v.push(t)):i+=4*m.length,a.push(i)}let y=2;if(m.length)for(;y<f;){const e=a[y+0],t=a[y+1];if(t){const n=y+2+e;for(let e=n;e<n+t;e++)a[e]+=4*m.length}y+=2+(e+t)}const _=v.length+m.length;for(let x=9;x<e.length;x+=4){const t=x>=d,n=x>=(t?p:h),i=Vr(e,x),r=Mr(i);let s=Ir(i);Fr(e,x,Er(i,r,s+=t?n?4*m.length:0:4*_+4*(n?m.length:0)))}for(let x=0;x<4*m.length;x++)e.splice(p,0,null),e.splice(h,0,null),h++,d++,p+=2;for(let x=0;x<4*v.length;x++)e.splice(d,0,null),e.push(null),d++,p++;const b=e[3],w=e[2];for(let x=0;x<_;x++){const t=x>=m.length,n=t?x-m.length:x,i=t?v[n]:m[n];let s,a;t?(s=p+4*(l+n),a=h+4*(l+n)):(s=d+4*(u+n),a=9+4*(u+n));let c=t?b:w,f=es(c,i);-1===f?(f=c.length+1,c.push(i,!t&&null)):f+=1;const g=Yr(e,i,t,r||null);Fr(e,a,Er(g,f,s)),Ar(e,a,i),Dr(e,a,null),Rr(e,a,0,o),Fr(e,s,Er(g,f,a)),Ar(e,s,i),Dr(e,s,null),Rr(e,s,0,o)}a[1]=l+v.length,a[0]=u+m.length,Fr(e,0,Er(0,0,d)|(s?16:0))}(r.stylingTemplate,i||null,e,t,n,pr(r))}function js(e,t){const n=Qt();n.stylingTemplate||(n.stylingTemplate=fr(t)),function(e,t,n){const i=e[1];if(-1==Jr(i,n)){i.push(n,-1,!1,null);let r=null,s=null,o=-1;for(let n=0;n<t.length;n++){const i=t[n];"number"==typeof i?o=i:1==o?gr(r=r||e[3],i,!0):2==o&&gr(s=s||e[2],i,t[++n])}}}(n.stylingTemplate,t,e)}function Bs(e,t){const n=Kt(),i=0!=(2&n[_e]);(function(e,n,i,r,s,o,a){let l=0;const u=Qr(e,t||null);if(function(e){return xr(e,0)}(e)&&function(e,t){return e[1][4*u+2]}(e)){const t=8&e[0],s=e[5],o=Or(e),a=zr(e);let c=!1;for(let i=9;i<e.length;i+=4)if(xr(e,i)){const t=Vr(e,i),l=Xr(e,i);if(u!==l){c=!0;continue}const h=Br(e,i),d=jr(e,i),p=4&t?ts(e,l):null,f=Nr(e,i),g=!!(2&t),m=!g||!a;let v=d;i<o&&!qr(v,g)&&(v=jr(e,Ir(t))),g||qr(v,g)||!m||(v=Tr(e,t)),(!r||v)&&(g?br(s,h,!!v,n,null,f):_r(s,h,v,n,p,null,f)),wr(e,i,!1)}if(t){const t=Array.isArray(i)?lt(i):i,n=hr(e),o=n[0];for(let e=1;e<o;e+=2){const i=n[e],o=e+1,a=n[o];if(i){const e=i.buildPlayer(a,r);void 0!==e&&(null!=e&&cr(n,t,s,e,o)&&l++,a&&a.destroy())}else a&&a.destroy()}Ur(e,!1)}ns(e,u,!1),Hr(e,c)}return l})(lr(e+Ne,n),n[Ae],n,i)>0&&go(lt(n),2)}function zs(e,t,n,i,r){let s=null;null!==n&&(s=i?Ze(n)+i:n),yr(lr(e+Ne,Kt()),t,s,!1,r)}function Hs(e,t,n,i){const r=n instanceof rr?n:!!n;yr(lr(e+Ne,Kt()),t,r,!0,i)}function Us(e,t,n,i){if(null!=i)return function(e,t,n,i){throw new Error("unimplemented. Should not be needed by ViewEngine compatibility")}();const r=Kt(),s=et(e,r),o=lr(e+Ne,r);if(pr(s)&&t!==pi){const e=is(o);Ns(r,s.inputs.class,(e.length?e+" ":"")+t)}else!function(e,t,n,i){n=n||null;const r=Qr(e,null),s=e[5],o=t instanceof rr?new Kr(t,s,1):null,a=n instanceof rr?new Kr(n,s,2):null,l=o?t.value:t,u=a?n.value:n,c=zr(e)||l===pi||l===e[6],h=u===pi||u===e[7];if(c&&h)return;e[6]=l,e[7]=u;let d=re,p=!1,f=!1;const g=o?1:0;kr(e,o,1)&&(Pr(e,o,1),f=!0);const m=a?3:0;kr(e,a,3)&&(Pr(e,a,3),f=!0),c||("string"==typeof l?(d=l.split(/\s+/),p=!0):d=l?Object.keys(l):re);const v=l||ie,y=u?Object.keys(u):re,_=u||ie,b=y.length;let w=!1,x=Or(e),C=0;const S=y.length+d.length;for(;x<e.length&&C<S;){const t=C>=b;if(!t&&!h||t&&!c){const n=t?C-b:C,i=t?d[n]:y[n],s=t?!!p||v[i]:_[i],o=t?g:m;if(Br(e,x)===i){const t=jr(e,x),n=Vr(e,x);if(Rr(e,x,o,r),Zr(n,t,s)){Dr(e,x,s),f=f||!!o;const i=Tr(e,n);(null!=t||Zr(n,i,s))&&(wr(e,x,!0),w=!0)}}else{const n=Gr(e,i,x);if(n>0){const t=jr(e,n),i=Vr(e,n);if(Wr(e,x,n),Zr(i,t,s)){const n=Tr(e,i);Dr(e,x,s),(null!=t||Zr(i,n,s))&&(wr(e,x,!0),f=f||!!o,w=!0)}}else{const n=Yr(e,i,t,ts(e,r));f=f||!!o,$r(e,x,t,i,n,s,r,o),w=!0}}}x+=4,C++}for(;x<e.length;){const t=2==(2&Vr(e,x));(!t&&!h||t&&!c)&&qr(jr(e,x),t)&&(wr(e,x,!0),Dr(e,x,null),Rr(e,x,t?g:m,r),w=!0),x+=4}const E=ts(e,r);for(;C<S;){const t=C>=b;if(!t&&!h||t&&!c){const n=t?C-b:C,i=t?d[n]:y[n],s=t?!!p||v[i]:_[i],o=1|Yr(e,i,t,E),a=t?g:m,l=e.length;e.push(o,i,s,0),Rr(e,l,a,r),w=!0}C++}w&&(Hr(e,!0),ns(e,r,!0)),f&&Ur(e,!0)}(o,t,n)}function Gs(e,t){const n=Kt(),i=Di(t,n[Ae]),r=as(e,3,i,null,null);nn(!1),Gi(i,r,n)}function Ws(e,t){if(t!==pi){const n=Kt(),i=Qe(e,n),r=n[Ae];xi(r)?r.setValue(i,Ze(t)):i.textContent=Ze(t)}}function $s(e,t,n){const i=-(t.index-Ne),r=e.data.length-(65535&t.providerIndexes);(e.expandoInstructions||(e.expandoInstructions=[])).push(i,r,n)}function qs(e,t,n,i){const r=Qt();Ys(e,r,t,n),r&&r.attrs&&function(e,t,i,s){let o=r.initialInputs;(void 0===o||e>=o.length)&&(o=function(e,t,n){const i=n.initialInputs||(n.initialInputs=[]);i[e]=null;const r=n.attrs;let s=0;for(;s<r.length;){const n=r[s];if(3===n)break;if(0===n){s+=4;continue}const o=t[n],a=r[s+1];void 0!==o&&(i[e]||(i[e]=[])).push(o,a),s+=2}return i}(e,n.inputs,r));const a=o[e];if(a)for(let n=0;n<a.length;n+=2)t[a[n]]=a[n+1]}(i,t),n.contentQueries&&n.contentQueries(i),rt(n)&&(tt(r.index,e)[Me]=t)}function Ys(e,t,n,i){const r=Je(t,e);zn(n,e),r&&zn(r,e),null!=i.attributes&&3==t.type&&Ts(r,i.attributes)}function Zs(e){const t=Kt()[ye];(t.components||(t.components=[])).push(e.index)}function Ks(e,t,n){n&&(t.exportAs&&(n[t.exportAs]=e),t.template&&(n[""]=e))}function Xs(e,t,n){e.flags=1&e.flags,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Qs(e,t,n,i){e.data.push(n);const r=new qe(i,rt(n),null);e.blueprint.push(r),t.push(r)}function Js(e,t,n){const i=Je(t,e),r=Ss(n.template,n.consts,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery),s=po(e,t.index,os(e,r,null,n.onPush?8:4,e[Oe],e[Oe].createRenderer(i,n)));s[Se]=t,s[Ce]=e[t.index],e[t.index]=s,cn()&&Zs(t)}function eo(e,t,n,i,r){return[r?-1:0,[],n,null,null,e,i,Bi(t,n)]}function to(e,t,n,i,r,s,o,a){const l=Kt(),u=l[ye],c=io(e,r||null,s||null);cn()&&(c.tViews=Es(-1,t,n,i,u.directiveRegistry,u.pipeRegistry,null)),Cs(u,l,o,a);const h=l[xe],d=Qt();zn(Je(d,l),l),h&&(l[xe]=h.addNode(d)),Lt(u,c),nn(!1)}function no(e){const t=io(e,null,null);cn()&&(t.tViews=[]),nn(!1)}function io(e,t,n){const i=Kt(),r=e+Ne,s=i[Ae].createComment(""),o=as(e,0,s,t,n),a=i[r]=eo(i[r],o,i,s);Gi(s,o,i),po(i,e+Ne,a);const l=i[xe];return l&&(a[xe]=l.container()),o}function ro(e){const t=Kt(),n=t[ye];Jt(Ke(n.data,e)),nn(!0),t[e+Ne][Fe]=0,jt(t,n,an())}function so(){let e=Qt();tn()?nn(!1):Jt(e=e.parent);const t=Kt()[e.index],n=t[Fe];for(;n<t[Ve].length;)Li(t,e,n)}function oo(e,t,n){const i=Kt(),r=Qt(),s=2===r.type?r.parent:r,o=i[s.index];let a=function(e,t,n,i){const r=e[Ve];for(let s=n;s<r.length;s++){const n=r[s][ye].id;if(n===i)return r[s];if(!(n<i))break;Li(e,t,s)}return null}(o,s,o[Fe],e);return a?(nn(!0),gn(a,a[ye].node)):(a=os(i,function(e,t,n,i){const r=Kt()[ye],s=i.tViews;return(e>=s.length||null==s[e])&&(s[e]=Es(e,null,t,n,r.directiveRegistry,r.pipeRegistry,null)),s[e]}(e,t,n,s),null,4),o[xe]&&(a[xe]=o[xe].createView()),ls(e,a),gn(a,a[ye].node)),o&&(rn(a)&&Pi(a,o,i,o[Fe],-1),o[Fe]++),rn(a)?3:2}function ao(){const e=Kt(),t=e[Se];rn(e)&&(ss(e),e[_e]&=-2),ss(e),vn(e[be]),Jt(t),nn(!1)}function lo(e){const t=tt(e,Kt());16==(16&t[_e])&&12&t[_e]&&(function(e){const t=e[ye];for(let n=e.length;n<t.blueprint.length;n++)e[n]=t.blueprint[n]}(t),bo(t,t[Me]))}function uo(e,t){const n=vt(Kt())[Se];if(!n.projection){const i=n.projection=new Array(e?e.length+1:1).fill(null),r=i.slice();let s=n.child;for(;null!==s;){const n=e?nr(s,e,t):0,o=s.next;r[n]?r[n].next=s:(i[n]=s,s.next=null),r[n]=s,s=o}}}const co=[];function ho(e,t=0,n){const i=Kt(),r=as(e,1,null,null,n||null);null===r.projection&&(r.projection=t),nn(!1);const s=vt(i);let o=s[Se].projection[t],a=s[be],l=-1;for(;o;){if(1===o.type){const e=vt(a),t=e[Se].projection[o.projection];if(t){co[++l]=o,co[++l]=a,o=t,a=e[be];continue}}else o.flags|=2,Yi(o,r,i,a);null===o.next&&a!==s[be]&&(a=co[l--],o=co[l--]),o=o.next}}function po(e,t,n){const i=e[ye],r=cn();return e[ke]?e[ke][we]=n:r&&(i.childIndex=t),e[ke]=n,n}function fo(e){for(;e&&!(128&e[_e]);)e[_e]|=8,e=e[be];e[_e]|=8,go(e[Me],1)}function go(e,t){const n=0===e.flags;if(e.flags|=t,n&&e.clean==rs){let t;e.clean=new Promise(e=>t=e),e.scheduler(()=>{if(1&e.flags&&(e.flags&=-2,mo(e)),2&e.flags){e.flags&=-3;const t=e.playerHandler;t&&t.flushPlayers()}e.clean=rs,t(null)})}}function mo(e){for(let t=0;t<e.components.length;t++){const n=e.components[t];ds(ct(n),n)}}function vo(e){yo(Bn(e),e)}function yo(e,t){const n=e[Oe];n.begin&&n.begin(),rn(e)&&bo(e,t),bo(e,t),n.end&&n.end()}function _o(e){mo(e[Me])}function bo(e,t){const n=e[ye],i=gn(e,e[Se]),r=n.template,s=n.viewQuery;try{vs(),function(t,n,i){t&&rn(e)&&t(1,i)}(s,0,t),r(ps(e),t),ss(e),function(t,n,i){t&&!rn(e)&&t(2,i)}(s,0,t)}finally{vn(i)}}function wo(e){fo(Bn(e))}function xo(e){const t=Kt();return mi(t,t[Ee]++,e)?e:pi}function Co(e){if(!cn())return;const t=Kt(),n=t[ye];!function(e,t,n){const i=e.expandoInstructions,r=i.length;r>=2&&i[r-2]===t.hostBindings?i[r-1]=i[r-1]+n:i.push(t.hostBindings,n)}(n,$t,e),function(e,t,n){for(let i=0;i<n;i++)t.push(pi),e.blueprint.push(pi),e.data.push(null)}(n,t,e)}function So(e){let t=!1;const n=Kt();let i=n[Ee];for(let s=1;s<e.length;s+=2)mi(n,i++,e[s])&&(t=!0);if(n[Ee]=i,!t)return pi;let r=e[0];for(let s=1;s<e.length;s+=2)r+=Ze(e[s])+e[s+1];return r}function Eo(e,t,n){const i=Kt(),r=mi(i,i[Ee],t);return i[Ee]+=1,r?e+Ze(t)+n:pi}function To(e,t,n,i,r){const s=Kt(),o=vi(s,s[Ee],t,i);return s[Ee]+=2,o?e+Ze(t)+n+Ze(i)+r:pi}function Mo(e,t,n,i,r,s,o){const a=Kt(),l=yi(a,a[Ee],t,i,s);return a[Ee]+=3,l?e+Ze(t)+n+Ze(i)+r+Ze(s)+o:pi}function Io(e,t,n,i,r,s,o,a,l){const u=Kt(),c=_i(u,u[Ee],t,i,s,a);return u[Ee]+=4,c?e+Ze(t)+n+Ze(i)+r+Ze(s)+o+Ze(a)+l:pi}function Oo(e,t,n,i,r,s,o,a,l,u,c){const h=Kt(),d=h[Ee];let p=_i(h,d,t,i,s,a);return p=mi(h,d+4,u)||p,h[Ee]+=5,p?e+Ze(t)+n+Ze(i)+r+Ze(s)+o+Ze(a)+l+Ze(u)+c:pi}function Ao(e,t,n,i,r,s,o,a,l,u,c,h,d){const p=Kt(),f=p[Ee];let g=_i(p,f,t,i,s,a);return g=vi(p,f+4,u,h)||g,p[Ee]+=6,g?e+Ze(t)+n+Ze(i)+r+Ze(s)+o+Ze(a)+l+Ze(u)+c+Ze(h)+d:pi}function Do(e,t,n,i,r,s,o,a,l,u,c,h,d,p,f){const g=Kt(),m=g[Ee];let v=_i(g,m,t,i,s,a);return v=yi(g,m+4,u,h,p)||v,g[Ee]+=7,v?e+Ze(t)+n+Ze(i)+r+Ze(s)+o+Ze(a)+l+Ze(u)+c+Ze(h)+d+Ze(p)+f:pi}function ko(e,t,n,i,r,s,o,a,l,u,c,h,d,p,f,g,m){const v=Kt(),y=v[Ee];let _=_i(v,y,t,i,s,a);return _=_i(v,y+4,u,h,p,g)||_,v[Ee]+=8,_?e+Ze(t)+n+Ze(i)+r+Ze(s)+o+Ze(a)+l+Ze(u)+c+Ze(h)+d+Ze(p)+f+Ze(g)+m:pi}function Po(e,t){const n=Kt(),i=n[ye],r=e+Ne;r>=i.data.length&&(i.data[r]=null),n[r]=t}function Ro(e){return Ke(sn,e)}function Lo(e){return Kt()[Re][e]}function No(e){return Ke(Kt(),e)}function Fo(e,t=St.Default){return e=X(e),In(Qt(),Kt(),e,t)}function Vo(e){return Mn(Qt(),e)}function jo(e,t){const n=Kt(),i=n[ye],r=(n[Re]||(n[Re]=[])).push(e);if(cn()){const e=i.contentQueries||(i.contentQueries=[]);t!==(i.contentQueries.length?i.contentQueries[i.contentQueries.length-2]:-1)&&e.push(t,r-1)}}const Bo=rs;function zo(e){return e?(void 0===e.inputs&&(e.inputs=Fs(e,0)),e.inputs):null}function Ho(){return Kt()}function Uo(e){return e[Te]||(e[Te]=[])}function Go(e){return e[ye].cleanup||(e[ye].cleanup=[])}function Wo(e,t){const n=Vn(e);if(!n)return;const i=n.native,r=n.lView,s=function(e,t){if(!(t=t||Vn(i)))return null;const{lView:n,nodeIndex:r}=t,s=lr(r,n);return hr(s)||dr(s)}(0,n),o=Zn(r);cr(s,o,i,t,0,e),go(o,2)}function $o(e){const t=Vn(e);if(!t)return[];const n=lr(t.nodeIndex,t.lView),i=n?hr(n):null;return i?function(e){const t=[],n=e[0];for(let i=2;i<n;i+=2){const n=e[i];n&&t.push(n)}for(let i=n;i<e.length;i++)t.push(e[i]);return t}(i):[]}const qo="ng";let Yo=!1;function Zo(){Yo||(Yo=!0,Ko("getComponent",$n),Ko("getContext",qn),Ko("getListeners",ii),Ko("getViewComponent",Yn),Ko("getHostElement",ei),Ko("getInjector",Xn),Ko("getRootComponents",Kn),Ko("getDirectives",Qn),Ko("getPlayers",$o),Ko("markDirty",wo))}function Ko(e,t){if(H){let n=H[qo];n||(n=H[qo]={}),n[e]=t}}function Xo(e,t={}){const n=t.rendererFactory||Ci,i=t.sanitizer||null,r=fe(e);r.type!=e&&(r.type=e);const s=Ms(n,t.host||r.selectors[0][0]),o=r.onPush?136:132,a=ea(t.scheduler,t.playerHandler),l=n.createRenderer(s,r),u=os(null,Es(-1,null,1,0,null,null,null),a,o,n,l,void 0,t.injector||null),c=gn(u,null);let h;try{n.begin&&n.begin(),h=Jo(Qo(s,r,u,n,l,i),r,u,a,t.hostFeatures||null),ss(u),u[_e]&=-2,ss(u)}finally{vn(c),n.end&&n.end()}return h}function Qo(e,t,n,i,r,s){Gt=!1,Ut=null,Tt=0,Ht=!0;const o=n[ye],a=os(n,Ss(t.template,t.consts,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery),null,t.onPush?8:4,i,r,s),l=as(0,3,e,null,null);return o.firstTemplatePass&&(Tn(xn(l,n),n,t.type),l.flags=1,Xs(l,n.length,1),Zs(l)),a[Ce]=n[Ne],a[Se]=l,n[Ne]=a}function Jo(e,t,n,i,r){const s=n[ye],o=function(e,t,n){const i=Qt();e.firstTemplatePass&&(n.providersResolver&&n.providersResolver(n),$s(e,i,1),Qs(e,t,n,n.factory));const r=kn(e.data,t,t.length-1,i);return Ys(t,i,r,n),r}(s,n,t);if(i.components.push(o),e[Me]=o,r&&r.forEach(e=>e(o,t)),s.firstTemplatePass&&t.hostBindings){const e=Qt();qt(t),t.hostBindings(1,o,e.index-Ne),qt(null)}return o}function ea(e,t){return{components:[],scheduler:e||gt,clean:Bo,playerHandler:t||null,flags:0}}function ta(e,t){const n=ct(e)[ye],i=n.data.length-1;Rt(i,t.onInit,t.doCheck,n),Lt(n,{directiveStart:i,directiveEnd:i+1})}function na(e){return function(e){return at(e)[Me]}(e).clean}function ia(e){return"function"==typeof e.template}function ra(e){let t=Object.getPrototypeOf(e.type.prototype).constructor;for(;t;){let n=void 0;if(ia(e))n=t.ngComponentDef||t.ngDirectiveDef;else{if(t.ngComponentDef)throw new Error("Directives cannot inherit Components");n=t.ngDirectiveDef}const i=t.ngBaseDef;if(i||n){const t=e;t.inputs=sa(e.inputs),t.declaredInputs=sa(e.declaredInputs),t.outputs=sa(e.outputs)}if(i&&(u(e.inputs,i.inputs),u(e.declaredInputs,i.declaredInputs),u(e.outputs,i.outputs)),n){const t=e.hostBindings,i=n.hostBindings;if(i&&(e.hostBindings=t?(e,n,r)=>{i(e,n,r),t(e,n,r)}:i),ia(e)&&ia(n)){const t=e.viewQuery,i=n.viewQuery;i&&(e.viewQuery=t?(e,n)=>{i(e,n),t(e,n)}:i)}const r=e.contentQueries,s=n.contentQueries;s&&(e.contentQueries=r?e=>{s(e),r(e)}:s);const o=e.contentQueriesRefresh,a=n.contentQueriesRefresh;a&&(e.contentQueriesRefresh=o?(e,t)=>{a(e,t),o(e,t)}:a),u(e.inputs,n.inputs),u(e.declaredInputs,n.declaredInputs),u(e.outputs,n.outputs),e.afterContentChecked=e.afterContentChecked||n.afterContentChecked,e.afterContentInit=e.afterContentInit||n.afterContentInit,e.afterViewChecked=e.afterViewChecked||n.afterViewChecked,e.afterViewInit=e.afterViewInit||n.afterViewInit,e.doCheck=e.doCheck||n.doCheck,e.onDestroy=e.onDestroy||n.onDestroy,e.onInit=e.onInit||n.onInit;const l=n.features;if(l)for(const n of l)n&&n.ngInherit&&n(e);break}{const n=t.prototype;n&&(e.afterContentChecked=e.afterContentChecked||n.afterContentChecked,e.afterContentInit=e.afterContentInit||n.afterContentInit,e.afterViewChecked=e.afterViewChecked||n.afterViewChecked,e.afterViewInit=e.afterViewInit||n.afterViewInit,e.doCheck=e.doCheck||n.doCheck,e.onDestroy=e.onDestroy||n.onDestroy,e.onInit=e.onInit||n.onInit)}t=Object.getPrototypeOf(t)}}function sa(e){return e===ie?{}:e===re?[]:e}const oa="__ngOnChanges_";function aa(e){const t=e.declaredInputs,n=e.inputs,i=e.type.prototype;for(const r in t)if(t.hasOwnProperty(r)){const e=n[r],s=t[r],o=oa+e;let a=void 0,l=i;for(;!a&&l&&Object.getPrototypeOf(l)!==Object.getPrototypeOf(Object.prototype);)a=Object.getOwnPropertyDescriptor(l,e),l=Object.getPrototypeOf(l);const u=a&&a.set;Object.defineProperty(i,e,{get:a&&a.get||(u?void 0:function(){return this[o]}),set(e){let t=this[oa];t||(t={},Object.defineProperty(this,oa,{value:t,writable:!0}));const n=!this.hasOwnProperty(o),i=t[s];i?i.currentValue=e:t[s]=new ui(this[o],e,n),n?Object.defineProperty(this,o,{value:e,writable:!0}):this[o]=e,u&&u.call(this,e)},configurable:!1})}null!=e.onInit&&(e.onInit=la(e.onInit)),e.doCheck=la(e.doCheck)}function la(e){return function(){const t=this[oa];null!=t&&(this.ngOnChanges(t),this[oa]=null),e&&e.apply(this)}}function ua(...e){}aa.ngInherit=!0;const ca="__source",ha=new Object,da=ha,pa=new x("INJECTOR");class fa{get(e,t=ha){if(t===ha)throw new Error(`NullInjectorError: No provider for ${Y(e)}!`);return t}}class ga{static create(e,t){return Array.isArray(e)?new Ia(e,t):new Ia(e.providers,e.parent,e.name||null)}}ga.THROW_IF_NOT_FOUND=ha,ga.NULL=new fa,ga.ngInjectableDef=y({providedIn:"any",factory:()=>Dt(pa)}),ga.__NG_ELEMENT_ID__=(()=>va());const ma=function(){return function(){const e=Qt();return new Ln(e,Kt())}()},va=ua,ya=function(e){return e},_a=[],ba=ya,wa=function(){return Array.prototype.slice.call(arguments)},xa=l({provide:String,useValue:l}),Ca="ngTokenPath",Sa="ngTempTokenPath",Ea=ga.NULL,Ta=/\n/gm,Ma="\u0275";class Ia{constructor(e,t=Ea,n=null){this.parent=t,this.source=n;const i=this._records=new Map;i.set(ga,{token:ga,fn:ya,deps:_a,value:this,useNew:!1}),i.set(pa,{token:pa,fn:ya,deps:_a,value:this,useNew:!1}),function e(t,n){if(n)if((n=X(n))instanceof Array)for(let i=0;i<n.length;i++)e(t,n[i]);else{if("function"==typeof n)throw Da("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw Da("Unexpected provider",n);{let e=X(n.provide);const i=function(e){const t=function(e){let t=_a;const n=e.deps;if(n&&n.length){t=[];for(let e=0;e<n.length;e++){let i=6,r=X(n[e]);if(r instanceof Array)for(let e=0,t=r;e<t.length;e++){const n=t[e];n instanceof bt||n==bt?i|=1:n instanceof xt||n==xt?i&=-3:n instanceof wt||n==wt?i&=-5:r=n instanceof _t?n.token:X(n)}t.push({token:r,options:i})}}else if(e.useExisting)t=[{token:X(e.useExisting),options:6}];else if(!(n||xa in e))throw Da("'deps' required",e);return t}(e);let n=ya,i=_a,r=!1,s=X(e.provide);if(xa in e)i=e.useValue;else if(e.useFactory)n=e.useFactory;else if(e.useExisting);else if(e.useClass)r=!0,n=X(e.useClass);else{if("function"!=typeof s)throw Da("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",e);r=!0,n=s}return{deps:t,fn:n,useNew:r,value:i}}(n);if(!0===n.multi){let i=t.get(e);if(i){if(i.fn!==wa)throw Oa(e)}else t.set(e,i={token:n.provide,deps:[],useNew:!1,fn:wa,value:_a});i.deps.push({token:e=n,options:6})}const r=t.get(e);if(r&&r.fn==wa)throw Oa(e);t.set(e,i)}}}(i,e)}get(e,t,n=St.Default){const i=this._records.get(e);try{return function e(t,n,i,r,s,o){try{return function(t,n,i,r,s,o){let a;if(!n||o&St.SkipSelf)o&St.Self||(a=r.get(t,s,St.Default));else{if((a=n.value)==ba)throw Error(Ma+"Circular dependency");if(a===_a){n.value=ba;let t=void 0,s=n.useNew,o=n.fn,l=n.deps,u=_a;if(l.length){u=[];for(let t=0;t<l.length;t++){const n=l[t],s=n.options,o=2&s?i.get(n.token):void 0;u.push(e(n.token,o,i,o||4&s?r:Ea,1&s?null:ga.THROW_IF_NOT_FOUND,St.Default))}}n.value=a=s?new o(...u):o.apply(t,u)}}return a}(t,n,i,r,s,o)}catch(a){throw a instanceof Error||(a=new Error(a)),(a[Sa]=a[Sa]||[]).unshift(t),n&&n.value==ba&&(n.value=_a),a}}(e,i,this._records,this.parent,t,n)}catch(r){const t=r[Sa];throw e[ca]&&t.unshift(e[ca]),r.message=Aa("\n"+r.message,t,this.source),r[Ca]=t,r[Sa]=null,r}}toString(){const e=[];return this._records.forEach((t,n)=>e.push(Y(n))),`StaticInjector[${e.join(", ")}]`}}function Oa(e){return Da("Cannot mix multi providers and regular providers",e)}function Aa(e,t,n=null){e=e&&"\n"===e.charAt(0)&&e.charAt(1)==Ma?e.substr(2):e;let i=Y(t);if(t instanceof Array)i=t.map(Y).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let i=t[n];e.push(n+":"+("string"==typeof i?JSON.stringify(i):Y(i)))}i=`{${e.join(", ")}}`}return`StaticInjectorError${n?"("+n+")":""}[${i}]: ${e.replace(Ta,"\n  ")}`}function Da(e,t){return new Error(Aa(e,t))}const ka=new x("The presence of this token marks an injector as being the root injector."),Pa={},Ra={},La=[];let Na=void 0;function Fa(){return void 0===Na&&(Na=new fa),Na}function Va(e,t=null,n=null){return t=t||Fa(),new ja(e,n,t)}class ja{constructor(e,t,n){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this.destroyed=!1;const i=[];Ua([e],e=>this.processInjectorType(e,[],i)),t&&Ua(t,n=>this.processProvider(n,e,t)),this.records.set(pa,Ha(void 0,this)),this.isRootInjector=this.records.has(ka),this.injectorDefTypes.forEach(e=>this.get(e))}destroy(){this.assertNotDestroyed(),this.destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=da,n=St.Default){this.assertNotDestroyed();const i=It(this);try{if(!(n&St.SkipSelf)){let t=this.records.get(e);if(void 0===t){const n=("function"==typeof(r=e)||"object"==typeof r&&r instanceof x)&&b(e);n&&this.injectableDefInScope(n)&&(t=Ha(Ba(e),Pa),this.records.set(e,t))}if(void 0!==t)return this.hydrate(e,t)}return(n&St.Self?Fa():this.parent).get(e,t)}finally{It(i)}var r}assertNotDestroyed(){if(this.destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,n){if(!(e=X(e)))return;let i=w(e);const r=null==i&&e.ngModule||void 0,s=void 0===r?e:r,o=-1!==n.indexOf(s),a=void 0!==r&&e.providers||La;if(void 0!==r&&(i=w(r)),null==i)return;if(this.injectorDefTypes.add(s),this.records.set(s,Ha(i.factory,Pa)),null!=i.imports&&!o){n.push(s);try{Ua(i.imports,e=>this.processInjectorType(e,t,n))}finally{}}const l=i.providers;if(null!=l&&!o){const t=e;Ua(l,e=>this.processProvider(e,t,l))}const u=e.ngModule;Ua(a,e=>this.processProvider(e,u,a))}processProvider(e,t,n){let i=Wa(e=X(e))?e:X(e&&e.provide);const r=function(e,t,n){let i=za(e,t,n);return Ga(e)?Ha(void 0,e.useValue):Ha(i,Pa)}(e,t,n);if(Wa(e)||!0!==e.multi){const e=this.records.get(i);if(e&&void 0!==e.multi)throw new Error(`Mixed multi-provider for ${Y(i)}`)}else{let t=this.records.get(i);if(t){if(void 0===t.multi)throw new Error(`Mixed multi-provider for ${i}.`)}else(t=Ha(void 0,Pa,!0)).factory=(()=>Pt(t.multi)),this.records.set(i,t);i=e,t.multi.push(e)}this.records.set(i,r)}hydrate(e,t){if(t.value===Ra)throw new Error(`Cannot instantiate cyclic dependency! ${Y(e)}`);var n;return t.value===Pa&&(t.value=Ra,t.value=t.factory()),"object"==typeof t.value&&t.value&&"object"==typeof(n=t.value)&&null!=n&&n.ngOnDestroy&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||"root"===e.providedIn&&this.isRootInjector:this.injectorDefTypes.has(e.providedIn))}}function Ba(e){const t=b(e);if(null===t){const t=w(e);if(null!==t)return t.factory;if(e instanceof x)throw new Error(`Token ${Y(e)} is missing an ngInjectableDef definition.`);if(e instanceof Function){const t=e.length;if(t>0){const n=new Array(t).fill("?");throw new Error(`Can't resolve all parameters for ${Y(e)}: (${n.join(", ")}).`)}return()=>new e}throw new Error("unreachable")}return t.factory}function za(e,t,n){let i=void 0;if(Wa(e))return Ba(X(e));if(Ga(e))i=(()=>X(e.useValue));else if((r=e)&&r.useExisting)i=(()=>Dt(X(e.useExisting)));else if(e&&e.useFactory)i=(()=>e.useFactory(...Pt(e.deps||[])));else{const r=X(e&&(e.useClass||e.provide));if(!r){let i="";throw t&&n&&(i=` - only instances of Provider and Type are allowed, got: [${n.map(t=>t==e?"?"+e+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${Y(t)}'`+i)}if(!e.deps)return Ba(r);i=(()=>new r(...Pt(e.deps)))}var r;return i}function Ha(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Ua(e,t){e.forEach(e=>Array.isArray(e)?Ua(e,t):t(e))}function Ga(e){return e&&"object"==typeof e&&xa in e}function Wa(e){return"function"==typeof e}function $a(e,t,n,i,r){if(e=X(e),Array.isArray(e))for(let s=0;s<e.length;s++)$a(e[s],t,n,i,r);else{const s=Kt();let o=Wa(e)?e:X(e.provide),a=za(e);const l=Qt(),u=65535&l.providerIndexes,c=l.directiveStart,h=l.providerIndexes>>16;if(Wa(e)||!e.multi){const e=new qe(a,r,Fo),i=Ya(o,t,r?u:u+h,c);-1==i?(Tn(xn(l,s),s,o),t.push(o),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=65536),n.push(e),s.push(e)):(n[i]=e,s[i]=e)}else{const e=Ya(o,t,u+h,c),d=Ya(o,t,u,u+h),p=e>=0&&n[e],f=d>=0&&n[d];if(r&&!f||!r&&!p){Tn(xn(l,s),s,o);const e=function(e,t,n,i,r){const s=new qe(e,n,Fo);return s.multi=[],s.index=t,s.componentProviders=0,qa(s,r,i&&!n),s}(r?Ka:Za,n.length,r,i,a);!r&&f&&(n[d].providerFactory=e),t.push(o),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=65536),n.push(e),s.push(e)}else qa(n[r?d:e],a,!r&&i);!r&&i&&f&&n[d].componentProviders++}}}function qa(e,t,n){e.multi.push(t),n&&e.componentProviders++}function Ya(e,t,n,i){for(let r=n;r<i;r++)if(t[r]===e)return r;return-1}function Za(e,t,n,i){return Xa(this.multi,[])}function Ka(e,t,n,i){const r=this.multi;let s;if(this.providerFactory){const e=this.providerFactory.componentProviders,o=kn(t,n,this.providerFactory.index,i);Xa(r,s=o.slice(0,e));for(let t=e;t<o.length;t++)s.push(o[t])}else Xa(r,s=[]);return s}function Xa(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Qa(e,t=[]){return n=>{n.providersResolver=(n=>(function(e,t,n){const i=Kt()[ye];if(i.firstTemplatePass){const r=rt(e);$a(n,i.data,i.blueprint,r,!0),$a(t,i.data,i.blueprint,r,!1)}})(n,e,t))}}class Ja{}class el{}function tl(e){const t=Error(`No component factory found for ${Y(e)}. Did you add it to @NgModule.entryComponents?`);return t[nl]=e,t}const nl="ngComponent";class il{resolveComponentFactory(e){throw tl(e)}}class rl{}rl.NULL=new il;class sl{constructor(e,t,n){this._parent=t,this._ngModule=n,this._factories=new Map;for(let i=0;i<e.length;i++){const t=e[i];this._factories.set(t.componentType,t)}}resolveComponentFactory(e){let t=this._factories.get(e);if(!t&&this._parent&&(t=this._parent.resolveComponentFactory(e)),!t)throw tl(e);return new ol(t,this._ngModule)}}class ol extends el{constructor(e,t){super(),this.factory=e,this.ngModule=t,this.selector=e.selector,this.componentType=e.componentType,this.ngContentSelectors=e.ngContentSelectors,this.inputs=e.inputs,this.outputs=e.outputs}create(e,t,n,i){return this.factory.create(e,t,n,i||this.ngModule)}}class al{}class ll{}class ul{constructor(e,t,n){this._context=t,this._componentIndex=n,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null,this._lView=e}get rootNodes(){return null==this._lView[Ce]?function e(t,n,i){let r=n.child;for(;r;)i.push(Je(r,t)),4===r.type&&e(t,r,i),r=r.next;return i}(this._lView,this._lView[Se],[]):[]}get context(){return this._context?this._context:this._lookUpContext()}get destroyed(){return 64==(64&this._lView[_e])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const e=this._viewContainerRef.indexOf(this);e>-1&&this._viewContainerRef.detach(e),this._viewContainerRef=null}Fi(this._lView)}onDestroy(e){var t,n;n=e,Uo(t=this._lView).push(n),t[ye].firstTemplatePass&&Go(t).push(t[Te].length-1,null)}markForCheck(){fo(this._lView)}detach(){this._lView[_e]&=-17}reattach(){this._lView[_e]|=16}detectChanges(){yo(this._lView,this.context)}checkNoChanges(){!function(e){ln(!0);try{vo(e)}finally{ln(!1)}}(this.context)}attachToViewContainerRef(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}detachFromAppRef(){this._appRef=null}attachToAppRef(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}_lookUpContext(){return this._context=this._lView[be][this._componentIndex]}}class cl extends ul{constructor(e){super(e,null,-1),this._view=e}detectChanges(){_o(this._view)}checkNoChanges(){!function(e){ln(!0);try{_o(e)}finally{ln(!1)}}(this._view)}get context(){return null}}let hl,dl,pl;function fl(e,t,n){return hl||(hl=class extends e{}),new hl(Je(t,n))}function gl(e,t,n,i){if(dl||(dl=class extends e{constructor(e,t,n,i,r,s){super(),this._declarationParentView=e,this.elementRef=t,this._tView=n,this._renderer=i,this._queries=r,this._injectorIndex=s}createEmbeddedView(e,t,n,i,r){const s=function(e,t,n,i,r,s){const o=tn(),a=Qt();nn(!0),Jt(null);const l=os(n,e,t,4);return l[Le]=n,r&&(l[xe]=r.createView()),ls(-1,l),e.firstTemplatePass&&(e.node.injectorIndex=s),nn(o),Jt(a),l}(this._tView,e,this._declarationParentView,0,this._queries,this._injectorIndex);t&&Pi(s,t,i,r,n.index),cs(s,this._tView,e);const o=new ul(s,e,-1);return o._tViewNode=s[Se],o}}),0===n.type){const e=i[n.index];return new dl(i,fl(t,n,i),n.tViews,Kt()[Ae],e[xe],n.injectorIndex)}return null}function ml(e,t,n){if(it(e)){const i=e.directiveStart,r=tt(e.index,t);return new ul(r,n,i)}if(3===e.type){const e=vt(t);return new ul(e,e[Me],-1)}return null}class vl{constructor(e){this.nativeElement=e}}vl.__NG_ELEMENT_ID__=(()=>_l(vl));const yl=function(e){return fl(e,Qt(),Kt())},_l=ua;class bl{constructor(e,t,n,i,r,s){this.id=e,this.templateUrl=t,this.slotCount=n,this.encapsulation=i,this.styles=r,this.animations=s}}class wl{}class xl{}class Cl{}class Sl{}const El=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}();class Tl{}Tl.__NG_ELEMENT_ID__=(()=>Il());const Ml=function(){return function(e){const t=Kt()[Ae];if(xi(t))return t;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}()},Il=ua,Ol=function(){var e={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return e[e.NONE]="NONE",e[e.HTML]="HTML",e[e.STYLE]="STYLE",e[e.SCRIPT]="SCRIPT",e[e.URL]="URL",e[e.RESOURCE_URL]="RESOURCE_URL",e}();class Al{}class Dl{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const kl=new Dl("7.2.0");function Pl(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const Rl=new x("ROOT_CONTEXT_TOKEN",{providedIn:"root",factory:()=>ea(Dt(Ll))}),Ll=new x("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>gt}),Nl={};class Fl extends el{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors[0][0],this.ngContentSelectors=[]}get inputs(){return Pl(this.componentDef.inputs)}get outputs(){return Pl(this.componentDef.outputs)}create(e,t,n,i){const r=void 0===n,s=(i=i||this.ngModule)?function(e,t){return{get:(n,i)=>{const r=e.get(n,Nl);return r!==Nl||i===Nl?r:t.get(n,i)}}}(e,i.injector):e,o=s.get(Sl,Ci),a=s.get(Al,null),l=r?xs(this.selector,o.createRenderer(null,this.componentDef)):Ms(o,n),u=this.componentDef.onPush?136:132,c=r?ea():s.get(Rl),h=o.createRenderer(l,this.componentDef);n&&l&&(xi(h)?h.setAttribute(l,"ng-version",kl.full):l.setAttribute("ng-version",kl.full));const d=os(null,Es(-1,null,1,0,null,null,null),c,u,o,h,a,s),p=gn(d,null);let f,g;try{o.begin&&o.begin();const e=Qo(l,this.componentDef,d,o,h);if(g=et(0,d),t){let e=0;const n=d[ye],i=g.projection=[];for(let r=0;r<t.length;r++){const s=t[r];let o=null,a=null;for(let t=0;t<s.length;t++){n.firstTemplatePass&&(n.expandoStartIndex++,n.blueprint.splice(++e+Ne,0,null),n.data.splice(e+Ne,0,null),d.splice(e+Ne,0,null));const i=as(e,3,s[t],null,null);a?a.next=i:o=i,a=i}i.push(o)}}f=Jo(e,this.componentDef,d,c,[ta]),po(d,Ne,e),ss(d)}finally{vn(p),o.end&&o.end()}const m=new Vl(this.componentType,f,fl(vl,g,d),d,g);return r&&(m.hostView._tViewNode.child=g),m}}class Vl extends Ja{constructor(e,t,n,i,r){super(),this.location=n,this._rootLView=i,this._tNode=r,this.destroyCbs=[],this.instance=t,this.hostView=this.changeDetectorRef=new cl(i),this.hostView._tViewNode=ls(-1,i),this.componentType=e}get injector(){return new Ln(this._tNode,this._rootLView)}destroy(){this.destroyCbs.forEach(e=>e()),this.destroyCbs=null,this.hostView.destroy()}onDestroy(e){this.destroyCbs.push(e)}}let jl=!0,Bl=!1;function zl(){return Bl=!0,jl}function Hl(){if(Bl)throw new Error("Cannot enable prod mode after platform setup.");jl=!1}class Ul{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e),this.inertBodyElement=this.inertDocument.createElement("body"),e.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(i){return null}const t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(void 0);const n=t.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(e){e="<body><remove></remove>"+e+"</body>";try{const n=(new window.DOMParser).parseFromString(e,"text/html").body;return n.removeChild(n.firstChild),n}catch(t){return null}}getInertBodyElement_InertDocument(e){const t=this.inertDocument.createElement("template");return"content"in t?(t.innerHTML=e,t):(this.inertBodyElement.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}stripCustomNsAttrs(e){const t=e.attributes;for(let i=t.length-1;0<i;i--){const n=t.item(i).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||e.removeAttribute(n)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Gl=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,Wl=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function $l(e){return(e=String(e)).match(Gl)||e.match(Wl)?e:(zl()&&console.warn(`WARNING: sanitizing unsafe URL value ${e} (see http://g.co/ng/security#xss)`),"unsafe:"+e)}function ql(e){return(e=String(e)).split(",").map(e=>$l(e.trim())).join(", ")}function Yl(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function Zl(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const Kl=Yl("area,br,col,hr,img,wbr"),Xl=Yl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ql=Yl("rp,rt"),Jl=Zl(Ql,Xl),eu=Zl(Kl,Zl(Xl,Yl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Zl(Ql,Yl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Jl),tu=Yl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),nu=Yl("srcset"),iu=Zl(tu,nu,Yl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"));class ru{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!eu.hasOwnProperty(t))return this.sanitizedSomething=!0,!1;this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let i=0;i<n.length;i++){const e=n.item(i),t=e.name,r=t.toLowerCase();if(!iu.hasOwnProperty(r)){this.sanitizedSomething=!0;continue}let s=e.value;tu[r]&&(s=$l(s)),nu[r]&&(s=ql(s)),this.buf.push(" ",t,'="',au(s),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();eu.hasOwnProperty(t)&&!Kl.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(au(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const su=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ou=/([^\#-~ |!])/g;function au(e){return e.replace(/&/g,"&amp;").replace(su,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(ou,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let lu;function uu(e,t){let n=null;try{lu=lu||new Ul(e);let i=t?String(t):"";n=lu.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=n.innerHTML,n=lu.getInertBodyElement(i)}while(i!==s);const o=new ru,a=o.sanitizeChildren(cu(n)||n);return zl()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content (see http://g.co/ng/security#xss)."),a}finally{if(n){const e=cu(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}function cu(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}const hu={marker:"element"},du={marker:"comment"},pu="\ufffd",fu=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,gu=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,mu=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,vu=/\ufffd(\d+):?\d*\ufffd/gi,yu=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,_u=/\[(\ufffd.+?\ufffd?)\]/g,bu=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,wu=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g;function xu(e){if(!e)return[];let t=0;const n=[],i=[],r=/[{}]/g;let s;for(r.lastIndex=0;s=r.exec(e);){const r=s.index;if("}"==s[0]){if(n.pop(),0==n.length){const n=e.substring(t,r);fu.test(n)?i.push(Cu(n)):n&&i.push(n),t=r+1}}else{if(0==n.length){const n=e.substring(t,r);i.push(n),t=r+1}n.push("{")}}const o=e.substring(t);return""!=o&&i.push(o),i}function Cu(e){const t=[],n=[];let i=1,r=0;const s=xu(e=e.replace(fu,function(e,t,n){return i="select"===n?0:1,r=parseInt(t.substr(1),10),""}));for(let l=0;l<s.length;){let e=s[l++].trim();1===i&&(e=e.replace(/\s*(?:=)?(\w+)\s*/,"$1")),e.length&&t.push(e);const r=xu(s[l++]);r.length&&n.push(r)}return o=t.indexOf("other"),a='Missing key "other" in ICU statement.',o<=-1&&function(e){throw new Error(`ASSERTION ERROR: ${e}`)}(a),{type:i,mainBinding:r,cases:t,values:n};var o,a}function Su(e){let t,n,i="",r=0,s=!1;for(;null!==(t=gu.exec(e));)s?t[0]===`${pu}/*${n}${pu}`&&(r=t.index,s=!1):(i+=e.substring(r,t.index+t[0].length),n=t[1],s=!0);return i+e.substr(r)}function Eu(e,t,n,i=null){const r=[null,null],s=e.split(vu);let o=0;for(let a=0;a<s.length;a++){const e=s[a];if(1&a){const t=parseInt(e,10);r.push(-1-t),o|=Ou(t)}else""!==e&&r.push(e)}return r.push(t<<2|(n?1:0)),n&&r.push(n,i),r[0]=o,r[1]=r.length-2,r}function Tu(e,t=0){let n;t|=Ou(e.mainBinding);for(let i=0;i<e.values.length;i++){const r=e.values[i];for(let e=0;e<r.length;e++){const i=r[e];if("string"==typeof i)for(;n=vu.exec(i);)t|=Ou(parseInt(n[1],10));else t=Tu(i,t)}}return t}const Mu=[];let Iu=-1;function Ou(e){return 1<<Math.min(e,31)}const Au=[];function Du(e,t,n){const i=Kt()[ye];Mu[++Iu]=e,i.firstTemplatePass&&null===i.data[e+Ne]&&function(e,t,n,i){const r=Kt(),s=e.blueprint.length-Ne,o=Qt(),a=tn()?Qt():o&&o.parent;let l=a&&a!==r[Se]?a.index-Ne:t,u=0;Au[u]=l;const c=[];t>0&&o!==a&&c.push(o.index<<3|0);const h=[],d=[],p=function(e,t){if("number"!=typeof t)return Su(e);{const n=e.indexOf(`:${t}${pu}`)+2+t.toString().length,i=e.search(new RegExp(`${pu}\\/\\*\\d+:${t}${pu}`));return Su(e.substring(n,i))}}(n,i).split(mu);for(let f=0;f<p.length;f++){let t=p[f];if(1&f)if("/"===t.charAt(0)){if("#"===t.charAt(1)){const e=parseInt(t.substr(2),10);l=Au[--u],c.push(e<<3|5)}}else{const e=parseInt(t.substr(1),10);c.push(e<<3|0,l<<17|1),"#"===t.charAt(0)&&(Au[++u]=l=e)}else{const n=t.split(yu);for(let i=0;i<n.length;i++)if(t=n[i],1&i){us(r);const n=e.blueprint.length-1-Ne;c.push(du,"",l<<17|1);const i=Cu(t.substr(1,t.length-2)),s=Tu(i);Wu(d,i,n,n);const o=d.length-1;h.push(Ou(i.mainBinding),3,-1-i.mainBinding,n<<2|2,o,s,2,n<<2|3,o)}else if(""!==t){const n=t.match(vu);us(r),c.push(n?"":t,l<<17|1),n&&mt(Eu(t,e.blueprint.length-1-Ne),h)}}}e.data[t+Ne]={vars:e.blueprint.length-Ne-s,expandoStartIndex:s,create:c,update:h,icus:d.length?d:null}}(i,e,t,n)}function ku(e,t,n){const i=Kt();n||(n=t),n===t&&e!==t.child?(e.next=t.child,t.child=e):n!==t&&e!==n.next?(e.next=n.next,n.next=e):e.next=null,t!==i[Se]&&(e.parent=t),Gi(Je(e,i),e,i);const r=i[e.index];return 0!==e.type&&st(r)&&Gi(r[je],e,i),e}function Pu(e,t){const n={};let i=e.replace(_u,(e,t)=>{if(n[t]||(n[t]=t.split("|")),!n[t].length)throw new Error(`i18n postprocess: unmatched placeholder - ${t}`);return n[t].shift()});if(Object.keys(n).some(e=>!!n[e].length))throw new Error(`i18n postprocess: unmatched values - ${JSON.stringify(n)}`);return Object.keys(t).length?i=(i=i.replace(bu,(e,n,i,r,s,o)=>t.hasOwnProperty(i)?`${n}${t[i]}${o}`:e)).replace(wu,(e,n)=>{if(t.hasOwnProperty(n)){const i=t[n];if(!i.length)throw new Error(`i18n postprocess: unmatched ICU - ${e} with key: ${n}`);return i.shift()}return e}):i}function Ru(){!function(e){const t=Kt(),n=Mu[Iu--],i=e.data[n+Ne],r=Qt(),s=Lu(n,i.create,i.expandoStartIndex,t);for(let o=n+1;o<=r.index-Ne;o++)-1===s.indexOf(o)&&Nu(o,t)}(Kt()[ye])}function Lu(e,t,n,i){const r=Kt()[Ae];let s=null,o=null;const a=[];for(let l=0;l<t.length;l++){const u=t[l];if("string"==typeof u)o=s,s=as(n++,3,Di(u,r),null,null),nn(!1);else if("number"==typeof u)switch(7&u){case 1:const n=u>>>17;let r;o=ku(s,r=n===e?i[Se]:et(n,i),o),r.next=null;break;case 0:const c=u>>>3;a.push(c),o=s,(s=et(c,i))&&(Jt(s),3===s.type&&nn(!0));break;case 5:o=s=et(u>>>3,i),Jt(s),nn(!1);break;case 4:As(u>>>3,t[++l],t[++l]);break;default:throw new Error(`Unable to determine the type of mutate operation for "${u}"`)}else switch(u){case du:const e=t[++l],a=r.createComment(e);o=s,s=as(n++,5,a,null,null),zn(a,i),s.activeCaseIndex=null,nn(!1);break;case hu:const c=t[++l];o=s,s=as(n++,3,r.createElement(c),c,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${u}"`)}}return nn(!1),a}function Nu(e,t){const n=et(e,t);qi(n,Qe(e,t)||null,t),n.detached=!0;const i=No(e);if(st(i)){const e=i;0!==n.type&&qi(n,e[je]||null,t),e[Be]=null}}function Fu(e,t,n){Du(e,t,n),Ru()}function Vu(e,t){const n=Kt()[ye];n.firstTemplatePass&&null===n.data[e+Ne]&&function(e,t,n){const i=Qt().index-Ne,r=[];for(let s=0;s<n.length;s+=2){const e=n[s],t=n[s+1].split(yu);for(let n=0;n<t.length;n++){const s=t[n];1&n||""!==s&&(s.match(vu)?mt(Eu(s,i,e),r):As(i,e,s))}}e.data[t+Ne]=r}(n,e,t)}let ju=0,Bu=0;function zu(e){e!==pi&&(ju|=1<<Bu),Bu++}function Hu(e){if(Bu){const t=Kt(),n=t[ye].data[e+Ne];let i,r=null;Array.isArray(n)?i=n:(i=n.update,r=n.icus),function e(t,n,i,r,s,o=!1){let a=!1;for(let l=0;l<t.length;l++){const u=t[l],c=t[++l];if(o||u&r){let o="";for(let u=l+1;u<=l+c;u++){const l=t[u];if("string"==typeof l)o+=l;else if("number"==typeof l)if(l<0)o+=Ze(s[i-l]);else{const c=l>>>2;switch(3&l){case 1:As(c,t[++u],o,t[++u]);break;case 0:Ws(c,o);break;case 2:let h=t[++u],d=n[h],p=et(c,s);if(null!==p.activeCaseIndex){const e=d.remove[p.activeCaseIndex];for(let t=0;t<e.length;t++){const i=e[t];switch(7&i){case 3:Nu(i>>>3,s);break;case 6:const r=et(e[t+1]>>>3,s).activeCaseIndex;null!==r&&mt(n[i>>>3].remove[r],e)}}}const f=Gu(d,o);p.activeCaseIndex=-1!==f?f:null,Lu(-1,d.create[f],d.expandoStartIndex,s),a=!0;break;case 3:d=n[h=t[++u]],p=et(c,s),e(d.update[p.activeCaseIndex],n,i,r,s,a)}}}}l+=c}}(i,r,t[Ee]-Bu-1,ju,t),ju=0,Bu=0}}const Uu=function(){var e={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return e[e.Zero]="Zero",e[e.One]="One",e[e.Two]="Two",e[e.Few]="Few",e[e.Many]="Many",e[e.Other]="Other",e}();function Gu(e,t){let n=e.cases.indexOf(t);if(-1===n)switch(e.type){case 1:{const i=function(e,n){switch(function(e,t){"string"==typeof t&&(t=parseInt(t,10));const n=t,i=n.toString().replace(/^[^.]*\.?/,""),r=Math.floor(Math.abs(n)),s=i.length,o=parseInt(i,10),a=parseInt(n.toString().replace(/^[^.]*\.?|0+$/g,""),10)||0;switch(e.split("-")[0].toLowerCase()){case"af":case"asa":case"az":case"bem":case"bez":case"bg":case"brx":case"ce":case"cgg":case"chr":case"ckb":case"ee":case"el":case"eo":case"es":case"eu":case"fo":case"fur":case"gsw":case"ha":case"haw":case"hu":case"jgo":case"jmc":case"ka":case"kk":case"kkj":case"kl":case"ks":case"ksb":case"ky":case"lb":case"lg":case"mas":case"mgo":case"ml":case"mn":case"nb":case"nd":case"ne":case"nn":case"nnh":case"nyn":case"om":case"or":case"os":case"ps":case"rm":case"rof":case"rwk":case"saq":case"seh":case"sn":case"so":case"sq":case"ta":case"te":case"teo":case"tk":case"tr":case"ug":case"uz":case"vo":case"vun":case"wae":case"xog":return 1===n?Uu.One:Uu.Other;case"ak":case"ln":case"mg":case"pa":case"ti":return n===Math.floor(n)&&n>=0&&n<=1?Uu.One:Uu.Other;case"am":case"as":case"bn":case"fa":case"gu":case"hi":case"kn":case"mr":case"zu":return 0===r||1===n?Uu.One:Uu.Other;case"ar":return 0===n?Uu.Zero:1===n?Uu.One:2===n?Uu.Two:n%100===Math.floor(n%100)&&n%100>=3&&n%100<=10?Uu.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=99?Uu.Many:Uu.Other;case"ast":case"ca":case"de":case"en":case"et":case"fi":case"fy":case"gl":case"it":case"nl":case"sv":case"sw":case"ur":case"yi":return 1===r&&0===s?Uu.One:Uu.Other;case"be":return n%10==1&&n%100!=11?Uu.One:n%10===Math.floor(n%10)&&n%10>=2&&n%10<=4&&!(n%100>=12&&n%100<=14)?Uu.Few:n%10==0||n%10===Math.floor(n%10)&&n%10>=5&&n%10<=9||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=14?Uu.Many:Uu.Other;case"br":return n%10==1&&n%100!=11&&n%100!=71&&n%100!=91?Uu.One:n%10==2&&n%100!=12&&n%100!=72&&n%100!=92?Uu.Two:n%10===Math.floor(n%10)&&(n%10>=3&&n%10<=4||n%10==9)&&!(n%100>=10&&n%100<=19||n%100>=70&&n%100<=79||n%100>=90&&n%100<=99)?Uu.Few:0!==n&&n%1e6==0?Uu.Many:Uu.Other;case"bs":case"hr":case"sr":return 0===s&&r%10==1&&r%100!=11||o%10==1&&o%100!=11?Uu.One:0===s&&r%10===Math.floor(r%10)&&r%10>=2&&r%10<=4&&!(r%100>=12&&r%100<=14)||o%10===Math.floor(o%10)&&o%10>=2&&o%10<=4&&!(o%100>=12&&o%100<=14)?Uu.Few:Uu.Other;case"cs":case"sk":return 1===r&&0===s?Uu.One:r===Math.floor(r)&&r>=2&&r<=4&&0===s?Uu.Few:0!==s?Uu.Many:Uu.Other;case"cy":return 0===n?Uu.Zero:1===n?Uu.One:2===n?Uu.Two:3===n?Uu.Few:6===n?Uu.Many:Uu.Other;case"da":return 1===n||0!==a&&(0===r||1===r)?Uu.One:Uu.Other;case"dsb":case"hsb":return 0===s&&r%100==1||o%100==1?Uu.One:0===s&&r%100==2||o%100==2?Uu.Two:0===s&&r%100===Math.floor(r%100)&&r%100>=3&&r%100<=4||o%100===Math.floor(o%100)&&o%100>=3&&o%100<=4?Uu.Few:Uu.Other;case"ff":case"fr":case"hy":case"kab":return 0===r||1===r?Uu.One:Uu.Other;case"fil":return 0===s&&(1===r||2===r||3===r)||0===s&&r%10!=4&&r%10!=6&&r%10!=9||0!==s&&o%10!=4&&o%10!=6&&o%10!=9?Uu.One:Uu.Other;case"ga":return 1===n?Uu.One:2===n?Uu.Two:n===Math.floor(n)&&n>=3&&n<=6?Uu.Few:n===Math.floor(n)&&n>=7&&n<=10?Uu.Many:Uu.Other;case"gd":return 1===n||11===n?Uu.One:2===n||12===n?Uu.Two:n===Math.floor(n)&&(n>=3&&n<=10||n>=13&&n<=19)?Uu.Few:Uu.Other;case"gv":return 0===s&&r%10==1?Uu.One:0===s&&r%10==2?Uu.Two:0!==s||r%100!=0&&r%100!=20&&r%100!=40&&r%100!=60&&r%100!=80?0!==s?Uu.Many:Uu.Other:Uu.Few;case"he":return 1===r&&0===s?Uu.One:2===r&&0===s?Uu.Two:0!==s||n>=0&&n<=10||n%10!=0?Uu.Other:Uu.Many;case"is":return 0===a&&r%10==1&&r%100!=11||0!==a?Uu.One:Uu.Other;case"ksh":return 0===n?Uu.Zero:1===n?Uu.One:Uu.Other;case"kw":case"naq":case"se":case"smn":return 1===n?Uu.One:2===n?Uu.Two:Uu.Other;case"lag":return 0===n?Uu.Zero:0!==r&&1!==r||0===n?Uu.Other:Uu.One;case"lt":return n%10!=1||n%100>=11&&n%100<=19?n%10===Math.floor(n%10)&&n%10>=2&&n%10<=9&&!(n%100>=11&&n%100<=19)?Uu.Few:0!==o?Uu.Many:Uu.Other:Uu.One;case"lv":case"prg":return n%10==0||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19||2===s&&o%100===Math.floor(o%100)&&o%100>=11&&o%100<=19?Uu.Zero:n%10==1&&n%100!=11||2===s&&o%10==1&&o%100!=11||2!==s&&o%10==1?Uu.One:Uu.Other;case"mk":return 0===s&&r%10==1||o%10==1?Uu.One:Uu.Other;case"mt":return 1===n?Uu.One:0===n||n%100===Math.floor(n%100)&&n%100>=2&&n%100<=10?Uu.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19?Uu.Many:Uu.Other;case"pl":return 1===r&&0===s?Uu.One:0===s&&r%10===Math.floor(r%10)&&r%10>=2&&r%10<=4&&!(r%100>=12&&r%100<=14)?Uu.Few:0===s&&1!==r&&r%10===Math.floor(r%10)&&r%10>=0&&r%10<=1||0===s&&r%10===Math.floor(r%10)&&r%10>=5&&r%10<=9||0===s&&r%100===Math.floor(r%100)&&r%100>=12&&r%100<=14?Uu.Many:Uu.Other;case"pt":return n===Math.floor(n)&&n>=0&&n<=2&&2!==n?Uu.One:Uu.Other;case"ro":return 1===r&&0===s?Uu.One:0!==s||0===n||1!==n&&n%100===Math.floor(n%100)&&n%100>=1&&n%100<=19?Uu.Few:Uu.Other;case"ru":case"uk":return 0===s&&r%10==1&&r%100!=11?Uu.One:0===s&&r%10===Math.floor(r%10)&&r%10>=2&&r%10<=4&&!(r%100>=12&&r%100<=14)?Uu.Few:0===s&&r%10==0||0===s&&r%10===Math.floor(r%10)&&r%10>=5&&r%10<=9||0===s&&r%100===Math.floor(r%100)&&r%100>=11&&r%100<=14?Uu.Many:Uu.Other;case"shi":return 0===r||1===n?Uu.One:n===Math.floor(n)&&n>=2&&n<=10?Uu.Few:Uu.Other;case"si":return 0===n||1===n||0===r&&1===o?Uu.One:Uu.Other;case"sl":return 0===s&&r%100==1?Uu.One:0===s&&r%100==2?Uu.Two:0===s&&r%100===Math.floor(r%100)&&r%100>=3&&r%100<=4||0!==s?Uu.Few:Uu.Other;case"tzm":return n===Math.floor(n)&&n>=0&&n<=1||n===Math.floor(n)&&n>=11&&n<=99?Uu.One:Uu.Other;default:return Uu.Other}}("en-US",t)){case Uu.Zero:return"zero";case Uu.One:return"one";case Uu.Two:return"two";case Uu.Few:return"few";case Uu.Many:return"many";default:return"other"}}();-1===(n=e.cases.indexOf(i))&&"other"!==i&&(n=e.cases.indexOf("other"));break}case 0:n=e.cases.indexOf("other")}return n}function Wu(e,t,n,i){const r=[],s=[],o=[],a=[],l=[];for(let h=0;h<t.values.length;h++){const u=t.values[h],c=[];for(let e=0;e<u.length;e++){const t=u[e];if("string"!=typeof t){const n=c.push(t)-1;u[e]=`\x3c!--\ufffd${n}\ufffd--\x3e`}}const d=$u(u.join(""),n,c,e,i);r.push(d.create),s.push(d.remove),o.push(d.update),a.push(d.vars),l.push(d.childIcus)}e.push({type:t.type,vars:a,expandoStartIndex:i+1,childIcus:l,cases:t.cases,create:r,remove:s,update:o});const u=Kt(),c=Math.max(...a);for(let h=0;h<c;h++)us(u)}function $u(e,t,n,i,r){const s=new Ul(document).getInertBodyElement(e);if(!s)throw new Error("Unable to generate inert body element");const o={vars:0,childIcus:[],create:[],remove:[],update:[]};return function e(t,n,i,r,s,o){if(t){const a=[];for(;t;){const l=t.nextSibling,u=o+ ++n.vars;switch(t.nodeType){case Node.ELEMENT_NODE:const l=t,c=l.tagName.toLowerCase();if(eu.hasOwnProperty(c)){n.create.push(hu,c,i<<17|1);const a=l.attributes;for(let e=0;e<a.length;e++){const t=a.item(e),i=t.name.toLowerCase();t.value.match(vu)?iu.hasOwnProperty(i)&&mt(tu[i]?Eu(t.value,u,t.name,$l):nu[i]?Eu(t.value,u,t.name,ql):Eu(t.value,u,t.name),n.update):n.create.push(u<<3|4,t.name,t.value)}e(t.firstChild,n,u,r,s,o),n.remove.push(u<<3|3)}else n.vars--;break;case Node.TEXT_NODE:const h=t.textContent||"",d=h.match(vu);n.create.push(d?"":h,i<<17|1),n.remove.push(u<<3|3),d&&mt(Eu(h,u),n.update);break;case Node.COMMENT_NODE:const p=qu.exec(t.textContent||"");if(p){const e=parseInt(p[1],10);n.create.push(du,"",i<<17|1),a.push([r[e],u])}else n.vars--;break;default:n.vars--}t=l}for(let e=0;e<a.length;e++){const t=a[e][0],i=a[e][1];Wu(s,t,i,o+n.vars);const r=s.length-1;n.vars+=Math.max(...s[r].vars),n.childIcus.push(r);const l=Tu(t);n.update.push(Ou(t.mainBinding),3,-1-t.mainBinding,i<<2|2,r,l,2,i<<2|3,r),n.remove.push(r<<3|6,i<<3|3)}}}((cu(s)||s).firstChild,o,t,n,i,r),o}const qu=/\ufffd(\d+)\ufffd/,Yu={provide:rl,useClass:class extends rl{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=fe(e);return new Fl(t,this.ngModule)}},deps:[al]};class Zu extends al{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[];const n=ve(e);this._bootstrapComponents=n.bootstrap,this._r3Injector=Va(e,t,[{provide:al,useValue:this},Yu]),this.instance=this.get(e)}get(e,t=ga.THROW_IF_NOT_FOUND,n=St.Default){return e===ga||e===al||e===pa?this:this._r3Injector.get(e,t,n)}get componentFactoryResolver(){return this.get(rl)}destroy(){this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Ku extends ll{constructor(e){super(),this.moduleType=e}create(e){return new Zu(this.moduleType,e)}}function Xu(e,t,n,i){const r=e;null!==t&&(void 0!==r.decorators?r.decorators.push(...t):r.decorators=t),null!==n&&(r.ctorParameters=n),null!==i&&(r.propDecorators=void 0!==r.propDecorators?Object.assign({},r.propDecorators,i):i)}function Qu(e,t,n){const i=pn()+e,r=Kt();return rn()?fi(r,i,n?t.call(n):t()):gi(r,i)}function Ju(e,t,n,i){const r=Kt(),s=pn()+e;return mi(r,s,n)?fi(r,s+1,i?t.call(i,n):t(n)):gi(r,s+1)}function ec(e,t,n,i,r){const s=pn()+e,o=Kt();return vi(o,s,n,i)?fi(o,s+2,r?t.call(r,n,i):t(n,i)):gi(o,s+2)}function tc(e,t,n,i,r,s){const o=pn()+e,a=Kt();return yi(a,o,n,i,r)?fi(a,o+3,s?t.call(s,n,i,r):t(n,i,r)):gi(a,o+3)}function nc(e,t,n,i,r,s,o){const a=pn()+e,l=Kt();return _i(l,a,n,i,r,s)?fi(l,a+4,o?t.call(o,n,i,r,s):t(n,i,r,s)):gi(l,a+4)}function ic(e,t,n,i,r,s,o,a){const l=pn()+e,u=Kt(),c=_i(u,l,n,i,r,s);return mi(u,l+4,o)||c?fi(u,l+5,a?t.call(a,n,i,r,s,o):t(n,i,r,s,o)):gi(u,l+5)}function rc(e,t,n,i,r,s,o,a,l){const u=pn()+e,c=Kt(),h=_i(c,u,n,i,r,s);return vi(c,u+4,o,a)||h?fi(c,u+6,l?t.call(l,n,i,r,s,o,a):t(n,i,r,s,o,a)):gi(c,u+6)}function sc(e,t,n,i,r,s,o,a,l,u){const c=pn()+e,h=Kt();let d=_i(h,c,n,i,r,s);return yi(h,c+4,o,a,l)||d?fi(h,c+7,u?t.call(u,n,i,r,s,o,a,l):t(n,i,r,s,o,a,l)):gi(h,c+7)}function oc(e,t,n,i,r,s,o,a,l,u,c){const h=pn()+e,d=Kt(),p=_i(d,h,n,i,r,s);return _i(d,h+4,o,a,l,u)||p?fi(d,h+8,c?t.call(c,n,i,r,s,o,a,l,u):t(n,i,r,s,o,a,l,u)):gi(d,h+8)}function ac(e,t,n,i){let r=pn()+e,s=!1;const o=Kt();for(let a=0;a<n.length;a++)mi(o,r++,n[a])&&(s=!0);return s?fi(o,r,t.apply(i,n)):gi(o,r)}function lc(e,t){const n=Kt()[ye];let i;const r=e+Ne;n.firstTemplatePass?(i=function(e,t){if(t)for(let n=t.length-1;n>=0;n--){const i=t[n];if(e===i.name)return i}throw new Error(`The pipe '${e}' could not be found!`)}(t,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.pipeDestroyHooks||(n.pipeDestroyHooks=[])).push(r,i.onDestroy)):i=n.data[r];const s=i.factory(null);return Po(e,s),s}function uc(e,t,n){const i=No(e);return gc(fc(e)?Ju(t,i.transform,n,i):i.transform(n))}function cc(e,t,n,i){const r=No(e);return gc(fc(e)?ec(t,r.transform,n,i,r):r.transform(n,i))}function hc(e,t,n,i,r){const s=No(e);return gc(fc(e)?tc(t,s.transform,n,i,r,s):s.transform(n,i,r))}function dc(e,t,n,i,r,s){const o=No(e);return gc(fc(e)?nc(t,o.transform,n,i,r,s,o):o.transform(n,i,r,s))}function pc(e,t,n){const i=No(e);return gc(fc(e)?ac(t,i.transform,n,i):i.transform.apply(i,n))}function fc(e){return Kt()[ye].data[e+Ne].pure}function gc(e){return li.isWrapped(e)&&(e=li.unwrap(e),Kt()[pn()]=pi),e}class mc extends i.a{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){let i,s=e=>null,o=()=>null;e&&"object"==typeof e?(i=this.__isAsync?t=>{setTimeout(()=>e.next(t))}:t=>{e.next(t)},e.error&&(s=this.__isAsync?t=>{setTimeout(()=>e.error(t))}:t=>{e.error(t)}),e.complete&&(o=this.__isAsync?()=>{setTimeout(()=>e.complete())}:()=>{e.complete()})):(i=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)},t&&(s=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(i,s,o);return e instanceof r.a&&e.add(a),a}}class vc{}vc.__NG_ELEMENT_ID__=(()=>_c(vc,vl));const yc=function(e,t){return gl(e,t,Qt(),Kt())},_c=ua;class bc{constructor(e,t,n){this.parent=e,this.shallow=t,this.deep=n}track(e,t,n,i){n?this.deep=kc(this.deep,e,t,null!=i?i:null):this.shallow=kc(this.shallow,e,t,null!=i?i:null)}clone(){return new bc(this,null,this.deep)}container(){const e=wc(this.shallow),t=wc(this.deep);return e||t?new bc(this,e,t):null}createView(){const e=xc(this.shallow),t=xc(this.deep);return e||t?new bc(this,e,t):null}insertView(e){Cc(e,this.shallow),Cc(e,this.deep)}addNode(e){return Oc(this.deep,e),nt(e)?(Oc(this.shallow,e),e.parent&&nt(e.parent)&&Oc(this.parent.shallow,e),this.parent):(function(e){return null===e.parent||nt(e.parent)}(e)&&Oc(this.shallow,e),this)}removeView(){Sc(this.shallow),Sc(this.deep)}}function wc(e){let t=null;for(;e;){const n=[];e.values.push(n),t={next:t,list:e.list,predicate:e.predicate,values:n,containerValues:null},e=e.next}return t}function xc(e){let t=null;for(;e;)t={next:t,list:e.list,predicate:e.predicate,values:[],containerValues:e.values},e=e.next;return t}function Cc(e,t){for(;t;)t.containerValues.splice(e,0,t.values),t=t.next}function Sc(e){for(;e;){const t=e.containerValues,n=t.indexOf(e.values);t.splice(n,1)[0].length&&e.list.setDirty(),e=e.next}}function Ec(e,t){const n=e.localNames;if(n)for(let i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1];return null}function Tc(e,t,n){const i=e[v];if("function"==typeof i)return i();{const i=Dn(t,n,e,!1,!1);if(null!==i)return kn(n[ye].data,n,i,t)}return null}function Mc(e,t,n,i){const r=e[v]();return i?r?Tc(i,t,n):null:r}function Ic(e,t,n,i){return n?Tc(n,e,t):i>-1?kn(t[ye].data,t,i,e):function(e,t){return 3===e.type||4===e.type?fl(vl,e,t):0===e.type?gl(vc,vl,e,t):null}(e,t)}function Oc(e,t){const n=Kt();for(;e;){const i=e.predicate,r=i.type;if(r){let s=null;if(r===vc)s=Mc(r,t,n,i.read);else{const e=Dn(t,n,r,!1,!1);null!==e&&(s=Ic(t,n,i.read,e))}null!==s&&Ac(e,s)}else{const r=i.selector;for(let s=0;s<r.length;s++){const o=Ec(t,r[s]);if(null!==o){const r=Ic(t,n,i.read,o);null!==r&&Ac(e,r)}}}e=e.next}}function Ac(e,t){e.values.push(t),e.list.setDirty()}function Dc(e,t){const n=Array.isArray(e);return{type:n?null:e,selector:n?e:null,read:t}}function kc(e,t,n,i){return{next:e,list:t,predicate:Dc(n,i),values:t._valuesTree,containerValues:null}}const Pc=class{constructor(){this.dirty=!0,this.changes=new mc,this._values=[],this._valuesTree=[]}get length(){return this._values.length}get first(){let e=this._values;return e.length?e[0]:null}get last(){let e=this._values;return e.length?e[e.length-1]:null}map(e){return this._values.map(e)}filter(e){return this._values.filter(e)}find(e){return this._values.find(e)}reduce(e,t){return this._values.reduce(e,t)}forEach(e){this._values.forEach(e)}some(e){return this._values.some(e)}toArray(){return this._values.slice(0)}[W()](){return this._values[W()]()}toString(){return this._values.toString()}reset(e){this._values=function(e){const t=[];let n=0;for(;n<e.length;){const i=e[n];Array.isArray(i)?i.length>0?(e=i.concat(e.slice(n+1)),n=0):n++:(t.push(i),n++)}return t}(e),this.dirty=!1}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}};function Rc(e,t,n,i){const r=new Pc;return function(e){const t=Kt();let n=t[xe];return Ut&&Ut!==t[Se]&&!nt(Ut)&&(n&&(n=t[xe]=n.clone()),Ut.flags|=4),n||(t[xe]=new e(null,null,null))}(bc).track(r,t,n,i),function(e,t,n){const i=Uo(e);i.push(t),e[ye].firstTemplatePass&&Go(e).push(n,i.length-1)}(Kt(),r,r.destroy),null!=e&&Po(e,r),r}function Lc(e){return!!e.dirty&&(e.reset(e._valuesTree),e.notifyOnChanges(),!0)}function Nc(e,t){return gl(vc,vl,e,t)}const Fc="__SANITIZER_TRUSTED_BRAND__";function Vc(e,t){return e instanceof String&&e[Fc]===t}function jc(e){return Gc(e,"Html")}function Bc(e){return Gc(e,"Style")}function zc(e){return Gc(e,"Script")}function Hc(e){return Gc(e,"Url")}function Uc(e){return Gc(e,"ResourceUrl")}function Gc(e,t){const n=new String(e);return n[Fc]=t,n}const Wc=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),$c=/^url\(([^)]+)\)$/;function qc(e){if(!(e=String(e).trim()))return"";const t=e.match($c);return t&&$l(t[1])===t[1]||e.match(Wc)&&function(e){let t=!0,n=!0;for(let i=0;i<e.length;i++){const r=e.charAt(i);"'"===r&&n?t=!t:'"'===r&&t&&(n=!n)}return t&&n}(e)?e:(zl()&&console.warn(`WARNING: sanitizing unsafe style value ${e} (see http://g.co/ng/security#xss).`),"unsafe")}function Yc(e){const t=Qc();return t?t.sanitize(Ol.HTML,e)||"":Vc(e,"Html")?e.toString():uu(document,Ze(e))}function Zc(e){const t=Qc();return t?t.sanitize(Ol.STYLE,e)||"":Vc(e,"Style")?e.toString():qc(Ze(e))}function Kc(e){const t=Qc();return t?t.sanitize(Ol.URL,e)||"":Vc(e,"Url")?e.toString():$l(Ze(e))}function Xc(e){const t=Qc();if(t)return t.sanitize(Ol.RESOURCE_URL,e)||"";if(Vc(e,"ResourceUrl"))return e.toString();throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)")}function Qc(){const e=Kt();return e&&e[De]}const Jc={"\u0275defineBase":he,"\u0275defineComponent":oe,"\u0275defineDirective":de,defineInjectable:y,defineInjector:_,"\u0275defineNgModule":ue,"\u0275definePipe":pe,"\u0275directiveInject":Fo,"\u0275getFactoryOf":Nn,"\u0275getInheritedFactory":Fn,inject:Dt,"\u0275injectAttribute":Vo,"\u0275templateRefExtractor":Nc,"\u0275NgOnChangesFeature":aa,"\u0275ProvidersFeature":Qa,"\u0275InheritDefinitionFeature":ra,"\u0275elementAttribute":As,"\u0275bind":xo,"\u0275container":no,"\u0275nextContext":hs,"\u0275containerRefreshStart":ro,"\u0275containerRefreshEnd":so,"\u0275loadQueryList":Lo,"\u0275namespaceHTML":vs,"\u0275namespaceMathML":ms,"\u0275namespaceSVG":gs,"\u0275enableBindings":Yt,"\u0275disableBindings":Zt,"\u0275allocHostVars":Co,"\u0275elementStart":ws,"\u0275elementEnd":Os,"\u0275element":ys,"\u0275elementContainerStart":_s,"\u0275elementContainerEnd":bs,"\u0275pureFunction0":Qu,"\u0275pureFunction1":Ju,"\u0275pureFunction2":ec,"\u0275pureFunction3":tc,"\u0275pureFunction4":nc,"\u0275pureFunction5":ic,"\u0275pureFunction6":rc,"\u0275pureFunction7":sc,"\u0275pureFunction8":oc,"\u0275pureFunctionV":ac,"\u0275getCurrentView":Ho,"\u0275restoreView":Xt,"\u0275interpolation1":Eo,"\u0275interpolation2":To,"\u0275interpolation3":Mo,"\u0275interpolation4":Io,"\u0275interpolation5":Oo,"\u0275interpolation6":Ao,"\u0275interpolation7":Do,"\u0275interpolation8":ko,"\u0275interpolationV":So,"\u0275elementClassProp":Hs,"\u0275listener":Is,"\u0275load":No,"\u0275projection":ho,"\u0275elementProperty":Ds,"\u0275componentHostSyntheticProperty":ks,"\u0275pipeBind1":uc,"\u0275pipeBind2":cc,"\u0275pipeBind3":hc,"\u0275pipeBind4":dc,"\u0275pipeBindV":pc,"\u0275projectionDef":uo,"\u0275pipe":lc,"\u0275query":Rc,"\u0275queryRefresh":Lc,"\u0275registerContentQuery":jo,"\u0275reference":Ro,"\u0275elementStyling":Vs,"\u0275elementHostAttrs":js,"\u0275elementStylingMap":Us,"\u0275elementStyleProp":zs,"\u0275elementStylingApply":Bs,"\u0275template":to,"\u0275text":Gs,"\u0275textBinding":Ws,"\u0275embeddedViewStart":oo,"\u0275embeddedViewEnd":ao,"\u0275i18n":Fu,"\u0275i18nAttributes":Vu,"\u0275i18nExp":zu,"\u0275i18nStart":Du,"\u0275i18nEnd":Ru,"\u0275i18nApply":Hu,"\u0275i18nPostprocess":Pu,"\u0275sanitizeHtml":Yc,"\u0275sanitizeStyle":Zc,"\u0275defaultStyleSanitizer":function(e,t){return void 0===t?"background-image"===e||"background"===e||"border-image"===e||"filter"===e||"filter"===e||"list-style"===e||"list-style-image"===e:Zc(t)},"\u0275sanitizeResourceUrl":Xc,"\u0275sanitizeScript":function(e){const t=Qc();if(t)return t.sanitize(Ol.SCRIPT,e)||"";if(Vc(e,"Script"))return e.toString();throw new Error("unsafe value used in a script context")},"\u0275sanitizeUrl":Kc};class eh{}const th=new Map;function nh(e,t){const n=th.get(e);ih(e,n&&n.moduleType),th.set(e,t)}function ih(e,t){if(t)throw new Error(`Duplicate module registered for ${e} - ${Y(t)} vs ${Y(t.name)}`)}function rh(e){const t=th.get(e);if(!t)throw ah(e);return t}function sh(e){const t=th.get(e);if(!t)throw ah(e);return new Ku(t)}const oh=rh;function ah(e){return new Error(`No module with ID ${e} loaded`)}const lh=Function;function uh(e){return"function"==typeof e}const ch=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,hh=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,dh=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/;class ph{constructor(e){this._reflect=e||H.Reflect}isReflectionEnabled(){return!0}factory(e){return(...t)=>new e(...t)}_zipTypesAndAnnotations(e,t){let n;n=void 0===e?new Array(t.length):new Array(e.length);for(let i=0;i<n.length;i++)n[i]=void 0===e?[]:e[i]!=Object?[e[i]]:[],t&&null!=t[i]&&(n[i]=n[i].concat(t[i]));return n}_ownParameters(e,t){const n=e.toString();if(ch.exec(n)||hh.exec(n)&&!dh.exec(n))return null;if(e.parameters&&e.parameters!==t.parameters)return e.parameters;const i=e.ctorParameters;if(i&&i!==t.ctorParameters){const e="function"==typeof i?i():i,t=e.map(e=>e&&e.type),n=e.map(e=>e&&fh(e.decorators));return this._zipTypesAndAnnotations(t,n)}const r=e.hasOwnProperty(S)&&e[S],s=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",e);return s||r?this._zipTypesAndAnnotations(s,r):new Array(e.length).fill(void 0)}parameters(e){if(!uh(e))return[];const t=gh(e);let n=this._ownParameters(e,t);return n||t===Object||(n=this.parameters(t)),n||[]}_ownAnnotations(e,t){if(e.annotations&&e.annotations!==t.annotations){let t=e.annotations;return"function"==typeof t&&t.annotations&&(t=t.annotations),t}return e.decorators&&e.decorators!==t.decorators?fh(e.decorators):e.hasOwnProperty(C)?e[C]:null}annotations(e){if(!uh(e))return[];const t=gh(e),n=this._ownAnnotations(e,t)||[];return(t!==Object?this.annotations(t):[]).concat(n)}_ownPropMetadata(e,t){if(e.propMetadata&&e.propMetadata!==t.propMetadata){let t=e.propMetadata;return"function"==typeof t&&t.propMetadata&&(t=t.propMetadata),t}if(e.propDecorators&&e.propDecorators!==t.propDecorators){const t=e.propDecorators,n={};return Object.keys(t).forEach(e=>{n[e]=fh(t[e])}),n}return e.hasOwnProperty(E)?e[E]:null}propMetadata(e){if(!uh(e))return{};const t=gh(e),n={};if(t!==Object){const e=this.propMetadata(t);Object.keys(e).forEach(t=>{n[t]=e[t]})}const i=this._ownPropMetadata(e,t);return i&&Object.keys(i).forEach(e=>{const t=[];n.hasOwnProperty(e)&&t.push(...n[e]),t.push(...i[e]),n[e]=t}),n}hasLifecycleHook(e,t){return e instanceof lh&&t in e.prototype}guards(e){return{}}getter(e){return new Function("o","return o."+e+";")}setter(e){return new Function("o","v","return o."+e+" = v;")}method(e){return new Function("o","args",`if (!o.${e}) throw new Error('"${e}" is undefined');\n        return o.${e}.apply(o, args);`)}importUri(e){return"object"==typeof e&&e.filePath?e.filePath:`./${Y(e)}`}resourceUri(e){return`./${Y(e)}`}resolveIdentifier(e,t,n,i){return i}resolveEnum(e,t){return e[t]}}function fh(e){return e?e.map(e=>new(0,e.type.annotationCls)(...e.args?e.args:[])):[]}function gh(e){const t=e.prototype?Object.getPrototypeOf(e.prototype):null;return(t?t.constructor:null)||Object}let mh=null;function vh(){return mh=mh||new ph}function yh(e){return _h(vh().parameters(e))}function _h(e){const t=yt();return e.map(e=>(function(e,t){const n={token:null,host:!1,optional:!1,resolved:e.R3ResolvedDependencyType.Token,self:!1,skipSelf:!1};function i(t){n.resolved=e.R3ResolvedDependencyType.Token,n.token=t}if(Array.isArray(t)){if(0===t.length)throw new Error("Dependency array must have arguments.");for(let r=0;r<t.length;r++){const s=t[r];if(void 0!==s)if(s instanceof bt||"Optional"===s.__proto__.ngMetadataName)n.optional=!0;else if(s instanceof xt||"SkipSelf"===s.__proto__.ngMetadataName)n.skipSelf=!0;else if(s instanceof wt||"Self"===s.__proto__.ngMetadataName)n.self=!0;else if(s instanceof Ct||"Host"===s.__proto__.ngMetadataName)n.host=!0;else if(s instanceof _t)n.token=s.token;else if(s instanceof D){if(void 0===s.attributeName)throw new Error("Attribute name must be defined.");n.token=s.attributeName,n.resolved=e.R3ResolvedDependencyType.Attribute}else i(s)}}else i(t);return n})(t,e))}const bh=[],wh=[];let xh=!1;function Ch(e){return Array.isArray(e)?e.every(Ch):!!X(e)}function Sh(e,t={}){Eh(e,t),function(e,t){wh.push({moduleType:e,ngModule:t})}(e,t)}function Eh(e,t){const n=kh(t.declarations||bh);let i=null;var r,s;Object.defineProperty(e,g,{configurable:!0,get:()=>(null===i&&(i=yt().compileNgModule(Jc,`ng://${e.name}/ngModuleDef.js`,{type:e,bootstrap:kh(t.bootstrap||bh,X),declarations:n.map(X),imports:kh(t.imports||bh,X).map(Ph),exports:kh(t.exports||bh,X).map(Ph),emitInline:!0})),i)}),t.id&&(s=e,ih(r=t.id,th.get(r)),th.set(r,s));let o=null;Object.defineProperty(e,p,{get:()=>{if(null===o){const n={name:e.name,type:e,deps:yh(e),providers:t.providers||bh,imports:[(t.imports||bh).map(X),(t.exports||bh).map(X)]};o=yt().compileInjector(Jc,`ng://${e.name}/ngInjectorDef.js`,n)}return o},configurable:!1})}let Th=new Map,Mh=new Map;function Ih(){Th=new Map,Mh=new Map,wh.length=0}function Oh(e,t){const n=kh(t.declarations||bh),i=Dh(e);n.forEach(t=>{t.hasOwnProperty(c)?Ah(fe(t),i):t.hasOwnProperty(h)||t.hasOwnProperty(f)||(t.ngSelectorScope=e)})}function Ah(e,t){e.directiveDefs=(()=>Array.from(t.compilation.directives).map(e=>ge(e)||fe(e)).filter(e=>!!e)),e.pipeDefs=(()=>Array.from(t.compilation.pipes).map(e=>me(e)))}function Dh(e){if(!Rh(e))throw new Error(`${e.name} does not have an ngModuleDef`);const t=ve(e);if(null!==t.transitiveCompileScopes)return t.transitiveCompileScopes;const n={compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return t.declarations.forEach(e=>{me(e)?n.compilation.pipes.add(e):n.compilation.directives.add(e)}),t.imports.forEach(e=>{const t=e;if(!Rh(t))throw new Error(`Importing ${t.name} which does not have an ngModuleDef`);const i=Dh(t);i.exported.directives.forEach(e=>n.compilation.directives.add(e)),i.exported.pipes.forEach(e=>n.compilation.pipes.add(e))}),t.exports.forEach(e=>{const t=e;if(Rh(t)){const e=Dh(t);e.exported.directives.forEach(e=>{n.compilation.directives.add(e),n.exported.directives.add(e)}),e.exported.pipes.forEach(e=>{n.compilation.pipes.add(e),n.exported.pipes.add(e)})}else me(t)?n.exported.pipes.add(t):n.exported.directives.add(t)}),t.transitiveCompileScopes=n,n}function kh(e,t){const n=[];return e.forEach(e=>{Array.isArray(e)?n.push(...kh(e,t)):n.push(t?t(e):e)}),n}function Ph(e){return function(e){return void 0!==e.ngModule}(e)?e.ngModule:e}function Rh(e){return!!ve(e)}function Lh(e,t){let n=null;!function(e){ee(e)&&J.add(e)}(t),Object.defineProperty(e,c,{get:()=>{const i=yt();if(null===n){if(ee(t)){const n=[`Component '${Ze(e)}' is not resolved:`];throw t.templateUrl&&n.push(` - templateUrl: ${Ze(t.templateUrl)}`),t.styleUrls&&t.styleUrls.length&&n.push(` - styleUrls: ${JSON.stringify(t.styleUrls)}`),n.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(n.join("\n"))}const r=Object.assign({},Vh(e,t),{template:t.template||"",preserveWhitespaces:t.preserveWhitespaces||!1,styles:t.styles||re,animations:t.animations,viewQueries:Bh(e,vh().propMetadata(e),Hh),directives:[],changeDetection:t.changeDetection,pipes:new Map,encapsulation:t.encapsulation||ne.Emulated,interpolation:t.interpolation,viewProviders:t.viewProviders||null});if(n=i.compileComponent(Jc,`ng://${Ze(e)}/template.html`,r),function(){if(!xh){xh=!0;try{for(let e=wh.length-1;e>=0;e--){const{moduleType:t,ngModule:n}=wh[e];n.declarations&&n.declarations.every(Ch)&&(wh.splice(e,1),Oh(t,n))}}finally{xh=!1}}}(),function(t){return void 0!==e.ngSelectorScope}()){const t=Dh(e.ngSelectorScope);Ah(n,t)}}return n},configurable:!1})}function Nh(e,t){let n=null;Object.defineProperty(e,h,{get:()=>{if(null===n){const i=Vh(e,t);n=yt().compileDirective(Jc,`ng://${e&&e.name}/ngDirectiveDef.js`,i)}return n},configurable:!1})}function Fh(e){return Object.getPrototypeOf(e.prototype)===Object.prototype}function Vh(e,t){const n=vh().propMetadata(e);return{name:e.name,type:e,typeArgumentCount:0,selector:t.selector,deps:yh(e),host:t.host||ie,propMetadata:n,inputs:t.inputs||re,outputs:t.outputs||re,queries:Bh(e,n,zh),lifecycle:{usesOnChanges:void 0!==e.prototype.ngOnChanges},typeSourceSpan:null,usesInheritance:!Fh(e),exportAs:t.exportAs||null,providers:t.providers||null}}function jh(e,t){return{propertyName:e,predicate:(n=t.selector,"string"==typeof n?n.split(",").map(e=>e.trim()):X(n)),descendants:t.descendants,first:t.first,read:t.read?t.read:null};var n}function Bh(e,t,n){const i=[];for(const r in t)t.hasOwnProperty(r)&&t[r].forEach(t=>{if(n(t)){if(!t.selector)throw new Error(`Can't construct a query for the property "${r}" of `+`"${Ze(e)}" since the query selector wasn't defined.`);i.push(jh(r,t))}});return i}function zh(e){const t=e.ngMetadataName;return"ContentChild"===t||"ContentChildren"===t}function Hh(e){const t=e.ngMetadataName;return"ViewChild"===t||"ViewChildren"===t}function Uh(e,t){let n=null;Object.defineProperty(e,f,{get:()=>(null===n&&(n=yt().compilePipe(Jc,`ng://${Ze(e)}/ngPipeDef.js`,{type:e,name:e.name,deps:yh(e),pipeName:t.name,pure:void 0===t.pure||t.pure})),n),configurable:!1})}const Gh=T("Directive",(e={})=>e,void 0,void 0,(e,t)=>nd(e,t)),Wh=T("Component",(e={})=>Object.assign({changeDetection:F.Default},e),Gh,void 0,(e,t)=>td(e,t)),$h=T("Pipe",e=>Object.assign({pure:!0},e),void 0,void 0,(e,t)=>id(e,t)),qh=e=>(t,n,...i)=>{const r=t.constructor;r.hasOwnProperty(m)||(e=>{const t=e.constructor,n=t.ngBaseDef,i=t.ngBaseDef={inputs:{},outputs:{},declaredInputs:{}};n&&(u(i.inputs,n.inputs),u(i.outputs,n.outputs),u(i.declaredInputs,n.declaredInputs))})(t),e(r.ngBaseDef)[n]=i[0]},Yh=O("Input",e=>({bindingPropertyName:e}),void 0,qh(e=>e.inputs||{})),Zh=O("Output",e=>({bindingPropertyName:e}),void 0,qh(e=>e.outputs||{})),Kh=O("HostBinding",e=>({hostPropertyName:e})),Xh=O("HostListener",(e,t)=>({eventName:e,args:t})),Qh=Lh,Jh=Nh,ed=Uh,td=ua,nd=ua,id=ua,rd=l({provide:String,useValue:l}),sd=[];function od(e,t){if(!t){const t=(new ph).parameters(e);return()=>new e(...Pt(t))}if(rd in t){const e=t;return()=>e.useValue}if(t.useExisting){const e=t;return()=>Dt(e.useExisting)}if(t.useFactory){const e=t;return()=>e.useFactory(...Pt(e.deps||sd))}if(t.useClass){const n=t;let i=t.deps;if(!i){const t=new ph;i=t.parameters(e)}return()=>new n.useClass(...Pt(i))}{let n=t.deps;if(!n){const t=new ph;n=t.parameters(e)}return()=>new e(...Pt(n))}}const ad={name:"custom-elements"},ld={name:"no-errors-schema"},ud=T("NgModule",e=>e,void 0,void 0,(e,t)=>hd(e,t)),cd=Sh,hd=function(e,t){let n=t&&t.imports||[];t&&t.exports&&(n=[...n,t.exports]),e.ngInjectorDef=_({factory:od(e,{useClass:e}),providers:t&&t.providers,imports:n})},dd=l({provide:String,useValue:l});function pd(e){return void 0!==e.useClass}function fd(e){return dd in e}function gd(e){return void 0!==e.useFactory}function md(e){return void 0!==e.useExisting}const vd=T("Injectable",void 0,void 0,void 0,(e,t)=>_d(e,t)),yd=function(e,t){let n=null;e.hasOwnProperty(d)||Object.defineProperty(e,d,{get:()=>{if(null===n){const i=t||{providedIn:null},r=pd(i)||gd(i)||fd(i)||md(i),s={name:e.name,type:e,typeArgumentCount:0,providedIn:i.providedIn,ctorDeps:yh(e),userDeps:void 0};if((pd(i)||gd(i))&&void 0!==i.deps&&(s.userDeps=_h(i.deps)),r)if(pd(i))s.useClass=i.useClass;else if(fd(i))s.useValue=i.useValue;else if(gd(i))s.useFactory=i.useFactory;else{if(!md(i))throw new Error("Unreachable state.");s.useExisting=i.useExisting}else s.useClass=e;n=yt().compileInjectable(Jc,`ng://${e.name}/ngInjectableDef.js`,s)}return n}})},_d=function(e,t){t&&void 0!==t.providedIn&&!b(e)&&(e.ngInjectableDef=y({providedIn:t.providedIn,factory:od(e,t)}))},bd="ngDebugContext",wd="ngOriginalError",xd="ngErrorLogger";function Cd(e){return e[bd]}function Sd(e){return e[wd]}function Ed(e,...t){e.error(...t)}class Td{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),i=function(e){return e[xd]||Ed}(e);i(this._console,"ERROR",e),t&&i(this._console,"ORIGINAL ERROR",t),n&&i(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?Cd(e)?Cd(e):this._findContext(Sd(e)):null}_findOriginalError(e){let t=Sd(e);for(;t&&Sd(t);)t=Sd(t);return t}}function Md(e){return e.length>1?" ("+function(e){const t=[];for(let n=0;n<e.length;++n){if(t.indexOf(e[n])>-1)return t.push(e[n]),t;t.push(e[n])}return t}(e.slice().reverse()).map(e=>Y(e.token)).join(" -> ")+")":""}function Id(e,t,n,i){const r=[t],s=n(r),o=i?function(e,t){const n=`${s} caused by: ${t instanceof Error?t.message:t}`,i=Error(n);return i[wd]=t,i}(0,i):Error(s);return o.addKey=Od,o.keys=r,o.injectors=[e],o.constructResolvingMessage=n,o[wd]=i,o}function Od(e,t){this.injectors.push(e),this.keys.push(t),this.message=this.constructResolvingMessage(this.keys)}function Ad(e,t){const n=[];for(let i=0,r=t.length;i<r;i++){const e=t[i];n.push(e&&0!=e.length?e.map(Y).join(" "):"?")}return Error("Cannot resolve all parameters for '"+Y(e)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+Y(e)+"' is decorated with Injectable.")}class Dd{constructor(e,t){if(this.token=e,this.id=t,!e)throw new Error("Token must be defined!");this.displayName=Y(this.token)}static get(e){return Pd.get(X(e))}static get numberOfKeys(){return Pd.numberOfKeys}}class kd{constructor(){this._allKeys=new Map}get(e){if(e instanceof Dd)return e;if(this._allKeys.has(e))return this._allKeys.get(e);const t=new Dd(e,Dd.numberOfKeys);return this._allKeys.set(e,t),t}get numberOfKeys(){return this._allKeys.size}}const Pd=new kd;class Rd{constructor(e){this.reflectionCapabilities=e}updateCapabilities(e){this.reflectionCapabilities=e}factory(e){return this.reflectionCapabilities.factory(e)}parameters(e){return this.reflectionCapabilities.parameters(e)}annotations(e){return this.reflectionCapabilities.annotations(e)}propMetadata(e){return this.reflectionCapabilities.propMetadata(e)}hasLifecycleHook(e,t){return this.reflectionCapabilities.hasLifecycleHook(e,t)}getter(e){return this.reflectionCapabilities.getter(e)}setter(e){return this.reflectionCapabilities.setter(e)}method(e){return this.reflectionCapabilities.method(e)}importUri(e){return this.reflectionCapabilities.importUri(e)}resourceUri(e){return this.reflectionCapabilities.resourceUri(e)}resolveIdentifier(e,t,n,i){return this.reflectionCapabilities.resolveIdentifier(e,t,n,i)}resolveEnum(e,t){return this.reflectionCapabilities.resolveEnum(e,t)}}const Ld=new Rd(new ph);class Nd{constructor(e,t,n){this.key=e,this.optional=t,this.visibility=n}static fromKey(e){return new Nd(e,!1,null)}}const Fd=[];class Vd{constructor(e,t,n){this.key=e,this.resolvedFactories=t,this.multiProvider=n,this.resolvedFactory=this.resolvedFactories[0]}}class jd{constructor(e,t){this.factory=e,this.dependencies=t}}function Bd(e){let t,n;if(e.useClass){const i=X(e.useClass);t=Ld.factory(i),n=Ud(i)}else e.useExisting?(t=(e=>e),n=[Nd.fromKey(Dd.get(e.useExisting))]):e.useFactory?(t=e.useFactory,n=function(e,t){if(t){const n=t.map(e=>[e]);return t.map(t=>Gd(e,t,n))}return Ud(e)}(e.useFactory,e.deps)):(t=(()=>e.useValue),n=Fd);return new jd(t,n)}function zd(e){return new Vd(Dd.get(e.provide),[Bd(e)],e.multi||!1)}function Hd(e){const t=function(e,t){for(let n=0;n<e.length;n++){const i=e[n],r=t.get(i.key.id);if(r){if(i.multiProvider!==r.multiProvider)throw Error(`Cannot mix multi providers and regular providers, got: ${r} ${i}`);if(i.multiProvider)for(let e=0;e<i.resolvedFactories.length;e++)r.resolvedFactories.push(i.resolvedFactories[e]);else t.set(i.key.id,i)}else{let e;e=i.multiProvider?new Vd(i.key,i.resolvedFactories.slice(),i.multiProvider):i,t.set(i.key.id,e)}}return t}(function e(t,n){return t.forEach(t=>{if(t instanceof lh)n.push({provide:t,useClass:t});else if(t&&"object"==typeof t&&void 0!==t.provide)n.push(t);else{if(!(t instanceof Array))throw function(e){return Error(`Invalid provider - only instances of Provider and Type are allowed, got: ${t}`)}();e(t,n)}}),n}(e,[]).map(zd),new Map);return Array.from(t.values())}function Ud(e){const t=Ld.parameters(e);if(!t)return[];if(t.some(e=>null==e))throw Ad(e,t);return t.map(n=>Gd(e,n,t))}function Gd(e,t,n){let i=null,r=!1;if(!Array.isArray(t))return Wd(t instanceof _t?t.token:t,r,null);let s=null;for(let o=0;o<t.length;++o){const e=t[o];e instanceof lh?i=e:e instanceof _t?i=e.token:e instanceof bt?r=!0:e instanceof wt||e instanceof xt?s=e:e instanceof x&&(i=e)}if(null!=(i=X(i)))return Wd(i,r,s);throw Ad(e,n)}function Wd(e,t,n){return new Nd(Dd.get(e),t,n)}const $d=new Object;class qd{static resolve(e){return Hd(e)}static resolveAndCreate(e,t){const n=qd.resolve(e);return qd.fromResolvedProviders(n,t)}static fromResolvedProviders(e,t){return new Yd(e,t)}}class Yd{constructor(e,t){this._constructionCounter=0,this._providers=e,this.parent=t||null;const n=e.length;this.keyIds=new Array(n),this.objs=new Array(n);for(let i=0;i<n;i++)this.keyIds[i]=e[i].key.id,this.objs[i]=$d}get(e,t=da){return this._getByKey(Dd.get(e),null,t)}resolveAndCreateChild(e){const t=qd.resolve(e);return this.createChildFromResolved(t)}createChildFromResolved(e){const t=new Yd(e);return t.parent=this,t}resolveAndInstantiate(e){return this.instantiateResolved(qd.resolve([e])[0])}instantiateResolved(e){return this._instantiateProvider(e)}getProviderAtIndex(e){if(e<0||e>=this._providers.length)throw function(e){return Error(`Index ${e} is out-of-bounds.`)}(e);return this._providers[e]}_new(e){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw Id(this,e.key,function(e){return`Cannot instantiate cyclic dependency!${Md(e)}`});return this._instantiateProvider(e)}_getMaxNumberOfObjects(){return this.objs.length}_instantiateProvider(e){if(e.multiProvider){const t=new Array(e.resolvedFactories.length);for(let n=0;n<e.resolvedFactories.length;++n)t[n]=this._instantiate(e,e.resolvedFactories[n]);return t}return this._instantiate(e,e.resolvedFactories[0])}_instantiate(e,t){const n=t.factory;let i,r;try{i=t.dependencies.map(e=>this._getByReflectiveDependency(e))}catch(o){throw o.addKey&&o.addKey(this,e.key),o}try{r=n(...i)}catch(o){throw Id(this,e.key,function(e){const t=Y(e[0].token);return`${s.message}: Error during instantiation of ${t}!${Md(e)}.`},s=o)}var s;return r}_getByReflectiveDependency(e){return this._getByKey(e.key,e.visibility,e.optional?null:da)}_getByKey(e,t,n){return e===Yd.INJECTOR_KEY?this:t instanceof wt?this._getByKeySelf(e,n):this._getByKeyDefault(e,n,t)}_getObjByKeyId(e){for(let t=0;t<this.keyIds.length;t++)if(this.keyIds[t]===e)return this.objs[t]===$d&&(this.objs[t]=this._new(this._providers[t])),this.objs[t];return $d}_throwOrNull(e,t){if(t!==da)return t;throw function(e,t){return Id(e,t,function(e){return`No provider for ${Y(e[0].token)}!${Md(e)}`})}(this,e)}_getByKeySelf(e,t){const n=this._getObjByKeyId(e.id);return n!==$d?n:this._throwOrNull(e,t)}_getByKeyDefault(e,t,n){let i;for(i=n instanceof xt?this.parent:this;i instanceof Yd;){const t=i,n=t._getObjByKeyId(e.id);if(n!==$d)return n;i=t.parent}return null!==i?i.get(e.token,t):this._throwOrNull(e,t)}get displayName(){return`ReflectiveInjector(providers: [${function(e,t){const n=new Array(e._providers.length);for(let i=0;i<e._providers.length;++i)n[i]=t(e.getProviderAtIndex(i));return n}(this,e=>' "'+e.key.displayName+'" ').join(", ")}])`}toString(){return this.displayName}}function Zd(e){return!!e&&"function"==typeof e.then}function Kd(e){return!!e&&"function"==typeof e.subscribe}Yd.INJECTOR_KEY=Dd.get(ga);const Xd=new x("Application Initializer");class Qd{constructor(e){this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();Zd(t)&&e.push(t)}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}const Jd=new x("AppId");function ep(){return`${np()}${np()}${np()}`}const tp={provide:Jd,useFactory:ep,deps:[]};function np(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ip=new x("Platform Initializer"),rp=new x("Platform ID"),sp=new x("appBootstrapListener"),op=new x("Application Packages Root URL");class ap{log(e){console.log(e)}warn(e){console.warn(e)}}class lp{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}function up(){throw new Error("Runtime compiler is not loaded")}const cp=function(e){return new Ku(e)},hp=up,dp=function(e){return Promise.resolve(cp(e))},pp=up,fp=function(e){return new lp(cp(e),[])},gp=up,mp=function(e){return Promise.resolve(fp(e))},vp=up;class yp{constructor(){this.compileModuleSync=hp,this.compileModuleAsync=pp,this.compileModuleAndAllComponentsSync=gp,this.compileModuleAndAllComponentsAsync=vp}clearCache(){}clearCacheFor(e){}getModuleId(e){}}const _p=new x("compilerOptions");class bp{}let wp,xp;function Cp(){const e=H.wtf;return!(!e||!(wp=e.trace)||(xp=wp.events,0))}function Sp(e,t=null){return xp.createScope(e,t)}function Ep(e,t){return wp.leaveScope(e,t),t}function Tp(e,t){return wp.beginTimeRange(e,t)}function Mp(e){wp.endTimeRange(e)}const Ip=Cp(),Op=Ip?Sp:(e,t)=>(function(e,t){return null}),Ap=Ip?Ep:(e,t)=>t,Dp=Ip?Tp:(e,t)=>null,kp=Ip?Mp:e=>null;class Pp{constructor({enableLongStackTrace:e=!1}){if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new mc(!1),this.onMicrotaskEmpty=new mc(!1),this.onStable=new mc(!1),this.onError=new mc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");var t;Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(t=this)._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,n,i,r,s,o)=>{try{return Fp(t),e.invokeTask(i,r,s,o)}finally{Vp(t)}},onInvoke:(e,n,i,r,s,o,a)=>{try{return Fp(t),e.invoke(i,r,s,o,a)}finally{Vp(t)}},onHasTask:(e,n,i,r)=>{e.hasTask(i,r),n===i&&("microTask"==r.change?(t.hasPendingMicrotasks=r.microTask,Np(t)):"macroTask"==r.change&&(t.hasPendingMacrotasks=r.macroTask))},onHandleError:(e,n,i,r)=>(e.handleError(i,r),t.runOutsideAngular(()=>t.onError.emit(r)),!1)})}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Pp.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Pp.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,i){const r=this._inner,s=r.scheduleEventTask("NgZoneEvent: "+i,e,Lp,Rp,Rp);try{return r.runTask(s,t,n)}finally{r.cancelTask(s)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}function Rp(){}const Lp={};function Np(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Fp(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Vp(e){e._nesting--,Np(e)}class jp{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new mc,this.onMicrotaskEmpty=new mc,this.onStable=new mc,this.onError=new mc}run(e){return e()}runGuarded(e){return e()}runOutsideAngular(e){return e()}runTask(e){return e()}}class Bp{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Pp.assertNotInAngularZone(),$(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())$(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,n){let i=-1;t&&t>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==i),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}class zp{constructor(){this._applications=new Map,Wp.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return Wp.findTestabilityInTree(this,e,t)}}zp.ctorParameters=(()=>[]);class Hp{addToWindow(e){}findTestabilityInTree(e,t,n){return null}}function Up(e){Wp=e}let Gp,Wp=new Hp,$p=function(e,t,n){return e.get(bp).createCompiler([t]).compileModuleAsync(n)};function qp(e,t,n){return Promise.resolve(new Ku(n))}const Yp=new x("AllowMultipleToken");class Zp{constructor(e,t){this.name=e,this.token=t}}function Kp(e){if(Gp&&!Gp.destroyed&&!Gp.injector.get(Yp,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Gp=e.get(tf);const t=e.get(ip,null);return t&&t.forEach(e=>e()),Gp}function Xp(e,t,n=[]){const i=`Platform: ${t}`,r=new x(i);return(t=[])=>{let s=ef();if(!s||s.injector.get(Yp,!1))if(e)e(n.concat(t).concat({provide:r,useValue:!0}));else{const e=n.concat(t).concat({provide:r,useValue:!0});Kp(ga.create({providers:e,name:i}))}return Qp(r)}}function Qp(e){const t=ef();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}function Jp(){Gp&&!Gp.destroyed&&Gp.destroy()}function ef(){return Gp&&!Gp.destroyed?Gp:null}class tf{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n="noop"===(r=t?t.ngZone:void 0)?new jp:("zone.js"===r?void 0:r)||new Pp({enableLongStackTrace:zl()}),i=[{provide:Pp,useValue:n}];var r;return n.run(()=>{const t=ga.create({providers:i,parent:this.injector,name:e.moduleType.name}),r=e.create(t),s=r.injector.get(Td,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return r.onDestroy(()=>sf(this._modules,r)),n.runOutsideAngular(()=>n.onError.subscribe({next:e=>{s.handleError(e)}})),function(e,t,n){try{const r=n();return Zd(r)?r.catch(n=>{throw t.runOutsideAngular(()=>e.handleError(n)),n}):r}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}(s,n,()=>{const e=r.injector.get(Qd);return e.runInitializers(),e.donePromise.then(()=>(this._moduleDoBootstrap(r),r))})})}bootstrapModule(e,t=[]){const n=nf({},t);return $p(this.injector,n,e).then(e=>this.bootstrapModuleFactory(e,n))}_moduleDoBootstrap(e){const t=e.injector.get(rf);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${Y(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}function nf(e,t){return Array.isArray(t)?t.reduce(nf,e):Object.assign({},e,t)}class rf{constructor(e,t,n,i,r,l){this._zone=e,this._console=t,this._injector=n,this._exceptionHandler=i,this._componentFactoryResolver=r,this._initStatus=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=zl(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const u=new s.a(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),c=new s.a(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{Pp.assertNotInAngularZone(),$(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Pp.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(u,c.pipe(Object(a.a)()))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof el?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const i=n instanceof ol?null:this._injector.get(al),r=n.create(ga.NULL,[],t||n.selector,i);r.onDestroy(()=>{this._unloadComponent(r)});const s=r.injector.get(Bp,null);return s&&r.injector.get(zp).registerApplication(r.location.nativeElement,s),this._loadComponent(r),zl()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),r}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");const e=rf._tickScope();try{this._runningTick=!0,this._views.forEach(e=>e.detectChanges()),this._enforceNoNewChanges&&this._views.forEach(e=>e.checkNoChanges())}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1,Ap(e)}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;sf(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(sp,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}_unloadComponent(e){this.detachView(e.hostView),sf(this.components,e)}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy())}get viewCount(){return this._views.length}}function sf(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}rf._tickScope=Op("ApplicationRef#tick()");class of{constructor(){this.dirty=!0,this._results=[],this.changes=new mc,this.length=0}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}[W()](){return this._results[W()]()}toString(){return this._results.toString()}reset(e){this._results=function e(t){return t.reduce((t,n)=>{const i=Array.isArray(n)?e(n):n;return t.concat(i)},[])}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}const af="#",lf="NgFactory";class uf{}const cf={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};class hf{constructor(e,t){this._compiler=e,this._config=t||cf}load(e){return this._compiler instanceof yp?this.loadFactory(e):this.loadAndCompile(e)}loadAndCompile(e){let[t,i]=e.split(af);return void 0===i&&(i="default"),n("crnd")(t).then(e=>e[i]).then(e=>df(e,t,i)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,i]=e.split(af),r=lf;return void 0===i&&(i="default",r=""),n("crnd")(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[i+r]).then(e=>df(e,t,i))}}function df(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}class pf{}pf.__NG_ELEMENT_ID__=(()=>gf(pf,vl));const ff=function(e,t){return function(e,t,n,i){let r;pl||(pl=class extends e{constructor(e,t,n){super(),this._lContainer=e,this._hostTNode=t,this._hostView=n,this._viewRefs=[]}get element(){return fl(t,this._hostTNode,this._hostView)}get injector(){return new Ln(this._hostTNode,this._hostView)}get parentInjector(){const e=En(this._hostTNode,this._hostView),t=ft(e,this._hostView),n=function(e,t,n){if(n.parent&&-1!==n.parent.injectorIndex){const e=n.parent.injectorIndex;let t=n.parent;for(;null!=t.parent&&e==t.injectorIndex;)t=t.parent;return t}let i=pt(e),r=t,s=t[Se];for(;i>1;)s=(r=r[Le])[Se],i--;return s}(e,this._hostView,this._hostTNode);return ht(e)&&null!=n?new Ln(n,t):new Ln(null,this._hostView)}clear(){for(;this._lContainer[Ve].length;)this.remove(0)}get(e){return this._viewRefs[e]||null}get length(){return this._lContainer[Ve].length}createEmbeddedView(e,t,n){const i=this._adjustIndex(n),r=e.createEmbeddedView(t||{},this._lContainer,this._hostTNode,this._hostView,i);return r.attachToViewContainerRef(this),this._viewRefs.splice(i,0,r),r}createComponent(e,t,n,i,r){const s=n||this.parentInjector;!r&&null==e.ngModule&&s&&(r=s.get(al,null));const o=e.create(s,i,void 0,r);return this.insert(o.hostView,t),o}insert(e,t){if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=e._lView,i=this._adjustIndex(t);return Pi(n,this._lContainer,this._hostView,i,this._hostTNode.index),ki(n,!0,$i(i,this._lContainer[Ve],this._lContainer[je])),e.attachToViewContainerRef(this),this._viewRefs.splice(i,0,e),e}move(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this.indexOf(e);return this.detach(n),this.insert(e,this._adjustIndex(t)),e}indexOf(e){return this._viewRefs.indexOf(e)}remove(e){const t=this._adjustIndex(e,-1);Li(this._lContainer,this._hostTNode,t),this._viewRefs.splice(t,1)}detach(e){const t=this._adjustIndex(e,-1),n=Ri(this._lContainer,t,!!this._hostTNode.detached);return null!=this._viewRefs.splice(t,1)[0]?new ul(n,n[Me],n[Pe]):null}_adjustIndex(e,t=0){return null==e?this._lContainer[Ve].length+t:e}});const s=i[n.index];if(st(s))(r=s)[Fe]=-1;else{const e=i[Ae].createComment("");if(ot(i)){const t=i[Ae],r=Je(n,i);Hi(t,Ui(t,r),e,function(e,t){return xi(e)?e.nextSibling(t):t.nextSibling}(t,r))}else Gi(e,n,i);i[n.index]=r=eo(s,n,i,e,!0),po(i,n.index,r)}return new pl(r,n,i)}(e,t,Qt(),Kt())},gf=ua;class mf{}mf.__NG_ELEMENT_ID__=(()=>yf());const vf=function(){return ml(Qt(),Kt(),null)},yf=(...e)=>{};class _f extends mf{}class bf extends _f{}class wf{constructor(e,t){this.name=e,this.callback=t}}class xf{constructor(e,t,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=e,t&&t instanceof Cf&&t.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class Cf extends xf{constructor(e,t,n){super(e,t,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=e}addChild(e){e&&(this.childNodes.push(e),e.parent=this)}removeChild(e){const t=this.childNodes.indexOf(e);-1!==t&&(e.parent=null,this.childNodes.splice(t,1))}insertChildrenAfter(e,t){const n=this.childNodes.indexOf(e);-1!==n&&(this.childNodes.splice(n+1,0,...t),t.forEach(t=>{t.parent&&t.parent.removeChild(t),e.parent=this}))}insertBefore(e,t){const n=this.childNodes.indexOf(e);-1===n?this.addChild(t):(t.parent&&t.parent.removeChild(t),t.parent=this,this.childNodes.splice(n,0,t))}query(e){return this.queryAll(e)[0]||null}queryAll(e){const t=[];return function e(t,n,i){t.childNodes.forEach(t=>{t instanceof Cf&&(n(t)&&i.push(t),e(t,n,i))})}(this,e,t),t}queryAllNodes(e){const t=[];return function e(t,n,i){t instanceof Cf&&t.childNodes.forEach(t=>{n(t)&&i.push(t),t instanceof Cf&&e(t,n,i)})}(this,e,t),t}get children(){return this.childNodes.filter(e=>e instanceof Cf)}triggerEventHandler(e,t){this.listeners.forEach(n=>{n.name==e&&n.callback(t)})}}function Sf(e){return e.map(e=>e.nativeElement)}class Ef{constructor(e){this.nativeNode=e}get parent(){const e=this.nativeNode.parentNode;return e?new Tf(e):null}get injector(){return Xn(this.nativeNode)}get componentInstance(){const e=this.nativeNode;return e&&$n(e)}get context(){return qn(this.nativeNode)}get listeners(){return ii(this.nativeNode).filter(ni)}get references(){return function(e){const t=Jn(e);return void 0===t.localRefs&&(t.localRefs=function(e,n){const i=e[ye].data[t.nodeIndex];if(i&&i.localNames){const t={};for(let n=0;n<i.localNames.length;n+=2){const r=i.localNames[n+1];t[i.localNames[n]]=-1===r?Je(i,e):e[r]}return t}return null}(t.lView)),t.localRefs||{}}(this.nativeNode)}get providerTokens(){return function(e){const t=Jn(e,!1);if(!t)return[];const n=t.lView[ye],i=n.data[t.nodeIndex],r=[],s=i.directiveEnd;for(let a=65535&i.providerIndexes;a<s;a++){let e=n.data[a];void 0!==(o=e).type&&void 0!==o.template&&void 0!==o.declaredInputs&&(e=e.type),r.push(e)}var o;return r}(this.nativeNode)}}class Tf extends Ef{constructor(e){super(e)}get nativeElement(){return this.nativeNode.nodeType==Node.ELEMENT_NODE?this.nativeNode:null}get name(){return this.nativeElement.nodeName}get properties(){return Jn(this.nativeNode),{}}get attributes(){const e={},t=this.nativeElement;if(t){const n=t.attributes;for(let t=0;t<n.length;t++){const i=n[t];e[i.name]=i.value}}return e}get classes(){const e={},t=this.nativeElement;if(t){const n=ti(t),i=n.lView[n.nodeIndex];if(lr(n.nodeIndex,n.lView)){for(let t=9;t<i.length;t+=4)if(Cr(i,t)){const n=Br(i,t),r=jr(i,t);"boolean"==typeof r&&(e[n]=r)}}else{const n=t.classList;for(let t=0;t<n.length;t++)e[n[t]]=!0}}return e}get styles(){const e={},t=this.nativeElement;if(t){const n=ti(t),i=n.lView[n.nodeIndex];if(lr(n.nodeIndex,n.lView)){for(let t=9;t<i.length;t+=4)if(!Cr(i,t)){const n=Br(i,t),r=jr(i,t);null!==r&&(e[n]=r)}}else{const n=t.style;for(let t=0;t<n.length;t++){const i=n.item(t);e[i]=n.getPropertyValue(i)}}}return e}get childNodes(){const e=this.nativeNode.childNodes,t=[];for(let n=0;n<e.length;n++)t.push(Of(e[n]));return t}get children(){const e=this.nativeElement;if(!e)return[];const t=e.children,n=[];for(let i=0;i<t.length;i++)n.push(Of(t[i]));return n}query(e){return this.queryAll(e)[0]||null}queryAll(e){const t=[];return Mf(this,e,t,!0),t}queryAllNodes(e){const t=[];return Mf(this,e,t,!1),t}triggerEventHandler(e,t){this.listeners.forEach(n=>{n.name===e&&n.callback(t)})}}function Mf(e,t,n,i){e instanceof Tf&&e.childNodes.forEach(e=>{t(e)&&n.push(e),e instanceof Tf&&(i&&!e.nativeElement||Mf(e,t,n,i))})}const If=new Map;function Of(e){return e instanceof Node?e.nodeType==Node.ELEMENT_NODE?new Tf(e):new Ef(e):null}const Af=function(e){return If.get(e)||null};function Df(e){If.set(e.nativeNode,e)}const kf=xf,Pf=Cf;class Rf{constructor(){}supports(e){return ci(e)}create(e){return new Nf(e)}}const Lf=(e,t)=>t;class Nf{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Lf}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,i=0,r=null;for(;t||n;){const s=!n||t&&t.currentIndex<Bf(n,i,r)?t:n,o=Bf(s,i,r),a=s.currentIndex;if(s===n)i--,n=n._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{r||(r=[]);const e=o-i,t=a-i;if(e!=t){for(let n=0;n<e;n++){const i=n<r.length?r[n]:r[n]=0,s=i+n;t<=s&&s<e&&(r[n]=i+1)}r[s.previousIndex]=t-e}}o!==a&&e(s,o,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!ci(e))throw new Error(`Error trying to diff '${Y(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,i,r=this._itHead,s=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)i=this._trackByFn(t,n=e[t]),null!==r&&q(r.trackById,i)?(s&&(r=this._verifyReinsertion(r,n,i,t)),q(r.item,n)||this._addIdentityChange(r,n)):(r=this._mismatch(r,n,i,t),s=!0),r=r._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[W()]();let i;for(;!(i=n.next()).done;)t(i.value)}}(e,e=>{i=this._trackByFn(t,e),null!==r&&q(r.trackById,i)?(s&&(r=this._verifyReinsertion(r,e,i,t)),q(r.item,e)||this._addIdentityChange(r,e)):(r=this._mismatch(r,e,i,t),s=!0),r=r._next,t++}),this.length=t;return this._truncate(r),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,i){let r;return null===e?r=this._itTail:(r=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(q(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,r,i)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(q(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,r,i)):e=this._addAfter(new Ff(t,n),r,i),e}_verifyReinsertion(e,t,n,i){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?e=this._reinsertAfter(r,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,r=e._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new jf),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t?e:(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e,e)}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new jf),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Ff{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Vf{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&q(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class jf{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new Vf,this.map.set(t,n)),n.add(e)}get(e,t){const n=this.map.get(e);return n?n.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Bf(e,t,n){const i=e.previousIndex;if(null===i)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+t+r}class zf{constructor(){}supports(e){return e instanceof Map||hi(e)}create(){return new Hf}}class Hf{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||hi(e)))throw new Error(`Error trying to diff '${Y(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const i=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,i)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}const n=new Uf(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){q(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class Uf{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}class Gf{constructor(e){this.factories=e}static create(e,t){if(null!=t){const n=t.factories.slice();e=e.concat(n)}return new Gf(e)}static extend(e){return{provide:Gf,useFactory:t=>{if(!t)throw new Error("Cannot extend IterableDiffers without a parent injector");return Gf.create(e,t)},deps:[[Gf,new xt,new bt]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`);var n}}Gf.ngInjectableDef=y({providedIn:"root",factory:()=>new Gf([new Rf])});class Wf{constructor(e){this.factories=e}static create(e,t){if(t){const n=t.factories.slice();e=e.concat(n)}return new Wf(e)}static extend(e){return{provide:Wf,useFactory:t=>{if(!t)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return Wf.create(e,t)},deps:[[Wf,new xt,new bt]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}Wf.ngInjectableDef=y({providedIn:"root",factory:()=>new Wf([new zf])});const $f=[new zf],qf=new Gf([new Rf]),Yf=new Wf($f),Zf=Xp(null,"core",[{provide:rp,useValue:"unknown"},{provide:tf,deps:[ga]},{provide:zp,deps:[]},{provide:ap,deps:[]}]),Kf=new x("LocaleId"),Xf=new x("Translations"),Qf=new x("TranslationsFormat"),Jf=function(){var e={Error:0,Warning:1,Ignore:2};return e[e.Error]="Error",e[e.Warning]="Warning",e[e.Ignore]="Ignore",e}();function eg(){return qf}function tg(){return Yf}function ng(e){return e||"en-US"}const ig=[{provide:rf,useClass:rf,deps:[Pp,ap,ga,Td,rl,Qd]},{provide:Qd,useClass:Qd,deps:[[new bt,Xd]]},{provide:yp,useClass:yp,deps:[]},tp,{provide:Gf,useFactory:eg,deps:[]},{provide:Wf,useFactory:tg,deps:[]},{provide:Kf,useFactory:ng,deps:[[new _t(Kf),new bt,new xt]]}];class rg{constructor(e){}}const sg=!0,og=!1;function ag(e,t,n){const i=e.state,r=1792&i;return r===t?(e.state=-1793&i|n,e.initIndex=-1,!0):r===n}function lg(e,t,n){return(1792&e.state)===t&&e.initIndex<=n&&(e.initIndex=n+1,!0)}function ug(e,t){return e.nodes[t]}function cg(e,t){return e.nodes[t]}function hg(e,t){return e.nodes[t]}function dg(e,t){return e.nodes[t]}function pg(e,t){return e.nodes[t]}class fg{}const gg={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0};function mg(e,t,n,i){let r=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${t}'. Current value: '${n}'.`;return i&&(r+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(e,t){const n=new Error(e);return vg(n,t),n}(r,e)}function vg(e,t){e[bd]=t,e[xd]=t.logError.bind(t)}function yg(e){return new Error(`ViewDestroyedError: Attempt to use a destroyed view: ${e}`)}const _g=()=>{},bg=new Map;function wg(e){let t=bg.get(e);return t||(t=Y(e)+"_"+bg.size,bg.set(e,t)),t}function xg(e,t,n,i){if(li.isWrapped(i)){i=li.unwrap(i);const r=e.def.nodes[t].bindingIndex+n,s=li.unwrap(e.oldValues[r]);e.oldValues[r]=new li(s)}return i}const Cg="$$undefined",Sg="$$empty";function Eg(e){return{id:Cg,styles:e.styles,encapsulation:e.encapsulation,data:e.data}}let Tg=0;function Mg(e,t,n,i){return!(!(2&e.state)&&q(e.oldValues[t.bindingIndex+n],i))}function Ig(e,t,n,i){return!!Mg(e,t,n,i)&&(e.oldValues[t.bindingIndex+n]=i,!0)}function Og(e,t,n,i){const r=e.oldValues[t.bindingIndex+n];if(1&e.state||!ai(r,i)){const s=t.bindings[n].name;throw mg(gg.createDebugContext(e,t.nodeIndex),`${s}: ${r}`,`${s}: ${i}`,0!=(1&e.state))}}function Ag(e){let t=e;for(;t;)2&t.def.flags&&(t.state|=8),t=t.viewContainerParent||t.parent}function Dg(e,t){let n=e;for(;n&&n!==t;)n.state|=64,n=n.viewContainerParent||n.parent}function kg(e,t,n,i){try{return Ag(33554432&e.def.nodes[t].flags?cg(e,t).componentView:e),gg.handleEvent(e,t,n,i)}catch(r){e.root.errorHandler.handleError(r)}}function Pg(e){return e.parent?cg(e.parent,e.parentNodeDef.nodeIndex):null}function Rg(e){return e.parent?e.parentNodeDef.parent:null}function Lg(e,t){switch(201347067&t.flags){case 1:return cg(e,t.nodeIndex).renderElement;case 2:return ug(e,t.nodeIndex).renderText}}function Ng(e,t){return e?`${e}:${t}`:t}function Fg(e){return!!e.parent&&!!(32768&e.parentNodeDef.flags)}function Vg(e){return!(!e.parent||32768&e.parentNodeDef.flags)}function jg(e){return 1<<e%32}function Bg(e){const t={};let n=0;const i={};return e&&e.forEach(([e,r])=>{"number"==typeof e?(t[e]=r,n|=jg(e)):i[e]=r}),{matchedQueries:t,references:i,matchedQueryIds:n}}function zg(e,t){return e.map(e=>{let n,i;return Array.isArray(e)?[i,n]=e:(i=0,n=e),n&&("function"==typeof n||"object"==typeof n)&&t&&Object.defineProperty(n,ca,{value:t,configurable:!0}),{flags:i,token:n,tokenKey:wg(n)}})}function Hg(e,t,n){let i=n.renderParent;return i?0==(1&i.flags)||0==(33554432&i.flags)||i.element.componentRendererType&&i.element.componentRendererType.encapsulation===ne.Native?cg(e,n.renderParent.nodeIndex).renderElement:void 0:t}const Ug=new WeakMap;function Gg(e){let t=Ug.get(e);return t||((t=e(()=>_g)).factory=e,Ug.set(e,t)),t}function Wg(e,t,n,i,r){3===t&&(n=e.renderer.parentNode(Lg(e,e.def.lastRenderRootNode))),$g(e,t,0,e.def.nodes.length-1,n,i,r)}function $g(e,t,n,i,r,s,o){for(let a=n;a<=i;a++){const n=e.def.nodes[a];11&n.flags&&Yg(e,n,t,r,s,o),a+=n.childCount}}function qg(e,t,n,i,r,s){let o=e;for(;o&&!Fg(o);)o=o.parent;const a=o.parent,l=Rg(o),u=l.nodeIndex+l.childCount;for(let c=l.nodeIndex+1;c<=u;c++){const e=a.def.nodes[c];e.ngContentIndex===t&&Yg(a,e,n,i,r,s),c+=e.childCount}if(!a.parent){const o=e.root.projectableNodes[t];if(o)for(let t=0;t<o.length;t++)Zg(e,o[t],n,i,r,s)}}function Yg(e,t,n,i,r,s){if(8&t.flags)qg(e,t.ngContent.index,n,i,r,s);else{const o=Lg(e,t);if(3===n&&33554432&t.flags&&48&t.bindingFlags?(16&t.bindingFlags&&Zg(e,o,n,i,r,s),32&t.bindingFlags&&Zg(cg(e,t.nodeIndex).componentView,o,n,i,r,s)):Zg(e,o,n,i,r,s),16777216&t.flags){const o=cg(e,t.nodeIndex).viewContainer._embeddedViews;for(let e=0;e<o.length;e++)Wg(o[e],n,i,r,s)}1&t.flags&&!t.element.name&&$g(e,n,t.nodeIndex+1,t.nodeIndex+t.childCount,i,r,s)}}function Zg(e,t,n,i,r,s){const o=e.renderer;switch(n){case 1:o.appendChild(i,t);break;case 2:o.insertBefore(i,t,r);break;case 3:o.removeChild(i,t);break;case 0:s.push(t)}}const Kg=/^:([^:]+):(.+)$/;function Xg(e){if(":"===e[0]){const t=e.match(Kg);return[t[1],t[2]]}return["",e]}function Qg(e){let t=0;for(let n=0;n<e.length;n++)t|=e[n].flags;return t}function Jg(e,t){let n="";for(let i=0;i<2*e;i+=2)n=n+t[i]+tm(t[i+1]);return n+t[2*e]}function em(e,t,n,i,r,s,o,a,l,u,c,h,d,p,f,g,m,v,y,_){switch(e){case 1:return t+tm(n)+i;case 2:return t+tm(n)+i+tm(r)+s;case 3:return t+tm(n)+i+tm(r)+s+tm(o)+a;case 4:return t+tm(n)+i+tm(r)+s+tm(o)+a+tm(l)+u;case 5:return t+tm(n)+i+tm(r)+s+tm(o)+a+tm(l)+u+tm(c)+h;case 6:return t+tm(n)+i+tm(r)+s+tm(o)+a+tm(l)+u+tm(c)+h+tm(d)+p;case 7:return t+tm(n)+i+tm(r)+s+tm(o)+a+tm(l)+u+tm(c)+h+tm(d)+p+tm(f)+g;case 8:return t+tm(n)+i+tm(r)+s+tm(o)+a+tm(l)+u+tm(c)+h+tm(d)+p+tm(f)+g+tm(m)+v;case 9:return t+tm(n)+i+tm(r)+s+tm(o)+a+tm(l)+u+tm(c)+h+tm(d)+p+tm(f)+g+tm(m)+v+tm(y)+_;default:throw new Error("Does not support more than 9 expressions")}}function tm(e){return null!=e?e.toString():""}const nm=[],im={};function rm(e,t,n,i,r,s){e|=1;const{matchedQueries:o,references:a,matchedQueryIds:l}=Bg(t);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:e,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:o,matchedQueryIds:l,references:a,ngContentIndex:n,childCount:i,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:s?Gg(s):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:r||_g},provider:null,text:null,query:null,ngContent:null}}function sm(e,t,n,i,r,s,o=[],a,l,u,c,h){u||(u=_g);const{matchedQueries:d,references:p,matchedQueryIds:f}=Bg(n);let g=null,m=null;s&&([g,m]=Xg(s)),a=a||[];const v=new Array(a.length);for(let b=0;b<a.length;b++){const[e,t,n]=a[b],[i,r]=Xg(t);let s=void 0,o=void 0;switch(15&e){case 4:o=n;break;case 1:case 8:s=n}v[b]={flags:e,ns:i,name:r,nonMinifiedName:r,securityContext:s,suffix:o}}l=l||[];const y=new Array(l.length);for(let b=0;b<l.length;b++){const[e,t]=l[b];y[b]={type:0,target:e,eventName:t,propName:null}}const _=(o=o||[]).map(([e,t])=>{const[n,i]=Xg(e);return[n,i,t]});return h=function(e){if(e&&e.id===Cg){const t=null!=e.encapsulation&&e.encapsulation!==ne.None||e.styles.length||Object.keys(e.data).length;e.id=t?`c${Tg++}`:Sg}return e&&e.id===Sg&&(e=null),e||null}(h),c&&(t|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:d,matchedQueryIds:f,references:p,ngContentIndex:i,childCount:r,bindings:v,bindingFlags:Qg(v),outputs:y,element:{ns:g,name:m,attrs:_,template:null,componentProvider:null,componentView:c||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:u||_g},provider:null,text:null,query:null,ngContent:null}}function om(e,t,n){const i=n.element,r=e.root.selectorOrNode,s=e.renderer;let o;if(e.parent||!r){o=i.name?s.createElement(i.name,i.ns):s.createComment("");const r=Hg(e,t,n);r&&s.appendChild(r,o)}else o=s.selectRootElement(r,!!i.componentRendererType&&i.componentRendererType.encapsulation===ne.ShadowDom);if(i.attrs)for(let a=0;a<i.attrs.length;a++){const[e,t,n]=i.attrs[a];s.setAttribute(o,t,n,e)}return o}function am(e,t,n,i){for(let r=0;r<n.outputs.length;r++){const s=n.outputs[r],o=lm(e,n.nodeIndex,Ng(s.target,s.eventName));let a=s.target,l=e;"component"===s.target&&(a=null,l=t);const u=l.renderer.listen(a||i,s.eventName,o);e.disposables[n.outputIndex+r]=u}}function lm(e,t,n){return i=>kg(e,t,n,i)}function um(e,t,n,i){if(!Ig(e,t,n,i))return!1;const r=t.bindings[n],s=cg(e,t.nodeIndex),o=s.renderElement,a=r.name;switch(15&r.flags){case 1:!function(e,t,n,i,r,s){const o=t.securityContext;let a=o?e.root.sanitizer.sanitize(o,s):s;a=null!=a?a.toString():null;const l=e.renderer;null!=s?l.setAttribute(n,r,a,i):l.removeAttribute(n,r,i)}(e,r,o,r.ns,a,i);break;case 2:!function(e,t,n,i){const r=e.renderer;i?r.addClass(t,n):r.removeClass(t,n)}(e,o,a,i);break;case 4:!function(e,t,n,i,r){let s=e.root.sanitizer.sanitize(Ol.STYLE,r);if(null!=s){s=s.toString();const e=t.suffix;null!=e&&(s+=e)}else s=null;const o=e.renderer;null!=s?o.setStyle(n,i,s):o.removeStyle(n,i)}(e,r,o,a,i);break;case 8:!function(e,t,n,i,r){const s=t.securityContext;let o=s?e.root.sanitizer.sanitize(s,r):r;e.renderer.setProperty(n,i,o)}(33554432&t.flags&&32&r.flags?s.componentView:e,r,o,a,i)}return!0}const cm=new Object,hm=wg(ga),dm=wg(pa),pm=wg(al);function fm(e,t,n,i){return n=X(n),{index:-1,deps:zg(i,Y(t)),flags:e,token:t,value:n}}function gm(e){const t={},n=[];let i=!1;for(let r=0;r<e.length;r++){const s=e[r];s.token===ka&&!0===s.value&&(i=!0),1073741824&s.flags&&n.push(s.token),s.index=r,t[wg(s.token)]=s}return{factory:null,providersByKey:t,providers:e,modules:n,isRoot:i}}function mm(e,t,n=ga.THROW_IF_NOT_FOUND){const i=It(e);try{if(8&t.flags)return t.token;if(2&t.flags&&(n=null),1&t.flags)return e._parent.get(t.token,n);const o=t.tokenKey;switch(o){case hm:case dm:case pm:return e}const a=e._def.providersByKey[o];let l;if(a){let t=e._providers[a.index];return void 0===t&&(t=e._providers[a.index]=vm(e,a)),t===cm?void 0:t}if((l=b(t.token))&&(r=e,null!=(s=l).providedIn&&(function(e,t){return e._def.modules.indexOf(s.providedIn)>-1}(r)||"root"===s.providedIn&&r._def.isRoot))){const n=e._providers.length;return e._def.providersByKey[t.tokenKey]={flags:5120,value:l.factory,deps:[],index:n,token:t.token},e._providers[n]=cm,e._providers[n]=vm(e,e._def.providersByKey[t.tokenKey])}return 4&t.flags?n:e._parent.get(t.token,n)}finally{It(i)}var r,s}function vm(e,t){let n;switch(201347067&t.flags){case 512:n=function(e,t,n){const i=n.length;switch(i){case 0:return new t;case 1:return new t(mm(e,n[0]));case 2:return new t(mm(e,n[0]),mm(e,n[1]));case 3:return new t(mm(e,n[0]),mm(e,n[1]),mm(e,n[2]));default:const r=new Array(i);for(let t=0;t<i;t++)r[t]=mm(e,n[t]);return new t(...r)}}(e,t.value,t.deps);break;case 1024:n=function(e,t,n){const i=n.length;switch(i){case 0:return t();case 1:return t(mm(e,n[0]));case 2:return t(mm(e,n[0]),mm(e,n[1]));case 3:return t(mm(e,n[0]),mm(e,n[1]),mm(e,n[2]));default:const r=Array(i);for(let t=0;t<i;t++)r[t]=mm(e,n[t]);return t(...r)}}(e,t.value,t.deps);break;case 2048:n=mm(e,t.deps[0]);break;case 256:n=t.value}return n===cm||null==n||"object"!=typeof n||131072&t.flags||"function"!=typeof n.ngOnDestroy||(t.flags|=131072),void 0===n?cm:n}function ym(e,t){const n=e.viewContainer._embeddedViews;if((null==t||t>=n.length)&&(t=n.length-1),t<0)return null;const i=n[t];return i.viewContainerParent=null,xm(n,t),gg.dirtyParentQueries(i),bm(i),i}function _m(e,t,n){const i=t?Lg(t,t.def.lastRenderRootNode):e.renderElement,r=n.renderer.parentNode(i),s=n.renderer.nextSibling(i);Wg(n,2,r,s,void 0)}function bm(e){Wg(e,3,null,null,void 0)}function wm(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function xm(e,t){t>=e.length-1?e.pop():e.splice(t,1)}const Cm=new Object;function Sm(e,t,n,i,r,s){return new Tm(e,t,n,i,r,s)}function Em(e){return e.viewDefFactory}class Tm extends el{constructor(e,t,n,i,r,s){super(),this.selector=e,this.componentType=t,this._inputs=i,this._outputs=r,this.ngContentSelectors=s,this.viewDefFactory=n}get inputs(){const e=[],t=this._inputs;for(let n in t)e.push({propName:n,templateName:t[n]});return e}get outputs(){const e=[];for(let t in this._outputs)e.push({propName:t,templateName:this._outputs[t]});return e}create(e,t,n,i){if(!i)throw new Error("ngModule should be provided");const r=Gg(this.viewDefFactory),s=r.nodes[0].element.componentProvider.nodeIndex,o=gg.createRootView(e,t||[],n,r,i,Cm),a=hg(o,s).instance;return n&&o.renderer.setAttribute(cg(o,0).renderElement,"ng-version",kl.full),new Mm(o,new Dm(o),a)}}class Mm extends Ja{constructor(e,t,n){super(),this._view=e,this._viewRef=t,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=t,this.changeDetectorRef=t,this.instance=n}get location(){return new vl(cg(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new Lm(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(e){this._viewRef.onDestroy(e)}}function Im(e,t,n){return new Om(e,t,n)}class Om{constructor(e,t,n){this._view=e,this._elDef=t,this._data=n,this._embeddedViews=[]}get element(){return new vl(this._data.renderElement)}get injector(){return new Lm(this._view,this._elDef)}get parentInjector(){let e=this._view,t=this._elDef.parent;for(;!t&&e;)t=Rg(e),e=e.parent;return e?new Lm(e,t):new Lm(this._view,null)}clear(){for(let e=this._embeddedViews.length-1;e>=0;e--){const t=ym(this._data,e);gg.destroyView(t)}}get(e){const t=this._embeddedViews[e];if(t){const e=new Dm(t);return e.attachToViewContainerRef(this),e}return null}get length(){return this._embeddedViews.length}createEmbeddedView(e,t,n){const i=e.createEmbeddedView(t||{});return this.insert(i,n),i}createComponent(e,t,n,i,r){const s=n||this.parentInjector;r||e instanceof ol||(r=s.get(al));const o=e.create(s,i,void 0,r);return this.insert(o.hostView,t),o}insert(e,t){if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=e;return function(e,t,n,i){let r=t.viewContainer._embeddedViews;null==n&&(n=r.length),i.viewContainerParent=e,wm(r,n,i),function(e,t){const n=Pg(t);if(!n||n===e||16&t.state)return;t.state|=16;let i=n.template._projectedViews;i||(i=n.template._projectedViews=[]),i.push(t),function(e,n){if(4&n.flags)return;t.parent.def.nodeFlags|=4,n.flags|=4;let i=n.parent;for(;i;)i.childFlags|=4,i=i.parent}(0,t.parentNodeDef)}(t,i),gg.dirtyParentQueries(i),_m(t,n>0?r[n-1]:null,i)}(this._view,this._data,t,n._view),n.attachToViewContainerRef(this),e}move(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(e._view);return function(e,t,i){const r=e.viewContainer._embeddedViews,s=r[n];xm(r,n),null==i&&(i=r.length),wm(r,i,s),gg.dirtyParentQueries(s),bm(s),_m(e,i>0?r[i-1]:null,s)}(this._data,0,t),e}indexOf(e){return this._embeddedViews.indexOf(e._view)}remove(e){const t=ym(this._data,e);t&&gg.destroyView(t)}detach(e){const t=ym(this._data,e);return t?new Dm(t):null}}function Am(e){return new Dm(e)}class Dm{constructor(e){this._view=e,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(e){const t=[];return Wg(e,0,void 0,void 0,t),t}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){Ag(this._view)}detach(){this._view.state&=-5}detectChanges(){const e=this._view.root.rendererFactory;e.begin&&e.begin();try{gg.checkAndUpdateView(this._view)}finally{e.end&&e.end()}}checkNoChanges(){gg.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(e){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(e)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),gg.destroyView(this._view)}detachFromAppRef(){this._appRef=null,bm(this._view),gg.dirtyParentQueries(this._view)}attachToAppRef(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}attachToViewContainerRef(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}}function km(e,t){return new Pm(e,t)}class Pm extends vc{constructor(e,t){super(),this._parentView=e,this._def=t}createEmbeddedView(e){return new Dm(gg.createEmbeddedView(this._parentView,this._def,this._def.element.template,e))}get elementRef(){return new vl(cg(this._parentView,this._def.nodeIndex).renderElement)}}function Rm(e,t){return new Lm(e,t)}class Lm{constructor(e,t){this.view=e,this.elDef=t}get(e,t=ga.THROW_IF_NOT_FOUND){return gg.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:e,tokenKey:wg(e)},t)}}function Nm(e,t){const n=e.def.nodes[t];if(1&n.flags){const t=cg(e,n.nodeIndex);return n.element.template?t.template:t.renderElement}if(2&n.flags)return ug(e,n.nodeIndex).renderText;if(20240&n.flags)return hg(e,n.nodeIndex).instance;throw new Error(`Illegal state: read nodeValue for node index ${t}`)}function Fm(e){return new Vm(e.renderer)}class Vm{constructor(e){this.delegate=e}selectRootElement(e){return this.delegate.selectRootElement(e)}createElement(e,t){const[n,i]=Xg(t),r=this.delegate.createElement(i,n);return e&&this.delegate.appendChild(e,r),r}createViewRoot(e){return e}createTemplateAnchor(e){const t=this.delegate.createComment("");return e&&this.delegate.appendChild(e,t),t}createText(e,t){const n=this.delegate.createText(t);return e&&this.delegate.appendChild(e,n),n}projectNodes(e,t){for(let n=0;n<t.length;n++)this.delegate.appendChild(e,t[n])}attachViewAfter(e,t){const n=this.delegate.parentNode(e),i=this.delegate.nextSibling(e);for(let r=0;r<t.length;r++)this.delegate.insertBefore(n,t[r],i)}detachView(e){for(let t=0;t<e.length;t++){const n=e[t],i=this.delegate.parentNode(n);this.delegate.removeChild(i,n)}}destroyView(e,t){for(let n=0;n<t.length;n++)this.delegate.destroyNode(t[n])}listen(e,t,n){return this.delegate.listen(e,t,n)}listenGlobal(e,t,n){return this.delegate.listen(e,t,n)}setElementProperty(e,t,n){this.delegate.setProperty(e,t,n)}setElementAttribute(e,t,n){const[i,r]=Xg(t);null!=n?this.delegate.setAttribute(e,r,n,i):this.delegate.removeAttribute(e,r,i)}setBindingDebugInfo(e,t,n){}setElementClass(e,t,n){n?this.delegate.addClass(e,t):this.delegate.removeClass(e,t)}setElementStyle(e,t,n){null!=n?this.delegate.setStyle(e,t,n):this.delegate.removeStyle(e,t)}invokeElementMethod(e,t,n){e[t].apply(e,n)}setText(e,t){this.delegate.setValue(e,t)}animate(){throw new Error("Renderer.animate is no longer supported!")}}function jm(e,t,n,i){return new Bm(e,t,n,i)}class Bm{constructor(e,t,n,i){this._moduleType=e,this._parent=t,this._bootstrapComponents=n,this._def=i,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(e){const t=e._def,n=e._providers=new Array(t.providers.length);for(let i=0;i<t.providers.length;i++){const r=t.providers[i];4096&r.flags||void 0===n[i]&&(n[i]=vm(e,r))}}(this)}get(e,t=ga.THROW_IF_NOT_FOUND,n=St.Default){let i=0;return n&St.SkipSelf?i|=1:n&St.Self&&(i|=4),mm(this,{token:e,tokenKey:wg(e),flags:i},t)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(rl)}destroy(){if(this._destroyed)throw new Error(`The ng module ${Y(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(e,t){const n=e._def,i=new Set;for(let r=0;r<n.providers.length;r++)if(131072&n.providers[r].flags){const t=e._providers[r];if(t&&t!==cm){const e=t.ngOnDestroy;"function"!=typeof e||i.has(t)||(e.apply(t),i.add(t))}}}(this),this._destroyListeners.forEach(e=>e())}onDestroy(e){this._destroyListeners.push(e)}}const zm=wg(xl),Hm=wg(Tl),Um=wg(vl),Gm=wg(pf),Wm=wg(vc),$m=wg(mf),qm=wg(ga),Ym=wg(pa);function Zm(e,t,n,i,r,s,o,a){const l=[];if(o)for(let c in o){const[e,t]=o[c];l[e]={flags:8,name:c,nonMinifiedName:t,ns:null,securityContext:null,suffix:null}}const u=[];if(a)for(let c in a)u.push({type:1,propName:c,target:null,eventName:a[c]});return Qm(e,t|=16384,n,i,r,r,s,l,u)}function Km(e,t,n){return Qm(-1,e|=16,null,0,t,t,n)}function Xm(e,t,n,i,r){return Qm(-1,e,t,0,n,i,r)}function Qm(e,t,n,i,r,s,o,a,l){const{matchedQueries:u,references:c,matchedQueryIds:h}=Bg(n);l||(l=[]),a||(a=[]),s=X(s);const d=zg(o,Y(r));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:u,matchedQueryIds:h,references:c,ngContentIndex:-1,childCount:i,bindings:a,bindingFlags:Qg(a),outputs:l,element:null,provider:{token:r,value:s,deps:d},text:null,query:null,ngContent:null}}function Jm(e,t){return iv(e,t)}function ev(e,t){let n=e;for(;n.parent&&!Fg(n);)n=n.parent;return rv(n.parent,Rg(n),!0,t.provider.value,t.provider.deps)}function tv(e,t){const n=rv(e,t.parent,(32768&t.flags)>0,t.provider.value,t.provider.deps);if(t.outputs.length)for(let i=0;i<t.outputs.length;i++){const r=t.outputs[i],s=n[r.propName];if(!Kd(s))throw new Error(`@Output ${r.propName} not initialized in '${n.constructor.name}'.`);{const n=s.subscribe(nv(e,t.parent.nodeIndex,r.eventName));e.disposables[t.outputIndex+i]=n.unsubscribe.bind(n)}}return n}function nv(e,t,n){return i=>kg(e,t,n,i)}function iv(e,t){const n=(8192&t.flags)>0,i=t.provider;switch(201347067&t.flags){case 512:return rv(e,t.parent,n,i.value,i.deps);case 1024:return function(e,t,n,i,r){const s=r.length;switch(s){case 0:return i();case 1:return i(ov(e,t,n,r[0]));case 2:return i(ov(e,t,n,r[0]),ov(e,t,n,r[1]));case 3:return i(ov(e,t,n,r[0]),ov(e,t,n,r[1]),ov(e,t,n,r[2]));default:const o=Array(s);for(let i=0;i<s;i++)o[i]=ov(e,t,n,r[i]);return i(...o)}}(e,t.parent,n,i.value,i.deps);case 2048:return ov(e,t.parent,n,i.deps[0]);case 256:return i.value}}function rv(e,t,n,i,r){const s=r.length;switch(s){case 0:return new i;case 1:return new i(ov(e,t,n,r[0]));case 2:return new i(ov(e,t,n,r[0]),ov(e,t,n,r[1]));case 3:return new i(ov(e,t,n,r[0]),ov(e,t,n,r[1]),ov(e,t,n,r[2]));default:const o=new Array(s);for(let i=0;i<s;i++)o[i]=ov(e,t,n,r[i]);return new i(...o)}}const sv={};function ov(e,t,n,i,r=ga.THROW_IF_NOT_FOUND){if(8&i.flags)return i.token;const s=e;2&i.flags&&(r=null);const o=i.tokenKey;o===$m&&(n=!(!t||!t.element.componentView)),t&&1&i.flags&&(n=!1,t=t.parent);let a=e;for(;a;){if(t)switch(o){case zm:return Fm(av(a,t,n));case Hm:return av(a,t,n).renderer;case Um:return new vl(cg(a,t.nodeIndex).renderElement);case Gm:return cg(a,t.nodeIndex).viewContainer;case Wm:if(t.element.template)return cg(a,t.nodeIndex).template;break;case $m:return Am(av(a,t,n));case qm:case Ym:return Rm(a,t);default:const e=(n?t.element.allProviders:t.element.publicProviders)[o];if(e){let t=hg(a,e.nodeIndex);return t||(t={instance:iv(a,e)},a.nodes[e.nodeIndex]=t),t.instance}}n=Fg(a),t=Rg(a),a=a.parent,4&i.flags&&(a=null)}const l=s.root.injector.get(i.token,sv);return l!==sv||r===sv?l:s.root.ngModule.injector.get(i.token,r)}function av(e,t,n){let i;if(n)i=cg(e,t.nodeIndex).componentView;else for(i=e;i.parent&&!Fg(i);)i=i.parent;return i}function lv(e,t,n,i,r,s){if(32768&n.flags){const t=cg(e,n.parent.nodeIndex).componentView;2&t.def.flags&&(t.state|=8)}if(t.instance[n.bindings[i].name]=r,524288&n.flags){s=s||{};const t=li.unwrap(e.oldValues[n.bindingIndex+i]);s[n.bindings[i].nonMinifiedName]=new ui(t,r,0!=(2&e.state))}return e.oldValues[n.bindingIndex+i]=r,s}function uv(e,t){if(!(e.def.nodeFlags&t))return;const n=e.def.nodes;let i=0;for(let r=0;r<n.length;r++){const s=n[r];let o=s.parent;for(!o&&s.flags&t&&hv(e,r,s.flags&t,i++),0==(s.childFlags&t)&&(r+=s.childCount);o&&1&o.flags&&r===o.nodeIndex+o.childCount;)o.directChildFlags&t&&(i=cv(e,o,t,i)),o=o.parent}}function cv(e,t,n,i){for(let r=t.nodeIndex+1;r<=t.nodeIndex+t.childCount;r++){const t=e.def.nodes[r];t.flags&n&&hv(e,r,t.flags&n,i++),r+=t.childCount}return i}function hv(e,t,n,i){const r=hg(e,t);if(!r)return;const s=r.instance;s&&(gg.setCurrentNode(e,t),1048576&n&&lg(e,512,i)&&s.ngAfterContentInit(),2097152&n&&s.ngAfterContentChecked(),4194304&n&&lg(e,768,i)&&s.ngAfterViewInit(),8388608&n&&s.ngAfterViewChecked(),131072&n&&s.ngOnDestroy())}function dv(e,t,n){let i=[];for(let r in n)i.push({propName:r,bindingType:n[r]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:t,filterId:jg(t),bindings:i},ngContent:null}}function pv(e){const t=e.def.nodeMatchedQueries;for(;e.parent&&Vg(e);){let n=e.parentNodeDef;e=e.parent;const i=n.nodeIndex+n.childCount;for(let r=0;r<=i;r++){const i=e.def.nodes[r];67108864&i.flags&&536870912&i.flags&&(i.query.filterId&t)===i.query.filterId&&pg(e,r).setDirty(),!(1&i.flags&&r+i.childCount<n.nodeIndex)&&67108864&i.childFlags&&536870912&i.childFlags||(r+=i.childCount)}}if(134217728&e.def.nodeFlags)for(let n=0;n<e.def.nodes.length;n++){const t=e.def.nodes[n];134217728&t.flags&&536870912&t.flags&&pg(e,n).setDirty(),n+=t.childCount}}function fv(e,t){const n=pg(e,t.nodeIndex);if(!n.dirty)return;let i,r=void 0;if(67108864&t.flags){const n=t.parent.parent;r=gv(e,n.nodeIndex,n.nodeIndex+n.childCount,t.query,[]),i=hg(e,t.parent.nodeIndex).instance}else 134217728&t.flags&&(r=gv(e,0,e.def.nodes.length-1,t.query,[]),i=e.component);n.reset(r);const s=t.query.bindings;let o=!1;for(let a=0;a<s.length;a++){const e=s[a];let t;switch(e.bindingType){case 0:t=n.first;break;case 1:t=n,o=!0}i[e.propName]=t}o&&n.notifyOnChanges()}function gv(e,t,n,i,r){for(let s=t;s<=n;s++){const t=e.def.nodes[s],n=t.matchedQueries[i.id];if(null!=n&&r.push(mv(e,t,n)),1&t.flags&&t.element.template&&(t.element.template.nodeMatchedQueries&i.filterId)===i.filterId){const n=cg(e,s);if((t.childMatchedQueries&i.filterId)===i.filterId&&(gv(e,s+1,s+t.childCount,i,r),s+=t.childCount),16777216&t.flags){const e=n.viewContainer._embeddedViews;for(let t=0;t<e.length;t++){const s=e[t],o=Pg(s);o&&o===n&&gv(s,0,s.def.nodes.length-1,i,r)}}const o=n.template._projectedViews;if(o)for(let e=0;e<o.length;e++){const t=o[e];gv(t,0,t.def.nodes.length-1,i,r)}}(t.childMatchedQueries&i.filterId)!==i.filterId&&(s+=t.childCount)}return r}function mv(e,t,n){if(null!=n)switch(n){case 1:return cg(e,t.nodeIndex).renderElement;case 0:return new vl(cg(e,t.nodeIndex).renderElement);case 2:return cg(e,t.nodeIndex).template;case 3:return cg(e,t.nodeIndex).viewContainer;case 4:return hg(e,t.nodeIndex).instance}}function vv(e,t){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:t}}}function yv(e,t,n){const i=Hg(e,t,n);i&&qg(e,n.ngContent.index,1,i,null,void 0)}function _v(e,t){return xv(128,e,new Array(t+1))}function bv(e,t){return xv(32,e,new Array(t))}function wv(e,t){const n=Object.keys(t),i=n.length,r=new Array(i);for(let s=0;s<i;s++){const e=n[s];r[t[e]]=e}return xv(64,e,r)}function xv(e,t,n){const i=new Array(n.length);for(let r=0;r<n.length;r++){const e=n[r];i[r]={flags:8,name:e,ns:null,nonMinifiedName:e,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:i,bindingFlags:Qg(i),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function Cv(e,t,n){const i=new Array(n.length-1);for(let r=1;r<n.length;r++)i[r-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[r]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:i,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Sv(e,t,n){let i;const r=e.renderer;i=r.createText(n.text.prefix);const s=Hg(e,t,n);return s&&r.appendChild(s,i),{renderText:i}}function Ev(e,t){return(null!=e?e.toString():"")+t.suffix}function Tv(e,t,n,i){let r=0,s=0,o=0,a=0,l=0,u=null,c=null,h=!1,d=!1,p=null;for(let f=0;f<t.length;f++){const e=t[f];if(e.nodeIndex=f,e.parent=u,e.bindingIndex=r,e.outputIndex=s,e.renderParent=c,o|=e.flags,l|=e.matchedQueryIds,e.element){const t=e.element;t.publicProviders=u?u.element.publicProviders:Object.create(null),t.allProviders=t.publicProviders,h=!1,d=!1,e.element.template&&(l|=e.element.template.nodeMatchedQueries)}if(Iv(u,e,t.length),r+=e.bindings.length,s+=e.outputs.length,!c&&3&e.flags&&(p=e),20224&e.flags){h||(h=!0,u.element.publicProviders=Object.create(u.element.publicProviders),u.element.allProviders=u.element.publicProviders);const t=0!=(32768&e.flags);0==(8192&e.flags)||t?u.element.publicProviders[wg(e.provider.token)]=e:(d||(d=!0,u.element.allProviders=Object.create(u.element.publicProviders)),u.element.allProviders[wg(e.provider.token)]=e),t&&(u.element.componentProvider=e)}if(u?(u.childFlags|=e.flags,u.directChildFlags|=e.flags,u.childMatchedQueries|=e.matchedQueryIds,e.element&&e.element.template&&(u.childMatchedQueries|=e.element.template.nodeMatchedQueries)):a|=e.flags,e.childCount>0)u=e,Mv(e)||(c=e);else for(;u&&f===u.nodeIndex+u.childCount;){const e=u.parent;e&&(e.childFlags|=u.childFlags,e.childMatchedQueries|=u.childMatchedQueries),c=(u=e)&&Mv(u)?u.renderParent:u}}return{factory:null,nodeFlags:o,rootNodeFlags:a,nodeMatchedQueries:l,flags:e,nodes:t,updateDirectives:n||_g,updateRenderer:i||_g,handleEvent:(e,n,i,r)=>t[n].element.handleEvent(e,i,r),bindingCount:r,outputCount:s,lastRenderRootNode:p}}function Mv(e){return 0!=(1&e.flags)&&null===e.element.name}function Iv(e,t,n){const i=t.element&&t.element.template;if(i){if(!i.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(i.lastRenderRootNode&&16777216&i.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${t.nodeIndex}!`)}if(20224&t.flags&&0==(1&(e?e.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${t.nodeIndex}!`);if(t.query){if(67108864&t.flags&&(!e||0==(16384&e.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${t.nodeIndex}!`);if(134217728&t.flags&&e)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${t.nodeIndex}!`)}if(t.childCount){const i=e?e.nodeIndex+e.childCount:n-1;if(t.nodeIndex<=i&&t.nodeIndex+t.childCount>i)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${t.nodeIndex}!`)}}function Ov(e,t,n,i){const r=kv(e.root,e.renderer,e,t,n);return Pv(r,e.component,i),Rv(r),r}function Av(e,t,n){const i=kv(e,e.renderer,null,null,t);return Pv(i,n,n),Rv(i),i}function Dv(e,t,n,i){const r=t.element.componentRendererType;let s;return s=r?e.root.rendererFactory.createRenderer(i,r):e.root.renderer,kv(e.root,s,e,t.element.componentProvider,n)}function kv(e,t,n,i,r){const s=new Array(r.nodes.length),o=r.outputCount?new Array(r.outputCount):null;return{def:r,parent:n,viewContainerParent:null,parentNodeDef:i,context:null,component:null,nodes:s,state:13,root:e,renderer:t,oldValues:new Array(r.bindingCount),disposables:o,initIndex:-1}}function Pv(e,t,n){e.component=t,e.context=n}function Rv(e){let t;Fg(e)&&(t=cg(e.parent,e.parentNodeDef.parent.nodeIndex).renderElement);const n=e.def,i=e.nodes;for(let r=0;r<n.nodes.length;r++){const s=n.nodes[r];let o;switch(gg.setCurrentNode(e,r),201347067&s.flags){case 1:const n=om(e,t,s);let a=void 0;if(33554432&s.flags){const t=Gg(s.element.componentView);a=gg.createComponentView(e,s,t,n)}am(e,a,s,n),o={renderElement:n,componentView:a,viewContainer:null,template:s.element.template?km(e,s):void 0},16777216&s.flags&&(o.viewContainer=Im(e,s,o));break;case 2:o=Sv(e,t,s);break;case 512:case 1024:case 2048:case 256:(o=i[r])||4096&s.flags||(o={instance:Jm(e,s)});break;case 16:o={instance:ev(e,s)};break;case 16384:(o=i[r])||(o={instance:tv(e,s)}),32768&s.flags&&Pv(cg(e,s.parent.nodeIndex).componentView,o.instance,o.instance);break;case 32:case 64:case 128:o={value:void 0};break;case 67108864:case 134217728:o=new of;break;case 8:yv(e,t,s),o=void 0}i[r]=o}Uv(e,Hv.CreateViewNodes),qv(e,201326592,268435456,0)}function Lv(e){Vv(e),gg.updateDirectives(e,1),Gv(e,Hv.CheckNoChanges),gg.updateRenderer(e,1),Uv(e,Hv.CheckNoChanges),e.state&=-97}function Nv(e){1&e.state?(e.state&=-2,e.state|=2):e.state&=-3,ag(e,0,256),Vv(e),gg.updateDirectives(e,0),Gv(e,Hv.CheckAndUpdate),qv(e,67108864,536870912,0);let t=ag(e,256,512);uv(e,2097152|(t?1048576:0)),gg.updateRenderer(e,0),Uv(e,Hv.CheckAndUpdate),qv(e,134217728,536870912,0),uv(e,8388608|((t=ag(e,512,768))?4194304:0)),2&e.def.flags&&(e.state&=-9),e.state&=-97,ag(e,768,1024)}function Fv(e,t,n,i,r,s,o,a,l,u,c,h,d){return 0===n?function(e,t,n,i,r,s,o,a,l,u,c,h){switch(201347067&t.flags){case 1:return function(e,t,n,i,r,s,o,a,l,u,c,h){const d=t.bindings.length;let p=!1;return d>0&&um(e,t,0,n)&&(p=!0),d>1&&um(e,t,1,i)&&(p=!0),d>2&&um(e,t,2,r)&&(p=!0),d>3&&um(e,t,3,s)&&(p=!0),d>4&&um(e,t,4,o)&&(p=!0),d>5&&um(e,t,5,a)&&(p=!0),d>6&&um(e,t,6,l)&&(p=!0),d>7&&um(e,t,7,u)&&(p=!0),d>8&&um(e,t,8,c)&&(p=!0),d>9&&um(e,t,9,h)&&(p=!0),p}(e,t,n,i,r,s,o,a,l,u,c,h);case 2:return function(e,t,n,i,r,s,o,a,l,u,c,h){let d=!1;const p=t.bindings,f=p.length;if(f>0&&Ig(e,t,0,n)&&(d=!0),f>1&&Ig(e,t,1,i)&&(d=!0),f>2&&Ig(e,t,2,r)&&(d=!0),f>3&&Ig(e,t,3,s)&&(d=!0),f>4&&Ig(e,t,4,o)&&(d=!0),f>5&&Ig(e,t,5,a)&&(d=!0),f>6&&Ig(e,t,6,l)&&(d=!0),f>7&&Ig(e,t,7,u)&&(d=!0),f>8&&Ig(e,t,8,c)&&(d=!0),f>9&&Ig(e,t,9,h)&&(d=!0),d){let d=t.text.prefix;f>0&&(d+=Ev(n,p[0])),f>1&&(d+=Ev(i,p[1])),f>2&&(d+=Ev(r,p[2])),f>3&&(d+=Ev(s,p[3])),f>4&&(d+=Ev(o,p[4])),f>5&&(d+=Ev(a,p[5])),f>6&&(d+=Ev(l,p[6])),f>7&&(d+=Ev(u,p[7])),f>8&&(d+=Ev(c,p[8])),f>9&&(d+=Ev(h,p[9]));const g=ug(e,t.nodeIndex).renderText;e.renderer.setValue(g,d)}return d}(e,t,n,i,r,s,o,a,l,u,c,h);case 16384:return function(e,t,n,i,r,s,o,a,l,u,c,h){const d=hg(e,t.nodeIndex),p=d.instance;let f=!1,g=void 0;const m=t.bindings.length;return m>0&&Mg(e,t,0,n)&&(f=!0,g=lv(e,d,t,0,n,g)),m>1&&Mg(e,t,1,i)&&(f=!0,g=lv(e,d,t,1,i,g)),m>2&&Mg(e,t,2,r)&&(f=!0,g=lv(e,d,t,2,r,g)),m>3&&Mg(e,t,3,s)&&(f=!0,g=lv(e,d,t,3,s,g)),m>4&&Mg(e,t,4,o)&&(f=!0,g=lv(e,d,t,4,o,g)),m>5&&Mg(e,t,5,a)&&(f=!0,g=lv(e,d,t,5,a,g)),m>6&&Mg(e,t,6,l)&&(f=!0,g=lv(e,d,t,6,l,g)),m>7&&Mg(e,t,7,u)&&(f=!0,g=lv(e,d,t,7,u,g)),m>8&&Mg(e,t,8,c)&&(f=!0,g=lv(e,d,t,8,c,g)),m>9&&Mg(e,t,9,h)&&(f=!0,g=lv(e,d,t,9,h,g)),g&&p.ngOnChanges(g),65536&t.flags&&lg(e,256,t.nodeIndex)&&p.ngOnInit(),262144&t.flags&&p.ngDoCheck(),f}(e,t,n,i,r,s,o,a,l,u,c,h);case 32:case 64:case 128:return function(e,t,n,i,r,s,o,a,l,u,c,h){const d=t.bindings;let p=!1;const f=d.length;if(f>0&&Ig(e,t,0,n)&&(p=!0),f>1&&Ig(e,t,1,i)&&(p=!0),f>2&&Ig(e,t,2,r)&&(p=!0),f>3&&Ig(e,t,3,s)&&(p=!0),f>4&&Ig(e,t,4,o)&&(p=!0),f>5&&Ig(e,t,5,a)&&(p=!0),f>6&&Ig(e,t,6,l)&&(p=!0),f>7&&Ig(e,t,7,u)&&(p=!0),f>8&&Ig(e,t,8,c)&&(p=!0),f>9&&Ig(e,t,9,h)&&(p=!0),p){const p=dg(e,t.nodeIndex);let g;switch(201347067&t.flags){case 32:g=new Array(d.length),f>0&&(g[0]=n),f>1&&(g[1]=i),f>2&&(g[2]=r),f>3&&(g[3]=s),f>4&&(g[4]=o),f>5&&(g[5]=a),f>6&&(g[6]=l),f>7&&(g[7]=u),f>8&&(g[8]=c),f>9&&(g[9]=h);break;case 64:g={},f>0&&(g[d[0].name]=n),f>1&&(g[d[1].name]=i),f>2&&(g[d[2].name]=r),f>3&&(g[d[3].name]=s),f>4&&(g[d[4].name]=o),f>5&&(g[d[5].name]=a),f>6&&(g[d[6].name]=l),f>7&&(g[d[7].name]=u),f>8&&(g[d[8].name]=c),f>9&&(g[d[9].name]=h);break;case 128:const e=n;switch(f){case 1:g=e.transform(n);break;case 2:g=e.transform(i);break;case 3:g=e.transform(i,r);break;case 4:g=e.transform(i,r,s);break;case 5:g=e.transform(i,r,s,o);break;case 6:g=e.transform(i,r,s,o,a);break;case 7:g=e.transform(i,r,s,o,a,l);break;case 8:g=e.transform(i,r,s,o,a,l,u);break;case 9:g=e.transform(i,r,s,o,a,l,u,c);break;case 10:g=e.transform(i,r,s,o,a,l,u,c,h)}}p.value=g}return p}(e,t,n,i,r,s,o,a,l,u,c,h);default:throw"unreachable"}}(e,t,i,r,s,o,a,l,u,c,h,d):function(e,t,n){switch(201347067&t.flags){case 1:return function(e,t,n){let i=!1;for(let r=0;r<n.length;r++)um(e,t,r,n[r])&&(i=!0);return i}(e,t,n);case 2:return function(e,t,n){const i=t.bindings;let r=!1;for(let s=0;s<n.length;s++)Ig(e,t,s,n[s])&&(r=!0);if(r){let r="";for(let e=0;e<n.length;e++)r+=Ev(n[e],i[e]);r=t.text.prefix+r;const s=ug(e,t.nodeIndex).renderText;e.renderer.setValue(s,r)}return r}(e,t,n);case 16384:return function(e,t,n){const i=hg(e,t.nodeIndex),r=i.instance;let s=!1,o=void 0;for(let a=0;a<n.length;a++)Mg(e,t,a,n[a])&&(s=!0,o=lv(e,i,t,a,n[a],o));return o&&r.ngOnChanges(o),65536&t.flags&&lg(e,256,t.nodeIndex)&&r.ngOnInit(),262144&t.flags&&r.ngDoCheck(),s}(e,t,n);case 32:case 64:case 128:return function(e,t,n){const i=t.bindings;let r=!1;for(let s=0;s<n.length;s++)Ig(e,t,s,n[s])&&(r=!0);if(r){const r=dg(e,t.nodeIndex);let s;switch(201347067&t.flags){case 32:s=n;break;case 64:s={};for(let t=0;t<n.length;t++)s[i[t].name]=n[t];break;case 128:const e=n[0],r=n.slice(1);s=e.transform(...r)}r.value=s}return r}(e,t,n);default:throw"unreachable"}}(e,t,i)}function Vv(e){const t=e.def;if(4&t.nodeFlags)for(let n=0;n<t.nodes.length;n++){const i=t.nodes[n];if(4&i.flags){const t=cg(e,n).template._projectedViews;if(t)for(let n=0;n<t.length;n++){const i=t[n];i.state|=32,Dg(i,e)}}else 0==(4&i.childFlags)&&(n+=i.childCount)}}function jv(e,t,n,i,r,s,o,a,l,u,c,h,d){return 0===n?function(e,t,n,i,r,s,o,a,l,u,c,h){const d=t.bindings.length;d>0&&Og(e,t,0,n),d>1&&Og(e,t,1,i),d>2&&Og(e,t,2,r),d>3&&Og(e,t,3,s),d>4&&Og(e,t,4,o),d>5&&Og(e,t,5,a),d>6&&Og(e,t,6,l),d>7&&Og(e,t,7,u),d>8&&Og(e,t,8,c),d>9&&Og(e,t,9,h)}(e,t,i,r,s,o,a,l,u,c,h,d):function(e,t,n){for(let i=0;i<n.length;i++)Og(e,t,i,n[i])}(e,t,i),!1}function Bv(e,t){if(pg(e,t.nodeIndex).dirty)throw mg(gg.createDebugContext(e,t.nodeIndex),`Query ${t.query.id} not dirty`,`Query ${t.query.id} dirty`,0!=(1&e.state))}function zv(e){if(!(128&e.state)){if(Gv(e,Hv.Destroy),Uv(e,Hv.Destroy),uv(e,131072),e.disposables)for(let t=0;t<e.disposables.length;t++)e.disposables[t]();!function(e){if(!(16&e.state))return;const t=Pg(e);if(t){const n=t.template._projectedViews;n&&(xm(n,n.indexOf(e)),gg.dirtyParentQueries(e))}}(e),e.renderer.destroyNode&&function(e){const t=e.def.nodes.length;for(let n=0;n<t;n++){const t=e.def.nodes[n];1&t.flags?e.renderer.destroyNode(cg(e,n).renderElement):2&t.flags?e.renderer.destroyNode(ug(e,n).renderText):(67108864&t.flags||134217728&t.flags)&&pg(e,n).destroy()}}(e),Fg(e)&&e.renderer.destroy(),e.state|=128}}const Hv=function(){var e={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return e[e.CreateViewNodes]="CreateViewNodes",e[e.CheckNoChanges]="CheckNoChanges",e[e.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",e[e.CheckAndUpdate]="CheckAndUpdate",e[e.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",e[e.Destroy]="Destroy",e}();function Uv(e,t){const n=e.def;if(33554432&n.nodeFlags)for(let i=0;i<n.nodes.length;i++){const r=n.nodes[i];33554432&r.flags?Wv(cg(e,i).componentView,t):0==(33554432&r.childFlags)&&(i+=r.childCount)}}function Gv(e,t){const n=e.def;if(16777216&n.nodeFlags)for(let i=0;i<n.nodes.length;i++){const r=n.nodes[i];if(16777216&r.flags){const n=cg(e,i).viewContainer._embeddedViews;for(let e=0;e<n.length;e++)Wv(n[e],t)}else 0==(16777216&r.childFlags)&&(i+=r.childCount)}}function Wv(e,t){const n=e.state;switch(t){case Hv.CheckNoChanges:0==(128&n)&&(12==(12&n)?Lv(e):64&n&&$v(e,Hv.CheckNoChangesProjectedViews));break;case Hv.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?Lv(e):64&n&&$v(e,t));break;case Hv.CheckAndUpdate:0==(128&n)&&(12==(12&n)?Nv(e):64&n&&$v(e,Hv.CheckAndUpdateProjectedViews));break;case Hv.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?Nv(e):64&n&&$v(e,t));break;case Hv.Destroy:zv(e);break;case Hv.CreateViewNodes:Rv(e)}}function $v(e,t){Gv(e,t),Uv(e,t)}function qv(e,t,n,i){if(!(e.def.nodeFlags&t&&e.def.nodeFlags&n))return;const r=e.def.nodes.length;for(let s=0;s<r;s++){const r=e.def.nodes[s];if(r.flags&t&&r.flags&n)switch(gg.setCurrentNode(e,r.nodeIndex),i){case 0:fv(e,r);break;case 1:Bv(e,r)}r.childFlags&t&&r.childFlags&n||(s+=r.childCount)}}let Yv=!1;function Zv(){if(Yv)return;Yv=!0;const e=zl()?{setCurrentNode:yy,createRootView:Xv,createEmbeddedView:Jv,createComponentView:ey,createNgModuleRef:ty,overrideProvider:sy,overrideComponentView:oy,clearOverrides:ay,checkAndUpdateView:hy,checkNoChangesView:dy,destroyView:py,createDebugContext:(e,t)=>new Ty(e,t),handleEvent:_y,updateDirectives:by,updateRenderer:wy}:{setCurrentNode:()=>{},createRootView:Kv,createEmbeddedView:Ov,createComponentView:Dv,createNgModuleRef:jm,overrideProvider:_g,overrideComponentView:_g,clearOverrides:_g,checkAndUpdateView:Nv,checkNoChangesView:Lv,destroyView:zv,createDebugContext:(e,t)=>new Ty(e,t),handleEvent:(e,t,n,i)=>e.def.handleEvent(e,t,n,i),updateDirectives:(e,t)=>e.def.updateDirectives(0===t?uy:cy,e),updateRenderer:(e,t)=>e.def.updateRenderer(0===t?uy:cy,e)};gg.setCurrentNode=e.setCurrentNode,gg.createRootView=e.createRootView,gg.createEmbeddedView=e.createEmbeddedView,gg.createComponentView=e.createComponentView,gg.createNgModuleRef=e.createNgModuleRef,gg.overrideProvider=e.overrideProvider,gg.overrideComponentView=e.overrideComponentView,gg.clearOverrides=e.clearOverrides,gg.checkAndUpdateView=e.checkAndUpdateView,gg.checkNoChangesView=e.checkNoChangesView,gg.destroyView=e.destroyView,gg.resolveDep=ov,gg.createDebugContext=e.createDebugContext,gg.handleEvent=e.handleEvent,gg.updateDirectives=e.updateDirectives,gg.updateRenderer=e.updateRenderer,gg.dirtyParentQueries=pv}function Kv(e,t,n,i,r,s){const o=r.injector.get(Sl);return Av(Qv(e,r,o,t,n),i,s)}function Xv(e,t,n,i,r,s){const o=r.injector.get(Sl),a=Qv(e,r,new Ay(o),t,n),l=ly(i);return Iy(fy.create,Av,null,[a,l,s])}function Qv(e,t,n,i,r){const s=t.injector.get(Al),o=t.injector.get(Td),a=n.createRenderer(null,null);return{ngModule:t,injector:e,projectableNodes:i,selectorOrNode:r,sanitizer:s,rendererFactory:n,renderer:a,errorHandler:o}}function Jv(e,t,n,i){const r=ly(n);return Iy(fy.create,Ov,null,[e,t,r,i])}function ey(e,t,n,i){return n=ry.get(t.element.componentProvider.provider.token)||ly(n),Iy(fy.create,Dv,null,[e,t,n,i])}function ty(e,t,n,i){return jm(e,t,n,function(e){const{hasOverrides:t,hasDeprecatedOverrides:n}=function(e){let t=!1,n=!1;return 0===ny.size?{hasOverrides:t,hasDeprecatedOverrides:n}:(e.providers.forEach(e=>{const i=ny.get(e.token);3840&e.flags&&i&&(t=!0,n=n||i.deprecatedBehavior)}),e.modules.forEach(e=>{iy.forEach((i,r)=>{b(r).providedIn===e&&(t=!0,n=n||i.deprecatedBehavior)})}),{hasOverrides:t,hasDeprecatedOverrides:n})}(e);return t?(function(e){for(let t=0;t<e.providers.length;t++){const i=e.providers[t];n&&(i.flags|=4096);const r=ny.get(i.token);r&&(i.flags=-3841&i.flags|r.flags,i.deps=zg(r.deps),i.value=r.value)}if(iy.size>0){let t=new Set(e.modules);iy.forEach((i,r)=>{if(t.has(b(r).providedIn)){let t={token:r,flags:i.flags|(n?4096:0),deps:zg(i.deps),value:i.value,index:e.providers.length};e.providers.push(t),e.providersByKey[wg(r)]=t}})}}(e=e.factory(()=>_g)),e):e}(i))}const ny=new Map,iy=new Map,ry=new Map;function sy(e){let t;ny.set(e.token,e),"function"==typeof e.token&&(t=b(e.token))&&"function"==typeof t.providedIn&&iy.set(e.token,e)}function oy(e,t){const n=Gg(Em(t)),i=Gg(n.nodes[0].element.componentView);ry.set(e,i)}function ay(){ny.clear(),iy.clear(),ry.clear()}function ly(e){if(0===ny.size)return e;const t=function(e){const t=[];let n=null;for(let i=0;i<e.nodes.length;i++){const r=e.nodes[i];1&r.flags&&(n=r),n&&3840&r.flags&&ny.has(r.provider.token)&&(t.push(n.nodeIndex),n=null)}return t}(e);if(0===t.length)return e;e=e.factory(()=>_g);for(let i=0;i<t.length;i++)n(e,t[i]);return e;function n(e,t){for(let n=t+1;n<e.nodes.length;n++){const t=e.nodes[n];if(1&t.flags)return;if(3840&t.flags){const e=t.provider,n=ny.get(e.token);n&&(t.flags=-3841&t.flags|n.flags,e.deps=zg(n.deps),e.value=n.value)}}}}function uy(e,t,n,i,r,s,o,a,l,u,c,h,d){const p=e.def.nodes[t];return Fv(e,p,n,i,r,s,o,a,l,u,c,h,d),224&p.flags?dg(e,t).value:void 0}function cy(e,t,n,i,r,s,o,a,l,u,c,h,d){const p=e.def.nodes[t];return jv(e,p,n,i,r,s,o,a,l,u,c,h,d),224&p.flags?dg(e,t).value:void 0}function hy(e){return Iy(fy.detectChanges,Nv,null,[e])}function dy(e){return Iy(fy.checkNoChanges,Lv,null,[e])}function py(e){return Iy(fy.destroy,zv,null,[e])}const fy=function(){var e={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return e[e.create]="create",e[e.detectChanges]="detectChanges",e[e.checkNoChanges]="checkNoChanges",e[e.destroy]="destroy",e[e.handleEvent]="handleEvent",e}();let gy,my,vy;function yy(e,t){my=e,vy=t}function _y(e,t,n,i){return yy(e,t),Iy(fy.handleEvent,e.def.handleEvent,null,[e,t,n,i])}function by(e,t){if(128&e.state)throw yg(fy[gy]);return yy(e,Sy(e,0)),e.def.updateDirectives(function(e,n,i,...r){const s=e.def.nodes[n];return 0===t?xy(e,s,i,r):Cy(e,s,i,r),16384&s.flags&&yy(e,Sy(e,n)),224&s.flags?dg(e,s.nodeIndex).value:void 0},e)}function wy(e,t){if(128&e.state)throw yg(fy[gy]);return yy(e,Ey(e,0)),e.def.updateRenderer(function(e,n,i,...r){const s=e.def.nodes[n];return 0===t?xy(e,s,i,r):Cy(e,s,i,r),3&s.flags&&yy(e,Ey(e,n)),224&s.flags?dg(e,s.nodeIndex).value:void 0},e)}function xy(e,t,n,i){if(Fv(e,t,n,...i)){const o=1===n?i[0]:i;if(16384&t.flags){const n={};for(let e=0;e<t.bindings.length;e++){const i=t.bindings[e],a=o[e];8&i.flags&&(n[(r=i.nonMinifiedName,s=void 0,s=r.replace(/[$@]/g,"_"),`ng-reflect-${r=s.replace(si,(...e)=>"-"+e[1].toLowerCase())}`)]=oi(a))}const i=t.parent,a=cg(e,i.nodeIndex).renderElement;if(i.element.name)for(let t in n){const i=n[t];null!=i?e.renderer.setAttribute(a,t,i):e.renderer.removeAttribute(a,t)}else e.renderer.setValue(a,`bindings=${JSON.stringify(n,null,2)}`)}}var r,s}function Cy(e,t,n,i){jv(e,t,n,...i)}function Sy(e,t){for(let n=t;n<e.def.nodes.length;n++){const t=e.def.nodes[n];if(16384&t.flags&&t.bindings&&t.bindings.length)return n}return null}function Ey(e,t){for(let n=t;n<e.def.nodes.length;n++){const t=e.def.nodes[n];if(3&t.flags&&t.bindings&&t.bindings.length)return n}return null}class Ty{constructor(e,t){this.view=e,this.nodeIndex=t,null==t&&(this.nodeIndex=t=0),this.nodeDef=e.def.nodes[t];let n=this.nodeDef,i=e;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&i;)n=Rg(i),i=i.parent;this.elDef=n,this.elView=i}get elOrCompView(){return cg(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return Rm(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const e=[];if(this.elDef)for(let t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){const n=this.elView.def.nodes[t];20224&n.flags&&e.push(n.provider.token),t+=n.childCount}return e}get references(){const e={};if(this.elDef){My(this.elView,this.elDef,e);for(let t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){const n=this.elView.def.nodes[t];20224&n.flags&&My(this.elView,n,e),t+=n.childCount}}return e}get componentRenderElement(){const e=function(e){for(;e&&!Fg(e);)e=e.parent;return e.parent?cg(e.parent,Rg(e).nodeIndex):null}(this.elOrCompView);return e?e.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?Lg(this.view,this.nodeDef):Lg(this.elView,this.elDef)}logError(e,...t){let n,i;2&this.nodeDef.flags?(n=this.view.def,i=this.nodeDef.nodeIndex):(n=this.elView.def,i=this.elDef.nodeIndex);const r=function(e,t){let n=-1;for(let i=0;i<=t;i++)3&e.nodes[i].flags&&n++;return n}(n,i);let s=-1;n.factory(()=>++s===r?e.error.bind(e,...t):_g),s<r&&(e.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),e.error(...t))}}function My(e,t,n){for(let i in t.references)n[i]=mv(e,t,t.references[i])}function Iy(e,t,n,i){const r=gy,s=my,o=vy;try{gy=e;const l=t.apply(n,i);return my=s,vy=o,gy=r,l}catch(a){if(Cd(a)||!my)throw a;throw function(e,t){return e instanceof Error||(e=new Error(e.toString())),vg(e,t),e}(a,Oy())}}function Oy(){return my?new Ty(my,vy):null}class Ay{constructor(e){this.delegate=e}createRenderer(e,t){return new Dy(this.delegate.createRenderer(e,t))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class Dy{constructor(e){this.delegate=e,this.debugContextFactory=Oy,this.data=this.delegate.data}createDebugContext(e){return this.debugContextFactory(e)}destroyNode(e){!function(e){If.delete(e.nativeNode)}(Af(e)),this.delegate.destroyNode&&this.delegate.destroyNode(e)}destroy(){this.delegate.destroy()}createElement(e,t){const n=this.delegate.createElement(e,t),i=this.createDebugContext(n);if(i){const t=new Cf(n,null,i);t.name=e,Df(t)}return n}createComment(e){const t=this.delegate.createComment(e),n=this.createDebugContext(t);return n&&Df(new xf(t,null,n)),t}createText(e){const t=this.delegate.createText(e),n=this.createDebugContext(t);return n&&Df(new xf(t,null,n)),t}appendChild(e,t){const n=Af(e),i=Af(t);n&&i&&n instanceof Cf&&n.addChild(i),this.delegate.appendChild(e,t)}insertBefore(e,t,n){const i=Af(e),r=Af(t),s=Af(n);i&&r&&i instanceof Cf&&i.insertBefore(s,r),this.delegate.insertBefore(e,t,n)}removeChild(e,t){const n=Af(e),i=Af(t);n&&i&&n instanceof Cf&&n.removeChild(i),this.delegate.removeChild(e,t)}selectRootElement(e,t){const n=this.delegate.selectRootElement(e,t),i=Oy();return i&&Df(new Cf(n,null,i)),n}setAttribute(e,t,n,i){const r=Af(e);r&&r instanceof Cf&&(r.attributes[i?i+":"+t:t]=n),this.delegate.setAttribute(e,t,n,i)}removeAttribute(e,t,n){const i=Af(e);i&&i instanceof Cf&&(i.attributes[n?n+":"+t:t]=null),this.delegate.removeAttribute(e,t,n)}addClass(e,t){const n=Af(e);n&&n instanceof Cf&&(n.classes[t]=!0),this.delegate.addClass(e,t)}removeClass(e,t){const n=Af(e);n&&n instanceof Cf&&(n.classes[t]=!1),this.delegate.removeClass(e,t)}setStyle(e,t,n,i){const r=Af(e);r&&r instanceof Cf&&(r.styles[t]=n),this.delegate.setStyle(e,t,n,i)}removeStyle(e,t,n){const i=Af(e);i&&i instanceof Cf&&(i.styles[t]=null),this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){const i=Af(e);i&&i instanceof Cf&&(i.properties[t]=n),this.delegate.setProperty(e,t,n)}listen(e,t,n){if("string"!=typeof e){const i=Af(e);i&&i.listeners.push(new wf(t,n))}return this.delegate.listen(e,t,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setValue(e,t){return this.delegate.setValue(e,t)}}function ky(e){return Zv(),gg.overrideProvider(e)}function Py(e,t){return Zv(),gg.overrideComponentView(e,t)}function Ry(){return Zv(),gg.clearOverrides()}function Ly(e,t,n){return new Ny(e,t,n)}class Ny extends ll{constructor(e,t,n){super(),this.moduleType=e,this._bootstrapComponents=t,this._ngModuleDefFactory=n}create(e){Zv();const t=function(e){const t=Array.from(e.providers),n=Array.from(e.modules),i={};for(const r in e.providersByKey)i[r]=e.providersByKey[r];return{factory:e.factory,isRoot:e.isRoot,providers:t,modules:n,providersByKey:i}}(Gg(this._ngModuleDefFactory));return gg.createNgModuleRef(this.moduleType,e||ga.NULL,this._bootstrapComponents,t)}}},"9ppp":function(e,t,n){"use strict";function i(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}n.d(t,"a",function(){return r}),i.prototype=Object.create(Error.prototype);const r=i},CRDf:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("kJWO");const r=e=>t=>{const n=e[i.a]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)}},Cfvw:function(e,t,n){"use strict";var i=n("HDdC"),r=n("c2HN"),s=n("I55L"),o=n("kJWO"),a=n("Lhse"),l=n("yCtX"),u=n("quSY"),c=n("a7t3"),h=n("pLzU"),d=n("CRDf"),p=n("SeVD");function f(e,t){if(!t)return e instanceof i.a?e:new i.a(Object(p.a)(e));if(null!=e){if(function(e){return e&&"function"==typeof e[o.a]}(e))return function(e,t){return new i.a(t?n=>{const i=new u.a;return i.add(t.schedule(()=>{const r=e[o.a]();i.add(r.subscribe({next(e){i.add(t.schedule(()=>n.next(e)))},error(e){i.add(t.schedule(()=>n.error(e)))},complete(){i.add(t.schedule(()=>n.complete()))}}))})),i}:Object(d.a)(e))}(e,t);if(Object(r.a)(e))return function(e,t){return new i.a(t?n=>{const i=new u.a;return i.add(t.schedule(()=>e.then(e=>{i.add(t.schedule(()=>{n.next(e),i.add(t.schedule(()=>n.complete()))}))},e=>{i.add(t.schedule(()=>n.error(e)))}))),i}:Object(c.a)(e))}(e,t);if(Object(s.a)(e))return Object(l.a)(e,t);if(function(e){return e&&"function"==typeof e[a.a]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new i.a(t?n=>{const i=new u.a;let r;return i.add(()=>{r&&"function"==typeof r.return&&r.return()}),i.add(t.schedule(()=>{r=e[a.a](),i.add(t.schedule(function(){if(n.closed)return;let e,t;try{const s=r.next();e=s.value,t=s.done}catch(i){return void n.error(i)}t?n.complete():(n.next(e),this.schedule())}))})),i}:Object(h.a)(e))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}n.d(t,"a",function(){return f})},Czxz:function(e,t,n){var i=n("mrSG").__decorate,r=n("mrSG").__metadata;Object.defineProperty(t,"__esModule",{value:!0});var s=n("8Y7J"),o=n("SVse"),a=n("7LN8"),l=n("mU/a"),u=n("sdDj"),c=n("P3jN"),h=n("8Y7J"),d=n("qCKp"),p=function(){function e(){this.sortSource=new d.Subject,this.selectionSource=new d.Subject,this.contextMenuSource=new d.Subject,this.valueSource=new d.Subject,this.totalRecordsSource=new d.Subject,this.columnsSource=new d.Subject,this.sortSource$=this.sortSource.asObservable(),this.selectionSource$=this.selectionSource.asObservable(),this.contextMenuSource$=this.contextMenuSource.asObservable(),this.valueSource$=this.valueSource.asObservable(),this.totalRecordsSource$=this.totalRecordsSource.asObservable(),this.columnsSource$=this.columnsSource.asObservable()}return e.prototype.onSort=function(e){this.sortSource.next(e)},e.prototype.onSelectionChange=function(){this.selectionSource.next()},e.prototype.onContextMenu=function(e){this.contextMenuSource.next(e)},e.prototype.onValueChange=function(e){this.valueSource.next(e)},e.prototype.onTotalRecordsChange=function(e){this.totalRecordsSource.next(e)},e.prototype.onColumnsChange=function(e){this.columnsSource.next(e)},i([h.Injectable()],e)}();t.TableService=p;var f=function(){function e(e,t,n){this.el=e,this.zone=t,this.tableService=n,this.first=0,this.pageLinks=5,this.alwaysShowPaginator=!0,this.paginatorPosition="bottom",this.defaultSortOrder=1,this.sortMode="single",this.resetPageOnSort=!0,this.selectionChange=new s.EventEmitter,this.contextMenuSelectionChange=new s.EventEmitter,this.contextMenuSelectionMode="separate",this.rowTrackBy=function(e,t){return t},this.lazy=!1,this.lazyLoadOnInit=!0,this.compareSelectionBy="deepEquals",this.csvSeparator=",",this.exportFilename="download",this.filters={},this.filterDelay=300,this.expandedRowKeys={},this.rowExpandMode="multiple",this.virtualScrollDelay=500,this.virtualRowHeight=28,this.columnResizeMode="fit",this.loadingIcon="pi pi-spinner",this.stateStorage="session",this.onRowSelect=new s.EventEmitter,this.onRowUnselect=new s.EventEmitter,this.onPage=new s.EventEmitter,this.onSort=new s.EventEmitter,this.onFilter=new s.EventEmitter,this.onLazyLoad=new s.EventEmitter,this.onRowExpand=new s.EventEmitter,this.onRowCollapse=new s.EventEmitter,this.onContextMenuSelect=new s.EventEmitter,this.onColResize=new s.EventEmitter,this.onColReorder=new s.EventEmitter,this.onRowReorder=new s.EventEmitter,this.onEditInit=new s.EventEmitter,this.onEditComplete=new s.EventEmitter,this.onEditCancel=new s.EventEmitter,this.onHeaderCheckboxToggle=new s.EventEmitter,this.sortFunction=new s.EventEmitter,this._value=[],this._totalRecords=0,this.selectionKeys={},this._sortOrder=1,this.filterConstraints={startsWith:function(e,t){if(null==t||""===t.trim())return!0;if(null==e)return!1;var n=c.ObjectUtils.removeAccents(t.toString()).toLowerCase();return c.ObjectUtils.removeAccents(e.toString()).toLowerCase().slice(0,n.length)===n},contains:function(e,t){if(null==t||"string"==typeof t&&""===t.trim())return!0;if(null==e)return!1;var n=c.ObjectUtils.removeAccents(t.toString()).toLowerCase();return-1!==c.ObjectUtils.removeAccents(e.toString()).toLowerCase().indexOf(n)},endsWith:function(e,t){if(null==t||""===t.trim())return!0;if(null==e)return!1;var n=c.ObjectUtils.removeAccents(t.toString()).toLowerCase(),i=c.ObjectUtils.removeAccents(e.toString()).toLowerCase();return-1!==i.indexOf(n,i.length-n.length)},equals:function(e,t){return null==t||"string"==typeof t&&""===t.trim()||null!=e&&(e.getTime&&t.getTime?e.getTime()===t.getTime():c.ObjectUtils.removeAccents(e.toString()).toLowerCase()==c.ObjectUtils.removeAccents(t.toString()).toLowerCase())},notEquals:function(e,t){return!(null==t||"string"==typeof t&&""===t.trim()||null!=e&&(e.getTime&&t.getTime?e.getTime()===t.getTime():c.ObjectUtils.removeAccents(e.toString()).toLowerCase()==c.ObjectUtils.removeAccents(t.toString()).toLowerCase()))},in:function(e,t){if(null==t||0===t.length)return!0;for(var n=0;n<t.length;n++)if(t[n]===e||e.getTime&&t[n].getTime&&e.getTime()===t[n].getTime())return!0;return!1},lt:function(e,t){return null==t||null!=e&&(e.getTime&&t.getTime?e.getTime()<t.getTime():e<t)},lte:function(e,t){return null==t||null!=e&&(e.getTime&&t.getTime?e.getTime()<=t.getTime():e<=t)},gt:function(e,t){return null==t||null!=e&&(e.getTime&&t.getTime?e.getTime()>t.getTime():e>t)},gte:function(e,t){return null==t||null!=e&&(e.getTime&&t.getTime?e.getTime()>=t.getTime():e>=t)}}}return e.prototype.ngOnInit=function(){this.lazy&&this.lazyLoadOnInit&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.initialized=!0},e.prototype.ngAfterContentInit=function(){var e=this;this.templates.forEach(function(t){switch(t.getType()){case"caption":e.captionTemplate=t.template;break;case"header":e.headerTemplate=t.template;break;case"body":e.bodyTemplate=t.template;break;case"footer":e.footerTemplate=t.template;break;case"summary":e.summaryTemplate=t.template;break;case"colgroup":e.colGroupTemplate=t.template;break;case"rowexpansion":e.expandedRowTemplate=t.template;break;case"frozenrows":e.frozenRowsTemplate=t.template;break;case"frozenheader":e.frozenHeaderTemplate=t.template;break;case"frozenbody":e.frozenBodyTemplate=t.template;break;case"frozenfooter":e.frozenFooterTemplate=t.template;break;case"frozencolgroup":e.frozenColGroupTemplate=t.template;break;case"emptymessage":e.emptyMessageTemplate=t.template;break;case"paginatorleft":e.paginatorLeftTemplate=t.template;break;case"paginatorright":e.paginatorRightTemplate=t.template}})},e.prototype.ngAfterViewInit=function(){this.isStateful()&&this.resizableColumns&&this.restoreColumnWidths()},Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){this.isStateful()&&!this.stateRestored&&this.restoreState(),this._value=e,this.lazy||(this.totalRecords=this._value?this._value.length:0,"single"==this.sortMode&&this.sortField?this.sortSingle():"multiple"==this.sortMode&&this.multiSortMeta?this.sortMultiple():this.hasFilter()&&this._filter()),this.virtualScroll&&this.virtualScrollCallback&&this.virtualScrollCallback(),this.tableService.onValueChange(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columns",{get:function(){return this._columns},set:function(e){this._columns=e,this.tableService.onColumnsChange(e),this._columns&&this.isStateful()&&this.reorderableColumns&&!this.columnOrderStateRestored&&this.restoreColumnOrder()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalRecords",{get:function(){return this._totalRecords},set:function(e){this._totalRecords=e,this.tableService.onTotalRecordsChange(this._totalRecords)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sortField",{get:function(){return this._sortField},set:function(e){this._sortField=e,this.lazy&&!this.initialized||"single"===this.sortMode&&this.sortSingle()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sortOrder",{get:function(){return this._sortOrder},set:function(e){this._sortOrder=e,this.lazy&&!this.initialized||"single"===this.sortMode&&this.sortSingle()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"multiSortMeta",{get:function(){return this._multiSortMeta},set:function(e){this._multiSortMeta=e,"multiple"===this.sortMode&&this.sortMultiple()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selection",{get:function(){return this._selection},set:function(e){this._selection=e,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange()),this.preventSelectionSetterPropagation=!1},enumerable:!0,configurable:!0}),e.prototype.updateSelectionKeys=function(){if(this.dataKey&&this._selection)if(this.selectionKeys={},Array.isArray(this._selection))for(var e=0,t=this._selection;e<t.length;e++)this.selectionKeys[String(c.ObjectUtils.resolveFieldData(t[e],this.dataKey))]=1;else this.selectionKeys[String(c.ObjectUtils.resolveFieldData(this._selection,this.dataKey))]=1},e.prototype.onPageChange=function(e){this.first=e.first,this.rows=e.rows,this.lazy&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.onPage.emit({first:this.first,rows:this.rows}),this.tableService.onValueChange(this.value),this.isStateful()&&this.saveState()},e.prototype.sort=function(e){var t=e.originalEvent;if("single"===this.sortMode&&(this._sortOrder=this.sortField===e.field?-1*this.sortOrder:this.defaultSortOrder,this._sortField=e.field,this.sortSingle()),"multiple"===this.sortMode){var n=t.metaKey||t.ctrlKey,i=this.getSortMeta(e.field);i?n?i.order=-1*i.order:this._multiSortMeta=[{field:e.field,order:-1*i.order}]:(n&&this.multiSortMeta||(this._multiSortMeta=[]),this.multiSortMeta.push({field:e.field,order:this.defaultSortOrder})),this.sortMultiple()}this.isStateful()&&this.saveState()},e.prototype.sortSingle=function(){var e=this;if(this.sortField&&this.sortOrder){this.restoringSort?this.restoringSort=!1:this.resetPageOnSort&&(this.first=0),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,field:this.sortField,order:this.sortOrder}):this.value.sort(function(t,n){var i,r=c.ObjectUtils.resolveFieldData(t,e.sortField),s=c.ObjectUtils.resolveFieldData(n,e.sortField);return i=null==r&&null!=s?-1:null!=r&&null==s?1:null==r&&null==s?0:"string"==typeof r&&"string"==typeof s?r.localeCompare(s):r<s?-1:r>s?1:0,e.sortOrder*i}),this.hasFilter()&&this._filter());var t={field:this.sortField,order:this.sortOrder};this.onSort.emit(t),this.tableService.onSort(t)}},e.prototype.sortMultiple=function(){var e=this;this.multiSortMeta&&(this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,multiSortMeta:this.multiSortMeta}):this.value.sort(function(t,n){return e.multisortField(t,n,e.multiSortMeta,0)}),this.hasFilter()&&this._filter()),this.onSort.emit({multisortmeta:this.multiSortMeta}),this.tableService.onSort(this.multiSortMeta))},e.prototype.multisortField=function(e,t,n,i){var r=c.ObjectUtils.resolveFieldData(e,n[i].field),s=c.ObjectUtils.resolveFieldData(t,n[i].field),o=null;if(null==r&&null!=s?o=-1:null!=r&&null==s?o=1:null==r&&null==s&&(o=0),"string"==typeof r||r instanceof String){if(r.localeCompare&&r!=s)return n[i].order*r.localeCompare(s)}else o=r<s?-1:1;return r==s?n.length-1>i?this.multisortField(e,t,n,i+1):0:n[i].order*o},e.prototype.getSortMeta=function(e){if(this.multiSortMeta&&this.multiSortMeta.length)for(var t=0;t<this.multiSortMeta.length;t++)if(this.multiSortMeta[t].field===e)return this.multiSortMeta[t];return null},e.prototype.isSorted=function(e){if("single"===this.sortMode)return this.sortField&&this.sortField===e;if("multiple"===this.sortMode){var t=!1;if(this.multiSortMeta)for(var n=0;n<this.multiSortMeta.length;n++)if(this.multiSortMeta[n].field==e){t=!0;break}return t}},e.prototype.handleRowClick=function(e){var t=e.originalEvent.target,n=t.nodeName,i=t.parentElement.nodeName;if("INPUT"!=n&&"BUTTON"!=n&&"A"!=n&&"INPUT"!=i&&"BUTTON"!=i&&"A"!=i&&!u.DomHandler.hasClass(e.originalEvent.target,"ui-clickable")){if(this.selectionMode){if(this.preventSelectionSetterPropagation=!0,this.isMultipleSelectionMode()&&e.originalEvent.shiftKey&&null!=this.anchorRowIndex)u.DomHandler.clearSelection(),null!=this.rangeRowIndex&&this.clearSelectionRange(e.originalEvent),this.rangeRowIndex=e.rowIndex,this.selectRange(e.originalEvent,e.rowIndex);else{var r=e.rowData,s=this.isSelected(r),o=!this.rowTouched&&this.metaKeySelection,a=this.dataKey?String(c.ObjectUtils.resolveFieldData(r,this.dataKey)):null;if(this.anchorRowIndex=e.rowIndex,this.rangeRowIndex=e.rowIndex,o){var l=e.originalEvent.metaKey||e.originalEvent.ctrlKey;if(s&&l){if(this.isSingleSelectionMode())this._selection=null,this.selectionKeys={},this.selectionChange.emit(null);else{var h=this.findIndexInSelection(r);this._selection=this.selection.filter(function(e,t){return t!=h}),this.selectionChange.emit(this.selection),a&&delete this.selectionKeys[a]}this.onRowUnselect.emit({originalEvent:e.originalEvent,data:r,type:"row"})}else this.isSingleSelectionMode()?(this._selection=r,this.selectionChange.emit(r),a&&(this.selectionKeys={},this.selectionKeys[a]=1)):this.isMultipleSelectionMode()&&(l?this._selection=this.selection||[]:(this._selection=[],this.selectionKeys={}),this._selection=this.selection.concat([r]),this.selectionChange.emit(this.selection),a&&(this.selectionKeys[a]=1)),this.onRowSelect.emit({originalEvent:e.originalEvent,data:r,type:"row",index:e.rowIndex})}else if("single"===this.selectionMode)s?(this._selection=null,this.selectionKeys={},this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,data:r,type:"row"})):(this._selection=r,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,data:r,type:"row",index:e.rowIndex}),a&&(this.selectionKeys={},this.selectionKeys[a]=1));else if("multiple"===this.selectionMode)if(s){var d=this.findIndexInSelection(r);this._selection=this.selection.filter(function(e,t){return t!=d}),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,data:r,type:"row"}),a&&delete this.selectionKeys[a]}else this._selection=this.selection?this.selection.concat([r]):[r],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,data:r,type:"row",index:e.rowIndex}),a&&(this.selectionKeys[a]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}this.rowTouched=!1}},e.prototype.handleRowTouchEnd=function(e){this.rowTouched=!0},e.prototype.handleRowRightClick=function(e){if(this.contextMenu){var t=e.rowData;if("separate"===this.contextMenuSelectionMode)this.contextMenuSelection=t,this.contextMenuSelectionChange.emit(t),this.onContextMenuSelect.emit({originalEvent:e.originalEvent,data:t}),this.contextMenu.show(e.originalEvent),this.tableService.onContextMenu(t);else if("joint"===this.contextMenuSelectionMode){this.preventSelectionSetterPropagation=!0;var n=this.isSelected(t),i=this.dataKey?String(c.ObjectUtils.resolveFieldData(t,this.dataKey)):null;n||(this.isSingleSelectionMode()?(this.selection=t,this.selectionChange.emit(t)):this.isMultipleSelectionMode()&&(this.selection=[t],this.selectionChange.emit(this.selection)),i&&(this.selectionKeys[i]=1)),this.contextMenu.show(e.originalEvent),this.onContextMenuSelect.emit({originalEvent:e,data:t})}}},e.prototype.selectRange=function(e,t){var n,i;this.anchorRowIndex>t?(n=t,i=this.anchorRowIndex):this.anchorRowIndex<t?(n=this.anchorRowIndex,i=t):(n=t,i=t);for(var r=n;r<=i;r++){var s=this.filteredValue?this.filteredValue[r]:this.value[r];if(!this.isSelected(s)){this._selection=this.selection.concat([s]);var o=this.dataKey?String(c.ObjectUtils.resolveFieldData(s,this.dataKey)):null;o&&(this.selectionKeys[o]=1),this.onRowSelect.emit({originalEvent:e,data:s,type:"row"})}}this.selectionChange.emit(this.selection)},e.prototype.clearSelectionRange=function(e){var t,n;this.rangeRowIndex>this.anchorRowIndex?(t=this.anchorRowIndex,n=this.rangeRowIndex):this.rangeRowIndex<this.anchorRowIndex?(t=this.rangeRowIndex,n=this.anchorRowIndex):(t=this.rangeRowIndex,n=this.rangeRowIndex);for(var i=function(t){var n=r.value[t],i=r.findIndexInSelection(n);r._selection=r.selection.filter(function(e,t){return t!=i});var s=r.dataKey?String(c.ObjectUtils.resolveFieldData(n,r.dataKey)):null;s&&delete r.selectionKeys[s],r.onRowUnselect.emit({originalEvent:e,data:n,type:"row"})},r=this,s=t;s<=n;s++)i(s)},e.prototype.isSelected=function(e){return!(!e||!this.selection)&&(this.dataKey?void 0!==this.selectionKeys[c.ObjectUtils.resolveFieldData(e,this.dataKey)]:this.selection instanceof Array?this.findIndexInSelection(e)>-1:this.equals(e,this.selection))},e.prototype.findIndexInSelection=function(e){var t=-1;if(this.selection&&this.selection.length)for(var n=0;n<this.selection.length;n++)if(this.equals(e,this.selection[n])){t=n;break}return t},e.prototype.toggleRowWithRadio=function(e,t){this.preventSelectionSetterPropagation=!0,this.selection!=t?(this._selection=t,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:t,type:"radiobutton"}),this.dataKey&&(this.selectionKeys={},this.selectionKeys[String(c.ObjectUtils.resolveFieldData(t,this.dataKey))]=1)):(this._selection=null,this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:t,type:"radiobutton"})),this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()},e.prototype.toggleRowWithCheckbox=function(e,t){this.selection=this.selection||[];var n=this.isSelected(t),i=this.dataKey?String(c.ObjectUtils.resolveFieldData(t,this.dataKey)):null;if(this.preventSelectionSetterPropagation=!0,n){var r=this.findIndexInSelection(t);this._selection=this.selection.filter(function(e,t){return t!=r}),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:t,type:"checkbox"}),i&&delete this.selectionKeys[i]}else this._selection=this.selection?this.selection.concat([t]):[t],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:t,type:"checkbox"}),i&&(this.selectionKeys[i]=1);this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()},e.prototype.toggleRowsWithCheckbox=function(e,t){this._selection=t?this.filteredValue?this.filteredValue.slice():this.value.slice():[],this.preventSelectionSetterPropagation=!0,this.updateSelectionKeys(),this.selectionChange.emit(this._selection),this.tableService.onSelectionChange(),this.onHeaderCheckboxToggle.emit({originalEvent:e,checked:t}),this.isStateful()&&this.saveState()},e.prototype.equals=function(e,t){return"equals"===this.compareSelectionBy?e===t:c.ObjectUtils.equals(e,t,this.dataKey)},e.prototype.filter=function(e,t,n){var i=this;this.filterTimeout&&clearTimeout(this.filterTimeout),this.isFilterBlank(e)?this.filters[t]&&delete this.filters[t]:this.filters[t]={value:e,matchMode:n},this.filterTimeout=setTimeout(function(){i._filter(),i.filterTimeout=null},this.filterDelay)},e.prototype.filterGlobal=function(e,t){this.filter(e,"global",t)},e.prototype.isFilterBlank=function(e){return null==e||"string"==typeof e&&0==e.trim().length||e instanceof Array&&0==e.length},e.prototype._filter=function(){if(this.lazy)this.onLazyLoad.emit(this.createLazyLoadMetadata());else{if(!this.value)return;if(this.hasFilter()){var e=void 0;if(this.filters.global){if(!this.columns&&!this.globalFilterFields)throw new Error("Global filtering requires dynamic columns or globalFilterFields to be defined.");e=this.globalFilterFields||this.columns}this.filteredValue=[];for(var t=0;t<this.value.length;t++){var n=!0,i=!1,r=!1;for(var s in this.filters)if(this.filters.hasOwnProperty(s)&&"global"!==s){r=!0;var o=this.filters[s],a=o.value,l=o.matchMode||"startsWith",u=c.ObjectUtils.resolveFieldData(this.value[t],s);if((0,this.filterConstraints[l])(u,a)||(n=!1),!n)break}if(this.filters.global&&!i&&e)for(var h=0;h<e.length&&!(i=this.filterConstraints[this.filters.global.matchMode](c.ObjectUtils.resolveFieldData(this.value[t],e[h].field||e[h]),this.filters.global.value));h++);(this.filters.global?r?r&&n&&i:i:r&&n)&&this.filteredValue.push(this.value[t])}this.filteredValue.length===this.value.length&&(this.filteredValue=null),this.paginator&&(this.totalRecords=this.filteredValue?this.filteredValue.length:this.value?this.value.length:0)}else this.filteredValue=null,this.paginator&&(this.totalRecords=this.value?this.value.length:0)}this.onFilter.emit({filters:this.filters,filteredValue:this.filteredValue||this.value}),this.tableService.onValueChange(this.value),this.isStateful()&&!this.restoringFilter&&this.saveState(),this.restoringFilter?this.restoringFilter=!1:this.first=0},e.prototype.hasFilter=function(){var e=!0;for(var t in this.filters)if(this.filters.hasOwnProperty(t)){e=!1;break}return!e},e.prototype.createLazyLoadMetadata=function(){return{first:this.first,rows:this.virtualScroll?2*this.rows:this.rows,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta}},e.prototype.reset=function(){this._sortField=null,this._sortOrder=this.defaultSortOrder,this._multiSortMeta=null,this.tableService.onSort(null),this.filteredValue=null,this.filters={},this.first=0,this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.totalRecords=this._value?this._value.length:0},e.prototype.exportCSV=function(e){var t=this,n=this.filteredValue||this.value,i="\ufeff";e&&e.selectionOnly&&(n=this.selection||[]);for(var r=0;r<this.columns.length;r++){var s=this.columns[r];!1!==s.exportable&&s.field&&(i+='"'+(s.header||s.field)+'"',r<this.columns.length-1&&(i+=this.csvSeparator))}n.forEach(function(e,n){i+="\n";for(var r=0;r<t.columns.length;r++){var s=t.columns[r];if(!1!==s.exportable&&s.field){var o=c.ObjectUtils.resolveFieldData(e,s.field);o=null!=o?t.exportFunction?t.exportFunction({data:o,field:s.field}):String(o).replace(/"/g,'""'):"",i+='"'+o+'"',r<t.columns.length-1&&(i+=t.csvSeparator)}}});var o=new Blob([i],{type:"text/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(o,this.exportFilename+".csv");else{var a=document.createElement("a");a.style.display="none",document.body.appendChild(a),void 0!==a.download?(a.setAttribute("href",URL.createObjectURL(o)),a.setAttribute("download",this.exportFilename+".csv"),a.click()):(i="data:text/csv;charset=utf-8,"+i,window.open(encodeURI(i))),document.body.removeChild(a)}},e.prototype.updateEditingCell=function(e){this.editingCell=e,this.bindDocumentEditListener()},e.prototype.isEditingCellValid=function(){return this.editingCell&&0===u.DomHandler.find(this.editingCell,".ng-invalid.ng-dirty").length},e.prototype.bindDocumentEditListener=function(){var e=this;this.documentEditListener||(this.documentEditListener=function(t){e.editingCell&&!e.editingCellClick&&e.isEditingCellValid()&&(u.DomHandler.removeClass(e.editingCell,"ui-editing-cell"),e.editingCell=null,e.unbindDocumentEditListener()),e.editingCellClick=!1},document.addEventListener("click",this.documentEditListener))},e.prototype.unbindDocumentEditListener=function(){this.documentEditListener&&(document.removeEventListener("click",this.documentEditListener),this.documentEditListener=null)},e.prototype.toggleRow=function(e,t){if(!this.dataKey)throw new Error("dataKey must be defined to use row expansion");var n=String(c.ObjectUtils.resolveFieldData(e,this.dataKey));null!=this.expandedRowKeys[n]?(delete this.expandedRowKeys[n],this.onRowCollapse.emit({originalEvent:t,data:e})):("single"===this.rowExpandMode&&(this.expandedRowKeys={}),this.expandedRowKeys[n]=1,this.onRowExpand.emit({originalEvent:t,data:e})),t&&t.preventDefault(),this.isStateful()&&this.saveState()},e.prototype.isRowExpanded=function(e){return 1===this.expandedRowKeys[String(c.ObjectUtils.resolveFieldData(e,this.dataKey))]},e.prototype.isSingleSelectionMode=function(){return"single"===this.selectionMode},e.prototype.isMultipleSelectionMode=function(){return"multiple"===this.selectionMode},e.prototype.onColumnResizeBegin=function(e){var t=u.DomHandler.getOffset(this.containerViewChild.nativeElement).left;this.lastResizerHelperX=e.pageX-t+this.containerViewChild.nativeElement.scrollLeft,e.preventDefault()},e.prototype.onColumnResize=function(e){var t=u.DomHandler.getOffset(this.containerViewChild.nativeElement).left;u.DomHandler.addClass(this.containerViewChild.nativeElement,"ui-unselectable-text"),this.resizeHelperViewChild.nativeElement.style.height=this.containerViewChild.nativeElement.offsetHeight+"px",this.resizeHelperViewChild.nativeElement.style.top="0px",this.resizeHelperViewChild.nativeElement.style.left=e.pageX-t+this.containerViewChild.nativeElement.scrollLeft+"px",this.resizeHelperViewChild.nativeElement.style.display="block"},e.prototype.onColumnResizeEnd=function(e,t){var n=this.resizeHelperViewChild.nativeElement.offsetLeft-this.lastResizerHelperX,i=t.offsetWidth,r=parseInt(t.style.minWidth||15);i+n<r&&(n=r-i);var s=i+n;if(s>=r){if("fit"===this.columnResizeMode){for(var o=t.nextElementSibling;!o.offsetParent;)o=o.nextElementSibling;if(o){var a=o.offsetWidth-n;if(s>15&&a>parseInt(o.style.minWidth||15))if(this.scrollable){var l=this.findParentScrollableView(t),c=u.DomHandler.findSingle(l,"table.ui-table-scrollable-body-table"),h=u.DomHandler.findSingle(l,"table.ui-table-scrollable-header-table"),d=u.DomHandler.findSingle(l,"table.ui-table-scrollable-footer-table"),p=u.DomHandler.index(t);this.resizeColGroup(h,p,s,a),this.resizeColGroup(c,p,s,a),this.resizeColGroup(d,p,s,a)}else t.style.width=s+"px",o&&(o.style.width=a+"px")}}else"expand"===this.columnResizeMode&&(this.scrollable?(l=this.findParentScrollableView(t),c=u.DomHandler.findSingle(l,"table.ui-table-scrollable-body-table"),h=u.DomHandler.findSingle(l,"table.ui-table-scrollable-header-table"),d=u.DomHandler.findSingle(l,"table.ui-table-scrollable-footer-table"),c.style.width=c.offsetWidth+n+"px",h.style.width=h.offsetWidth+n+"px",d&&(d.style.width=h.offsetWidth+n+"px"),p=u.DomHandler.index(t),this.resizeColGroup(h,p,s,null),this.resizeColGroup(c,p,s,null),this.resizeColGroup(d,p,s,null)):(this.tableViewChild.nativeElement.style.width=this.tableViewChild.nativeElement.offsetWidth+n+"px",t.style.width=s+"px",this.containerViewChild.nativeElement.style.width=this.tableViewChild.nativeElement.style.width+"px"));this.onColResize.emit({element:t,delta:n}),this.isStateful()&&this.saveState()}this.resizeHelperViewChild.nativeElement.style.display="none",u.DomHandler.removeClass(this.containerViewChild.nativeElement,"ui-unselectable-text")},e.prototype.findParentScrollableView=function(e){if(e){for(var t=e.parentElement;t&&!u.DomHandler.hasClass(t,"ui-table-scrollable-view");)t=t.parentElement;return t}return null},e.prototype.resizeColGroup=function(e,t,n,i){if(e){var r="COLGROUP"===e.children[0].nodeName?e.children[0]:null;if(!r)throw"Scrollable tables require a colgroup to support resizable columns";var s=r.children[t],o=s.nextElementSibling;s.style.width=n+"px",o&&i&&(o.style.width=i+"px")}},e.prototype.onColumnDragStart=function(e,t){this.reorderIconWidth=u.DomHandler.getHiddenElementOuterWidth(this.reorderIndicatorUpViewChild.nativeElement),this.reorderIconHeight=u.DomHandler.getHiddenElementOuterHeight(this.reorderIndicatorDownViewChild.nativeElement),this.draggedColumn=t,e.dataTransfer.setData("text","b")},e.prototype.onColumnDragEnter=function(e,t){if(this.reorderableColumns&&this.draggedColumn&&t){e.preventDefault();var n=u.DomHandler.getOffset(this.containerViewChild.nativeElement),i=u.DomHandler.getOffset(t);if(this.draggedColumn!=t){var r=i.left-n.left,s=i.left+t.offsetWidth/2;this.reorderIndicatorUpViewChild.nativeElement.style.top=i.top-n.top-(this.reorderIconHeight-1)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.top=i.top-n.top+t.offsetHeight+"px",e.pageX>s?(this.reorderIndicatorUpViewChild.nativeElement.style.left=r+t.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=r+t.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=1):(this.reorderIndicatorUpViewChild.nativeElement.style.left=r-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=r-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=-1),this.reorderIndicatorUpViewChild.nativeElement.style.display="block",this.reorderIndicatorDownViewChild.nativeElement.style.display="block"}else e.dataTransfer.dropEffect="none"}},e.prototype.onColumnDragLeave=function(e){this.reorderableColumns&&this.draggedColumn&&(e.preventDefault(),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none")},e.prototype.onColumnDrop=function(e,t){if(e.preventDefault(),this.draggedColumn){var n=u.DomHandler.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),i=u.DomHandler.indexWithinGroup(t,"preorderablecolumn"),r=n!=i;r&&(i-n==1&&-1===this.dropPosition||n-i==1&&1===this.dropPosition)&&(r=!1),r&&(c.ObjectUtils.reorderArray(this.columns,n,i),this.onColReorder.emit({dragIndex:n,dropIndex:i,columns:this.columns}),this.isStateful()&&this.saveState()),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none",this.draggedColumn.draggable=!1,this.draggedColumn=null,this.dropPosition=null}},e.prototype.onRowDragStart=function(e,t){this.rowDragging=!0,this.draggedRowIndex=t,e.dataTransfer.setData("text","b")},e.prototype.onRowDragOver=function(e,t,n){if(this.rowDragging&&this.draggedRowIndex!==t){var i=u.DomHandler.getOffset(n).top+u.DomHandler.getWindowScrollTop(),r=e.pageY,s=i+u.DomHandler.getOuterHeight(n)/2,o=n.previousElementSibling;r<s?(u.DomHandler.removeClass(n,"ui-table-dragpoint-bottom"),this.droppedRowIndex=t,o?u.DomHandler.addClass(o,"ui-table-dragpoint-bottom"):u.DomHandler.addClass(n,"ui-table-dragpoint-top")):(o?u.DomHandler.removeClass(o,"ui-table-dragpoint-bottom"):u.DomHandler.addClass(n,"ui-table-dragpoint-top"),this.droppedRowIndex=t+1,u.DomHandler.addClass(n,"ui-table-dragpoint-bottom"))}},e.prototype.onRowDragLeave=function(e,t){var n=t.previousElementSibling;n&&u.DomHandler.removeClass(n,"ui-table-dragpoint-bottom"),u.DomHandler.removeClass(t,"ui-table-dragpoint-bottom"),u.DomHandler.removeClass(t,"ui-table-dragpoint-top")},e.prototype.onRowDragEnd=function(e){this.rowDragging=!1,this.draggedRowIndex=null,this.droppedRowIndex=null},e.prototype.onRowDrop=function(e,t){null!=this.droppedRowIndex&&(c.ObjectUtils.reorderArray(this.value,this.draggedRowIndex,this.draggedRowIndex>this.droppedRowIndex?this.droppedRowIndex:0===this.droppedRowIndex?0:this.droppedRowIndex-1),this.onRowReorder.emit({dragIndex:this.draggedRowIndex,dropIndex:this.droppedRowIndex})),this.onRowDragLeave(e,t),this.onRowDragEnd(e)},e.prototype.handleVirtualScroll=function(e){var t=this;this.first=(e.page-1)*this.rows,this.virtualScrollCallback=e.callback,this.zone.run(function(){t.virtualScrollTimer&&clearTimeout(t.virtualScrollTimer),t.virtualScrollTimer=setTimeout(function(){t.onLazyLoad.emit(t.createLazyLoadMetadata())},t.virtualScrollDelay)})},e.prototype.isEmpty=function(){var e=this.filteredValue||this.value;return null==e||0==e.length},e.prototype.getBlockableElement=function(){return this.el.nativeElement.children[0]},e.prototype.getStorage=function(){switch(this.stateStorage){case"local":return window.localStorage;case"session":return window.sessionStorage;default:throw new Error(this.stateStorage+' is not a valid value for the state storage, supported values are "local" and "session".')}},e.prototype.isStateful=function(){return null!=this.stateKey},e.prototype.saveState=function(){var e=this.getStorage(),t={};this.paginator&&(t.first=this.first,t.rows=this.rows),this.sortField&&(t.sortField=this.sortField,t.sortOrder=this.sortOrder),this.multiSortMeta&&(t.multiSortMeta=this.multiSortMeta),this.hasFilter()&&(t.filters=this.filters),this.resizableColumns&&this.saveColumnWidths(t),this.reorderableColumns&&this.saveColumnOrder(t),this.selection&&(t.selection=this.selection),Object.keys(this.expandedRowKeys).length&&(t.expandedRowKeys=this.expandedRowKeys),Object.keys(t).length&&e.setItem(this.stateKey,JSON.stringify(t))},e.prototype.clearState=function(){this.getStorage().clear()},e.prototype.restoreState=function(){var e=this.getStorage().getItem(this.stateKey);if(e){var t=JSON.parse(e);this.paginator&&(this.first=t.first,this.rows=t.rows),t.sortField&&(this.restoringSort=!0,this._sortField=t.sortField,this._sortOrder=t.sortOrder),t.multiSortMeta&&(this.restoringSort=!0,this._multiSortMeta=t.multiSortMeta),t.filters&&(this.restoringFilter=!0,this.filters=t.filters),this.resizableColumns&&(this.columnWidthsState=t.columnWidths,this.tableWidthState=t.tableWidth),t.expandedRowKeys&&(this.expandedRowKeys=t.expandedRowKeys),t.selection&&(this.selection=t.selection),this.stateRestored=!0}},e.prototype.saveColumnWidths=function(e){var t=[];u.DomHandler.find(this.containerViewChild.nativeElement,".ui-table-thead > tr:first-child > th").map(function(e){return t.push(u.DomHandler.getOuterWidth(e))}),e.columnWidths=t.join(","),"expand"===this.columnResizeMode&&(e.tableWidth=this.scrollable?u.DomHandler.findSingle(this.containerViewChild.nativeElement,".ui-table-scrollable-header-table").style.width:u.DomHandler.getOuterWidth(this.tableViewChild.nativeElement)+"px")},e.prototype.restoreColumnWidths=function(){if(this.columnWidthsState){var e=this.columnWidthsState.split(",");if("expand"===this.columnResizeMode&&this.tableWidthState)if(this.scrollable){var t=u.DomHandler.findSingle(this.containerViewChild.nativeElement,".ui-table-scrollable-body-table"),n=u.DomHandler.findSingle(this.containerViewChild.nativeElement,".ui-table-scrollable-header-table"),i=u.DomHandler.findSingle(this.containerViewChild.nativeElement,".ui-table-scrollable-footer-table");t.style.width=this.tableWidthState,n.style.width=this.tableWidthState,i&&(i.style.width=this.tableWidthState)}else this.tableViewChild.nativeElement.style.width=this.tableWidthState,this.containerViewChild.nativeElement.style.width=this.tableWidthState;if(this.scrollable){var r=u.DomHandler.find(this.containerViewChild.nativeElement,".ui-table-scrollable-header-table > colgroup > col"),s=u.DomHandler.find(this.containerViewChild.nativeElement,".ui-table-scrollable-body-table > colgroup > col");r.map(function(t,n){return t.style.width=e[n]+"px"}),s.map(function(t,n){return t.style.width=e[n]+"px"})}else u.DomHandler.find(this.tableViewChild.nativeElement,".ui-table-thead > tr:first-child > th").map(function(t,n){return t.style.width=e[n]+"px"})}},e.prototype.saveColumnOrder=function(e){if(this.columns){var t=[];this.columns.map(function(e){t.push(e.field||e.key)}),e.columnOrder=t}},e.prototype.restoreColumnOrder=function(){var e=this,t=this.getStorage().getItem(this.stateKey);if(t){var n=JSON.parse(t).columnOrder;if(n){var i=[];n.map(function(t){return i.push(e.findColumnByKey(t))}),this.columnOrderStateRestored=!0,this.columns=i}}},e.prototype.findColumnByKey=function(e){if(!this.columns)return null;for(var t=0,n=this.columns;t<n.length;t++){var i=n[t];if(i.key===e||i.field===e)return i}},e.prototype.ngOnDestroy=function(){this.unbindDocumentEditListener(),this.editingCell=null,this.initialized=null},i([s.Input(),r("design:type",Array)],e.prototype,"frozenColumns",void 0),i([s.Input(),r("design:type",Array)],e.prototype,"frozenValue",void 0),i([s.Input(),r("design:type",Object)],e.prototype,"style",void 0),i([s.Input(),r("design:type",String)],e.prototype,"styleClass",void 0),i([s.Input(),r("design:type",Object)],e.prototype,"tableStyle",void 0),i([s.Input(),r("design:type",String)],e.prototype,"tableStyleClass",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"paginator",void 0),i([s.Input(),r("design:type",Number)],e.prototype,"rows",void 0),i([s.Input(),r("design:type",Number)],e.prototype,"first",void 0),i([s.Input(),r("design:type",Number)],e.prototype,"pageLinks",void 0),i([s.Input(),r("design:type",Array)],e.prototype,"rowsPerPageOptions",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"alwaysShowPaginator",void 0),i([s.Input(),r("design:type",String)],e.prototype,"paginatorPosition",void 0),i([s.Input(),r("design:type",Object)],e.prototype,"paginatorDropdownAppendTo",void 0),i([s.Input(),r("design:type",Number)],e.prototype,"defaultSortOrder",void 0),i([s.Input(),r("design:type",String)],e.prototype,"sortMode",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"resetPageOnSort",void 0),i([s.Input(),r("design:type",String)],e.prototype,"selectionMode",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"selectionChange",void 0),i([s.Input(),r("design:type",Object)],e.prototype,"contextMenuSelection",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"contextMenuSelectionChange",void 0),i([s.Input(),r("design:type",String)],e.prototype,"contextMenuSelectionMode",void 0),i([s.Input(),r("design:type",String)],e.prototype,"dataKey",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"metaKeySelection",void 0),i([s.Input(),r("design:type",Function)],e.prototype,"rowTrackBy",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"lazy",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"lazyLoadOnInit",void 0),i([s.Input(),r("design:type",String)],e.prototype,"compareSelectionBy",void 0),i([s.Input(),r("design:type",String)],e.prototype,"csvSeparator",void 0),i([s.Input(),r("design:type",String)],e.prototype,"exportFilename",void 0),i([s.Input(),r("design:type",Object)],e.prototype,"filters",void 0),i([s.Input(),r("design:type",Array)],e.prototype,"globalFilterFields",void 0),i([s.Input(),r("design:type",Number)],e.prototype,"filterDelay",void 0),i([s.Input(),r("design:type",Object)],e.prototype,"expandedRowKeys",void 0),i([s.Input(),r("design:type",String)],e.prototype,"rowExpandMode",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"scrollable",void 0),i([s.Input(),r("design:type",String)],e.prototype,"scrollHeight",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"virtualScroll",void 0),i([s.Input(),r("design:type",Number)],e.prototype,"virtualScrollDelay",void 0),i([s.Input(),r("design:type",Number)],e.prototype,"virtualRowHeight",void 0),i([s.Input(),r("design:type",String)],e.prototype,"frozenWidth",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"responsive",void 0),i([s.Input(),r("design:type",Object)],e.prototype,"contextMenu",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"resizableColumns",void 0),i([s.Input(),r("design:type",String)],e.prototype,"columnResizeMode",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"reorderableColumns",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"loading",void 0),i([s.Input(),r("design:type",String)],e.prototype,"loadingIcon",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"rowHover",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"customSort",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"autoLayout",void 0),i([s.Input(),r("design:type",Object)],e.prototype,"exportFunction",void 0),i([s.Input(),r("design:type",String)],e.prototype,"stateKey",void 0),i([s.Input(),r("design:type",String)],e.prototype,"stateStorage",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"onRowSelect",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"onRowUnselect",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"onPage",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"onSort",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"onFilter",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"onLazyLoad",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"onRowExpand",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"onRowCollapse",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"onContextMenuSelect",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"onColResize",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"onColReorder",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"onRowReorder",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"onEditInit",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"onEditComplete",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"onEditCancel",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"onHeaderCheckboxToggle",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"sortFunction",void 0),i([s.ViewChild("container"),r("design:type",s.ElementRef)],e.prototype,"containerViewChild",void 0),i([s.ViewChild("resizeHelper"),r("design:type",s.ElementRef)],e.prototype,"resizeHelperViewChild",void 0),i([s.ViewChild("reorderIndicatorUp"),r("design:type",s.ElementRef)],e.prototype,"reorderIndicatorUpViewChild",void 0),i([s.ViewChild("reorderIndicatorDown"),r("design:type",s.ElementRef)],e.prototype,"reorderIndicatorDownViewChild",void 0),i([s.ViewChild("table"),r("design:type",s.ElementRef)],e.prototype,"tableViewChild",void 0),i([s.ContentChildren(a.PrimeTemplate),r("design:type",s.QueryList)],e.prototype,"templates",void 0),i([s.Input(),r("design:type",Array),r("design:paramtypes",[Array])],e.prototype,"value",null),i([s.Input(),r("design:type",Array),r("design:paramtypes",[Array])],e.prototype,"columns",null),i([s.Input(),r("design:type",Number),r("design:paramtypes",[Number])],e.prototype,"totalRecords",null),i([s.Input(),r("design:type",String),r("design:paramtypes",[String])],e.prototype,"sortField",null),i([s.Input(),r("design:type",Number),r("design:paramtypes",[Number])],e.prototype,"sortOrder",null),i([s.Input(),r("design:type",Array),r("design:paramtypes",[Array])],e.prototype,"multiSortMeta",null),i([s.Input(),r("design:type",Object),r("design:paramtypes",[Object])],e.prototype,"selection",null),i([s.Component({selector:"p-table",template:'\n        <div #container [ngStyle]="style" [class]="styleClass"\n            [ngClass]="{\'ui-table ui-widget\': true, \'ui-table-responsive\': responsive, \'ui-table-resizable\': resizableColumns,\n                \'ui-table-resizable-fit\': (resizableColumns && columnResizeMode === \'fit\'),\n                \'ui-table-hoverable-rows\': (rowHover||selectionMode), \'ui-table-auto-layout\': autoLayout}">\n            <div class="ui-table-loading ui-widget-overlay" *ngIf="loading"></div>\n            <div class="ui-table-loading-content" *ngIf="loading">\n                <i [class]="\'ui-table-loading-icon pi-spin \' + loadingIcon"></i>\n            </div>\n            <div *ngIf="captionTemplate" class="ui-table-caption ui-widget-header">\n                <ng-container *ngTemplateOutlet="captionTemplate"></ng-container>\n            </div>\n            <p-paginator [rows]="rows" [first]="first" [totalRecords]="totalRecords" [pageLinkSize]="pageLinks" styleClass="ui-paginator-top" [alwaysShow]="alwaysShowPaginator"\n                (onPageChange)="onPageChange($event)" [rowsPerPageOptions]="rowsPerPageOptions" *ngIf="paginator && (paginatorPosition === \'top\' || paginatorPosition ==\'both\')"\n                [templateLeft]="paginatorLeftTemplate" [templateRight]="paginatorRightTemplate" [dropdownAppendTo]="paginatorDropdownAppendTo"></p-paginator>\n            \n            <div class="ui-table-wrapper" *ngIf="!scrollable">\n                <table #table [ngClass]="tableStyleClass" [ngStyle]="tableStyle">\n                    <ng-container *ngTemplateOutlet="colGroupTemplate; context {$implicit: columns}"></ng-container>\n                    <thead class="ui-table-thead">\n                        <ng-container *ngTemplateOutlet="headerTemplate; context: {$implicit: columns}"></ng-container>\n                    </thead>\n                    <tfoot class="ui-table-tfoot">\n                        <ng-container *ngTemplateOutlet="footerTemplate; context {$implicit: columns}"></ng-container>\n                    </tfoot>\n                    <tbody class="ui-table-tbody" [pTableBody]="columns" [pTableBodyTemplate]="bodyTemplate"></tbody>\n                </table>\n            </div>\n\n            <div class="ui-table-scrollable-wrapper" *ngIf="scrollable">\n               <div class="ui-table-scrollable-view ui-table-frozen-view" *ngIf="frozenColumns||frozenBodyTemplate" [pScrollableView]="frozenColumns" [frozen]="true" [ngStyle]="{width: frozenWidth}" [scrollHeight]="scrollHeight"></div>\n               <div class="ui-table-scrollable-view" [pScrollableView]="columns" [frozen]="false" [scrollHeight]="scrollHeight" [ngStyle]="{left: frozenWidth, width: \'calc(100% - \'+frozenWidth+\')\'}"></div>\n            </div>\n            \n            <p-paginator [rows]="rows" [first]="first" [totalRecords]="totalRecords" [pageLinkSize]="pageLinks" styleClass="ui-paginator-bottom" [alwaysShow]="alwaysShowPaginator"\n                (onPageChange)="onPageChange($event)" [rowsPerPageOptions]="rowsPerPageOptions" *ngIf="paginator && (paginatorPosition === \'bottom\' || paginatorPosition ==\'both\')"\n                [templateLeft]="paginatorLeftTemplate" [templateRight]="paginatorRightTemplate" [dropdownAppendTo]="paginatorDropdownAppendTo"></p-paginator>\n            <div *ngIf="summaryTemplate" class="ui-table-summary ui-widget-header">\n                <ng-container *ngTemplateOutlet="summaryTemplate"></ng-container>\n            </div>\n\n            <div #resizeHelper class="ui-column-resizer-helper ui-state-highlight" style="display:none" *ngIf="resizableColumns"></div>\n\n            <span #reorderIndicatorUp class="pi pi-arrow-down ui-table-reorder-indicator-up" style="display:none" *ngIf="reorderableColumns"></span>\n            <span #reorderIndicatorDown class="pi pi-arrow-up ui-table-reorder-indicator-down" style="display:none" *ngIf="reorderableColumns"></span>\n        </div>\n    ',providers:[p]})],e)}();t.Table=f;var g=function(){function e(e){this.dt=e}return i([s.Input("pTableBody"),r("design:type",Array)],e.prototype,"columns",void 0),i([s.Input("pTableBodyTemplate"),r("design:type",s.TemplateRef)],e.prototype,"template",void 0),i([s.Component({selector:"[pTableBody]",template:'\n        <ng-container *ngIf="!dt.expandedRowTemplate">\n            <ng-template ngFor let-rowData let-rowIndex="index" [ngForOf]="(dt.paginator && !dt.lazy) ? ((dt.filteredValue||dt.value) | slice:dt.first:(dt.first + dt.rows)) : (dt.filteredValue||dt.value)" [ngForTrackBy]="dt.rowTrackBy">\n                <ng-container *ngTemplateOutlet="template; context: {$implicit: rowData, rowIndex: dt.paginator ? (dt.first + rowIndex) : rowIndex, columns: columns}"></ng-container>\n            </ng-template>\n        </ng-container>\n        <ng-container *ngIf="dt.expandedRowTemplate">\n            <ng-template ngFor let-rowData let-rowIndex="index" [ngForOf]="(dt.paginator && !dt.lazy) ? ((dt.filteredValue||dt.value) | slice:dt.first:(dt.first + dt.rows)) : (dt.filteredValue||dt.value)" [ngForTrackBy]="dt.rowTrackBy">\n                <ng-container *ngTemplateOutlet="template; context: {$implicit: rowData, rowIndex: dt.paginator ? (dt.first + rowIndex) : rowIndex, columns: columns, expanded: dt.isRowExpanded(rowData)}"></ng-container>\n                <ng-container *ngIf="dt.isRowExpanded(rowData)">\n                    <ng-container *ngTemplateOutlet="dt.expandedRowTemplate; context: {$implicit: rowData, rowIndex: dt.paginator ? (dt.first + rowIndex) : rowIndex, columns: columns}"></ng-container>\n                </ng-container>\n            </ng-template>\n        </ng-container>\n        <ng-container *ngIf="dt.isEmpty()">\n            <ng-container *ngTemplateOutlet="dt.emptyMessageTemplate; context: {$implicit: columns}"></ng-container>\n        </ng-container>\n    '})],e)}();t.TableBody=g;var m=function(){function e(e,t,n){var i=this;this.dt=e,this.el=t,this.zone=n,this.subscription=this.dt.tableService.valueSource$.subscribe(function(){i.zone.runOutsideAngular(function(){setTimeout(function(){i.alignScrollBar()},50)})}),this.dt.virtualScroll&&(this.totalRecordsSubscription=this.dt.tableService.totalRecordsSource$.subscribe(function(){i.zone.runOutsideAngular(function(){setTimeout(function(){i.setVirtualScrollerHeight()},50)})})),this.initialized=!1}return Object.defineProperty(e.prototype,"scrollHeight",{get:function(){return this._scrollHeight},set:function(e){this._scrollHeight=e,this.setScrollHeight()},enumerable:!0,configurable:!0}),e.prototype.ngAfterViewChecked=function(){!this.initialized&&this.el.nativeElement.offsetParent&&(this.alignScrollBar(),this.setScrollHeight(),this.initialized=!0)},e.prototype.ngAfterViewInit=function(){var e=this;if(this.frozen){this.scrollBodyViewChild.nativeElement.style.marginBottom=u.DomHandler.calculateScrollbarWidth()+"px";var t=this.el.nativeElement.nextElementSibling;t&&(this.scrollableSiblingBody=u.DomHandler.findSingle(t,".ui-table-scrollable-body"))}else{(this.dt.frozenColumns||this.dt.frozenBodyTemplate)&&u.DomHandler.addClass(this.el.nativeElement,"ui-table-unfrozen-view");var n=this.el.nativeElement.previousElementSibling;n&&(this.frozenSiblingBody=u.DomHandler.findSingle(n,".ui-table-scrollable-body"))}this.bindEvents(),this.setScrollHeight(),this.alignScrollBar(),this.frozen&&(this.columnsSubscription=this.dt.tableService.columnsSource$.subscribe(function(){e.zone.runOutsideAngular(function(){setTimeout(function(){e.setScrollHeight()},50)})})),this.dt.virtualScroll&&this.setVirtualScrollerHeight()},e.prototype.bindEvents=function(){var e=this;this.zone.runOutsideAngular(function(){u.DomHandler.calculateScrollbarWidth(),e.scrollHeaderViewChild&&e.scrollHeaderViewChild.nativeElement&&(e.headerScrollListener=e.onHeaderScroll.bind(e),e.scrollHeaderBoxViewChild.nativeElement.addEventListener("scroll",e.headerScrollListener)),e.scrollFooterViewChild&&e.scrollFooterViewChild.nativeElement&&(e.footerScrollListener=e.onFooterScroll.bind(e),e.scrollFooterViewChild.nativeElement.addEventListener("scroll",e.footerScrollListener)),e.frozen||(e.bodyScrollListener=e.onBodyScroll.bind(e),e.scrollBodyViewChild.nativeElement.addEventListener("scroll",e.bodyScrollListener))})},e.prototype.unbindEvents=function(){this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&this.scrollHeaderBoxViewChild.nativeElement.removeEventListener("scroll",this.headerScrollListener),this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&this.scrollFooterViewChild.nativeElement.removeEventListener("scroll",this.footerScrollListener),this.scrollBodyViewChild.nativeElement.removeEventListener("scroll",this.bodyScrollListener)},e.prototype.onHeaderScroll=function(e){this.scrollHeaderViewChild.nativeElement.scrollLeft=0},e.prototype.onFooterScroll=function(e){this.scrollFooterViewChild.nativeElement.scrollLeft=0},e.prototype.onBodyScroll=function(e){var t=this;if(this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&(this.scrollHeaderBoxViewChild.nativeElement.style.marginLeft=-1*this.scrollBodyViewChild.nativeElement.scrollLeft+"px"),this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&(this.scrollFooterBoxViewChild.nativeElement.style.marginLeft=-1*this.scrollBodyViewChild.nativeElement.scrollLeft+"px"),this.frozenSiblingBody&&(this.frozenSiblingBody.scrollTop=this.scrollBodyViewChild.nativeElement.scrollTop),this.dt.virtualScroll){var n=u.DomHandler.getOuterHeight(this.scrollBodyViewChild.nativeElement),i=u.DomHandler.getOuterHeight(this.scrollTableViewChild.nativeElement),r=this.dt.virtualRowHeight*this.dt.rows,s=u.DomHandler.getOuterHeight(this.virtualScrollerViewChild.nativeElement)/r||1,o=this.scrollTableViewChild.nativeElement.style.top||"0";if(this.scrollBodyViewChild.nativeElement.scrollTop+n>parseFloat(o)+i||this.scrollBodyViewChild.nativeElement.scrollTop<parseFloat(o)){var a=Math.floor(this.scrollBodyViewChild.nativeElement.scrollTop*s/this.scrollBodyViewChild.nativeElement.scrollHeight)+1;this.dt.handleVirtualScroll({page:a,callback:function(){t.scrollTableViewChild.nativeElement.style.top=(a-1)*r+"px",t.frozenSiblingBody&&(t.frozenSiblingBody.children[0].style.top=t.scrollTableViewChild.nativeElement.style.top)}})}}},e.prototype.setScrollHeight=function(){if(this.scrollHeight&&this.scrollBodyViewChild&&this.scrollBodyViewChild.nativeElement)if(-1!==this.scrollHeight.indexOf("%")){var e=void 0;this.scrollBodyViewChild.nativeElement.style.visibility="hidden",this.scrollBodyViewChild.nativeElement.style.height="100px";var t=u.DomHandler.getOuterHeight(this.dt.el.nativeElement.children[0]);if(this.scrollHeight.includes("calc")){var n=parseInt(this.scrollHeight.slice(this.scrollHeight.indexOf("(")+1,this.scrollHeight.indexOf("%"))),i=parseInt(this.scrollHeight.slice(this.scrollHeight.indexOf("-")+1,this.scrollHeight.indexOf(")")));e=u.DomHandler.getOuterHeight(this.dt.el.nativeElement.parentElement)*n/100-i}else e=u.DomHandler.getOuterHeight(this.dt.el.nativeElement.parentElement)*parseInt(this.scrollHeight)/100;var r=e-(t-100);this.frozen&&(r-=u.DomHandler.calculateScrollbarWidth()),this.scrollBodyViewChild.nativeElement.style.height="auto",this.scrollBodyViewChild.nativeElement.style.maxHeight=r+"px",this.scrollBodyViewChild.nativeElement.style.visibility="visible"}else this.scrollBodyViewChild.nativeElement.style.maxHeight=this.frozen&&this.scrollableSiblingBody&&u.DomHandler.getOuterWidth(this.scrollableSiblingBody)<u.DomHandler.getOuterWidth(this.scrollableSiblingBody.children[0])?parseInt(this.scrollHeight)-u.DomHandler.calculateScrollbarWidth()+"px":this.scrollHeight},e.prototype.setVirtualScrollerHeight=function(){this.virtualScrollerViewChild.nativeElement&&(this.virtualScrollerViewChild.nativeElement.style.height=this.dt.totalRecords*this.dt.virtualRowHeight+"px")},e.prototype.hasVerticalOverflow=function(){return u.DomHandler.getOuterHeight(this.scrollTableViewChild.nativeElement)>u.DomHandler.getOuterHeight(this.scrollBodyViewChild.nativeElement)},e.prototype.alignScrollBar=function(){if(!this.frozen){var e=this.hasVerticalOverflow()?u.DomHandler.calculateScrollbarWidth():0;this.scrollHeaderBoxViewChild.nativeElement.style.marginRight=e+"px",this.scrollFooterBoxViewChild&&this.scrollFooterBoxViewChild.nativeElement&&(this.scrollFooterBoxViewChild.nativeElement.style.marginRight=e+"px")}this.initialized=!1},e.prototype.ngOnDestroy=function(){this.unbindEvents(),this.frozenSiblingBody=null,this.subscription&&this.subscription.unsubscribe(),this.totalRecordsSubscription&&this.totalRecordsSubscription.unsubscribe(),this.columnsSubscription&&this.columnsSubscription.unsubscribe(),this.initialized=!1},i([s.Input("pScrollableView"),r("design:type",Array)],e.prototype,"columns",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"frozen",void 0),i([s.ViewChild("scrollHeader"),r("design:type",s.ElementRef)],e.prototype,"scrollHeaderViewChild",void 0),i([s.ViewChild("scrollHeaderBox"),r("design:type",s.ElementRef)],e.prototype,"scrollHeaderBoxViewChild",void 0),i([s.ViewChild("scrollBody"),r("design:type",s.ElementRef)],e.prototype,"scrollBodyViewChild",void 0),i([s.ViewChild("scrollTable"),r("design:type",s.ElementRef)],e.prototype,"scrollTableViewChild",void 0),i([s.ViewChild("scrollFooter"),r("design:type",s.ElementRef)],e.prototype,"scrollFooterViewChild",void 0),i([s.ViewChild("scrollFooterBox"),r("design:type",s.ElementRef)],e.prototype,"scrollFooterBoxViewChild",void 0),i([s.ViewChild("virtualScroller"),r("design:type",s.ElementRef)],e.prototype,"virtualScrollerViewChild",void 0),i([s.Input(),r("design:type",String),r("design:paramtypes",[String])],e.prototype,"scrollHeight",null),i([s.Component({selector:"[pScrollableView]",template:'\n        <div #scrollHeader class="ui-table-scrollable-header ui-widget-header">\n            <div #scrollHeaderBox class="ui-table-scrollable-header-box">\n                <table class="ui-table-scrollable-header-table" [ngClass]="dt.tableStyleClass" [ngStyle]="dt.tableStyle">\n                    <ng-container *ngTemplateOutlet="frozen ? dt.frozenColGroupTemplate||dt.colGroupTemplate : dt.colGroupTemplate; context {$implicit: columns}"></ng-container>\n                    <thead class="ui-table-thead">\n                        <ng-container *ngTemplateOutlet="frozen ? dt.frozenHeaderTemplate||dt.headerTemplate : dt.headerTemplate; context {$implicit: columns}"></ng-container>\n                    </thead>\n                    <tbody class="ui-table-tbody">\n                        <ng-template ngFor let-rowData let-rowIndex="index" [ngForOf]="dt.frozenValue" [ngForTrackBy]="dt.rowTrackBy">\n                            <ng-container *ngTemplateOutlet="dt.frozenRowsTemplate; context: {$implicit: rowData, rowIndex: rowIndex, columns: columns}"></ng-container>\n                        </ng-template>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n        <div #scrollBody class="ui-table-scrollable-body">\n            <table #scrollTable [ngClass]="{\'ui-table-scrollable-body-table\': true, \'ui-table-virtual-table\': dt.virtualScroll}" [class]="dt.tableStyleClass" [ngStyle]="dt.tableStyle">\n                <ng-container *ngTemplateOutlet="frozen ? dt.frozenColGroupTemplate||dt.colGroupTemplate : dt.colGroupTemplate; context {$implicit: columns}"></ng-container>\n                <tbody class="ui-table-tbody" [pTableBody]="columns" [pTableBodyTemplate]="frozen ? dt.frozenBodyTemplate||dt.bodyTemplate : dt.bodyTemplate"></tbody>\n            </table>\n            <div #virtualScroller class="ui-table-virtual-scroller"></div>\n        </div>\n        <div #scrollFooter *ngIf="dt.footerTemplate" class="ui-table-scrollable-footer ui-widget-header">\n            <div #scrollFooterBox class="ui-table-scrollable-footer-box">\n                <table class="ui-table-scrollable-footer-table" [ngClass]="dt.tableStyleClass" [ngStyle]="dt.tableStyle">\n                    <ng-container *ngTemplateOutlet="frozen ? dt.frozenColGroupTemplate||dt.colGroupTemplate : dt.colGroupTemplate; context {$implicit: columns}"></ng-container>\n                    <tfoot class="ui-table-tfoot">\n                        <ng-container *ngTemplateOutlet="frozen ? dt.frozenFooterTemplate||dt.footerTemplate : dt.footerTemplate; context {$implicit: columns}"></ng-container>\n                    </tfoot>\n                </table>\n            </div>\n        </div>\n    '})],e)}();t.ScrollableView=m;var v=function(){function e(e){var t=this;this.dt=e,this.isEnabled()&&(this.subscription=this.dt.tableService.sortSource$.subscribe(function(e){t.updateSortState()}))}return e.prototype.ngOnInit=function(){this.isEnabled()&&this.updateSortState()},e.prototype.updateSortState=function(){this.sorted=this.dt.isSorted(this.field)},e.prototype.onClick=function(e){this.isEnabled()&&(this.updateSortState(),this.dt.sort({originalEvent:e,field:this.field}),u.DomHandler.clearSelection())},e.prototype.onEnterKey=function(e){this.onClick(e)},e.prototype.isEnabled=function(){return!0!==this.pSortableColumnDisabled},e.prototype.ngOnDestroy=function(){this.subscription&&this.subscription.unsubscribe()},i([s.Input("pSortableColumn"),r("design:type",String)],e.prototype,"field",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"pSortableColumnDisabled",void 0),i([s.HostListener("click",["$event"]),r("design:type",Function),r("design:paramtypes",[MouseEvent]),r("design:returntype",void 0)],e.prototype,"onClick",null),i([s.HostListener("keydown.enter",["$event"]),r("design:type",Function),r("design:paramtypes",[MouseEvent]),r("design:returntype",void 0)],e.prototype,"onEnterKey",null),i([s.Directive({selector:"[pSortableColumn]",host:{"[class.ui-sortable-column]":"isEnabled()","[class.ui-state-highlight]":"sorted","[attr.tabindex]":'isEnabled() ? "0" : null'}})],e)}();t.SortableColumn=v;var y=function(){function e(e){var t=this;this.dt=e,this.subscription=this.dt.tableService.sortSource$.subscribe(function(e){t.updateSortState()})}return e.prototype.ngOnInit=function(){this.updateSortState()},e.prototype.onClick=function(e){e.preventDefault()},e.prototype.updateSortState=function(){if("single"===this.dt.sortMode)this.sortOrder=this.dt.isSorted(this.field)?this.dt.sortOrder:0;else if("multiple"===this.dt.sortMode){var e=this.dt.getSortMeta(this.field);this.sortOrder=e?e.order:0}},Object.defineProperty(e.prototype,"ariaText",{get:function(){var e;switch(this.sortOrder){case 1:e=this.ariaLabelAsc;break;case-1:e=this.ariaLabelDesc;break;default:e=this.ariaLabel}return e},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this.subscription&&this.subscription.unsubscribe()},i([s.Input(),r("design:type",String)],e.prototype,"field",void 0),i([s.Input(),r("design:type",String)],e.prototype,"ariaLabel",void 0),i([s.Input(),r("design:type",String)],e.prototype,"ariaLabelDesc",void 0),i([s.Input(),r("design:type",String)],e.prototype,"ariaLabelAsc",void 0),i([s.Component({selector:"p-sortIcon",template:"\n        <i class=\"ui-sortable-column-icon pi pi-fw\" [ngClass]=\"{'pi-sort-up': sortOrder === 1, 'pi-sort-down': sortOrder === -1, 'pi-sort': sortOrder === 0}\"></i>\n    "})],e)}();t.SortIcon=y;var _=function(){function e(e,t){var n=this;this.dt=e,this.tableService=t,this.isEnabled()&&(this.subscription=this.dt.tableService.selectionSource$.subscribe(function(){n.selected=n.dt.isSelected(n.data)}))}return e.prototype.ngOnInit=function(){this.isEnabled()&&(this.selected=this.dt.isSelected(this.data))},e.prototype.onClick=function(e){this.isEnabled()&&this.dt.handleRowClick({originalEvent:e,rowData:this.data,rowIndex:this.index})},e.prototype.onTouchEnd=function(e){this.isEnabled()&&this.dt.handleRowTouchEnd(e)},e.prototype.onKeyDown=function(e){if(this.isEnabled()){var t=e.target;switch(e.which){case 40:var n=this.findNextSelectableRow(t);n&&n.focus(),e.preventDefault();break;case 38:var i=this.findPrevSelectableRow(t);i&&i.focus(),e.preventDefault();break;case 13:this.dt.handleRowClick({originalEvent:e,rowData:this.data,rowIndex:this.index})}}},e.prototype.findNextSelectableRow=function(e){var t=e.nextElementSibling;return t?u.DomHandler.hasClass(t,"ui-selectable-row")?t:this.findNextSelectableRow(t):null},e.prototype.findPrevSelectableRow=function(e){var t=e.previousElementSibling;return t?u.DomHandler.hasClass(t,"ui-selectable-row")?t:this.findPrevSelectableRow(t):null},e.prototype.isEnabled=function(){return!0!==this.pSelectableRowDisabled},e.prototype.ngOnDestroy=function(){this.subscription&&this.subscription.unsubscribe()},i([s.Input("pSelectableRow"),r("design:type",Object)],e.prototype,"data",void 0),i([s.Input("pSelectableRowIndex"),r("design:type",Number)],e.prototype,"index",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"pSelectableRowDisabled",void 0),i([s.HostListener("click",["$event"]),r("design:type",Function),r("design:paramtypes",[Event]),r("design:returntype",void 0)],e.prototype,"onClick",null),i([s.HostListener("touchend",["$event"]),r("design:type",Function),r("design:paramtypes",[Event]),r("design:returntype",void 0)],e.prototype,"onTouchEnd",null),i([s.HostListener("keydown",["$event"]),r("design:type",Function),r("design:paramtypes",[KeyboardEvent]),r("design:returntype",void 0)],e.prototype,"onKeyDown",null),i([s.Directive({selector:"[pSelectableRow]",host:{"[class.ui-selectable-row]":"isEnabled()","[class.ui-state-highlight]":"selected","[attr.tabindex]":"isEnabled() ? 0 : undefined"}})],e)}();t.SelectableRow=_;var b=function(){function e(e,t){var n=this;this.dt=e,this.tableService=t,this.isEnabled()&&(this.subscription=this.dt.tableService.selectionSource$.subscribe(function(){n.selected=n.dt.isSelected(n.data)}))}return e.prototype.ngOnInit=function(){this.isEnabled()&&(this.selected=this.dt.isSelected(this.data))},e.prototype.onClick=function(e){this.isEnabled()&&this.dt.handleRowClick({originalEvent:e,rowData:this.data,rowIndex:this.index})},e.prototype.isEnabled=function(){return!0!==this.pSelectableRowDisabled},e.prototype.ngOnDestroy=function(){this.subscription&&this.subscription.unsubscribe()},i([s.Input("pSelectableRowDblClick"),r("design:type",Object)],e.prototype,"data",void 0),i([s.Input("pSelectableRowIndex"),r("design:type",Number)],e.prototype,"index",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"pSelectableRowDisabled",void 0),i([s.HostListener("dblclick",["$event"]),r("design:type",Function),r("design:paramtypes",[Event]),r("design:returntype",void 0)],e.prototype,"onClick",null),i([s.Directive({selector:"[pSelectableRowDblClick]",host:{"[class.ui-state-highlight]":"selected"}})],e)}();t.SelectableRowDblClick=b;var w=function(){function e(e,t){var n=this;this.dt=e,this.tableService=t,this.isEnabled()&&(this.subscription=this.dt.tableService.contextMenuSource$.subscribe(function(e){n.selected=n.dt.equals(n.data,e)}))}return e.prototype.onContextMenu=function(e){this.isEnabled()&&(this.dt.handleRowRightClick({originalEvent:e,rowData:this.data}),e.preventDefault())},e.prototype.isEnabled=function(){return!0!==this.pContextMenuRowDisabled},e.prototype.ngOnDestroy=function(){this.subscription&&this.subscription.unsubscribe()},i([s.Input("pContextMenuRow"),r("design:type",Object)],e.prototype,"data",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"pContextMenuRowDisabled",void 0),i([s.HostListener("contextmenu",["$event"]),r("design:type",Function),r("design:paramtypes",[Event]),r("design:returntype",void 0)],e.prototype,"onContextMenu",null),i([s.Directive({selector:"[pContextMenuRow]",host:{"[class.ui-contextmenu-selected]":"selected"}})],e)}();t.ContextMenuRow=w;var x=function(){function e(e){this.dt=e}return e.prototype.onClick=function(e){this.isEnabled()&&(this.dt.toggleRow(this.data,e),e.preventDefault())},e.prototype.isEnabled=function(){return!0!==this.pRowTogglerDisabled},i([s.Input("pRowToggler"),r("design:type",Object)],e.prototype,"data",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"pRowTogglerDisabled",void 0),i([s.HostListener("click",["$event"]),r("design:type",Function),r("design:paramtypes",[Event]),r("design:returntype",void 0)],e.prototype,"onClick",null),i([s.Directive({selector:"[pRowToggler]"})],e)}();t.RowToggler=x;var C=function(){function e(e,t,n){this.dt=e,this.el=t,this.zone=n}return e.prototype.ngAfterViewInit=function(){var e=this;this.isEnabled()&&(u.DomHandler.addClass(this.el.nativeElement,"ui-resizable-column"),this.resizer=document.createElement("span"),this.resizer.className="ui-column-resizer ui-clickable",this.el.nativeElement.appendChild(this.resizer),this.zone.runOutsideAngular(function(){e.resizerMouseDownListener=e.onMouseDown.bind(e),e.resizer.addEventListener("mousedown",e.resizerMouseDownListener)}))},e.prototype.bindDocumentEvents=function(){var e=this;this.zone.runOutsideAngular(function(){e.documentMouseMoveListener=e.onDocumentMouseMove.bind(e),document.addEventListener("mousemove",e.documentMouseMoveListener),e.documentMouseUpListener=e.onDocumentMouseUp.bind(e),document.addEventListener("mouseup",e.documentMouseUpListener)})},e.prototype.unbindDocumentEvents=function(){this.documentMouseMoveListener&&(document.removeEventListener("mousemove",this.documentMouseMoveListener),this.documentMouseMoveListener=null),this.documentMouseUpListener&&(document.removeEventListener("mouseup",this.documentMouseUpListener),this.documentMouseUpListener=null)},e.prototype.onMouseDown=function(e){this.dt.onColumnResizeBegin(e),this.bindDocumentEvents()},e.prototype.onDocumentMouseMove=function(e){this.dt.onColumnResize(e)},e.prototype.onDocumentMouseUp=function(e){this.dt.onColumnResizeEnd(e,this.el.nativeElement),this.unbindDocumentEvents()},e.prototype.isEnabled=function(){return!0!==this.pResizableColumnDisabled},e.prototype.ngOnDestroy=function(){this.resizerMouseDownListener&&this.resizer.removeEventListener("mousedown",this.resizerMouseDownListener),this.unbindDocumentEvents()},i([s.Input(),r("design:type",Boolean)],e.prototype,"pResizableColumnDisabled",void 0),i([s.Directive({selector:"[pResizableColumn]"})],e)}();t.ResizableColumn=C;var S=function(){function e(e,t,n){this.dt=e,this.el=t,this.zone=n}return e.prototype.ngAfterViewInit=function(){this.isEnabled()&&this.bindEvents()},e.prototype.bindEvents=function(){var e=this;this.zone.runOutsideAngular(function(){e.mouseDownListener=e.onMouseDown.bind(e),e.el.nativeElement.addEventListener("mousedown",e.mouseDownListener),e.dragStartListener=e.onDragStart.bind(e),e.el.nativeElement.addEventListener("dragstart",e.dragStartListener),e.dragOverListener=e.onDragEnter.bind(e),e.el.nativeElement.addEventListener("dragover",e.dragOverListener),e.dragEnterListener=e.onDragEnter.bind(e),e.el.nativeElement.addEventListener("dragenter",e.dragEnterListener),e.dragLeaveListener=e.onDragLeave.bind(e),e.el.nativeElement.addEventListener("dragleave",e.dragLeaveListener)})},e.prototype.unbindEvents=function(){this.mouseDownListener&&(document.removeEventListener("mousedown",this.mouseDownListener),this.mouseDownListener=null),this.dragOverListener&&(document.removeEventListener("dragover",this.dragOverListener),this.dragOverListener=null),this.dragEnterListener&&(document.removeEventListener("dragenter",this.dragEnterListener),this.dragEnterListener=null),this.dragEnterListener&&(document.removeEventListener("dragenter",this.dragEnterListener),this.dragEnterListener=null),this.dragLeaveListener&&(document.removeEventListener("dragleave",this.dragLeaveListener),this.dragLeaveListener=null)},e.prototype.onMouseDown=function(e){this.el.nativeElement.draggable="INPUT"!==e.target.nodeName&&"TEXTAREA"!==e.target.nodeName&&!u.DomHandler.hasClass(e.target,"ui-column-resizer")},e.prototype.onDragStart=function(e){this.dt.onColumnDragStart(e,this.el.nativeElement)},e.prototype.onDragOver=function(e){e.preventDefault()},e.prototype.onDragEnter=function(e){this.dt.onColumnDragEnter(e,this.el.nativeElement)},e.prototype.onDragLeave=function(e){this.dt.onColumnDragLeave(e)},e.prototype.onDrop=function(e){this.isEnabled()&&this.dt.onColumnDrop(e,this.el.nativeElement)},e.prototype.isEnabled=function(){return!0!==this.pReorderableColumnDisabled},e.prototype.ngOnDestroy=function(){this.unbindEvents()},i([s.Input(),r("design:type",Boolean)],e.prototype,"pReorderableColumnDisabled",void 0),i([s.HostListener("drop",["$event"]),r("design:type",Function),r("design:paramtypes",[Object]),r("design:returntype",void 0)],e.prototype,"onDrop",null),i([s.Directive({selector:"[pReorderableColumn]"})],e)}();t.ReorderableColumn=S;var E=function(){function e(e,t,n){this.dt=e,this.el=t,this.zone=n}return e.prototype.ngAfterViewInit=function(){this.isEnabled()&&u.DomHandler.addClass(this.el.nativeElement,"ui-editable-column")},e.prototype.onClick=function(e){if(this.isEnabled())if(this.dt.editingCellClick=!0,this.dt.editingCell){if(this.dt.editingCell!==this.el.nativeElement){if(!this.dt.isEditingCellValid())return;u.DomHandler.removeClass(this.dt.editingCell,"ui-editing-cell"),this.openCell()}}else this.openCell()},e.prototype.openCell=function(){var e=this;this.dt.updateEditingCell(this.el.nativeElement),u.DomHandler.addClass(this.el.nativeElement,"ui-editing-cell"),this.dt.onEditInit.emit({field:this.field,data:this.data}),this.zone.runOutsideAngular(function(){setTimeout(function(){var t=u.DomHandler.findSingle(e.el.nativeElement,"input, textarea");t&&t.focus()},50)})},e.prototype.closeEditingCell=function(){u.DomHandler.removeClass(this.dt.editingCell,"ui-editing-cell"),this.dt.editingCell=null,this.dt.unbindDocumentEditListener()},e.prototype.onKeyDown=function(e){this.isEnabled()&&(13==e.keyCode?(this.dt.isEditingCellValid()&&(this.closeEditingCell(),this.dt.onEditComplete.emit({field:this.field,data:this.data})),e.preventDefault()):27==e.keyCode?(this.dt.isEditingCellValid()&&(this.closeEditingCell(),this.dt.onEditCancel.emit({field:this.field,data:this.data})),e.preventDefault()):9==e.keyCode&&(this.dt.onEditComplete.emit({field:this.field,data:this.data}),e.shiftKey?this.moveToPreviousCell(e):this.moveToNextCell(e)))},e.prototype.findCell=function(e){if(e){for(var t=e;t&&!u.DomHandler.hasClass(t,"ui-editing-cell");)t=t.parentElement;return t}return null},e.prototype.moveToPreviousCell=function(e){var t=this.findCell(e.target),n=this.findPreviousEditableColumn(t);n&&(u.DomHandler.invokeElementMethod(e.target,"blur"),u.DomHandler.invokeElementMethod(n,"click"),e.preventDefault())},e.prototype.moveToNextCell=function(e){var t=this.findCell(e.target),n=this.findNextEditableColumn(t);n&&(u.DomHandler.invokeElementMethod(e.target,"blur"),u.DomHandler.invokeElementMethod(n,"click"),e.preventDefault())},e.prototype.findPreviousEditableColumn=function(e){var t=e.previousElementSibling;if(!t){var n=e.parentElement.previousElementSibling;n&&(t=n.lastElementChild)}return t?u.DomHandler.hasClass(t,"ui-editable-column")?t:this.findPreviousEditableColumn(t):null},e.prototype.findNextEditableColumn=function(e){var t=e.nextElementSibling;if(!t){var n=e.parentElement.nextElementSibling;n&&(t=n.firstElementChild)}return t?u.DomHandler.hasClass(t,"ui-editable-column")?t:this.findNextEditableColumn(t):null},e.prototype.isEnabled=function(){return!0!==this.pEditableColumnDisabled},i([s.Input("pEditableColumn"),r("design:type",Object)],e.prototype,"data",void 0),i([s.Input("pEditableColumnField"),r("design:type",Object)],e.prototype,"field",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"pEditableColumnDisabled",void 0),i([s.HostListener("click",["$event"]),r("design:type",Function),r("design:paramtypes",[MouseEvent]),r("design:returntype",void 0)],e.prototype,"onClick",null),i([s.HostListener("keydown",["$event"]),r("design:type",Function),r("design:paramtypes",[KeyboardEvent]),r("design:returntype",void 0)],e.prototype,"onKeyDown",null),i([s.Directive({selector:"[pEditableColumn]"})],e)}();t.EditableColumn=E;var T=function(){function e(e,t){this.dt=e,this.editableColumn=t}return e.prototype.ngAfterContentInit=function(){var e=this;this.templates.forEach(function(t){switch(t.getType()){case"input":e.inputTemplate=t.template;break;case"output":e.outputTemplate=t.template}})},i([s.ContentChildren(a.PrimeTemplate),r("design:type",s.QueryList)],e.prototype,"templates",void 0),i([s.Component({selector:"p-cellEditor",template:'\n        <ng-container *ngIf="dt.editingCell && dt.editingCell === editableColumn.el.nativeElement">\n            <ng-container *ngTemplateOutlet="inputTemplate"></ng-container>\n        </ng-container>\n        <ng-container *ngIf="!dt.editingCell || dt.editingCell !== editableColumn.el.nativeElement">\n            <ng-container *ngTemplateOutlet="outputTemplate"></ng-container>\n        </ng-container>\n    '})],e)}();t.CellEditor=T;var M=function(){function e(e,t){var n=this;this.dt=e,this.tableService=t,this.subscription=this.dt.tableService.selectionSource$.subscribe(function(){n.checked=n.dt.isSelected(n.value)})}return e.prototype.ngOnInit=function(){this.checked=this.dt.isSelected(this.value)},e.prototype.onClick=function(e){this.disabled||this.dt.toggleRowWithRadio({originalEvent:e,rowIndex:this.index},this.value),u.DomHandler.clearSelection()},e.prototype.onFocus=function(){u.DomHandler.addClass(this.boxViewChild.nativeElement,"ui-state-focus")},e.prototype.onBlur=function(){u.DomHandler.removeClass(this.boxViewChild.nativeElement,"ui-state-focus")},e.prototype.ngOnDestroy=function(){this.subscription&&this.subscription.unsubscribe()},i([s.Input(),r("design:type",Boolean)],e.prototype,"disabled",void 0),i([s.Input(),r("design:type",Object)],e.prototype,"value",void 0),i([s.Input(),r("design:type",Number)],e.prototype,"index",void 0),i([s.ViewChild("box"),r("design:type",s.ElementRef)],e.prototype,"boxViewChild",void 0),i([s.Component({selector:"p-tableRadioButton",template:'\n        <div class="ui-radiobutton ui-widget" (click)="onClick($event)">\n            <div class="ui-helper-hidden-accessible">\n                <input type="radio" [checked]="checked" (focus)="onFocus()" (blur)="onBlur()" [disabled]="disabled">\n            </div>\n            <div #box [ngClass]="{\'ui-radiobutton-box ui-widget ui-state-default\':true,\n                \'ui-state-active\':checked, \'ui-state-disabled\':disabled}">\n                <span class="ui-radiobutton-icon ui-clickable" [ngClass]="{\'pi pi-circle-on\':checked}"></span>\n            </div>\n        </div>\n    '})],e)}();t.TableRadioButton=M;var I=function(){function e(e,t){var n=this;this.dt=e,this.tableService=t,this.subscription=this.dt.tableService.selectionSource$.subscribe(function(){n.checked=n.dt.isSelected(n.value)})}return e.prototype.ngOnInit=function(){this.checked=this.dt.isSelected(this.value)},e.prototype.onClick=function(e){this.disabled||this.dt.toggleRowWithCheckbox({originalEvent:e,rowIndex:this.index},this.value),u.DomHandler.clearSelection()},e.prototype.onFocus=function(){u.DomHandler.addClass(this.boxViewChild.nativeElement,"ui-state-focus")},e.prototype.onBlur=function(){u.DomHandler.removeClass(this.boxViewChild.nativeElement,"ui-state-focus")},e.prototype.ngOnDestroy=function(){this.subscription&&this.subscription.unsubscribe()},i([s.Input(),r("design:type",Boolean)],e.prototype,"disabled",void 0),i([s.Input(),r("design:type",Object)],e.prototype,"value",void 0),i([s.Input(),r("design:type",Number)],e.prototype,"index",void 0),i([s.ViewChild("box"),r("design:type",s.ElementRef)],e.prototype,"boxViewChild",void 0),i([s.Component({selector:"p-tableCheckbox",template:'\n        <div class="ui-chkbox ui-widget" (click)="onClick($event)">\n            <div class="ui-helper-hidden-accessible">\n                <input type="checkbox" [checked]="checked" (focus)="onFocus()" (blur)="onBlur()" [disabled]="disabled">\n            </div>\n            <div #box [ngClass]="{\'ui-chkbox-box ui-widget ui-state-default\':true,\n                \'ui-state-active\':checked, \'ui-state-disabled\':disabled}">\n                <span class="ui-chkbox-icon ui-clickable" [ngClass]="{\'pi pi-check\':checked}"></span>\n            </div>\n        </div>\n    '})],e)}();t.TableCheckbox=I;var O=function(){function e(e,t){var n=this;this.dt=e,this.tableService=t,this.valueChangeSubscription=this.dt.tableService.valueSource$.subscribe(function(){n.checked=n.updateCheckedState()}),this.selectionChangeSubscription=this.dt.tableService.selectionSource$.subscribe(function(){n.checked=n.updateCheckedState()})}return e.prototype.ngOnInit=function(){this.checked=this.updateCheckedState()},e.prototype.onClick=function(e,t){this.disabled||this.dt.value&&this.dt.value.length>0&&this.dt.toggleRowsWithCheckbox(e,!t),u.DomHandler.clearSelection()},e.prototype.onFocus=function(){u.DomHandler.addClass(this.boxViewChild.nativeElement,"ui-state-focus")},e.prototype.onBlur=function(){u.DomHandler.removeClass(this.boxViewChild.nativeElement,"ui-state-focus")},e.prototype.isDisabled=function(){return this.disabled||!this.dt.value||!this.dt.value.length},e.prototype.ngOnDestroy=function(){this.selectionChangeSubscription&&this.selectionChangeSubscription.unsubscribe(),this.valueChangeSubscription&&this.valueChangeSubscription.unsubscribe()},e.prototype.updateCheckedState=function(){var e;return this.dt.filteredValue?(e=this.dt.filteredValue)&&e.length>0&&this.dt.selection&&this.dt.selection.length>0&&this.isAllFilteredValuesChecked():(e=this.dt.value)&&e.length>0&&this.dt.selection&&this.dt.selection.length>0&&this.dt.selection.length===e.length},e.prototype.isAllFilteredValuesChecked=function(){if(this.dt.filteredValue){for(var e=0,t=this.dt.filteredValue;e<t.length;e++)if(!this.dt.isSelected(t[e]))return!1;return!0}return!1},i([s.ViewChild("box"),r("design:type",s.ElementRef)],e.prototype,"boxViewChild",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"disabled",void 0),i([s.Component({selector:"p-tableHeaderCheckbox",template:'\n        <div class="ui-chkbox ui-widget" (click)="onClick($event, cb.checked)">\n            <div class="ui-helper-hidden-accessible">\n                <input #cb type="checkbox" [checked]="checked" (focus)="onFocus()" (blur)="onBlur()" [disabled]="isDisabled()">\n            </div>\n            <div #box [ngClass]="{\'ui-chkbox-box ui-widget ui-state-default\':true,\n                \'ui-state-active\':checked, \'ui-state-disabled\': isDisabled()}">\n                <span class="ui-chkbox-icon ui-clickable" [ngClass]="{\'pi pi-check\':checked}"></span>\n            </div>\n        </div>\n    '})],e)}();t.TableHeaderCheckbox=O;var A=function(){function e(e){this.el=e}return e.prototype.ngAfterViewInit=function(){u.DomHandler.addClass(this.el.nativeElement,"ui-table-reorderablerow-handle")},i([s.Input("pReorderableRowHandle"),r("design:type",Number)],e.prototype,"index",void 0),i([s.Directive({selector:"[pReorderableRowHandle]"})],e)}();t.ReorderableRowHandle=A;var D=function(){function e(e,t,n){this.dt=e,this.el=t,this.zone=n}return e.prototype.ngAfterViewInit=function(){this.isEnabled()&&(this.el.nativeElement.droppable=!0,this.bindEvents())},e.prototype.bindEvents=function(){var e=this;this.zone.runOutsideAngular(function(){e.mouseDownListener=e.onMouseDown.bind(e),e.el.nativeElement.addEventListener("mousedown",e.mouseDownListener),e.dragStartListener=e.onDragStart.bind(e),e.el.nativeElement.addEventListener("dragstart",e.dragStartListener),e.dragEndListener=e.onDragEnd.bind(e),e.el.nativeElement.addEventListener("dragend",e.dragEndListener),e.dragOverListener=e.onDragOver.bind(e),e.el.nativeElement.addEventListener("dragover",e.dragOverListener),e.dragLeaveListener=e.onDragLeave.bind(e),e.el.nativeElement.addEventListener("dragleave",e.dragLeaveListener)})},e.prototype.unbindEvents=function(){this.mouseDownListener&&(document.removeEventListener("mousedown",this.mouseDownListener),this.mouseDownListener=null),this.dragStartListener&&(document.removeEventListener("dragstart",this.dragStartListener),this.dragStartListener=null),this.dragEndListener&&(document.removeEventListener("dragend",this.dragEndListener),this.dragEndListener=null),this.dragOverListener&&(document.removeEventListener("dragover",this.dragOverListener),this.dragOverListener=null),this.dragLeaveListener&&(document.removeEventListener("dragleave",this.dragLeaveListener),this.dragLeaveListener=null)},e.prototype.onMouseDown=function(e){this.el.nativeElement.draggable=!!u.DomHandler.hasClass(e.target,"ui-table-reorderablerow-handle")},e.prototype.onDragStart=function(e){this.dt.onRowDragStart(e,this.index)},e.prototype.onDragEnd=function(e){this.dt.onRowDragEnd(e),this.el.nativeElement.draggable=!1},e.prototype.onDragOver=function(e){this.dt.onRowDragOver(e,this.index,this.el.nativeElement),e.preventDefault()},e.prototype.onDragLeave=function(e){this.dt.onRowDragLeave(e,this.el.nativeElement)},e.prototype.isEnabled=function(){return!0!==this.pReorderableRowDisabled},e.prototype.onDrop=function(e){this.isEnabled()&&this.dt.rowDragging&&this.dt.onRowDrop(e,this.el.nativeElement),e.preventDefault()},i([s.Input("pReorderableRow"),r("design:type",Number)],e.prototype,"index",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"pReorderableRowDisabled",void 0),i([s.HostListener("drop",["$event"]),r("design:type",Function),r("design:paramtypes",[Object]),r("design:returntype",void 0)],e.prototype,"onDrop",null),i([s.Directive({selector:"[pReorderableRow]"})],e)}();t.ReorderableRow=D,t.TableModule=function(){return i([s.NgModule({imports:[o.CommonModule,l.PaginatorModule],exports:[f,a.SharedModule,v,_,x,w,C,S,E,T,y,M,I,O,A,D,b],declarations:[f,v,_,x,w,C,S,E,T,g,m,y,M,I,O,A,D,b]})],function(){})}()},D0XW:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("3N8a");const r=new(n("IjjT").a)(i.a)},DH7j:function(e,t,n){"use strict";n.d(t,"a",function(){return i});const i=Array.isArray||(e=>e&&"number"==typeof e.length)},EQ5u:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return u});var i=n("XNiG"),r=n("HDdC"),s=(n("7o/Q"),n("quSY")),o=n("x+ZX");class a extends r.a{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new s.a).add(this.source.subscribe(new c(this.getSubject(),this))),e.closed?(this._connection=null,e=s.a.EMPTY):this._connection=e),e}refCount(){return Object(o.a)()(this)}}const l=a.prototype,u={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:l._subscribe},_isComplete:{value:l._isComplete,writable:!0},getSubject:{value:l.getSubject},connect:{value:l.connect},refCount:{value:l.refCount}};class c extends i.b{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}},EY2u:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return s});var i=n("HDdC");const r=new i.a(e=>e.complete());function s(e){return e?function(e){return new i.a(t=>e.schedule(()=>t.complete()))}(e):r}},Fa87:function(e,t,n){var i=n("mrSG").__decorate,r=n("mrSG").__metadata;Object.defineProperty(t,"__esModule",{value:!0});var s=n("8Y7J"),o=(n("s7LF"),n("SVse")),a=function(){function e(e,t){this.el=e,this.ngModel=t}return e.prototype.ngDoCheck=function(){this.updateFilledState()},e.prototype.onInput=function(e){this.updateFilledState()},e.prototype.updateFilledState=function(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model},i([s.HostListener("input",["$event"]),r("design:type",Function),r("design:paramtypes",[Object]),r("design:returntype",void 0)],e.prototype,"onInput",null),i([s.Directive({selector:"[pInputText]",host:{"[class.ui-inputtext]":"true","[class.ui-corner-all]":"true","[class.ui-state-default]":"true","[class.ui-widget]":"true","[class.ui-state-filled]":"filled"}})],e)}();t.InputText=a,t.InputTextModule=function(){return i([s.NgModule({imports:[o.CommonModule],exports:[a],declarations:[a]})],function(){})}()},G5kV:function(e,t,n){var i=n("mrSG").__decorate,r=n("mrSG").__metadata;Object.defineProperty(t,"__esModule",{value:!0});var s=n("8Y7J"),o=n("SVse"),a=n("sdDj"),l=n("7LN8"),u=(n("4Vzq"),n("GS7A")),c=function(){function e(){this.onClose=new s.EventEmitter}return e.prototype.ngAfterViewInit=function(){this.initTimeout()},e.prototype.initTimeout=function(){var e=this;this.message.sticky||(this.timeout=setTimeout(function(){e.onClose.emit({index:e.index,message:e.message})},this.message.life||3e3))},e.prototype.clearTimeout=function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},e.prototype.onMouseEnter=function(){this.clearTimeout()},e.prototype.onMouseLeave=function(){this.initTimeout()},e.prototype.onCloseIconClick=function(e){this.clearTimeout(),this.onClose.emit({index:this.index,message:this.message}),e.preventDefault()},e.prototype.ngOnDestroy=function(){this.clearTimeout()},i([s.Input(),r("design:type",Object)],e.prototype,"message",void 0),i([s.Input(),r("design:type",Number)],e.prototype,"index",void 0),i([s.Input(),r("design:type",s.TemplateRef)],e.prototype,"template",void 0),i([s.Input(),r("design:type",String)],e.prototype,"showTransitionOptions",void 0),i([s.Input(),r("design:type",String)],e.prototype,"hideTransitionOptions",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"onClose",void 0),i([s.ViewChild("container"),r("design:type",s.ElementRef)],e.prototype,"containerViewChild",void 0),i([s.Component({selector:"p-toastItem",template:'\n        <div #container class="ui-toast-message ui-shadow" [@messageState]="{value: \'visible\', params: {showTransitionParams: showTransitionOptions, hideTransitionParams: hideTransitionOptions}}"\n            [ngClass]="{\'ui-toast-message-info\': message.severity == \'info\',\'ui-toast-message-warn\': message.severity == \'warn\',\n                \'ui-toast-message-error\': message.severity == \'error\',\'ui-toast-message-success\': message.severity == \'success\'}"\n                (mouseenter)="onMouseEnter()" (mouseleave)="onMouseLeave()">\n            <div class="ui-toast-message-content">\n                <a tabindex="0" class="ui-toast-close-icon pi pi-times" (click)="onCloseIconClick($event)" (keydown.enter)="onCloseIconClick($event)" *ngIf="message.closable !== false"></a>\n                <ng-container *ngIf="!template">\n                    <span class="ui-toast-icon pi"\n                        [ngClass]="{\'pi-info-circle\': message.severity == \'info\', \'pi-exclamation-triangle\': message.severity == \'warn\',\n                            \'pi-times\': message.severity == \'error\', \'pi-check\' :message.severity == \'success\'}"></span>\n                    <div class="ui-toast-message-text-content">\n                        <div class="ui-toast-summary">{{message.summary}}</div>\n                        <div class="ui-toast-detail">{{message.detail}}</div>\n                    </div>\n                </ng-container>\n                <ng-container *ngTemplateOutlet="template; context: {$implicit: message}"></ng-container>\n            </div>\n        </div>\n    ',animations:[u.trigger("messageState",[u.state("visible",u.style({transform:"translateY(0)",opacity:1})),u.transition("void => *",[u.style({transform:"translateY(100%)",opacity:0}),u.animate("{{showTransitionParams}}")]),u.transition("* => void",[u.animate("{{hideTransitionParams}}",u.style({height:0,opacity:0,transform:"translateY(-100%)"}))])])]})],e)}();t.ToastItem=c;var h=function(){function e(e){this.messageService=e,this.autoZIndex=!0,this.baseZIndex=0,this.position="top-right",this.showTransitionOptions="300ms ease-out",this.hideTransitionOptions="250ms ease-in",this.onClose=new s.EventEmitter}return e.prototype.ngOnInit=function(){var e=this;this.messageSubscription=this.messageService.messageObserver.subscribe(function(t){if(t){if(t instanceof Array){var n=t.filter(function(t){return e.key===t.key});e.messages=e.messages?e.messages.concat(n):n.slice()}else e.key===t.key&&(e.messages=e.messages?e.messages.concat([t]):[t]);e.modal&&e.messages&&e.messages.length&&e.enableModality()}}),this.clearSubscription=this.messageService.clearObserver.subscribe(function(t){t?e.key===t&&(e.messages=null):e.messages=null,e.modal&&e.disableModality()})},e.prototype.ngAfterContentInit=function(){var e=this;this.templates.forEach(function(t){switch(t.getType()){case"message":default:e.template=t.template}})},e.prototype.onMessageClose=function(e){this.messages.splice(e.index,1),0===this.messages.length&&this.disableModality(),this.onClose.emit({message:e.message})},e.prototype.enableModality=function(){this.mask||(this.mask=document.createElement("div"),this.mask.style.zIndex=String(parseInt(this.containerViewChild.nativeElement.style.zIndex)-1),a.DomHandler.addMultipleClasses(this.mask,"ui-widget-overlay ui-dialog-mask"),document.body.appendChild(this.mask))},e.prototype.disableModality=function(){this.mask&&(document.body.removeChild(this.mask),this.mask=null)},e.prototype.onAnimationStart=function(e){"void"===e.fromState&&this.autoZIndex&&(this.containerViewChild.nativeElement.style.zIndex=String(this.baseZIndex+ ++a.DomHandler.zindex))},e.prototype.ngOnDestroy=function(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.disableModality()},i([s.Input(),r("design:type",String)],e.prototype,"key",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"autoZIndex",void 0),i([s.Input(),r("design:type",Number)],e.prototype,"baseZIndex",void 0),i([s.Input(),r("design:type",Object)],e.prototype,"style",void 0),i([s.Input(),r("design:type",String)],e.prototype,"styleClass",void 0),i([s.Input(),r("design:type",String)],e.prototype,"position",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"modal",void 0),i([s.Input(),r("design:type",String)],e.prototype,"showTransitionOptions",void 0),i([s.Input(),r("design:type",String)],e.prototype,"hideTransitionOptions",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"onClose",void 0),i([s.ViewChild("container"),r("design:type",s.ElementRef)],e.prototype,"containerViewChild",void 0),i([s.ContentChildren(l.PrimeTemplate),r("design:type",s.QueryList)],e.prototype,"templates",void 0),i([s.Component({selector:"p-toast",template:"\n        <div #container [ngClass]=\"{'ui-toast ui-widget': true, \n                'ui-toast-top-right': position === 'top-right',\n                'ui-toast-top-left': position === 'top-left',\n                'ui-toast-bottom-right': position === 'bottom-right',\n                'ui-toast-bottom-left': position === 'bottom-left',\n                'ui-toast-top-center': position === 'top-center',\n                'ui-toast-bottom-center': position === 'bottom-center',\n                'ui-toast-center': position === 'center'}\" \n                [ngStyle]=\"style\" [class]=\"styleClass\">\n            <p-toastItem *ngFor=\"let msg of messages; let i=index\" [message]=\"msg\" [index]=\"i\" (onClose)=\"onMessageClose($event)\"\n                    [template]=\"template\" @toastAnimation (@toastAnimation.start)=\"onAnimationStart($event)\" [showTransitionOptions]=\"showTransitionOptions\" [hideTransitionOptions]=\"hideTransitionOptions\"></p-toastItem>\n        </div>\n    ",animations:[u.trigger("toastAnimation",[u.transition(":enter, :leave",[u.query("@*",u.animateChild())])])]})],e)}();t.Toast=h,t.ToastModule=function(){return i([s.NgModule({imports:[o.CommonModule],exports:[h,l.SharedModule],declarations:[h,c]})],function(){})}()},GS7A:function(e,t,n){"use strict";n.r(t),n.d(t,"AnimationBuilder",function(){return i}),n.d(t,"AnimationFactory",function(){return r}),n.d(t,"AUTO_STYLE",function(){return s}),n.d(t,"animate",function(){return a}),n.d(t,"animateChild",function(){return g}),n.d(t,"animation",function(){return f}),n.d(t,"group",function(){return l}),n.d(t,"keyframes",function(){return d}),n.d(t,"query",function(){return v}),n.d(t,"sequence",function(){return u}),n.d(t,"stagger",function(){return y}),n.d(t,"state",function(){return h}),n.d(t,"style",function(){return c}),n.d(t,"transition",function(){return p}),n.d(t,"trigger",function(){return o}),n.d(t,"useAnimation",function(){return m}),n.d(t,"NoopAnimationPlayer",function(){return b}),n.d(t,"\u0275AnimationGroupPlayer",function(){return w}),n.d(t,"\u0275PRE_STYLE",function(){return x});class i{}class r{}const s="*";function o(e,t){return{type:7,name:e,definitions:t,options:{}}}function a(e,t=null){return{type:4,styles:t,timings:e}}function l(e,t=null){return{type:3,steps:e,options:t}}function u(e,t=null){return{type:2,steps:e,options:t}}function c(e){return{type:6,styles:e,offset:null}}function h(e,t,n){return{type:0,name:e,styles:t,options:n}}function d(e){return{type:5,steps:e}}function p(e,t,n=null){return{type:1,expr:e,animation:t,options:n}}function f(e,t=null){return{type:8,animation:e,options:t}}function g(e=null){return{type:9,options:e}}function m(e,t=null){return{type:10,animation:e,options:t}}function v(e,t,n=null){return{type:11,selector:e,animation:t,options:n}}function y(e,t){return{type:12,timings:e,animation:t}}function _(e){Promise.resolve(null).then(e)}class b{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){_(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){}setPosition(e){}getPosition(){return 0}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class w{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,n=0,i=0;const r=this.players.length;0==r?_(()=>this._onFinish()):this.players.forEach(e=>{e.onDone(()=>{++t==r&&this._onFinish()}),e.onDestroy(()=>{++n==r&&this._onDestroy()}),e.onStart(()=>{++i==r&&this._onStart()})}),this.totalTime=this.players.reduce((e,t)=>Math.max(e,t.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(e=>{const n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)})}getPosition(){let e=0;return this.players.forEach(t=>{const n=t.getPosition();e=Math.min(n,e)}),e}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}const x="!"},GyhO:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n("z+Ro"),r=n("LRne"),s=n("Cfvw"),o=n("0EUg");function a(...e){return 1===e.length||2===e.length&&Object(i.a)(e[1])?Object(s.a)(e[0]):Object(o.a)()(Object(r.a)(...e))}},HDdC:function(e,t,n){"use strict";var i=n("8Qeq"),r=n("7o/Q"),s=n("2QA8"),o=n("gRHU"),a=n("kJWO"),l=n("mCNh"),u=n("2fFW");n.d(t,"a",function(){return c});class c{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(e){const t=new c;return t.source=this,t.operator=e,t}subscribe(e,t,n){const{operator:i}=this,a=function(e,t,n){if(e){if(e instanceof r.a)return e;if(e[s.a])return e[s.a]()}return e||t||n?new r.a(e,t,n):new r.a(o.a)}(e,t,n);if(i?i.call(a,this.source):a.add(this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(e){try{return this._subscribe(e)}catch(t){u.a.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),Object(i.a)(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=h(t))((t,n)=>{let i;i=this.subscribe(t=>{try{e(t)}catch(r){n(r),i&&i.unsubscribe()}},n,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[a.a](){return this}pipe(...e){return 0===e.length?this:Object(l.b)(e)(this)}toPromise(e){return new(e=h(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}function h(e){if(e||(e=u.a.Promise||Promise),!e)throw new Error("no Promise impl found");return e}c.create=(e=>new c(e))},HQi4:function(e,t,n){var i=n("mrSG").__decorate,r=n("mrSG").__metadata;Object.defineProperty(t,"__esModule",{value:!0});var s=n("8Y7J"),o=n("SVse"),a=n("sdDj"),l=n("GS7A"),u=function(){function e(e,t,n,i){this.el=e,this.renderer=t,this.cd=n,this.zone=i,this.dismissable=!0,this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions="225ms ease-out",this.hideTransitionOptions="195ms ease-in",this.onShow=new s.EventEmitter,this.onHide=new s.EventEmitter,this.visible=!1}return e.prototype.bindDocumentClickListener=function(){var e=this;!this.documentClickListener&&this.dismissable&&this.zone.runOutsideAngular(function(){e.documentClickListener=e.renderer.listen("document","click",function(){e.selfClick||e.targetClickEvent||e.zone.run(function(){e.hide()}),e.selfClick=!1,e.targetClickEvent=!1,e.cd.markForCheck()})})},e.prototype.unbindDocumentClickListener=function(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)},e.prototype.toggle=function(e,t){var n=this;"click"===e.type&&(this.targetClickEvent=!0),this.visible?(this.visible=!1,this.hasTargetChanged(e,t)&&(this.target=t||e.currentTarget||e.target,setTimeout(function(){n.visible=!0},200))):this.show(e,t)},e.prototype.show=function(e,t){"click"===e.type&&(this.targetClickEvent=!0),this.target=t||e.currentTarget||e.target,this.visible=!0},e.prototype.hasTargetChanged=function(e,t){return null!=this.target&&this.target!==(t||e.currentTarget||e.target)},e.prototype.appendContainer=function(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.container):a.DomHandler.appendChild(this.container,this.appendTo))},e.prototype.restoreAppend=function(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.container)},e.prototype.onAnimationStart=function(e){switch(e.toState){case"visible":this.container=e.element,this.onShow.emit(null),this.appendContainer(),this.autoZIndex&&(this.container.style.zIndex=String(this.baseZIndex+ ++a.DomHandler.zindex)),a.DomHandler.absolutePosition(this.container,this.target),a.DomHandler.getOffset(this.container).top<a.DomHandler.getOffset(this.target).top&&a.DomHandler.addClass(this.container,"ui-overlaypanel-flipped"),this.bindDocumentClickListener(),this.bindDocumentResizeListener();break;case"void":this.onContainerDestroy(),this.onHide.emit({})}},e.prototype.hide=function(){this.visible=!1},e.prototype.onPanelClick=function(e){this.closeClick?(this.hide(),this.closeClick=!1):this.dismissable&&(this.selfClick=!0)},e.prototype.onCloseClick=function(e){this.closeClick=!0,e.preventDefault()},e.prototype.onWindowResize=function(e){this.hide()},e.prototype.bindDocumentResizeListener=function(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)},e.prototype.unbindDocumentResizeListener=function(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)},e.prototype.onContainerDestroy=function(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.selfClick=!1,this.targetClickEvent=!1},e.prototype.ngOnDestroy=function(){this.target=null,this.container&&(this.restoreAppend(),this.onContainerDestroy())},i([s.Input(),r("design:type",Boolean)],e.prototype,"dismissable",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"showCloseIcon",void 0),i([s.Input(),r("design:type",Object)],e.prototype,"style",void 0),i([s.Input(),r("design:type",String)],e.prototype,"styleClass",void 0),i([s.Input(),r("design:type",Object)],e.prototype,"appendTo",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"autoZIndex",void 0),i([s.Input(),r("design:type",Number)],e.prototype,"baseZIndex",void 0),i([s.Input(),r("design:type",String)],e.prototype,"showTransitionOptions",void 0),i([s.Input(),r("design:type",String)],e.prototype,"hideTransitionOptions",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"onShow",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"onHide",void 0),i([s.Component({selector:"p-overlayPanel",template:'\n        <div [ngClass]="\'ui-overlaypanel ui-widget ui-widget-content ui-corner-all ui-shadow\'" [ngStyle]="style" [class]="styleClass" (click)="onPanelClick($event)"\n            [@animation]="{value: \'visible\', params: {showTransitionParams: showTransitionOptions, hideTransitionParams: hideTransitionOptions}}" (@animation.start)="onAnimationStart($event)" *ngIf="visible">\n            <div class="ui-overlaypanel-content">\n                <ng-content></ng-content>\n            </div>\n            <a tabindex="0" *ngIf="showCloseIcon" class="ui-overlaypanel-close ui-state-default" (click)="onCloseClick($event)" (keydown.enter)="hide()">\n                <span class="ui-overlaypanel-close-icon pi pi-times"></span>\n            </a>\n        </div>\n    ',animations:[l.trigger("animation",[l.state("void",l.style({transform:"translateY(5%)",opacity:0})),l.state("visible",l.style({transform:"translateY(0)",opacity:1})),l.transition("void => visible",l.animate("{{showTransitionParams}}")),l.transition("visible => void",l.animate("{{hideTransitionParams}}"))])]})],e)}();t.OverlayPanel=u,t.OverlayPanelModule=function(){return i([s.NgModule({imports:[o.CommonModule],exports:[u],declarations:[u]})],function(){})}()},I55L:function(e,t,n){"use strict";n.d(t,"a",function(){return i});const i=e=>e&&"number"==typeof e.length&&"function"!=typeof e},IL0X:function(e,t,n){var i=n("mrSG").__decorate,r=n("mrSG").__metadata;Object.defineProperty(t,"__esModule",{value:!0});var s=n("8Y7J"),o=n("SVse"),a=function(){function e(){}return Object.defineProperty(e.prototype,"icon",{get:function(){var e=null;if(this.severity)switch(this.severity){case"success":e="pi pi-check";break;case"info":e="pi pi-info-circle";break;case"error":e="pi pi-times";break;case"warn":e="pi pi-exclamation-triangle";break;default:e="pi pi-info-circle"}return e},enumerable:!0,configurable:!0}),i([s.Input(),r("design:type",String)],e.prototype,"severity",void 0),i([s.Input(),r("design:type",String)],e.prototype,"text",void 0),i([s.Component({selector:"p-message",template:"\n        <div aria-live=\"polite\" class=\"ui-message ui-widget ui-corner-all\" *ngIf=\"severity\"\n        [ngClass]=\"{'ui-message-info': (severity === 'info'),\n                'ui-message-warn': (severity === 'warn'),\n                'ui-message-error': (severity === 'error'),\n                'ui-message-success': (severity === 'success')}\">\n            <span class=\"ui-message-icon\" [ngClass]=\"icon\"></span>\n            <span class=\"ui-message-text\" [innerHTML]=\"text\"></span>\n        </div>\n    "})],e)}();t.UIMessage=a,t.MessageModule=function(){return i([s.NgModule({imports:[o.CommonModule],exports:[a],declarations:[a]})],function(){})}()},IiLU:function(e,t,n){var i,r,s;(function(o,a){var l=(o=o||n(1)).window,u=o.document,c=new function(){var e=/^(statics|enumerable|beans|preserve)$/,t=[],n=t.slice,i=Object.create,r=Object.getOwnPropertyDescriptor,s=Object.defineProperty,o=t.forEach||function(e,t){for(var n=0,i=this.length;n<i;n++)e.call(t,this[n],n,this)},l=Object.assign||function(e){for(var t=1,n=arguments.length;t<n;t++){var i=arguments[t];for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])}return e},u=function(e,t,n){if(e){var i=r(e,"length");(i&&"number"==typeof i.value?o:function(e,t){for(var n in this)this.hasOwnProperty(n)&&e.call(t,this[n],n,this)}).call(e,t,n=n||e)}return n};function c(t,n,i,o,a){var l={};function u(e,u){"string"==typeof(u=u||(u=r(n,e))&&(u.get?u:u.value))&&"#"===u[0]&&(u=t[u.substring(1)]||u);var c,d="function"==typeof u,p=u,f=a||d&&!u.base?u&&u.get?e in t:t[e]:null;a&&f||(d&&f&&(u.base=f),d&&!1!==o&&(c=e.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(l[c[3].toLowerCase()+c[4]]=c[2]),p&&!d&&p.get&&"function"==typeof p.get&&h.isPlainObject(p)||(p={value:p,writable:!0}),(r(t,e)||{configurable:!0}).configurable&&(p.configurable=!0,p.enumerable=null!=i?i:!c),s(t,e,p))}if(n){for(var c in n)n.hasOwnProperty(c)&&!e.test(c)&&u(c);for(var c in l){var d=l[c],p=t["set"+d],f=t["get"+d]||p&&t["is"+d];!f||!0!==o&&0!==f.length||u(c,{get:f,set:p})}}return t}function h(){for(var e=0,t=arguments.length;e<t;e++){var n=arguments[e];n&&l(this,n)}return this}return c(h,{inject:function(e){if(e){var t=!0===e.statics?e:e.statics,n=e.beans,i=e.preserve;t!==e&&c(this.prototype,e,e.enumerable,n,i),c(this,t,null,n,i)}for(var r=1,s=arguments.length;r<s;r++)this.inject(arguments[r]);return this},extend:function(){for(var e,t,n,r=this,o=0,a=arguments.length;o<a&&(!e||!t);o++)n=arguments[o],e=e||n.initialize,t=t||n.prototype;return t=(e=e||function(){r.apply(this,arguments)}).prototype=t||i(this.prototype),s(t,"constructor",{value:e,writable:!0,configurable:!0}),c(e,this),arguments.length&&this.inject.apply(e,arguments),e.base=r,e}}).inject({enumerable:!1,initialize:h,set:h,inject:function(){for(var e=0,t=arguments.length;e<t;e++){var n=arguments[e];n&&c(this,n,n.enumerable,n.beans,n.preserve)}return this},extend:function(){var e=i(this);return e.inject.apply(e,arguments)},each:function(e,t){return u(this,e,t)},clone:function(){return new this.constructor(this)},statics:{set:l,each:u,create:i,define:s,describe:r,clone:function(e){return l(new e.constructor,e)},isPlainObject:function(e){var t=null!=e&&e.constructor;return t&&(t===Object||t===h||"Object"===t.name)},pick:function(e,t){return e!==a?e:t},slice:function(e,t,i){return n.call(e,t,i)}}})};e.exports=c,c.inject({enumerable:!1,toString:function(){return null!=this._id?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+c.each(this,function(e,t){if(!/^_/.test(t)){var n=typeof e;this.push(t+": "+("number"===n?f.instance.number(e):"string"===n?"'"+e+"'":e))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(e){return c.importJSON(e,this)},exportJSON:function(e){return c.exportJSON(this,e)},toJSON:function(){return c.serialize(this)},set:function(e,t){return e&&c.filter(this,e,t,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function e(){var t=e.base.apply(this,arguments),n=t.prototype._class;return n&&!c.exports[n]&&(c.exports[n]=t),t},equals:function(e,t){if(e===t)return!0;if(e&&e.equals)return e.equals(t);if(t&&t.equals)return t.equals(e);if(e&&t&&"object"==typeof e&&"object"==typeof t){if(Array.isArray(e)&&Array.isArray(t)){if((n=e.length)!==t.length)return!1;for(;n--;)if(!c.equals(e[n],t[n]))return!1}else{var n,i=Object.keys(e);if((n=i.length)!==Object.keys(t).length)return!1;for(;n--;){var r=i[n];if(!t.hasOwnProperty(r)||!c.equals(e[r],t[r]))return!1}}return!0}return!1},read:function(e,t,n,i){if(this===c){var r=this.peek(e,t);return e.__index++,r}var s=this.prototype,o=s._readIndex,l=t||o&&e.__index||0,u=e.length,h=e[l];if(i=i||u-l,h instanceof this||n&&n.readNull&&null==h&&i<=1)return o&&(e.__index=l+1),h&&n&&n.clone?h.clone():h;if(h=c.create(s),o&&(h.__read=!0),h=h.initialize.apply(h,l>0||l+i<u?c.slice(e,l,l+i):e)||h,o){e.__index=l+h.__read;var d=h.__filtered;d&&(e.__filtered=d,h.__filtered=a),h.__read=a}return h},peek:function(e,t){return e[e.__index=t||e.__index||0]},remain:function(e){return e.length-(e.__index||0)},readList:function(e,t,n,i){for(var r,s=[],o=t||0,a=i?o+i:e.length,l=o;l<a;l++)s.push(Array.isArray(r=e[l])?this.read(r,0,n):this.read(e,l,n,1));return s},readNamed:function(e,t,n,i,r){var s=this.getNamed(e,t),o=s!==a;if(o){var l=e.__filtered;l||((l=e.__filtered=c.create(e[0])).__unfiltered=e[0]),l[t]=a}return this.read(o?[s]:e,n,i,r)},getNamed:function(e,t){var n=e[0];if(e._hasObject===a&&(e._hasObject=1===e.length&&c.isPlainObject(n)),e._hasObject)return t?n[t]:e.__filtered||n},hasNamed:function(e,t){return!!this.getNamed(e,t)},filter:function(e,t,n,i){var r;function s(i){if(!(n&&i in n||r&&i in r)){var s=t[i];s!==a&&(e[i]=s)}}if(i){for(var o,l={},u=0,c=i.length;u<c;u++)(o=i[u])in t&&(s(o),l[o]=!0);r=l}return Object.keys(t.__unfiltered||t).forEach(s),e},isPlainValue:function(e,t){return c.isPlainObject(e)||Array.isArray(e)||t&&"string"==typeof e},serialize:function(e,t,n,i){t=t||{};var r,s=!i;if(s&&(t.formatter=new f(t.precision),i={length:0,definitions:{},references:{},add:function(e,t){var n="#"+e._id,i=this.references[n];if(!i){this.length++;var r=t.call(e),s=e._class;s&&r[0]!==s&&r.unshift(s),this.definitions[n]=r,i=this.references[n]=[n]}return i}}),e&&e._serialize){r=e._serialize(t,i);var o=e._class;!o||e._compactSerialize||!s&&n||r[0]===o||r.unshift(o)}else if(Array.isArray(e)){r=[];for(var a=0,l=e.length;a<l;a++)r[a]=c.serialize(e[a],t,n,i)}else if(c.isPlainObject(e)){r={};var u=Object.keys(e);for(a=0,l=u.length;a<l;a++){var h=u[a];r[h]=c.serialize(e[h],t,n,i)}}else r="number"==typeof e?t.formatter.number(e,t.precision):e;return s&&i.length>0?[["dictionary",i.definitions],r]:r},deserialize:function(e,t,n,i,r){var s=e,o=!n,a=o&&e&&e.length&&"dictionary"===e[0][0];if(n=n||{},Array.isArray(e)){var l=e[0],u="dictionary"===l;if(1==e.length&&/^#/.test(l))return n.dictionary[l];s=[];for(var h=(l=c.exports[l])?1:0,d=e.length;h<d;h++)s.push(c.deserialize(e[h],t,n,u,a));if(l){var p=s;s=t?t(l,p,o||r):new l(p)}}else if(c.isPlainObject(e))for(var f in s={},i&&(n.dictionary=s),e)s[f]=c.deserialize(e[f],t,n);return a?s[1]:s},exportJSON:function(e,t){var n=c.serialize(e,t);return t&&0==t.asString?n:JSON.stringify(n)},importJSON:function(e,t){return c.deserialize("string"==typeof e?JSON.parse(e):e,function(e,n,i){var r=i&&t&&t.constructor===e,s=r?t:c.create(e.prototype);if(1===n.length&&s instanceof T&&(r||!(s instanceof I))){var o=n[0];c.isPlainObject(o)&&(o.insert=!1)}return(r?s.set:e).apply(s,n),r&&(t=null),s})},push:function(e,t){var n=t.length;if(n<4096)e.push.apply(e,t);else{var i=e.length;e.length+=n;for(var r=0;r<n;r++)e[i+r]=t[r]}return e},splice:function(e,t,n,i){var r=t&&t.length,s=n===a;(n=s?e.length:n)>e.length&&(n=e.length);for(var o=0;o<r;o++)t[o]._index=n+o;if(s)return c.push(e,t),[];var l=[n,i];t&&c.push(l,t);for(var u=e.splice.apply(e,l),h=(o=0,u.length);o<h;o++)u[o]._index=a;for(o=n+r,h=e.length;o<h;o++)e[o]._index=o;return u},capitalize:function(e){return e.replace(/\b[a-z]/g,function(e){return e.toUpperCase()})},camelize:function(e){return e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})},hyphenate:function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var h={on:function(e,t){if("string"!=typeof e)c.each(e,function(e,t){this.on(t,e)},this);else{var n=this._eventTypes,i=n&&n[e],r=this._callbacks=this._callbacks||{};-1===(r=r[e]=r[e]||[]).indexOf(t)&&(r.push(t),i&&i.install&&1===r.length&&i.install.call(this,e))}return this},off:function(e,t){if("string"==typeof e){var n,i=this._eventTypes,r=i&&i[e],s=this._callbacks&&this._callbacks[e];return s&&(!t||-1!==(n=s.indexOf(t))&&1===s.length?(r&&r.uninstall&&r.uninstall.call(this,e),delete this._callbacks[e]):-1!==n&&s.splice(n,1)),this}c.each(e,function(e,t){this.off(t,e)},this)},once:function(e,t){return this.on(e,function n(){t.apply(this,arguments),this.off(e,n)})},emit:function(e,t){var n=this._callbacks&&this._callbacks[e];if(!n)return!1;var i=c.slice(arguments,1),r=t&&t.target&&!t.currentTarget;n=n.slice(),r&&(t.currentTarget=this);for(var s=0,o=n.length;s<o;s++)if(0==n[s].apply(this,i)){t&&t.stop&&t.stop();break}return r&&delete t.currentTarget,!0},responds:function(e){return!(!this._callbacks||!this._callbacks[e])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(e){var t=this._eventTypes,n=this._callbacks,i=e?"install":"uninstall";if(t)for(var r in n)if(n[r].length>0){var s=t[r],o=s&&s[i];o&&o.call(this,r)}},statics:{inject:function e(t){var n=t._events;if(n){var i={};c.each(n,function(e,n){var r="string"==typeof e,s=r?e:n,o=c.capitalize(s),a=s.substring(2).toLowerCase();i[a]=r?{}:e,s="_"+s,t["get"+o]=function(){return this[s]},t["set"+o]=function(e){var t=this[s];t&&this.off(a,t),e&&this.on(a,e),this[s]=e}}),t._eventTypes=i}return e.base.apply(this,arguments)}}},d=c.extend({_class:"PaperScope",initialize:function e(){he=this,this.settings=new c({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=e._id++,e._scopes[this._id]=this;var t=e.prototype;if(!this.support){var n=ae.getContext(1,1)||{};t.support={nativeDash:"setLineDash"in n||"mozDash"in n,nativeBlendModes:le.nativeModes},ae.release(n)}if(!this.agent){var i=o.navigator.userAgent.toLowerCase(),r=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(i)||[])[0],s="darwin"===r?"mac":r,a=t.agent=t.browser={platform:s};s&&(a[s]=!0),i.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(e,t,n,i,r){if(!a.chrome){var s="opera"===t?i:/^(node|trident)$/.test(t)?r:n;a.version=s,a.versionNumber=parseFloat(s),a.name=t="trident"===t?"msie":t,a[t]=!0}}),a.chrome&&delete a.webkit,a.atom&&delete a.chrome}},version:"0.12.0",getView:function(){var e=this.project;return e&&e._view},getPaper:function(){return this},execute:function(e,t){var n=he.PaperScript.execute(e,this,t);return X.updateFocus(),n},install:function(e){var t=this;for(var n in c.each(["project","view","tool"],function(n){c.define(e,n,{configurable:!0,get:function(){return t[n]}})}),this)!/^_/.test(n)&&this[n]&&(e[n]=this[n])},setup:function(e){return he=this,this.project=new E(e),this},createCanvas:function(e,t){return ae.getCanvas(e,t)},activate:function(){he=this},clear:function(){for(var e=this.projects,t=this.tools,n=e.length-1;n>=0;n--)e[n].remove();for(n=t.length-1;n>=0;n--)t[n].remove()},remove:function(){this.clear(),delete d._scopes[this._id]},statics:new function(){function e(e){return e+="Attribute",function(t,n){return t[e](n)||t[e]("data-paper-"+n)}}return{_scopes:{},_id:0,get:function(e){return this._scopes[e]||null},getAttribute:e("get"),hasAttribute:e("has")}}}),p=c.extend(h,{initialize:function(e){this._scope=he,this._index=this._scope[this._list].push(this)-1,!e&&this._scope[this._reference]||this.activate()},activate:function(){if(!this._scope)return!1;var e=this._scope[this._reference];return e&&e!==this&&e.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",e),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return null!=this._index&&(c.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),f=c.extend({initialize:function(e){this.precision=c.pick(e,5),this.multiplier=Math.pow(10,this.precision)},number:function(e){return this.precision<16?Math.round(e*this.multiplier)/this.multiplier:e},pair:function(e,t,n){return this.number(e)+(n||",")+this.number(t)},point:function(e,t){return this.number(e.x)+(t||",")+this.number(e.y)},size:function(e,t){return this.number(e.width)+(t||",")+this.number(e.height)},rectangle:function(e,t){return this.point(e,t)+(t||",")+this.size(e,t)}});f.instance=new f;var g=new function(){var e=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],t=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],n=Math.abs,i=Math.sqrt,r=Math.pow,s=Math.log2||function(e){return Math.log(e)*Math.LOG2E};function o(e,t,n){return e<t?t:e>n?n:e}function a(e,t,i){function r(e){var t=134217729*e,n=e-t+t;return[n,e-n]}var s=t*t-e*i,o=t*t+e*i;if(3*n(s)<o){var a=r(e),l=r(t),u=r(i),c=t*t,h=e*i;s=c-h+(l[0]*l[0]-c+2*l[0]*l[1]+l[1]*l[1]-(a[0]*u[0]-h+a[0]*u[1]+a[1]*u[0]+a[1]*u[1]))}return s}function l(){var e=Math.max.apply(Math,arguments);return e&&(e<1e-8||e>1e8)?r(2,-Math.round(s(e))):0}return{EPSILON:1e-12,MACHINE_EPSILON:1.12e-16,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,KAPPA:4*(i(2)-1)/3,isZero:function(e){return e>=-1e-12&&e<=1e-12},clamp:o,integrate:function(n,i,r,s){for(var o=e[s-2],a=t[s-2],l=.5*(r-i),u=l+i,c=0,h=s+1>>1,d=1&s?a[c++]*n(u):0;c<h;){var p=l*o[c];d+=a[c++]*(n(u+p)+n(u-p))}return l*d},findRoot:function(e,t,i,r,s,a,l){for(var u=0;u<a;u++){var c=e(i),h=c/t(i),d=i-h;if(n(h)<l){i=d;break}c>0?(s=i,i=d<=r?.5*(r+s):d):(r=i,i=d>=s?.5*(r+s):d)}return o(i,r,s)},solveQuadratic:function(e,t,r,s,u,c){var h,d=1/0;if(n(e)<1e-12){if(n(t)<1e-12)return n(r)<1e-12?-1:0;h=-r/t}else{var p=a(e,t*=-.5,r);if(p&&n(p)<1.12e-16){var f=l(n(e),n(t),n(r));f&&(p=a(e*=f,t*=f,r*=f))}if(p>=-1.12e-16){var g=p<0?0:i(p),m=t+(t<0?-g:g);0===m?d=-(h=r/e):(h=m/e,d=r/m)}}var v=0,y=null==u,_=u-1e-12,b=c+1e-12;return isFinite(h)&&(y||h>_&&h<b)&&(s[v++]=y?h:o(h,u,c)),d!==h&&isFinite(d)&&(y||d>_&&d<b)&&(s[v++]=y?d:o(d,u,c)),v},solveCubic:function(e,t,s,a,u,c,h){var d,p,f,m,v,y=l(n(e),n(t),n(s),n(a));function _(n){var i=e*(d=n);m=(i+(p=i+t))*d+(f=p*d+s),v=f*d+a}if(y&&(e*=y,t*=y,s*=y,a*=y),n(e)<1e-12)e=t,p=s,f=a,d=1/0;else if(n(a)<1e-12)p=t,f=s,d=0;else{_(-t/e/3);var b=v/e,w=r(n(b),1/3),x=b<0?-1:1,C=-m/e,S=C>0?1.324717957244746*Math.max(w,i(C)):w,E=d-x*S;if(E!==d){do{_(E),E=0===m?d:d-v/m/(1+1.12e-16)}while(x*E>x*d);n(e)*d*d>n(a/d)&&(p=((f=-a/d)-s)/d)}}var T=g.solveQuadratic(e,p,f,u,c,h),M=null==c;return isFinite(d)&&(0===T||T>0&&d!==u[0]&&d!==u[1])&&(M||d>c-1e-12&&d<h+1e-12)&&(u[T++]=M?d:o(d,c,h)),T}}},m={_id:1,_pools:{},get:function(e){if(e){var t=this._pools[e];return t||(t=this._pools[e]={_id:1}),t._id++}return this._id++}},v=c.extend({_class:"Point",_readIndex:!0,initialize:function(e,t){var n=typeof e,i=this.__read,r=0;if("number"===n){var s="number"==typeof t;this._set(e,s?t:e),i&&(r=s?2:1)}else if("undefined"===n||null===e)this._set(0,0),i&&(r=null===e?1:0);else{var o="string"===n?e.split(/[\s,]+/)||[]:e;r=1,Array.isArray(o)?this._set(+o[0],+(o.length>1?o[1]:o[0])):"x"in o?this._set(o.x||0,o.y||0):"width"in o?this._set(o.width||0,o.height||0):"angle"in o?(this._set(o.length||0,0),this.setAngle(o.angle||0)):(this._set(0,0),r=0)}return i&&(this.__read=r),this},set:"#initialize",_set:function(e,t){return this.x=e,this.y=t,this},equals:function(e){return this===e||e&&(this.x===e.x&&this.y===e.y||Array.isArray(e)&&this.x===e[0]&&this.y===e[1])||!1},clone:function(){return new v(this.x,this.y)},toString:function(){var e=f.instance;return"{ x: "+e.number(this.x)+", y: "+e.number(this.y)+" }"},_serialize:function(e){var t=e.formatter;return[t.number(this.x),t.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(e){if(this.isZero()){var t=this._angle||0;this._set(Math.cos(t)*e,Math.sin(t)*e)}else{var n=e/this.getLength();g.isZero(n)&&this.getAngle(),this._set(this.x*n,this.y*n)}},getAngle:function(){return 180*this.getAngleInRadians.apply(this,arguments)/Math.PI},setAngle:function(e){this.setAngleInRadians.call(this,e*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var e=v.read(arguments),t=this.getLength()*e.getLength();if(g.isZero(t))return NaN;var n=this.dot(e)/t;return Math.acos(n<-1?-1:n>1?1:n)}return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(e){if(this._angle=e,!this.isZero()){var t=this.getLength();this._set(Math.cos(e)*t,Math.sin(e)*t)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var e=v.read(arguments);return 180*Math.atan2(this.cross(e),this.dot(e))/Math.PI},getDistance:function(){var e=v.read(arguments),t=e.x-this.x,n=e.y-this.y,i=t*t+n*n;return c.read(arguments)?i:Math.sqrt(i)},normalize:function(e){e===a&&(e=1);var t=this.getLength(),n=0!==t?e/t:0,i=new v(this.x*n,this.y*n);return n>=0&&(i._angle=this._angle),i},rotate:function(e,t){if(0===e)return this.clone();e=e*Math.PI/180;var n=t?this.subtract(t):this,i=Math.sin(e),r=Math.cos(e);return n=new v(n.x*r-n.y*i,n.x*i+n.y*r),t?n.add(t):n},transform:function(e){return e?e._transformPoint(this):this},add:function(){var e=v.read(arguments);return new v(this.x+e.x,this.y+e.y)},subtract:function(){var e=v.read(arguments);return new v(this.x-e.x,this.y-e.y)},multiply:function(){var e=v.read(arguments);return new v(this.x*e.x,this.y*e.y)},divide:function(){var e=v.read(arguments);return new v(this.x/e.x,this.y/e.y)},modulo:function(){var e=v.read(arguments);return new v(this.x%e.x,this.y%e.y)},negate:function(){return new v(-this.x,-this.y)},isInside:function(){return w.read(arguments).contains(this)},isClose:function(){var e=v.read(arguments),t=c.read(arguments);return this.getDistance(e)<=t},isCollinear:function(){var e=v.read(arguments);return v.isCollinear(this.x,this.y,e.x,e.y)},isColinear:"#isCollinear",isOrthogonal:function(){var e=v.read(arguments);return v.isOrthogonal(this.x,this.y,e.x,e.y)},isZero:function(){var e=g.isZero;return e(this.x)&&e(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(e){return this.x*(e>1&&e<4?-1:1)>=0&&this.y*(e>2?-1:1)>=0},dot:function(){var e=v.read(arguments);return this.x*e.x+this.y*e.y},cross:function(){var e=v.read(arguments);return this.x*e.y-this.y*e.x},project:function(){var e=v.read(arguments),t=e.isZero()?0:this.dot(e)/e.dot(e);return new v(e.x*t,e.y*t)},statics:{min:function(){var e=v.read(arguments),t=v.read(arguments);return new v(Math.min(e.x,t.x),Math.min(e.y,t.y))},max:function(){var e=v.read(arguments),t=v.read(arguments);return new v(Math.max(e.x,t.x),Math.max(e.y,t.y))},random:function(){return new v(Math.random(),Math.random())},isCollinear:function(e,t,n,i){return Math.abs(e*i-t*n)<=1e-8*Math.sqrt((e*e+t*t)*(n*n+i*i))},isOrthogonal:function(e,t,n,i){return Math.abs(e*n+t*i)<=1e-8*Math.sqrt((e*e+t*t)*(n*n+i*i))}}},c.each(["round","ceil","floor","abs"],function(e){var t=Math[e];this[e]=function(){return new v(t(this.x),t(this.y))}},{})),y=v.extend({initialize:function(e,t,n,i){this._x=e,this._y=t,this._owner=n,this._setter=i},_set:function(e,t,n){return this._x=e,this._y=t,n||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(e){this._x=e,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(e){this._y=e,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(e){this._owner._changeSelection(this._getSelection(),e)},_getSelection:function(){return"setPosition"===this._setter?4:0}}),_=c.extend({_class:"Size",_readIndex:!0,initialize:function(e,t){var n=typeof e,i=this.__read,r=0;if("number"===n){var s="number"==typeof t;this._set(e,s?t:e),i&&(r=s?2:1)}else if("undefined"===n||null===e)this._set(0,0),i&&(r=null===e?1:0);else{var o="string"===n?e.split(/[\s,]+/)||[]:e;r=1,Array.isArray(o)?this._set(+o[0],+(o.length>1?o[1]:o[0])):"width"in o?this._set(o.width||0,o.height||0):"x"in o?this._set(o.x||0,o.y||0):(this._set(0,0),r=0)}return i&&(this.__read=r),this},set:"#initialize",_set:function(e,t){return this.width=e,this.height=t,this},equals:function(e){return e===this||e&&(this.width===e.width&&this.height===e.height||Array.isArray(e)&&this.width===e[0]&&this.height===e[1])||!1},clone:function(){return new _(this.width,this.height)},toString:function(){var e=f.instance;return"{ width: "+e.number(this.width)+", height: "+e.number(this.height)+" }"},_serialize:function(e){var t=e.formatter;return[t.number(this.width),t.number(this.height)]},add:function(){var e=_.read(arguments);return new _(this.width+e.width,this.height+e.height)},subtract:function(){var e=_.read(arguments);return new _(this.width-e.width,this.height-e.height)},multiply:function(){var e=_.read(arguments);return new _(this.width*e.width,this.height*e.height)},divide:function(){var e=_.read(arguments);return new _(this.width/e.width,this.height/e.height)},modulo:function(){var e=_.read(arguments);return new _(this.width%e.width,this.height%e.height)},negate:function(){return new _(-this.width,-this.height)},isZero:function(){var e=g.isZero;return e(this.width)&&e(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(e,t){return new _(Math.min(e.width,t.width),Math.min(e.height,t.height))},max:function(e,t){return new _(Math.max(e.width,t.width),Math.max(e.height,t.height))},random:function(){return new _(Math.random(),Math.random())}}},c.each(["round","ceil","floor","abs"],function(e){var t=Math[e];this[e]=function(){return new _(t(this.width),t(this.height))}},{})),b=_.extend({initialize:function(e,t,n,i){this._width=e,this._height=t,this._owner=n,this._setter=i},_set:function(e,t,n){return this._width=e,this._height=t,n||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(e){this._width=e,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(e){this._height=e,this._owner[this._setter](this)}}),w=c.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(e,t,n,i){var r,s=typeof e;if("number"===s?(this._set(e,t,n,i),r=4):"undefined"===s||null===e?(this._set(0,0,0,0),r=null===e?1:0):1===arguments.length&&(Array.isArray(e)?(this._set.apply(this,e),r=1):e.x!==a||e.width!==a?(this._set(e.x||0,e.y||0,e.width||0,e.height||0),r=1):e.from===a&&e.to===a&&(this._set(0,0,0,0),c.filter(this,e),r=1)),r===a){var o,l,u=v.readNamed(arguments,"from"),h=c.peek(arguments),d=u.x,p=u.y;if(h&&h.x!==a||c.hasNamed(arguments,"to")){var f=v.readNamed(arguments,"to");(o=f.x-d)<0&&(d=f.x,o=-o),(l=f.y-p)<0&&(p=f.y,l=-l)}else{var g=_.read(arguments);o=g.width,l=g.height}this._set(d,p,o,l),r=arguments.__index;var m=arguments.__filtered;m&&(this.__filtered=m)}return this.__read&&(this.__read=r),this},set:"#initialize",_set:function(e,t,n,i){return this.x=e,this.y=t,this.width=n,this.height=i,this},clone:function(){return new w(this.x,this.y,this.width,this.height)},equals:function(e){var t=c.isPlainValue(e)?w.read(arguments):e;return t===this||t&&this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height||!1},toString:function(){var e=f.instance;return"{ x: "+e.number(this.x)+", y: "+e.number(this.y)+", width: "+e.number(this.width)+", height: "+e.number(this.height)+" }"},_serialize:function(e){var t=e.formatter;return[t.number(this.x),t.number(this.y),t.number(this.width),t.number(this.height)]},getPoint:function(e){return new(e?v:y)(this.x,this.y,this,"setPoint")},setPoint:function(){var e=v.read(arguments);this.x=e.x,this.y=e.y},getSize:function(e){return new(e?_:b)(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var e=_.read(arguments),t=this._sx,n=this._sy,i=e.width,r=e.height;t&&(this.x+=(this.width-i)*t),n&&(this.y+=(this.height-r)*n),this.width=i,this.height=r,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(e){if(!this._fw){var t=e-this.x;this.width-=.5===this._sx?2*t:t}this.x=e,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(e){if(!this._fh){var t=e-this.y;this.height-=.5===this._sy?2*t:t}this.y=e,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(e){if(!this._fw){var t=e-this.x;this.width=.5===this._sx?2*t:t}this.x=e-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(e){if(!this._fh){var t=e-this.y;this.height=.5===this._sy?2*t:t}this.y=e-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(e){this._fw||.5===this._sx?this.x=e-this.width/2:(this._sx&&(this.x+=2*(e-this.x)*this._sx),this.width=2*(e-this.x)),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(e){this._fh||.5===this._sy?this.y=e-this.height/2:(this._sy&&(this.y+=2*(e-this.y)*this._sy),this.height=2*(e-this.y)),this._sy=.5,this._fh=0},getCenter:function(e){return new(e?v:y)(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var e=v.read(arguments);return this.setCenterX(e.x),this.setCenterY(e.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return 0===this.width||0===this.height},contains:function(e){return e&&e.width!==a||4===(Array.isArray(e)?e:arguments).length?this._containsRectangle(w.read(arguments)):this._containsPoint(v.read(arguments))},_containsPoint:function(e){var t=e.x,n=e.y;return t>=this.x&&n>=this.y&&t<=this.x+this.width&&n<=this.y+this.height},_containsRectangle:function(e){var t=e.x,n=e.y;return t>=this.x&&n>=this.y&&t+e.width<=this.x+this.width&&n+e.height<=this.y+this.height},intersects:function(){var e=w.read(arguments),t=c.read(arguments)||0;return e.x+e.width>this.x-t&&e.y+e.height>this.y-t&&e.x<this.x+this.width+t&&e.y<this.y+this.height+t},intersect:function(){var e=w.read(arguments),t=Math.max(this.x,e.x),n=Math.max(this.y,e.y),i=Math.min(this.x+this.width,e.x+e.width),r=Math.min(this.y+this.height,e.y+e.height);return new w(t,n,i-t,r-n)},unite:function(){var e=w.read(arguments),t=Math.min(this.x,e.x),n=Math.min(this.y,e.y),i=Math.max(this.x+this.width,e.x+e.width),r=Math.max(this.y+this.height,e.y+e.height);return new w(t,n,i-t,r-n)},include:function(){var e=v.read(arguments),t=Math.min(this.x,e.x),n=Math.min(this.y,e.y),i=Math.max(this.x+this.width,e.x),r=Math.max(this.y+this.height,e.y);return new w(t,n,i-t,r-n)},expand:function(){var e=_.read(arguments),t=e.width,n=e.height;return new w(this.x-t/2,this.y-n/2,this.width+t,this.height+n)},scale:function(e,t){return this.expand(this.width*e-this.width,this.height*(t===a?e:t)-this.height)}},c.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(e,t){var n=e.join(""),i=/^[RL]/.test(n);t>=4&&(e[1]+=i?"Y":"X");var r=e[i?0:1],s=e[i?1:0],o="get"+r,a="get"+s,l="set"+r,u="set"+s,c="set"+n;this["get"+n]=function(e){return new(e?v:y)(this[o](),this[a](),this,c)},this[c]=function(){var e=v.read(arguments);this[l](e.x),this[u](e.y)}},{beans:!0})),x=w.extend({initialize:function(e,t,n,i,r,s){this._set(e,t,n,i,!0),this._owner=r,this._setter=s},_set:function(e,t,n,i,r){return this._x=e,this._y=t,this._width=n,this._height=i,r||this._owner[this._setter](this),this}},new function(){var e=w.prototype;return c.each(["x","y","width","height"],function(e){var t=c.capitalize(e),n="_"+e;this["get"+t]=function(){return this[n]},this["set"+t]=function(e){this[n]=e,this._dontNotify||this._owner[this._setter](this)}},c.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(t){var n="set"+t;this[n]=function(){this._dontNotify=!0,e[n].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(2&this._owner._selection)},setSelected:function(e){var t=this._owner;t._changeSelection&&t._changeSelection(2,e)}}))}),C=c.extend({_class:"Matrix",initialize:function e(t,n){var i=arguments.length,r=!0;if(i>=6?this._set.apply(this,arguments):1===i||2===i?t instanceof e?this._set(t._a,t._b,t._c,t._d,t._tx,t._ty,n):Array.isArray(t)?this._set.apply(this,n?t.concat([n]):t):r=!1:i?r=!1:this.reset(),!r)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(e,t,n,i,r,s,o){return this._a=e,this._b=t,this._c=n,this._d=i,this._tx=r,this._ty=s,o||this._changed(),this},_serialize:function(e,t){return c.serialize(this.getValues(),e,!0,t)},_changed:function(){var e=this._owner;e&&(e._applyMatrix?e.transform(null,!0):e._changed(25))},clone:function(){return new C(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(e){return e===this||e&&this._a===e._a&&this._b===e._b&&this._c===e._c&&this._d===e._d&&this._tx===e._tx&&this._ty===e._ty},toString:function(){var e=f.instance;return"[["+[e.number(this._a),e.number(this._c),e.number(this._tx)].join(", ")+"], ["+[e.number(this._b),e.number(this._d),e.number(this._ty)].join(", ")+"]]"},reset:function(e){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,e||this._changed(),this},apply:function(e,t){var n=this._owner;return!!n&&(n.transform(null,!0,c.pick(e,!0),t),this.isIdentity())},translate:function(){var e=v.read(arguments),t=e.x,n=e.y;return this._tx+=t*this._a+n*this._c,this._ty+=t*this._b+n*this._d,this._changed(),this},scale:function(){var e=v.read(arguments),t=v.read(arguments,0,{readNull:!0});return t&&this.translate(t),this._a*=e.x,this._b*=e.x,this._c*=e.y,this._d*=e.y,t&&this.translate(t.negate()),this._changed(),this},rotate:function(e){e*=Math.PI/180;var t=v.read(arguments,1),n=t.x,i=t.y,r=Math.cos(e),s=Math.sin(e),o=n-n*r+i*s,a=i-n*s-i*r,l=this._a,u=this._b,c=this._c,h=this._d;return this._a=r*l+s*c,this._b=r*u+s*h,this._c=-s*l+r*c,this._d=-s*u+r*h,this._tx+=o*l+a*c,this._ty+=o*u+a*h,this._changed(),this},shear:function(){var e=v.read(arguments),t=v.read(arguments,0,{readNull:!0});t&&this.translate(t);var n=this._a,i=this._b;return this._a+=e.y*this._c,this._b+=e.y*this._d,this._c+=e.x*n,this._d+=e.x*i,t&&this.translate(t.negate()),this._changed(),this},skew:function(){var e=v.read(arguments),t=v.read(arguments,0,{readNull:!0}),n=Math.PI/180,i=new v(Math.tan(e.x*n),Math.tan(e.y*n));return this.shear(i,t)},append:function(e,t){if(e){var n=this._a,i=this._b,r=this._c,s=this._d,o=e._a,a=e._c,l=e._b,u=e._d,c=e._tx,h=e._ty;this._a=o*n+l*r,this._c=a*n+u*r,this._b=o*i+l*s,this._d=a*i+u*s,this._tx+=c*n+h*r,this._ty+=c*i+h*s,t||this._changed()}return this},prepend:function(e,t){if(e){var n=this._a,i=this._b,r=this._c,s=this._d,o=this._tx,a=this._ty,l=e._a,u=e._c,c=e._b,h=e._d,d=e._tx,p=e._ty;this._a=l*n+u*i,this._c=l*r+u*s,this._b=c*n+h*i,this._d=c*r+h*s,this._tx=l*o+u*a+d,this._ty=c*o+h*a+p,t||this._changed()}return this},appended:function(e){return this.clone().append(e)},prepended:function(e){return this.clone().prepend(e)},invert:function(){var e=this._a,t=this._b,n=this._c,i=this._d,r=this._tx,s=this._ty,o=e*i-t*n,a=null;return o&&!isNaN(o)&&isFinite(r)&&isFinite(s)&&(this._a=i/o,this._b=-t/o,this._c=-n/o,this._d=e/o,this._tx=(n*s-i*r)/o,this._ty=(t*r-e*s)/o,a=this),a},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new C(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return 1===this._a&&0===this._b&&0===this._c&&1===this._d&&0===this._tx&&0===this._ty},isInvertible:function(){var e=this._a*this._d-this._c*this._b;return e&&!isNaN(e)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(e,t,n){return arguments.length<3?this._transformPoint(v.read(arguments)):this._transformCoordinates(e,t,n)},_transformPoint:function(e,t,n){var i=e.x,r=e.y;return t||(t=new v),t._set(i*this._a+r*this._c+this._tx,i*this._b+r*this._d+this._ty,n)},_transformCoordinates:function(e,t,n){for(var i=0,r=2*n;i<r;i+=2){var s=e[i],o=e[i+1];t[i]=s*this._a+o*this._c+this._tx,t[i+1]=s*this._b+o*this._d+this._ty}return t},_transformCorners:function(e){var t=e.x,n=e.y,i=t+e.width,r=n+e.height,s=[t,n,i,n,i,r,t,r];return this._transformCoordinates(s,s,4)},_transformBounds:function(e,t,n){for(var i=this._transformCorners(e),r=i.slice(0,2),s=r.slice(),o=2;o<8;o++){var a=i[o],l=1&o;a<r[l]?r[l]=a:a>s[l]&&(s[l]=a)}return t||(t=new w),t._set(r[0],r[1],s[0]-r[0],s[1]-r[1],n)},inverseTransform:function(){return this._inverseTransform(v.read(arguments))},_inverseTransform:function(e,t,n){var i=this._a,r=this._b,s=this._c,o=this._d,a=this._tx,l=this._ty,u=i*o-r*s,c=null;if(u&&!isNaN(u)&&isFinite(a)&&isFinite(l)){var h=e.x-this._tx,d=e.y-this._ty;t||(t=new v),c=t._set((h*o-d*s)/u,(d*i-h*r)/u,n)}return c},decompose:function(){var e,t,n,i=this._a,r=this._b,s=this._c,o=this._d,a=i*o-r*s,l=Math.sqrt,u=Math.atan2,c=180/Math.PI;if(0!==i||0!==r){var h=l(i*i+r*r);e=Math.acos(i/h)*(r>0?1:-1),t=[h,a/h],n=[u(i*s+r*o,h*h),0]}else if(0!==s||0!==o){var d=l(s*s+o*o);e=Math.asin(s/d)*(o>0?1:-1),t=[a/d,d],n=[0,u(i*s+r*o,d*d)]}else e=0,n=t=[0,0];return{translation:this.getTranslation(),rotation:e*c,scaling:new v(t),skewing:new v(n[0]*c,n[1]*c)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new v(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(e){this.isIdentity()||e.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},c.each(["a","b","c","d","tx","ty"],function(e){var t=c.capitalize(e),n="_"+e;this["get"+t]=function(){return this[n]},this["set"+t]=function(e){this[n]=e,this._changed()}},{})),S=c.extend({_class:"Line",initialize:function(e,t,n,i,r){var s=!1;arguments.length>=4?(this._px=e,this._py=t,this._vx=n,this._vy=i,s=r):(this._px=e.x,this._py=e.y,this._vx=t.x,this._vy=t.y,s=n),s||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new v(this._px,this._py)},getVector:function(){return new v(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(e,t){return S.intersect(this._px,this._py,this._vx,this._vy,e._px,e._py,e._vx,e._vy,!0,t)},getSide:function(e,t){return S.getSide(this._px,this._py,this._vx,this._vy,e.x,e.y,!0,t)},getDistance:function(e){return Math.abs(this.getSignedDistance(e))},getSignedDistance:function(e){return S.getSignedDistance(this._px,this._py,this._vx,this._vy,e.x,e.y,!0)},isCollinear:function(e){return v.isCollinear(this._vx,this._vy,e._vx,e._vy)},isOrthogonal:function(e){return v.isOrthogonal(this._vx,this._vy,e._vx,e._vy)},statics:{intersect:function(e,t,n,i,r,s,o,a,l,u){l||(n-=e,i-=t,o-=r,a-=s);var c=n*a-i*o;if(!g.isZero(c)){var h=e-r,d=t-s,p=(o*d-a*h)/c,f=(n*d-i*h)/c;if(u||-1e-12<p&&p<1+1e-12&&-1e-12<f&&f<1+1e-12)return u||(p=p<=0?0:p>=1?1:p),new v(e+p*n,t+p*i)}},getSide:function(e,t,n,i,r,s,o,a){o||(n-=e,i-=t);var l=r-e,u=l*i-(s-t)*n;return!a&&g.isZero(u)&&(u=(l*n+l*n)/(n*n+i*i))>=0&&u<=1&&(u=0),u<0?-1:u>0?1:0},getSignedDistance:function(e,t,n,i,r,s,o){return o||(n-=e,i-=t),0===n?i>0?r-e:e-r:0===i?n<0?s-t:t-s:((r-e)*i-(s-t)*n)/Math.sqrt(n*n+i*i)},getDistance:function(e,t,n,i,r,s,o){return Math.abs(S.getSignedDistance(e,t,n,i,r,s,o))}}}),E=p.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(e){p.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new Y(null,null,this),this._view=X.create(this,e||ae.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(e,t){return c.serialize(this._children,e,!0,t)},_changed:function(e,t){if(1&e){var n=this._view;n&&(n._needsUpdate=!0,!n._requested&&n._autoUpdate&&n.requestUpdate())}var i=this._changes;if(i&&t){var r=this._changesById,s=t._id,o=r[s];o?o.flags|=e:i.push(r[s]={item:t,flags:e})}},clear:function(){for(var e=this._children,t=e.length-1;t>=0;t--)e[t].remove()},isEmpty:function(){return!this._children.length},remove:function e(){return!!e.base.call(this)&&(this._view&&this._view.remove(),!0)},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(e){this._currentStyle.set(e)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new I({project:this,insert:!0})},getSymbolDefinitions:function(){var e=[],t={};return this.getItems({class:D,match:function(n){var i=n._definition,r=i._id;return t[r]||(t[r]=!0,e.push(i)),!1}}),e},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var e=this._selectionItems,t=[];for(var n in e){var i=e[n],r=i._selection;1&r&&i.isInserted()?t.push(i):r||this._updateSelection(i)}return t},_updateSelection:function(e){var t=e._id,n=this._selectionItems;e._selection?n[t]!==e&&(this._selectionCount++,n[t]=e):n[t]===e&&(this._selectionCount--,delete n[t])},selectAll:function(){for(var e=this._children,t=0,n=e.length;t<n;t++)e[t].setFullySelected(!0)},deselectAll:function(){var e=this._selectionItems;for(var t in e)e[t].setFullySelected(!1)},addLayer:function(e){return this.insertLayer(a,e)},insertLayer:function(e,t){if(t instanceof I){t._remove(!1,!0),c.splice(this._children,[t],e,0),t._setProject(this,!0);var n=t._name;n&&t.setName(n),this._changes&&t._changed(5),this._activeLayer||(this._activeLayer=t)}else t=null;return t},_insertItem:function(e,t,n){return t=this.insertLayer(e,t)||(this._activeLayer||this._insertItem(a,new I(T.NO_INSERT),!0)).insertChild(e,t),n&&t.activate&&t.activate(),t},getItems:function(e){return T._getItems(this,e)},getItem:function(e){return T._getItems(this,e,null,null,!0)[0]||null},importJSON:function(e){this.activate();var t=this._activeLayer;return c.importJSON(e,t&&t.isEmpty()&&t)},removeOn:function(e){var t=this._removeSets;if(t){"mouseup"===e&&(t.mousedrag=null);var n=t[e];if(n){for(var i in n){var r=n[i];for(var s in t){var o=t[s];o&&o!=n&&delete o[r._id]}r.remove()}t[e]=null}}},draw:function(e,t,n){this._updateVersion++,e.save(),t.applyToContext(e);for(var i=this._children,r=new c({offset:new v(0,0),pixelRatio:n,viewMatrix:t.isIdentity()?null:t,matrices:[new C],updateMatrix:!0}),s=0,o=i.length;s<o;s++)i[s].draw(e,r);if(e.restore(),this._selectionCount>0){e.save(),e.strokeWidth=1;var a=this._selectionItems,l=this._scope.settings.handleSize,u=this._updateVersion;for(var h in a)a[h]._drawSelection(e,t,l,a,u);e.restore()}}}),T=c.extend(h,{statics:{extend:function e(t){return t._serializeFields&&(t._serializeFields=c.set({},this.prototype._serializeFields,t._serializeFields)),e.base.apply(this,arguments)},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new C,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var e=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return c.each(e,function(e){this._events[e]={install:function(e){this.getView()._countItemEvent(e,1)},uninstall:function(e){this.getView()._countItemEvent(e,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:e}})},{initialize:function(){},_initialize:function(e,t){var n=e&&c.isPlainObject(e),i=n&&!0===e.internal,r=this._matrix=new C,s=n&&e.project||he.project,o=he.settings;return this._id=i?null:m.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&o.applyMatrix,t&&r.translate(t),r._owner=this,this._style=new Y(s._currentStyle,this,s),i||n&&0==e.insert||!o.insertItems&&(!n||!0!==e.insert)?this._setProject(s):(n&&e.parent||s)._insertItem(a,this,!0),n&&e!==T.NO_INSERT&&this.set(e,{internal:!0,insert:!0,project:!0,parent:!0}),n},_serialize:function(e,t){var n={},i=this;function r(r){for(var s in r){var o=i[s];c.equals(o,"leading"===s?1.2*r.fontSize:r[s])||(n[s]=c.serialize(o,e,"data"!==s,t))}}return r(this._serializeFields),this instanceof M||r(this._style._defaults),[this._class,n]},_changed:function(e){var t=this._symbol,n=this._parent||t,i=this._project;8&e&&(this._bounds=this._position=this._decomposed=a),16&e&&(this._globalMatrix=a),n&&72&e&&T._clearBoundsCache(n),2&e&&T._clearBoundsCache(this),i&&i._changed(e,this),t&&t._changed(e)},getId:function(){return this._id},getName:function(){return this._name},setName:function(e){if(this._name&&this._removeNamed(),e===+e+"")throw new Error("Names consisting only of numbers are not supported.");var t=this._getOwner();if(e&&t){var n=t._children,i=t._namedChildren;(i[e]=i[e]||[]).push(this),e in n||(n[e]=this)}this._name=e||a,this._changed(256)},getStyle:function(){return this._style},setStyle:function(e){this.getStyle().set(e)}},c.each(["locked","visible","blendMode","opacity","guide"],function(e){var t=c.capitalize(e),n="_"+e,i={locked:256,visible:265};this["get"+t]=function(){return this[n]},this["set"+t]=function(t){t!=this[n]&&(this[n]=t,this._changed(i[e]||257))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(e){if(e!==this._selection){this._selection=e;var t=this._project;t&&(t._updateSelection(this),this._changed(257))}},_changeSelection:function(e,t){var n=this._selection;this.setSelection(t?n|e:n&~e)},isSelected:function(){if(this._selectChildren)for(var e=this._children,t=0,n=e.length;t<n;t++)if(e[t].isSelected())return!0;return!!(1&this._selection)},setSelected:function(e){if(this._selectChildren)for(var t=this._children,n=0,i=t.length;n<i;n++)t[n].setSelected(e);this._changeSelection(1,e)},isFullySelected:function(){var e=this._children,t=!!(1&this._selection);if(e&&t){for(var n=0,i=e.length;n<i;n++)if(!e[n].isFullySelected())return!1;return!0}return t},setFullySelected:function(e){var t=this._children;if(t)for(var n=0,i=t.length;n<i;n++)t[n].setFullySelected(e);this._changeSelection(1,e)},isClipMask:function(){return this._clipMask},setClipMask:function(e){this._clipMask!=(e=!!e)&&(this._clipMask=e,e&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(257),this._parent&&this._parent._changed(2048))},getData:function(){return this._data||(this._data={}),this._data},setData:function(e){this._data=e},getPosition:function(e){var t=e?v:y,n=this._position||(this._position=this._getPositionFromBounds());return new t(n.x,n.y,this,"setPosition")},setPosition:function(){this.translate(v.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(e){return this._pivot?this._matrix._transformPoint(this._pivot):(e||this.getBounds()).getCenter(!0)},getPivot:function(){var e=this._pivot;return e?new y(e.x,e.y,this,"setPivot"):null},setPivot:function(){this._pivot=v.read(arguments,0,{clone:!0,readNull:!0}),this._position=a}},c.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(e,t){this[t]=function(t){return this.getBounds(t,e)}},{beans:!0,getBounds:function(e,t){var n=t||e instanceof C,i=c.set({},n?t:e,this._boundsOptions);i.stroke&&!this.getStrokeScaling()||(i.cacheItem=this);var r=this._getCachedBounds(n&&e,i).rect;return arguments.length?r:new x(r.x,r.y,r.width,r.height,this,"setBounds")},setBounds:function(){var e=w.read(arguments),t=this.getBounds(),n=this._matrix,i=new C,r=e.getCenter();i.translate(r),e.width==t.width&&e.height==t.height||(n.isInvertible()||(n.set(n._backup||(new C).translate(n.getTranslation())),t=this.getBounds()),i.scale(0!==t.width?e.width/t.width:0,0!==t.height?e.height/t.height:0)),r=t.getCenter(),i.translate(-r.x,-r.y),this.transform(i)},_getBounds:function(e,t){var n=this._children;return n&&n.length?(T._updateBoundsCache(this,t.cacheItem),T._getBounds(n,e,t)):new w},_getBoundsCacheKey:function(e,t){return[e.stroke?1:0,e.handle?1:0,t?1:0].join("")},_getCachedBounds:function(e,t,n){e=e&&e._orNullIfIdentity();var i=t.internal&&!n,r=t.cacheItem,s=i?null:this._matrix._orNullIfIdentity(),o=r&&(!e||e.equals(s))&&this._getBoundsCacheKey(t,i),a=this._bounds;if(T._updateBoundsCache(this._parent||this._symbol,r),o&&a&&o in a)return{rect:(d=a[o]).rect.clone(),nonscaling:d.nonscaling};var l=this._getBounds(e||s,t),u=l.rect||l,c=this._style,h=l.nonscaling||c.hasStroke()&&!c.getStrokeScaling();if(o){a||(this._bounds=a={});var d=a[o]={rect:u.clone(),nonscaling:h,internal:i}}return{rect:u,nonscaling:h}},_getStrokeMatrix:function(e,t){var n=this.getStrokeScaling()?null:t&&t.internal?this:this._parent||this._symbol&&this._symbol._item,i=n?n.getViewMatrix().invert():e;return i&&i._shiftless()},statics:{_updateBoundsCache:function(e,t){if(e&&t){var n=t._id,i=e._boundsCache=e._boundsCache||{ids:{},list:[]};i.ids[n]||(i.list.push(t),i.ids[n]=t)}},_clearBoundsCache:function(e){var t=e._boundsCache;if(t){e._bounds=e._position=e._boundsCache=a;for(var n=0,i=t.list,r=i.length;n<r;n++){var s=i[n];s!==e&&(s._bounds=s._position=a,s._boundsCache&&T._clearBoundsCache(s))}}},_getBounds:function(e,t,n){var i=1/0,r=-i,s=i,o=r,a=!1;n=n||{};for(var l=0,u=e.length;l<u;l++){var c=e[l];if(c._visible&&!c.isEmpty()){var h=c._getCachedBounds(t&&t.appended(c._matrix),n,!0),d=h.rect;i=Math.min(d.x,i),s=Math.min(d.y,s),r=Math.max(d.x+d.width,r),o=Math.max(d.y+d.height,o),h.nonscaling&&(a=!0)}}return{rect:isFinite(i)?new w(i,s,r-i,o-s):new w,nonscaling:a}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var e=this._decompose();return e?e.rotation:0},setRotation:function(e){var t=this.getRotation();if(null!=t&&null!=e){var n=this._decomposed;this.rotate(e-t),n&&(n.rotation=e,this._decomposed=n)}},getScaling:function(){var e=this._decompose(),t=e&&e.scaling;return new y(t?t.x:1,t?t.y:1,this,"setScaling")},setScaling:function(){var e=this.getScaling(),t=v.read(arguments,0,{clone:!0,readNull:!0});if(e&&t&&!e.equals(t)){var n=this.getRotation(),i=this._decomposed,r=new C,s=this.getPosition(!0);r.translate(s),n&&r.rotate(n),r.scale(t.x/e.x,t.y/e.y),n&&r.rotate(-n),r.translate(s.negate()),this.transform(r),i&&(i.scaling=t,this._decomposed=i)}},getMatrix:function(){return this._matrix},setMatrix:function(){var e=this._matrix;e.initialize.apply(e,arguments)},getGlobalMatrix:function(e){var t=this._globalMatrix;if(t)for(var n=this._parent,i=[];n;){if(!n._globalMatrix){t=null;for(var r=0,s=i.length;r<s;r++)i[r]._globalMatrix=null;break}i.push(n),n=n._parent}return t||(t=this._globalMatrix=this._matrix.clone(),(n=this._parent)&&t.prepend(n.getGlobalMatrix(!0))),e?t:t.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(e){(this._applyMatrix=this._canApplyMatrix&&!!e)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(e,t){if(this._project!==e){this._project&&this._installEvents(!1),this._project=e;for(var n=this._children,i=0,r=n&&n.length;i<r;i++)n[i]._setProject(e);t=!0}t&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function e(t){e.base.call(this,t);for(var n=this._children,i=0,r=n&&n.length;i<r;i++)n[i]._installEvents(t)},getLayer:function(){for(var e=this;e=e._parent;)if(e instanceof I)return e;return null},getParent:function(){return this._parent},setParent:function(e){return e.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(e){this.removeChildren(),this.addChildren(e)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var e=this._getOwner();return e&&e._children[this._index+1]||null},getPreviousSibling:function(){var e=this._getOwner();return e&&e._children[this._index-1]||null},getIndex:function(){return this._index},equals:function(e){return e===this||e&&this._class===e._class&&this._style.equals(e._style)&&this._matrix.equals(e._matrix)&&this._locked===e._locked&&this._visible===e._visible&&this._blendMode===e._blendMode&&this._opacity===e._opacity&&this._clipMask===e._clipMask&&this._guide===e._guide&&this._equals(e)||!1},_equals:function(e){return c.equals(this._children,e._children)},clone:function(e){var t=new this.constructor(T.NO_INSERT),n=this._children,i=c.pick(e?e.insert:a,e===a||!0===e),r=c.pick(e?e.deep:a,!0);n&&t.copyAttributes(this),n&&!r||t.copyContent(this),n||t.copyAttributes(this),i&&t.insertAbove(this);var s=this._name,o=this._parent;if(s&&o){n=o._children;for(var l=s,u=1;n[s];)s=l+" "+u++;s!==l&&t.setName(s)}return t},copyContent:function(e){for(var t=e._children,n=0,i=t&&t.length;n<i;n++)this.addChild(t[n].clone(!1),!0)},copyAttributes:function(e,t){this.setStyle(e._style);for(var n=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],i=0,r=n.length;i<r;i++){var s=n[i];e.hasOwnProperty(s)&&(this[s]=e[s])}t||this._matrix.set(e._matrix,!0),this.setApplyMatrix(e._applyMatrix),this.setPivot(e._pivot),this.setSelection(e._selection);var o=e._data,a=e._name;this._data=o?c.clone(o):null,a&&this.setName(a)},rasterize:function(e,t){var n=this.getStrokeBounds(),i=(e||this.getView().getResolution())/72,r=n.getTopLeft().floor(),s=n.getBottomRight().ceil(),o=new _(s.subtract(r)),l=new A(T.NO_INSERT);if(!o.isZero()){var u=ae.getCanvas(o.multiply(i)),h=u.getContext("2d"),d=(new C).scale(i).translate(r.negate());h.save(),d.applyToContext(h),this.draw(h,new c({matrices:[d]})),h.restore(),l.setCanvas(u)}return l.transform((new C).translate(r.add(o.divide(2))).scale(1/i)),(t===a||t)&&l.insertAbove(this),l},contains:function(){return!!this._contains(this._matrix._inverseTransform(v.read(arguments)))},_contains:function(e){var t=this._children;if(t){for(var n=t.length-1;n>=0;n--)if(t[n].contains(e))return!0;return!1}return e.isInside(this.getInternalBounds())},isInside:function(){return w.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new j.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(e,t){return e instanceof T&&this._asPathItem().getIntersections(e._asPathItem(),null,t,!0).length>0}},new function(){function e(){return this._hitTest(v.read(arguments),P.getOptions(arguments))}function t(){var e=v.read(arguments),t=P.getOptions(arguments),n=[];return this._hitTest(e,c.set({all:n},t)),n}function n(e,t,n,i){var r=this._children;if(r)for(var s=r.length-1;s>=0;s--){var o=r[s],a=o!==i&&o._hitTest(e,t,n);if(a&&!t.all)return a}return null}return E.inject({hitTest:e,hitTestAll:t,_hitTest:n}),{hitTest:e,hitTestAll:t,_hitTestChildren:n}},{_hitTest:function(e,t,n){if(this._locked||!this._visible||this._guide&&!t.guides||this.isEmpty())return null;var i=this._matrix,r=n?n.appended(i):this.getGlobalMatrix().prepend(this.getView()._matrix),s=Math.max(t.tolerance,1e-12),o=t._tolerancePadding=new _(j._getStrokePadding(s,i._shiftless().invert()));if(!(e=i._inverseTransform(e))||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(o.multiply(2))._containsPoint(e))return null;var a,l,u=!(t.guides&&!this._guide||t.selected&&!this.isSelected()||t.type&&t.type!==c.hyphenate(this._class)||t.class&&!(this instanceof t.class)),h=t.match,d=this;function p(e){return e&&h&&!h(e)&&(e=null),e&&t.all&&t.all.push(e),e}function f(t,n){var i=n?a["get"+n]():d.getPosition();if(e.subtract(i).divide(o).length<=1)return new P(t,d,{name:n?c.hyphenate(n):t,point:i})}var g=t.position,m=t.center,v=t.bounds;if(u&&this._parent&&(g||m||v)){if((m||v)&&(a=this.getInternalBounds()),!(l=g&&f("position")||m&&f("center","Center"))&&v)for(var y=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],b=0;b<8&&!l;b++)l=f("bounds",y[b]);l=p(l)}return l||(l=this._hitTestChildren(e,t,r)||u&&p(this._hitTestSelf(e,t,r,this.getStrokeScaling()?null:r._shiftless().invert()))||null),l&&l.point&&(l.point=i.transform(l.point)),l},_hitTestSelf:function(e,t){if(t.fill&&this.hasFill()&&this._contains(e))return new P("fill",this)},matches:function(e,t){var n=typeof e;if("object"===n){for(var i in e)if(e.hasOwnProperty(i)&&!this.matches(i,e[i]))return!1;return!0}if("function"===n)return e(this);if("match"===e)return t(this);var r=/^(empty|editable)$/.test(e)?this["is"+c.capitalize(e)]():"type"===e?c.hyphenate(this._class):this[e];if("class"===e){if("function"==typeof t)return this instanceof t;r=this._class}if("function"==typeof t)return!!t(r);if(t){if(t.test)return t.test(r);if(c.isPlainObject(t))return function e(t,n){for(var i in t)if(t.hasOwnProperty(i)){var r=t[i],s=n[i];if(c.isPlainObject(r)&&c.isPlainObject(s)){if(!e(r,s))return!1}else if(!c.equals(r,s))return!1}return!0}(t,r)}return c.equals(r,t)},getItems:function(e){return T._getItems(this,e,this._matrix)},getItem:function(e){return T._getItems(this,e,this._matrix,null,!0)[0]||null},statics:{_getItems:function e(t,n,i,r,s){if(!r){var o="object"==typeof n&&n,a=o&&o.overlapping,l=o&&o.inside,u=(y=a||l)&&w.read([y]);r={items:[],recursive:o&&!1!==o.recursive,inside:!!l,overlapping:!!a,rect:u,path:a&&new j.Rectangle({rectangle:u,insert:!1})},o&&(n=c.filter({},n,{recursive:!0,inside:!0,overlapping:!0}))}var h=t._children,d=r.items;i=(u=r.rect)&&(i||new C);for(var p=0,f=h&&h.length;p<f;p++){var g=h[p],m=i&&i.appended(g._matrix),v=!0;if(u){var y=g.getBounds(m);if(!u.intersects(y))continue;u.contains(y)||r.overlapping&&(y.contains(u)||r.path.intersects(g,m))||(v=!1)}if(v&&g.matches(n)&&(d.push(g),s))break;if(!1!==r.recursive&&e(g,n,m,r,s),s&&d.length>0)break}return d}}},{importJSON:function(e){var t=c.importJSON(e,this);return t!==this?this.addChild(t):t},addChild:function(e){return this.insertChild(a,e)},insertChild:function(e,t){var n=t?this.insertChildren(e,[t]):null;return n&&n[0]},addChildren:function(e){return this.insertChildren(this._children.length,e)},insertChildren:function(e,t){var n=this._children;if(n&&t&&t.length>0){for(var i={},r=(t=c.slice(t)).length-1;r>=0;r--){var s=(u=t[r])&&u._id;!u||i[s]?t.splice(r,1):(u._remove(!1,!0),i[s]=!0)}c.splice(n,t,e,0);for(var o=this._project,a=o._changes,l=(r=0,t.length);r<l;r++){var u,h=(u=t[r])._name;u._parent=this,u._setProject(o,!0),h&&u.setName(h),a&&u._changed(5)}this._changed(11)}else t=null;return t},_insertItem:"#insertChild",_insertAt:function(e,t){var n=e&&e._getOwner(),i=e!==this&&n?this:null;return i&&(i._remove(!1,!0),n._insertItem(e._index+t,i)),i},insertAbove:function(e){return this._insertAt(e,1)},insertBelow:function(e){return this._insertAt(e,0)},sendToBack:function(){var e=this._getOwner();return e?e._insertItem(0,this):null},bringToFront:function(){var e=this._getOwner();return e?e._insertItem(a,this):null},appendTop:"#addChild",appendBottom:function(e){return this.insertChild(0,e)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(e){return e._insertItem(a,this)},copyTo:function(e){return this.clone(!1).addTo(e)},reduce:function(e){var t=this._children;if(t&&1===t.length){var n=t[0].reduce(e);return this._parent?(n.insertAbove(this),this.remove()):n.remove(),n}return this},_removeNamed:function(){var e=this._getOwner();if(e){var t=e._children,n=e._namedChildren,i=this._name,r=n[i],s=r?r.indexOf(this):-1;-1!==s&&(t[i]==this&&delete t[i],r.splice(s,1),r.length?t[i]=r[0]:delete n[i])}},_remove:function(e,t){var n=this._getOwner(),i=this._project,r=this._index;return this._style&&this._style._dispose(),!!n&&(this._name&&this._removeNamed(),null!=r&&(i._activeLayer===this&&(i._activeLayer=this.getNextSibling()||this.getPreviousSibling()),c.splice(n._children,null,r,1)),this._installEvents(!1),e&&i._changes&&this._changed(5),t&&n._changed(11,this),this._parent=null,!0)},remove:function(){return this._remove(!0,!0)},replaceWith:function(e){var t=e&&e.insertBelow(this);return t&&this.remove(),t},removeChildren:function(e,t){if(!this._children)return null;e=e||0,t=c.pick(t,this._children.length);for(var n=c.splice(this._children,null,e,t-e),i=n.length-1;i>=0;i--)n[i]._remove(!0,!1);return n.length>0&&this._changed(11),n},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var e=0,t=this._children.length;e<t;e++)this._children[e]._index=e;this._changed(11)}},isEmpty:function(){var e=this._children;return!e||!e.length},isEditable:function(){for(var e=this;e;){if(!e._visible||e._locked)return!1;e=e._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(e){function t(e){var t=[];do{t.unshift(e)}while(e=e._parent);return t}for(var n=t(this),i=t(e),r=0,s=Math.min(n.length,i.length);r<s;r++)if(n[r]!=i[r])return n[r]._index<i[r]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return!!this._parent&&this._parent.isInserted()},isAbove:function(e){return-1===this._getOrder(e)},isBelow:function(e){return 1===this._getOrder(e)},isParent:function(e){return this._parent===e},isChild:function(e){return e&&e._parent===this},isDescendant:function(e){for(var t=this;t=t._parent;)if(t===e)return!0;return!1},isAncestor:function(e){return!!e&&e.isDescendant(this)},isSibling:function(e){return this._parent===e._parent},isGroupedWith:function(e){for(var t=this._parent;t;){if(t._parent&&/^(Group|Layer|CompoundPath)$/.test(t._class)&&e.isDescendant(t))return!0;t=t._parent}return!1}},c.each(["rotate","scale","shear","skew"],function(e){var t="rotate"===e;this[e]=function(){var n=(t?c:v).read(arguments),i=v.read(arguments,0,{readNull:!0});return this.transform((new C)[e](n,i||this.getPosition(!0)))}},{translate:function(){var e=new C;return this.transform(e.translate.apply(e,arguments))},transform:function(e,t,n,i){var r=this._matrix,s=e&&!e.isIdentity(),o=(t||this._applyMatrix)&&(!r.isIdentity()||s||t&&n&&this._children);if(!s&&!o)return this;if(s){!e.isInvertible()&&r.isInvertible()&&(r._backup=r.getValues()),r.prepend(e,!0);var a=this._style,l=a.getFillColor(!0),u=a.getStrokeColor(!0);l&&l.transform(e),u&&u.transform(e)}if(o&&(o=this._transformContent(r,n,i))){var c=this._pivot;c&&r._transformPoint(c,c,!0),r.reset(!0),i&&this._canApplyMatrix&&(this._applyMatrix=!0)}var h=this._bounds,d=this._position;(s||o)&&this._changed(25);var p=s&&h&&e.decompose();if(p&&p.skewing.isZero()&&p.rotation%90==0){for(var f in h){var g=h[f];if(g.nonscaling)delete h[f];else if(o||!g.internal){var m=g.rect;e._transformBounds(m,m)}}this._bounds=h;var v=h[this._getBoundsCacheKey(this._boundsOptions||{})];v&&(this._position=this._getPositionFromBounds(v.rect))}else s&&d&&this._pivot&&(this._position=e._transformPoint(d,d));return this},_transformContent:function(e,t,n){var i=this._children;if(i){for(var r=0,s=i.length;r<s;r++)i[r].transform(e,!0,t,n);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(v.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(v.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(v.read(arguments))},localToParent:function(){return this._matrix._transformPoint(v.read(arguments))},fitBounds:function(e,t){e=w.read(arguments);var n=this.getBounds(),i=n.height/n.width,r=e.height/e.width,s=(t?i>r:i<r)?e.width/n.width:e.height/n.height,o=new w(new v,new _(n.width*s,n.height*s));o.setCenter(e.getCenter()),this.setBounds(o)}}),{_setStyles:function(e,t,n){var i=this._style,r=this._matrix;if(i.hasFill()&&(e.fillStyle=i.getFillColor().toCanvasStyle(e,r)),i.hasStroke()){e.strokeStyle=i.getStrokeColor().toCanvasStyle(e,r),e.lineWidth=i.getStrokeWidth();var s=i.getStrokeJoin(),o=i.getStrokeCap(),a=i.getMiterLimit();if(s&&(e.lineJoin=s),o&&(e.lineCap=o),a&&(e.miterLimit=a),he.support.nativeDash){var l=i.getDashArray(),u=i.getDashOffset();l&&l.length&&("setLineDash"in e?(e.setLineDash(l),e.lineDashOffset=u):(e.mozDash=l,e.mozDashOffset=u))}}if(i.hasShadow()){var c=t.pixelRatio||1,h=n._shiftless().prepend((new C).scale(c,c)),d=h.transform(new v(i.getShadowBlur(),0)),p=h.transform(this.getShadowOffset());e.shadowColor=i.getShadowColor().toCanvasStyle(e),e.shadowBlur=d.getLength(),e.shadowOffsetX=p.x,e.shadowOffsetY=p.y}},draw:function(e,t,n){if(this._updateVersion=this._project._updateVersion,this._visible&&0!==this._opacity){var i=t.matrices,r=t.viewMatrix,s=this._matrix,o=i[i.length-1].appended(s);if(o.isInvertible()){r=r?r.appended(o):o,i.push(o),t.updateMatrix&&(this._globalMatrix=o);var a,l,u,c=this._blendMode,h=this._opacity,d="normal"===c,p=le.nativeModes[c],f=d&&1===h||t.dontStart||t.clip||(p||d&&h<1)&&this._canComposite(),g=t.pixelRatio||1;if(!f){var m=this.getStrokeBounds(r);if(!m.width||!m.height)return void i.pop();u=t.offset,l=t.offset=m.getTopLeft().floor(),a=e,e=ae.getContext(m.getSize().ceil().add(1).multiply(g)),1!==g&&e.scale(g,g)}e.save();var v=n?n.appended(s):this._canScaleStroke&&!this.getStrokeScaling(!0)&&r,y=!f&&t.clipItem,_=!v||y;if(f?(e.globalAlpha=h,p&&(e.globalCompositeOperation=c)):_&&e.translate(-l.x,-l.y),_&&(f?s:r).applyToContext(e),y&&t.clipItem.draw(e,t.extend({clip:!0})),v){e.setTransform(g,0,0,g,0,0);var b=t.offset;b&&e.translate(-b.x,-b.y)}this._draw(e,t,r,v),e.restore(),i.pop(),t.clip&&!t.dontFinish&&e.clip(),f||(le.process(c,e,a,h,l.subtract(u).multiply(g)),ae.release(e),t.offset=u)}}},_isUpdated:function(e){var t=this._parent;if(t instanceof B)return t._isUpdated(e);var n=this._updateVersion===e;return!n&&t&&t._visible&&t._isUpdated(e)&&(this._updateVersion=e,n=!0),n},_drawSelection:function(e,t,n,i,r){var s=this._selection,o=1&s,a=2&s||o&&this._selectBounds,l=4&s;if(this._drawSelected||(o=!1),(o||a||l)&&this._isUpdated(r)){var u,c=this.getSelectedColor(!0)||(u=this.getLayer())&&u.getSelectedColor(!0),h=t.appended(this.getGlobalMatrix(!0)),d=n/2;if(e.strokeStyle=e.fillStyle=c?c.toCanvasStyle(e):"#009dec",o&&this._drawSelected(e,h,i),l){var p=this.getPosition(!0),f=this._parent,g=f?f.localToGlobal(p):p,m=g.x,v=g.y;e.beginPath(),e.arc(m,v,d,0,2*Math.PI,!0),e.stroke();for(var y=[[0,-1],[1,0],[0,1],[-1,0]],_=d,b=n+1,w=0;w<4;w++){var x=y[w],C=x[0],S=x[1];e.moveTo(m+C*_,v+S*_),e.lineTo(m+C*b,v+S*b),e.stroke()}}if(a){var E=h._transformCorners(this.getInternalBounds());for(e.beginPath(),w=0;w<8;w++)e[w?"lineTo":"moveTo"](E[w],E[++w]);for(e.closePath(),e.stroke(),w=0;w<8;w++)e.fillRect(E[w]-d,E[++w]-d,n,n)}}},_canComposite:function(){return!1}},c.each(["down","drag","up","move"],function(e){this["removeOn"+c.capitalize(e)]=function(){var t={};return t[e]=!0,this.removeOn(t)}},{removeOn:function(e){for(var t in e)if(e[t]){var n="mouse"+t,i=this._project,r=i._removeSets=i._removeSets||{};r[n]=r[n]||{},r[n][this._id]=this}return this}}),{tween:function(e,t,n){n||(n=t,t=e,e=null,n||(n=t,t=null));var i=null!=n&&("number"==typeof n?n:n.duration),r=new se(this,e,t,i,n&&n.easing,n&&n.start);return i&&this.on("frame",function e(t){r._handleFrame(1e3*t.time),r.running||this.off("frame",e)}),r},tweenTo:function(e,t){return this.tween(null,e,t)},tweenFrom:function(e,t){return this.tween(e,null,t)}}),M=T.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(e){this._children=[],this._namedChildren={},this._initialize(e)||this.addChildren(Array.isArray(e)?e:arguments)},_changed:function e(t){e.base.call(this,t),2050&t&&(this._clipItem=a)},_getClipItem:function(){var e=this._clipItem;if(e===a){e=null;for(var t=this._children,n=0,i=t.length;n<i;n++)if(t[n]._clipMask){e=t[n];break}this._clipItem=e}return e},isClipped:function(){return!!this._getClipItem()},setClipped:function(e){var t=this.getFirstChild();t&&t.setClipMask(e)},_getBounds:function e(t,n){var i=this._getClipItem();return i?i._getCachedBounds(t&&t.appended(i._matrix),c.set({},n,{stroke:!1})):e.base.call(this,t,n)},_hitTestChildren:function e(t,n,i){var r=this._getClipItem();return(!r||r.contains(t))&&e.base.call(this,t,n,i,r)},_draw:function(e,t){var n=t.clip,i=!n&&this._getClipItem();t=t.extend({clipItem:i,clip:!1}),n?(e.beginPath(),t.dontStart=t.dontFinish=!0):i&&i.draw(e,t.extend({clip:!0}));for(var r=this._children,s=0,o=r.length;s<o;s++){var a=r[s];a!==i&&a.draw(e,t)}}}),I=M.extend({_class:"Layer",initialize:function(){M.apply(this,arguments)},_getOwner:function(){return this._parent||null!=this._index&&this._project},isInserted:function e(){return this._parent?e.base.call(this):null!=this._index},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),O=T.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(e,t){this._initialize(e,t)},_equals:function(e){return this._type===e._type&&this._size.equals(e._size)&&c.equals(this._radius,e._radius)},copyContent:function(e){this.setType(e._type),this.setSize(e._size),this.setRadius(e._radius)},getType:function(){return this._type},setType:function(e){this._type=e},getShape:"#getType",setShape:"#setType",getSize:function(){var e=this._size;return new b(e.width,e.height,this,"setSize")},setSize:function(){var e=_.read(arguments);if(this._size){if(!this._size.equals(e)){var t=this._type,n=e.width,i=e.height;"rectangle"===t?this._radius.set(_.min(this._radius,e.divide(2))):"circle"===t?(n=i=(n+i)/2,this._radius=n/2):"ellipse"===t&&this._radius._set(n/2,i/2),this._size._set(n,i),this._changed(9)}}else this._size=e.clone()},getRadius:function(){var e=this._radius;return"circle"===this._type?e:new b(e.width,e.height,this,"setRadius")},setRadius:function(e){var t=this._type;if("circle"===t){if(e===this._radius)return;var n=2*e;this._radius=e,this._size._set(n,n)}else if(e=_.read(arguments),this._radius){if(this._radius.equals(e))return;this._radius.set(e),"rectangle"===t?(n=_.max(this._size,e.multiply(2)),this._size.set(n)):"ellipse"===t&&this._size._set(2*e.width,2*e.height)}else this._radius=e.clone();this._changed(9)},isEmpty:function(){return!1},toPath:function(e){var t=new(j[c.capitalize(this._type)])({center:new v,size:this._size,radius:this._radius,insert:!1});return t.copyAttributes(this),he.settings.applyMatrix&&t.setApplyMatrix(!0),(e===a||e)&&t.insertAbove(this),t},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(e,t,n,i){var r=this._style,s=r.hasFill(),o=r.hasStroke(),a=t.dontFinish||t.clip,l=!i;if(s||o||a){var u=this._type,c=this._radius,h="circle"===u;if(t.dontStart||e.beginPath(),l&&h)e.arc(0,0,c,0,2*Math.PI,!0);else{var d=h?c:c.width,p=h?c:c.height,f=this._size,g=f.width,m=f.height;if(l&&"rectangle"===u&&0===d&&0===p)e.rect(-g/2,-m/2,g,m);else{var v=g/2,y=m/2,_=.44771525016920644,b=d*_,w=p*_,x=[-v,-y+p,-v,-y+w,-v+b,-y,-v+d,-y,v-d,-y,v-b,-y,v,-y+w,v,-y+p,v,y-p,v,y-w,v-b,y,v-d,y,-v+d,y,-v+b,y,-v,y-w,-v,y-p];i&&i.transform(x,x,32),e.moveTo(x[0],x[1]),e.bezierCurveTo(x[2],x[3],x[4],x[5],x[6],x[7]),v!==d&&e.lineTo(x[8],x[9]),e.bezierCurveTo(x[10],x[11],x[12],x[13],x[14],x[15]),y!==p&&e.lineTo(x[16],x[17]),e.bezierCurveTo(x[18],x[19],x[20],x[21],x[22],x[23]),v!==d&&e.lineTo(x[24],x[25]),e.bezierCurveTo(x[26],x[27],x[28],x[29],x[30],x[31])}}e.closePath()}a||!s&&!o||(this._setStyles(e,t,n),s&&(e.fill(r.getFillRule()),e.shadowColor="rgba(0,0,0,0)"),o&&e.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(e,t){var n=new w(this._size).setCenter(0,0),i=this._style,r=t.stroke&&i.hasStroke()&&i.getStrokeWidth();return e&&(n=e._transformBounds(n)),r?n.expand(j._getStrokePadding(r,this._getStrokeMatrix(e,t))):n}},new function(){function e(e,t,n){var i=e._radius;if(!i.isZero())for(var r=e._size.divide(2),s=1;s<=4;s++){var o=new v(s>1&&s<4?-1:1,s>2?-1:1),a=o.multiply(r),l=a.subtract(o.multiply(i));if(new w(n?a.add(o.multiply(n)):a,l).contains(t))return{point:l,quadrant:s}}}function t(e,t,n,i){var r=e.divide(t);return(!i||r.isInQuadrant(i))&&r.subtract(r.normalize()).multiply(t).divide(n).length<=1}return{_contains:function t(n){if("rectangle"===this._type){var i=e(this,n);return i?n.subtract(i.point).divide(this._radius).getLength()<=1:t.base.call(this,n)}return n.divide(this.size).getLength()<=.5},_hitTestSelf:function n(i,r,s,o){var a=!1,l=this._style,u=r.stroke&&l.hasStroke(),c=r.fill&&l.hasFill();if(u||c){var h=this._type,d=this._radius,p=u?l.getStrokeWidth()/2:0,f=r._tolerancePadding.add(j._getStrokePadding(p,!l.getStrokeScaling()&&o));if("rectangle"===h){var g=f.multiply(2),m=e(this,i,g);if(m)a=t(i.subtract(m.point),d,f,m.quadrant);else{var v=new w(this._size).setCenter(0,0),y=v.expand(g),_=v.expand(g.negate());a=y._containsPoint(i)&&!_._containsPoint(i)}}else a=t(i,d,f)}return a?new P(u?"stroke":"fill",this):n.base.apply(this,arguments)}}},{statics:new function(){function e(e,t,n,i,r){var s=new O(c.getNamed(r),t);return s._type=e,s._size=n,s._radius=i,s}return{Circle:function(){var t=v.readNamed(arguments,"center"),n=c.readNamed(arguments,"radius");return e("circle",t,new _(2*n),n,arguments)},Rectangle:function(){var t=w.readNamed(arguments,"rectangle"),n=_.min(_.readNamed(arguments,"radius"),t.getSize(!0).divide(2));return e("rectangle",t.getCenter(!0),t.getSize(!0),n,arguments)},Ellipse:function(){var t=O._readEllipse(arguments),n=t.radius;return e("ellipse",t.center,n.multiply(2),n,arguments)},_readEllipse:function(e){var t,n;if(c.hasNamed(e,"radius"))t=v.readNamed(e,"center"),n=_.readNamed(e,"radius");else{var i=w.readNamed(e,"rectangle");t=i.getCenter(!0),n=i.getSize(!0).divide(2)}return{center:t,radius:n}}}}}),A=T.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:!0,initialize:function(e,t){if(!this._initialize(e,t!==a&&v.read(arguments,1))){var n="string"==typeof e?u.getElementById(e):e;n?this.setImage(n):this.setSource(e)}this._size||(this._size=new _,this._loaded=!1)},_equals:function(e){return this.getSource()===e.getSource()},copyContent:function(e){var t=e._image,n=e._canvas;if(t)this._setImage(t);else if(n){var i=ae.getCanvas(e._size);i.getContext("2d").drawImage(n,0,0),this._setImage(i)}this._crossOrigin=e._crossOrigin},getSize:function(){var e=this._size;return new b(e?e.width:0,e?e.height:0,this,"setSize")},setSize:function(){var e=_.read(arguments);if(!e.equals(this._size))if(e.width>0&&e.height>0){var t=this.getElement();this._setImage(ae.getCanvas(e)),t&&this.getContext(!0).drawImage(t,0,0,e.width,e.height)}else this._canvas&&ae.release(this._canvas),this._size=e.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(e){this.setSize(e,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(e){this.setSize(this.getWidth(),e)},getLoaded:function(){return this._loaded},isEmpty:function(){var e=this._size;return!e||0===e.width&&0===e.height},getResolution:function(){var e=this._matrix,t=new v(0,0).transform(e),n=new v(1,0).transform(e).subtract(t),i=new v(0,1).transform(e).subtract(t);return new _(72/n.getLength(),72/i.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(e){var t=this;function n(e){var n=t.getView(),i=e&&e.type||"load";n&&t.responds(i)&&(he=n._scope,t.emit(i,new J(e)))}this._setImage(e),this._loaded?setTimeout(n,0):e&&K.add(e,{load:function(i){t._setImage(e),n(i)},error:n})},_setImage:function(e){this._canvas&&ae.release(this._canvas),e&&e.getContext?(this._image=null,this._canvas=e,this._loaded=!0):(this._image=e,this._canvas=null,this._loaded=!!(e&&e.src&&e.complete)),this._size=new _(e?e.naturalWidth||e.width:0,e?e.naturalHeight||e.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var e=ae.getContext(this._size);try{this._image&&e.drawImage(this._image,0,0),this._canvas=e.canvas}catch(t){ae.release(e)}}return this._canvas},setCanvas:"#setImage",getContext:function(e){return this._context||(this._context=this.getCanvas().getContext("2d")),e&&(this._image=null,this._changed(1025)),this._context},setContext:function(e){this._context=e},getSource:function(){var e=this._image;return e&&e.src||this.toDataURL()},setSource:function(e){var t=new o.Image,n=this._crossOrigin;n&&(t.crossOrigin=n),t.src=e,this.setImage(t)},getCrossOrigin:function(){var e=this._image;return e&&e.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(e){this._crossOrigin=e;var t=this._image;t&&(t.crossOrigin=e)},getSmoothing:function(){return this._smoothing},setSmoothing:function(e){this._smoothing=e,this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var e=w.read(arguments),t=ae.getContext(e.getSize());return t.drawImage(this.getCanvas(),e.x,e.y,e.width,e.height,0,0,e.width,e.height),t.canvas},getSubRaster:function(){var e=w.read(arguments),t=new A(T.NO_INSERT);return t._setImage(this.getSubCanvas(e)),t.translate(e.getCenter().subtract(this.getSize().divide(2))),t._matrix.prepend(this._matrix),t.insertAbove(this),t},toDataURL:function(){var e=this._image,t=e&&e.src;if(/^data:/.test(t))return t;var n=this.getCanvas();return n?n.toDataURL.apply(n,arguments):null},drawImage:function(e){var t=v.read(arguments,1);this.getContext(!0).drawImage(e,t.x,t.y)},getAverageColor:function(e){var t,n;if(e?e instanceof V?(n=e,t=e.getBounds()):"object"==typeof e&&("width"in e?t=new w(e):"x"in e&&(t=new w(e.x-.5,e.y-.5,1,1))):t=this.getBounds(),!t)return null;var i=Math.min(t.width,32),r=Math.min(t.height,32),s=A._sampleContext;s?s.clearRect(0,0,33,33):s=A._sampleContext=ae.getContext(new _(32)),s.save();var o=(new C).scale(i/t.width,r/t.height).translate(-t.x,-t.y);o.applyToContext(s),n&&n.draw(s,new c({clip:!0,matrices:[o]})),this._matrix.applyToContext(s);var a=this.getElement(),l=this._size;a&&s.drawImage(a,-l.width/2,-l.height/2),s.restore();for(var u=s.getImageData(.5,.5,Math.ceil(i),Math.ceil(r)).data,h=[0,0,0],d=0,p=0,f=u.length;p<f;p+=4){var g=u[p+3];d+=g,h[0]+=u[p]*(g/=255),h[1]+=u[p+1]*g,h[2]+=u[p+2]*g}for(p=0;p<3;p++)h[p]/=d;return d?W.read(h):null},getPixel:function(){var e=v.read(arguments),t=this.getContext().getImageData(e.x,e.y,1,1).data;return new W("rgb",[t[0]/255,t[1]/255,t[2]/255],t[3]/255)},setPixel:function(){var e=v.read(arguments),t=W.read(arguments),n=t._convert("rgb"),i=t._alpha,r=this.getContext(!0),s=r.createImageData(1,1),o=s.data;o[0]=255*n[0],o[1]=255*n[1],o[2]=255*n[2],o[3]=null!=i?255*i:255,r.putImageData(s,e.x,e.y)},createImageData:function(){var e=_.read(arguments);return this.getContext().createImageData(e.width,e.height)},getImageData:function(){var e=w.read(arguments);return e.isEmpty()&&(e=new w(this._size)),this.getContext().getImageData(e.x,e.y,e.width,e.height)},setImageData:function(e){var t=v.read(arguments,1);this.getContext(!0).putImageData(e,t.x,t.y)},_getBounds:function(e,t){var n=new w(this._size).setCenter(0,0);return e?e._transformBounds(n):n},_hitTestSelf:function(e){if(this._contains(e)){var t=this;return new P("pixel",t,{offset:e.add(t._size.divide(2)).round(),color:{get:function(){return t.getPixel(this.offset)}}})}},_draw:function(e,t,n){var i=this.getElement();i&&i.width>0&&i.height>0&&(e.globalAlpha=this._opacity,this._setStyles(e,t,n),Z.setPrefixed(e,"imageSmoothingEnabled",this._smoothing),e.drawImage(i,-this._size.width/2,-this._size.height/2))},_canComposite:function(){return!0}}),D=T.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(e,t){this._initialize(e,t!==a&&v.read(arguments,1))||this.setDefinition(e instanceof k?e:new k(e))},_equals:function(e){return this._definition===e._definition},copyContent:function(e){this.setDefinition(e._definition)},getDefinition:function(){return this._definition},setDefinition:function(e){this._definition=e,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(e,t){var n=this._definition._item;return n._getCachedBounds(n._matrix.prepended(e),t)},_hitTestSelf:function(e,t,n){var i=this._definition._item._hitTest(e,t,n);return i&&(i.item=this),i},_draw:function(e,t){this._definition._item.draw(e,t)}}),k=c.extend({_class:"SymbolDefinition",initialize:function(e,t){this._id=m.get(),this.project=he.project,e&&this.setItem(e,t)},_serialize:function(e,t){return t.add(this,function(){return c.serialize([this._class,this._item],e,!1,t)})},_changed:function(e){8&e&&T._clearBoundsCache(this),1&e&&this.project._changed(e)},getItem:function(){return this._item},setItem:function(e,t){e._symbol&&(e=e.clone()),this._item&&(this._item._symbol=null),this._item=e,e.remove(),e.setSelected(!1),t||e.setPosition(new v),e._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(e){return new D(this,e)},clone:function(){return new k(this._item.clone(!1))},equals:function(e){return e===this||e&&this._item.equals(e._item)||!1}}),P=c.extend({_class:"HitResult",initialize:function(e,t,n){this.type=e,this.item=t,n&&this.inject(n)},statics:{getOptions:function(e){var t=e&&c.read(e);return c.set({type:null,tolerance:he.settings.hitTolerance,fill:!t,stroke:!t,segments:!t,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},t)}}}),R=c.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(e,t,n,i,r,s){var o,l,u,c,h=arguments.length;h>0&&(null==e||"object"==typeof e?1===h&&e&&"point"in e?(o=e.point,l=e.handleIn,u=e.handleOut,c=e.selection):(o=e,l=t,u=n,c=i):(o=[e,t],l=n!==a?[n,i]:null,u=r!==a?[r,s]:null)),new L(o,this,"_point"),new L(l,this,"_handleIn"),new L(u,this,"_handleOut"),c&&this.setSelection(c)},_serialize:function(e,t){var n=this._point,i=this._selection,r=i||this.hasHandles()?[n,this._handleIn,this._handleOut]:n;return i&&r.push(i),c.serialize(r,e,!0,t)},_changed:function(e){var t=this._path;if(t){var n,i=t._curves,r=this._index;i&&(e&&e!==this._point&&e!==this._handleIn||!(n=r>0?i[r-1]:t._closed?i[i.length-1]:null)||n._changed(),e&&e!==this._point&&e!==this._handleOut||!(n=i[r])||n._changed()),t._changed(41)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(v.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(v.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(v.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var e=this._handleIn,t=this._handleOut;return!e.isZero()&&!t.isZero()&&e.isCollinear(t)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(e){var t=this._selection,n=this._path;this._selection=e=e||0,n&&e!==t&&(n._updateSelection(this,t,e),n._changed(257))},_changeSelection:function(e,t){var n=this._selection;this.setSelection(t?n|e:n&~e)},isSelected:function(){return!!(7&this._selection)},setSelected:function(e){this._changeSelection(7,e)},getIndex:function(){return this._index!==a?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var e=this._path,t=this._index;return e?(t>0&&!e._closed&&t===e._segments.length-1&&t--,e.getCurves()[t]||null):null},getLocation:function(){var e=this.getCurve();return e?new F(e,this===e._segment1?0:1):null},getNext:function(){var e=this._path&&this._path._segments;return e&&(e[this._index+1]||this._path._closed&&e[0])||null},smooth:function(e,t,n){var i=e||{},r=i.type,s=i.factor,o=this.getPrevious(),l=this.getNext(),u=(o||this)._point,c=this._point,h=(l||this)._point,d=u.getDistance(c),p=c.getDistance(h);if(r&&"catmull-rom"!==r){if("geometric"!==r)throw new Error("Smoothing method '"+r+"' not supported.");if(o&&l){var f=u.subtract(h),g=s===a?.4:s,m=g*d/(d+p);t||this.setHandleIn(f.multiply(m)),n||this.setHandleOut(f.multiply(m-g))}}else{var y,_=s===a?.5:s,b=Math.pow(d,_),w=b*b,x=Math.pow(p,_),C=x*x;if(!t&&o){var S=2*C+3*x*b+w;this.setHandleIn(0!=(y=3*x*(x+b))?new v((C*u._x+S*c._x-w*h._x)/y-c._x,(C*u._y+S*c._y-w*h._y)/y-c._y):new v)}!n&&l&&(S=2*w+3*b*x+C,this.setHandleOut(0!=(y=3*b*(b+x))?new v((w*h._x+S*c._x-C*u._x)/y-c._x,(w*h._y+S*c._y-C*u._y)/y-c._y):new v))}},getPrevious:function(){var e=this._path&&this._path._segments;return e&&(e[this._index-1]||this._path._closed&&e[e.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var e=this._path;return e&&this._index===e._segments.length-1||!1},reverse:function(){var e=this._handleIn,t=this._handleOut,n=e.clone();e.set(t),t.set(n)},reversed:function(){return new R(this._point,this._handleOut,this._handleIn)},remove:function(){return!!this._path&&!!this._path.removeSegment(this._index)},clone:function(){return new R(this._point,this._handleIn,this._handleOut)},equals:function(e){return e===this||e&&this._class===e._class&&this._point.equals(e._point)&&this._handleIn.equals(e._handleIn)&&this._handleOut.equals(e._handleOut)||!1},toString:function(){var e=["point: "+this._point];return this._handleIn.isZero()||e.push("handleIn: "+this._handleIn),this._handleOut.isZero()||e.push("handleOut: "+this._handleOut),"{ "+e.join(", ")+" }"},transform:function(e){this._transformCoordinates(e,new Array(6),!0),this._changed()},interpolate:function(e,t,n){var i=1-n,r=n,s=e._point,o=t._point,a=e._handleIn,l=t._handleIn,u=t._handleOut,c=e._handleOut;this._point._set(i*s._x+r*o._x,i*s._y+r*o._y,!0),this._handleIn._set(i*a._x+r*l._x,i*a._y+r*l._y,!0),this._handleOut._set(i*c._x+r*u._x,i*c._y+r*u._y,!0),this._changed()},_transformCoordinates:function(e,t,n){var i=this._point,r=n&&this._handleIn.isZero()?null:this._handleIn,s=n&&this._handleOut.isZero()?null:this._handleOut,o=i._x,a=i._y,l=2;return t[0]=o,t[1]=a,r&&(t[l++]=r._x+o,t[l++]=r._y+a),s&&(t[l++]=s._x+o,t[l++]=s._y+a),e&&(e._transformCoordinates(t,t,l/2),o=t[0],a=t[1],n?(i._x=o,i._y=a,l=2,r&&(r._x=t[l++]-o,r._y=t[l++]-a),s&&(s._x=t[l++]-o,s._y=t[l++]-a)):(r||(t[l++]=o,t[l++]=a),s||(t[l++]=o,t[l++]=a))),t}}),L=v.extend({initialize:function(e,t,n){var i,r,s;if(e)if((i=e[0])!==a)r=e[1];else{var o=e;(i=o.x)===a&&(i=(o=v.read(arguments)).x),r=o.y,s=o.selected}else i=r=0;this._x=i,this._y=r,this._owner=t,t[n]=this,s&&this.setSelected(!0)},_set:function(e,t){return this._x=e,this._y=t,this._owner._changed(this),this},getX:function(){return this._x},setX:function(e){this._x=e,this._owner._changed(this)},getY:function(){return this._y},setY:function(e){this._y=e,this._owner._changed(this)},isZero:function(){var e=g.isZero;return e(this._x)&&e(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(e){this._owner._changeSelection(this._getSelection(),e)},_getSelection:function(){var e=this._owner;return this===e._point?1:this===e._handleIn?2:this===e._handleOut?4:0}}),N=c.extend({_class:"Curve",beans:!0,initialize:function(e,t,n,i,r,s,o,a){var l,u,c,h,d,p,f=arguments.length;3===f?(this._path=e,l=t,u=n):f?1===f?"segment1"in e?(l=new R(e.segment1),u=new R(e.segment2)):"point1"in e?(c=e.point1,d=e.handle1,p=e.handle2,h=e.point2):Array.isArray(e)&&(c=[e[0],e[1]],h=[e[6],e[7]],d=[e[2]-e[0],e[3]-e[1]],p=[e[4]-e[6],e[5]-e[7]]):2===f?(l=new R(e),u=new R(t)):4===f?(c=e,d=t,p=n,h=i):8===f&&(c=[e,t],h=[o,a],d=[n-e,i-t],p=[r-o,s-a]):(l=new R,u=new R),this._segment1=l||new R(c,null,d),this._segment2=u||new R(h,p,null)},_serialize:function(e,t){return c.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],e,!0,t)},_changed:function(){this._length=this._bounds=a},clone:function(){return new N(this._segment1,this._segment2)},toString:function(){var e=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||e.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||e.push("handle2: "+this._segment2._handleIn),e.push("point2: "+this._segment2._point),"{ "+e.join(", ")+" }"},classify:function(){return N.classify(this.getValues())},remove:function(){var e=!1;if(this._path){var t=this._segment2,n=t._handleOut;(e=t.remove())&&this._segment1._handleOut.set(n)}return e},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(v.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(v.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(v.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(v.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var e=this._path&&this._path._curves;return e&&(e[this._segment1._index+1]||this._path._closed&&e[0])||null},getPrevious:function(){var e=this._path&&this._path._curves;return e&&(e[this._segment1._index-1]||this._path._closed&&e[e.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var e=this._path;return e&&this._segment1._index===e._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(e){this.getPoint1().setSelected(e),this.getHandle1().setSelected(e),this.getHandle2().setSelected(e),this.getPoint2().setSelected(e)},getValues:function(e){return N.getValues(this._segment1,this._segment2,e)},getPoints:function(){for(var e=this.getValues(),t=[],n=0;n<8;n+=2)t.push(new v(e[n],e[n+1]));return t}},{getLength:function(){return null==this._length&&(this._length=N.getLength(this.getValues(),0,1)),this._length},getArea:function(){return N.getArea(this.getValues())},getLine:function(){return new S(this._segment1._point,this._segment2._point)},getPart:function(e,t){return new N(N.getPart(this.getValues(),e,t))},getPartLength:function(e,t){return N.getLength(this.getValues(),e,t)},divideAt:function(e){return this.divideAtTime(e&&e.curve===this?e.time:this.getTimeAt(e))},divideAtTime:function(e,t){var n=null;if(e>=1e-8&&e<=1-1e-8){var i=N.subdivide(this.getValues(),e),r=i[0],s=i[1],o=t||this.hasHandles(),a=this._segment1,l=this._segment2,u=this._path;o&&(a._handleOut._set(r[2]-r[0],r[3]-r[1]),l._handleIn._set(s[4]-s[6],s[5]-s[7]));var c=r[6],h=r[7],d=new R(new v(c,h),o&&new v(r[4]-c,r[5]-h),o&&new v(s[2]-c,s[3]-h));u?(u.insert(a._index+1,d),n=this.getNext()):(this._segment2=d,this._changed(),n=new N(d,l))}return n},splitAt:function(e){var t=this._path;return t?t.splitAt(e):null},splitAtTime:function(e){return this.splitAt(this.getLocationAtTime(e))},divide:function(e,t){return this.divideAtTime(e===a?.5:t?e:this.getTimeAt(e))},split:function(e,t){return this.splitAtTime(e===a?.5:t?e:this.getTimeAt(e))},reversed:function(){return new N(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(e,t,n,i){var r=e._point,s=e._handleOut,o=t._handleIn,a=t._point,l=r.x,u=r.y,c=a.x,h=a.y,d=i?[l,u,l,u,c,h,c,h]:[l,u,l+s._x,u+s._y,c+o._x,h+o._y,c,h];return n&&n._transformCoordinates(d,d,4),d},subdivide:function(e,t){var n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],l=e[5],u=e[6],c=e[7];t===a&&(t=.5);var h=1-t,d=h*n+t*r,p=h*i+t*s,f=h*r+t*o,g=h*s+t*l,m=h*o+t*u,v=h*l+t*c,y=h*d+t*f,_=h*p+t*g,b=h*f+t*m,w=h*g+t*v,x=h*y+t*b,C=h*_+t*w;return[[n,i,d,p,y,_,x,C],[x,C,b,w,m,v,u,c]]},getMonoCurves:function(e,t){var n=[],i=t?0:1,r=e[i+0],s=e[i+2],o=e[i+4],a=e[i+6];if(r>=s==s>=o&&s>=o==o>=a||N.isStraight(e))n.push(e);else{var l=[],u=g.solveQuadratic(3*(s-o)-r+a,2*(r+o)-4*s,s-r,l,1e-8,1-1e-8);if(u){l.sort();var c=l[0],h=N.subdivide(e,c);n.push(h[0]),u>1&&(h=N.subdivide(h[1],c=(l[1]-c)/(1-c)),n.push(h[0])),n.push(h[1])}else n.push(e)}return n},solveCubic:function(e,t,n,i,r,s){var o=e[t],a=e[t+2],l=e[t+4],u=e[t+6],c=0;if(!(o<n&&u<n&&a<n&&l<n||o>n&&u>n&&a>n&&l>n)){var h=3*(a-o),d=3*(l-a)-h;c=g.solveCubic(u-o-h-d,d,h,o-n,i,r,s)}return c},getTimeOf:function(e,t){var n=new v(e[0],e[1]),i=new v(e[6],e[7]);if(null===(t.isClose(n,1e-12)?0:t.isClose(i,1e-12)?1:null))for(var r=[t.x,t.y],s=[],o=0;o<2;o++)for(var a=N.solveCubic(e,o,r[o],s,0,1),l=0;l<a;l++){var u=s[l];if(t.isClose(N.getPoint(e,u),1e-7))return u}return t.isClose(n,1e-7)?0:t.isClose(i,1e-7)?1:null},getNearestTime:function(e,t){if(N.isStraight(e)){var n=e[0],i=e[1],r=e[6]-n,s=e[7]-i,o=r*r+s*s;if(0===o)return 0;var a=((t.x-n)*r+(t.y-i)*s)/o;return a<1e-12?0:a>.999999999999?1:N.getTimeOf(e,new v(n+a*r,i+a*s))}var l=1/0,u=0;function c(n){if(n>=0&&n<=1){var i=t.getDistance(N.getPoint(e,n),!0);if(i<l)return l=i,u=n,!0}}for(var h=0;h<=100;h++)c(h/100);for(var d=.005;d>1e-8;)c(u-d)||c(u+d)||(d/=2);return u},getPart:function(e,t,n){var i=t>n;if(i){var r=t;t=n,n=r}return t>0&&(e=N.subdivide(e,t)[1]),n<1&&(e=N.subdivide(e,(n-t)/(1-t))[0]),i?[e[6],e[7],e[4],e[5],e[2],e[3],e[0],e[1]]:e},isFlatEnough:function(e,t){var n=e[0],i=e[1],r=e[6],s=e[7],o=3*e[2]-2*n-r,a=3*e[3]-2*i-s,l=3*e[4]-2*r-n,u=3*e[5]-2*s-i;return Math.max(o*o,l*l)+Math.max(a*a,u*u)<=16*t*t},getArea:function(e){var t=e[0],n=e[1],i=e[2],r=e[3],s=e[4],o=e[5],a=e[6],l=e[7];return 3*((l-n)*(i+s)-(a-t)*(r+o)+r*(t-s)-i*(n-o)+l*(s+t/3)-a*(o+n/3))/20},getBounds:function(e){for(var t=e.slice(0,2),n=t.slice(),i=[0,0],r=0;r<2;r++)N._addBounds(e[r],e[r+2],e[r+4],e[r+6],r,0,t,n,i);return new w(t[0],t[1],n[0]-t[0],n[1]-t[1])},_addBounds:function(e,t,n,i,r,s,o,a,l){function u(e,t){var n=e-t,i=e+t;n<o[r]&&(o[r]=n),i>a[r]&&(a[r]=i)}var c=o[r]-(s/=2),h=a[r]+s;if(e<c||t<c||n<c||i<c||e>h||t>h||n>h||i>h)if(t<e!=t<i&&n<e!=n<i)u(e,s),u(i,s);else{var d=g.solveQuadratic(3*(t-n)-e+i,2*(e+n)-4*t,t-e,l);u(i,0);for(var p=0;p<d;p++){var f=l[p],m=1-f;1e-8<=f&&f<=1-1e-8&&u(m*m*m*e+3*m*m*f*t+3*m*f*f*n+f*f*f*i,s)}}}}},c.each(["getBounds","getStrokeBounds","getHandleBounds"],function(e){this[e]=function(){this._bounds||(this._bounds={});var t=this._bounds[e];return t||(t=this._bounds[e]=j[e]([this._segment1,this._segment2],!1,this._path)),t.clone()}},{}),c.each({isStraight:function(e,t,n,i){if(t.isZero()&&n.isZero())return!0;var r=i.subtract(e);if(r.isZero())return!1;if(r.isCollinear(t)&&r.isCollinear(n)){var s=new S(e,i);if(s.getDistance(e.add(t))<1e-7&&s.getDistance(i.add(n))<1e-7){var o=r.dot(r),a=r.dot(t)/o,l=r.dot(n)/o;return a>=0&&a<=1&&l<=0&&l>=-1}}return!1},isLinear:function(e,t,n,i){var r=i.subtract(e).divide(3);return t.equals(r)&&n.negate().equals(r)}},function(e,t){this[t]=function(t){var n=this._segment1,i=this._segment2;return e(n._point,n._handleOut,i._handleIn,i._point,t)},this.statics[t]=function(t,n){var i=t[0],r=t[1],s=t[6],o=t[7];return e(new v(i,r),new v(t[2]-i,t[3]-r),new v(t[4]-s,t[5]-o),new v(s,o),n)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(e){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(e||0)},isCollinear:function(e){return e&&this.isStraight()&&e.isStraight()&&this.getLine().isCollinear(e.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(e,t){return this.getLocationAtTime(t?e:this.getTimeAt(e))},getLocationAtTime:function(e){return null!=e&&e>=0&&e<=1?new F(this,e):null},getTimeAt:function(e,t){return N.getTimeAt(this.getValues(),e,t)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var e=v.read(arguments);return e.isZero()?[]:N.getTimesWithTangent(this.getValues(),e)},getOffsetAtTime:function(e){return this.getPartLength(0,e)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(v.read(arguments)))},getOffsetOf:function(){var e=this.getLocationOf.apply(this,arguments);return e?e.getOffset():null},getTimeOf:function(){return N.getTimeOf(this.getValues(),v.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var e=v.read(arguments),t=this.getValues(),n=N.getNearestTime(t,e),i=N.getPoint(t,n);return new F(this,n,i,null,e.getDistance(i))},getNearestPoint:function(){var e=this.getNearestLocation.apply(this,arguments);return e?e.getPoint():e}},new function(){var e=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return c.each(e,function(e){this[e+"At"]=function(t,n){var i=this.getValues();return N[e](i,n?t:N.getTimeAt(i,t))},this[e+"AtTime"]=function(t){return N[e](this.getValues(),t)}},{statics:{_evaluateMethods:e}})},new function(){function e(e){var t=e[0],n=e[1],i=e[2],r=e[3],s=e[4],o=e[5],a=9*(i-s)+3*(e[6]-t),l=6*(t+s)-12*i,u=3*(i-t),c=9*(r-o)+3*(e[7]-n),h=6*(n+o)-12*r,d=3*(r-n);return function(e){var t=(a*e+l)*e+u,n=(c*e+h)*e+d;return Math.sqrt(t*t+n*n)}}function t(e,t){return Math.max(2,Math.min(16,Math.ceil(32*Math.abs(t-e))))}function n(e,t,n,i){if(null==t||t<0||t>1)return null;var r=e[0],s=e[1],o=e[2],a=e[3],l=e[4],u=e[5],c=e[6],h=e[7],d=g.isZero;d(o-r)&&d(a-s)&&(o=r,a=s),d(l-c)&&d(u-h)&&(l=c,u=h);var p,f,m=3*(o-r),y=3*(l-o)-m,_=c-r-m-y,b=3*(a-s),w=3*(u-a)-b,x=h-s-b-w;if(0===n)p=0===t?r:1===t?c:((_*t+y)*t+m)*t+r,f=0===t?s:1===t?h:((x*t+w)*t+b)*t+s;else{if(t<1e-8?(p=m,f=b):t>1-1e-8?(p=3*(c-l),f=3*(h-u)):(p=(3*_*t+2*y)*t+m,f=(3*x*t+2*w)*t+b),i){0===p&&0===f&&(t<1e-8||t>1-1e-8)&&(p=l-o,f=u-a);var C=Math.sqrt(p*p+f*f);C&&(p/=C,f/=C)}if(3===n){l=6*_*t+2*y,u=6*x*t+2*w;var S=Math.pow(p*p+f*f,1.5);p=0!==S?(p*u-f*l)/S:0,f=0}}return 2===n?new v(f,-p):new v(p,f)}return{statics:{classify:function(e){var t=e[0],n=e[1],i=e[2],r=e[3],s=e[4],o=e[5],l=e[6],u=e[7],c=i*(n-u)+r*(l-t)+t*u-n*l,h=3*(s*(r-n)+o*(t-i)+i*n-r*t),d=h-c,p=d-c+(t*(u-o)+n*(s-l)+l*o-u*s),f=Math.sqrt(p*p+d*d+h*h),m=0!==f?1/f:0,v=g.isZero;function y(e,t,n){var i=t!==a,r=i&&t>0&&t<1,s=i&&n>0&&n<1;return!i||(r||s)&&("loop"!==e||r&&s)||(e="arch",r=s=!1),{type:e,roots:r||s?r&&s?t<n?[t,n]:[n,t]:[r?t:n]:null}}if(d*=m,h*=m,v(p*=m))return v(d)?y(v(h)?"line":"quadratic"):y("serpentine",h/(3*d));var _=3*d*d-4*p*h;if(v(_))return y("cusp",d/(2*p));var b=_>0?Math.sqrt(_/3):Math.sqrt(-_),w=2*p;return y(_>0?"serpentine":"loop",(d+b)/w,(d-b)/w)},getLength:function(n,i,r,s){if(i===a&&(i=0),r===a&&(r=1),N.isStraight(n)){var o=n;r<1&&(o=N.subdivide(o,r)[0],i/=r),i>0&&(o=N.subdivide(o,i)[1]);var l=o[6]-o[0],u=o[7]-o[1];return Math.sqrt(l*l+u*u)}return g.integrate(s||e(n),i,r,t(i,r))},getTimeAt:function(n,i,r){if(r===a&&(r=i<0?1:0),0===i)return r;var s=Math.abs,o=i>0,l=o?r:0,u=o?1:r,c=e(n),h=N.getLength(n,l,u,c),d=s(i)-h;if(s(d)<1e-12)return o?u:l;if(d>1e-12)return null;var p=0;return g.findRoot(function(e){return p+=g.integrate(c,r,e,t(r,e)),r=e,p-i},c,r+i/h,l,u,32,1e-12)},getPoint:function(e,t){return n(e,t,0,!1)},getTangent:function(e,t){return n(e,t,1,!0)},getWeightedTangent:function(e,t){return n(e,t,1,!1)},getNormal:function(e,t){return n(e,t,2,!0)},getWeightedNormal:function(e,t){return n(e,t,2,!1)},getCurvature:function(e,t){return n(e,t,3,!1).x},getPeaks:function(e){var t=e[0],n=e[1],i=e[2],r=e[3],s=e[4],o=e[5],a=3*i-t-3*s+e[6],l=3*t-6*i+3*s,u=-3*t+3*i,c=3*r-n-3*o+e[7],h=3*n-6*r+3*o,d=-3*n+3*r,p=[];return g.solveCubic(9*(a*a+c*c),9*(a*l+h*c),2*(l*l+h*h)+3*(u*a+d*c),u*l+h*d,p,1e-8,1-1e-8),p.sort()}}}},new function(){function e(e,t,n,i,r,s,o){var a=!o&&n.getPrevious()===r,l=!o&&n!==r&&n.getNext()===r;if(null!==i&&i>=(a?1e-8:0)&&i<=(l?1-1e-8:1)&&null!==s&&s>=(l?1e-8:0)&&s<=(a?1-1e-8:1)){var u=new F(n,i,null,o),c=new F(r,s,null,o);u._intersection=c,c._intersection=u,t&&!t(u)||F.insert(e,u,!0)}}function t(e,t,i,r){return e[0][1]<i?n(e,!0,i):t[0][1]>r?n(t,!1,r):e[0][0]}function n(e,t,n){for(var i=e[0][0],r=e[0][1],s=1,o=e.length;s<o;s++){var a=e[s][0],l=e[s][1];if(t?l>=n:l<=n)return l===n?a:i+(n-r)*(a-i)/(l-r);i=a,r=l}return null}function i(e,t,n,i,r){var s=g.isZero;if(s(i)&&s(r)){var o=N.getTimeOf(e,new v(t,n));return null===o?[]:[o]}for(var a=Math.atan2(-r,i),l=Math.sin(a),u=Math.cos(a),c=[],h=[],d=0;d<8;d+=2){var p=e[d]-t,f=e[d+1]-n;c.push(p*u-f*l,p*l+f*u)}return N.solveCubic(c,1,0,h,0,1),h}function r(n,r,s,a,l,u){var c=Math.min,h=Math.max;if(h(n[0],n[2],n[4],n[6])+1e-12>c(r[0],r[2],r[4],r[6])&&c(n[0],n[2],n[4],n[6])-1e-12<h(r[0],r[2],r[4],r[6])&&h(n[1],n[3],n[5],n[7])+1e-12>c(r[1],r[3],r[5],r[7])&&c(n[1],n[3],n[5],n[7])-1e-12<h(r[1],r[3],r[5],r[7])){var d=o(n,r);if(d)for(var p=0;p<2;p++){var f=d[p];e(l,u,s,f[0],a,f[1],!0)}else{var g=N.isStraight(n),m=N.isStraight(r),y=g&&m,_=g&&!m,b=l.length;if((y?function(t,n,i,r,s,o){var a=S.intersect(t[0],t[1],t[6],t[7],n[0],n[1],n[6],n[7]);a&&e(s,o,i,N.getTimeOf(t,a),r,N.getTimeOf(n,a))}:g||m?function(t,n,r,s,o,a,l){for(var u=n[0],c=n[1],h=i(t,u,c,n[6]-u,n[7]-c),d=0,p=h.length;d<p;d++){var f=h[d],g=N.getPoint(t,f),m=N.getTimeOf(n,g);null!==m&&e(o,a,l?s:r,l?m:f,l?r:s,l?f:m)}}:function n(i,r,s,o,a,l,u,c,h,d,p,f,g){if(++h>=4096||++c>=40)return h;var m,v,y=r[0],_=r[1],b=r[6],w=r[7],x=S.getSignedDistance,C=x(y,_,b,w,r[2],r[3]),E=x(y,_,b,w,r[4],r[5]),T=C*E>0?.75:4/9,M=T*Math.min(0,C,E),I=T*Math.max(0,C,E),O=x(y,_,b,w,i[0],i[1]),A=x(y,_,b,w,i[2],i[3]),D=x(y,_,b,w,i[4],i[5]),k=x(y,_,b,w,i[6],i[7]),P=function(e,t,n,i){var r,s=[0,O],o=[1/3,A],a=[2/3,D],l=[1,k],u=A-(2*O+k)/3,c=D-(O+2*k)/3;if(u*c<0)r=[[s,o,l],[s,a,l]];else{var h=u/c;r=[h>=2?[s,o,l]:h<=.5?[s,a,l]:[s,o,a,l],[s,l]]}return(u||c)<0?r.reverse():r}(),R=P[0],L=P[1];if(0===C&&0===E&&0===O&&0===A&&0===D&&0===k||null==(m=t(R,L,M,I))||null==(v=t(R.reverse(),L.reverse(),M,I)))return h;var F=d+(p-d)*m,V=d+(p-d)*v;if(Math.max(g-f,V-F)<1e-9){var j=(F+V)/2,B=(f+g)/2;e(a,l,u?o:s,u?B:j,u?s:o,u?j:B)}else{var z;i=N.getPart(i,m,v),v-m>.8?V-F>g-f?(h=n(r,(z=N.subdivide(i,.5))[0],o,s,a,l,!u,c,h,f,g,F,j=(F+V)/2),h=n(r,z[1],o,s,a,l,!u,c,h,f,g,j,V)):(h=n((z=N.subdivide(r,.5))[0],i,o,s,a,l,!u,c,h,f,B=(f+g)/2,F,V),h=n(z[1],i,o,s,a,l,!u,c,h,B,g,F,V)):h=g-f>=1e-9?n(r,i,o,s,a,l,!u,c,h,f,g,F,V):n(i,r,s,o,a,l,u,c,h,F,V,f,g)}return h})(_?r:n,_?n:r,_?a:s,_?s:a,l,u,_,0,0,0,1,0,1),!y||l.length===b)for(p=0;p<4;p++){var w=p>>1,x=1&p,C=6*w,E=6*x,T=new v(n[C],n[C+1]),M=new v(r[E],r[E+1]);T.isClose(M,1e-12)&&e(l,u,s,w,a,x)}}}return l}function s(t,n,i,r){var s=N.classify(t);if("loop"===s.type){var o=s.roots;e(i,r,n,o[0],n,o[1])}return i}function o(e,t){function n(e){var t=e[6]-e[0],n=e[7]-e[1];return t*t+n*n}var i=Math.abs,r=S.getDistance,s=N.isStraight(e),o=N.isStraight(t),a=s&&o,l=n(e)<n(t),u=l?t:e,c=l?e:t,h=u[0],d=u[1],p=u[6]-h,f=u[7]-d;if(r(h,d,p,f,c[0],c[1],!0)<1e-7&&r(h,d,p,f,c[6],c[7],!0)<1e-7)!a&&r(h,d,p,f,u[2],u[3],!0)<1e-7&&r(h,d,p,f,u[4],u[5],!0)<1e-7&&r(h,d,p,f,c[2],c[3],!0)<1e-7&&r(h,d,p,f,c[4],c[5],!0)<1e-7&&(s=o=a=!0);else if(a)return null;if(s^o)return null;for(var g=[e,t],m=[],y=0;y<4&&m.length<2;y++){var _=1&y,b=1^_,w=y>>1,x=N.getTimeOf(g[_],new v(g[b][w?6:0],g[b][w?7:1]));if(null!=x){var C=_?[w,x]:[x,w];(!m.length||i(C[0]-m[0][0])>1e-8&&i(C[1]-m[0][1])>1e-8)&&m.push(C)}if(y>2&&!m.length)break}if(2!==m.length)m=null;else if(!a){var E=N.getPart(e,m[0][0],m[1][0]),T=N.getPart(t,m[0][1],m[1][1]);(i(T[2]-E[2])>1e-7||i(T[3]-E[3])>1e-7||i(T[4]-E[4])>1e-7||i(T[5]-E[5])>1e-7)&&(m=null)}return m}return{getIntersections:function(e){var t=this.getValues(),n=e&&e!==this&&e.getValues();return n?r(t,n,this,e,[]):s(t,this,[])},statics:{getOverlaps:o,getIntersections:function(e,t,n,i,o,a){var l=!t;l&&(t=e);for(var u,h,d=e.length,p=t.length,f=[],g=[],m=0;m<p;m++)f[m]=t[m].getValues(o);for(m=0;m<d;m++){var v=e[m],y=l?f[m]:v.getValues(i),_=v.getPath();_!==h&&(h=_,g.push(u=[])),l&&s(y,v,u,n);for(var b=l?m+1:0;b<p;b++){if(a&&u.length)return u;r(y,f[b],v,t[b],u,n)}}u=[],m=0;for(var w=g.length;m<w;m++)c.push(u,g[m]);return u},getCurveLineIntersections:i,getTimesWithTangent:function(e,t){var n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=t.normalize(),h=c.x,d=c.y,p=3*l-9*o+9*r-3*n,f=3*u-9*a+9*s-3*i,m=6*o-12*r+6*n,v=6*a-12*s+6*i,y=3*r-3*n,_=3*s-3*i,b=2*p*d-2*f*h,w=[];if(Math.abs(b)<g.CURVETIME_EPSILON){if(0!=(b=p*v-f*m)){var x=-(p*_-f*y)/b;x>=0&&x<=1&&w.push(x)}}else{var C=(m*m-4*p*y)*d*d+(-2*m*v+4*f*y+4*p*_)*h*d+(v*v-4*f*_)*h*h,S=m*d-v*h;if(C>=0&&0!=b){var E=Math.sqrt(C),T=-(S+E)/b,M=(-S+E)/b;T>=0&&T<=1&&w.push(T),M>=0&&M<=1&&w.push(M)}}return w}}}}),F=c.extend({_class:"CurveLocation",initialize:function(e,t,n,i,r){if(t>=.99999999){var s=e.getNext();s&&(t=0,e=s)}this._setCurve(e),this._time=t,this._point=n||e.getPointAtTime(t),this._overlap=i,this._distance=r,this._intersection=this._next=this._previous=null},_setCurve:function(e){var t=e._path;this._path=t,this._version=t?t._version:0,this._curve=e,this._segment=null,this._segment1=e._segment1,this._segment2=e._segment2},_setSegment:function(e){this._setCurve(e.getCurve()),this._segment=e,this._time=e===this._segment1?0:1,this._point=e._point.clone()},getSegment:function(){var e=this._segment;if(!e){var t=this.getCurve(),n=this.getTime();0===n?e=t._segment1:1===n?e=t._segment2:null!=n&&(e=t.getPartLength(0,n)<t.getPartLength(n,1)?t._segment1:t._segment2),this._segment=e}return e},getCurve:function(){var e=this._path,t=this;function n(e){var n=e&&e.getCurve();if(n&&null!=(t._time=n.getTimeOf(t._point)))return t._setCurve(n),n}return e&&e._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null),this._curve||n(this._segment)||n(this._segment1)||n(this._segment2.getPrevious())},getPath:function(){var e=this.getCurve();return e&&e._path},getIndex:function(){var e=this.getCurve();return e&&e.getIndex()},getTime:function(){var e=this.getCurve(),t=this._time;return e&&null==t?this._time=e.getTimeOf(this._point):t},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var e=this._offset;if(null==e){e=0;var t=this.getPath(),n=this.getIndex();if(t&&null!=n)for(var i=t.getCurves(),r=0;r<n;r++)e+=i[r].getLength();this._offset=e+=this.getCurveOffset()}return e},getCurveOffset:function(){var e=this._curveOffset;if(null==e){var t=this.getCurve(),n=this.getTime();this._curveOffset=e=null!=n&&t&&t.getPartLength(0,n)}return e},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var e=this.getCurve(),t=e&&e.divideAtTime(this.getTime());return t&&this._setSegment(t._segment1),t},split:function(){var e=this.getCurve(),t=e._path,n=e&&e.splitAtTime(this.getTime());return n&&this._setSegment(t.getLastSegment()),n},equals:function(e,t){var n=this===e;if(!n&&e instanceof F){var i=this.getCurve(),r=e.getCurve(),s=i._path;if(s===r._path){var o=Math.abs,a=o(this.getOffset()-e.getOffset()),l=!t&&this._intersection,u=!t&&e._intersection;n=(a<1e-7||s&&o(s.getLength()-a)<1e-7)&&(!l&&!u||l&&u&&l.equals(u,!0))}}return n},toString:function(){var e=[],t=this.getPoint(),n=f.instance;t&&e.push("point: "+t);var i=this.getIndex();null!=i&&e.push("index: "+i);var r=this.getTime();return null!=r&&e.push("time: "+n.number(r)),null!=this._distance&&e.push("distance: "+n.number(this._distance)),"{ "+e.join(", ")+" }"},isTouching:function(){var e=this._intersection;if(e&&this.getTangent().isCollinear(e.getTangent())){var t=this.getCurve(),n=e.getCurve();return!(t.isStraight()&&n.isStraight()&&t.getLine().intersect(n.getLine()))}return!1},isCrossing:function(){var e=this._intersection;if(!e)return!1;var t=this.getTime(),n=e.getTime(),i=t>=1e-8&&t<=1-1e-8,r=n>=1e-8&&n<=1-1e-8;if(i&&r)return!this.isTouching();var s=this.getCurve(),o=t<1e-8?s.getPrevious():s,a=e.getCurve(),l=n<1e-8?a.getPrevious():a;if(t>1-1e-8&&(s=s.getNext()),n>1-1e-8&&(a=a.getNext()),!(o&&s&&l&&a))return!1;var u=[];function c(e,t){var n=e.getValues(),i=N.classify(n).roots||N.getPeaks(n),r=i.length,s=t&&r>1?i[r-1]:r>0?i[0]:.5;u.push(N.getLength(n,t?s:0,t?1:s)/2)}function h(e,t,n){return t<n?e>t&&e<n:e>t||e<n}i||(c(o,!0),c(s,!1)),r||(c(l,!0),c(a,!1));var d=this.getPoint(),p=Math.min.apply(Math,u),f=i?s.getTangentAtTime(t):s.getPointAt(p).subtract(d),g=i?f.negate():o.getPointAt(-p).subtract(d),m=r?a.getTangentAtTime(n):a.getPointAt(p).subtract(d),v=r?m.negate():l.getPointAt(-p).subtract(d),y=g.getAngle(),_=f.getAngle(),b=v.getAngle(),w=m.getAngle();return!!(i?h(y,b,w)^h(_,b,w)&&h(y,w,b)^h(_,w,b):h(b,y,_)^h(w,y,_)&&h(b,_,y)^h(w,_,y))},hasOverlap:function(){return!!this._overlap}},c.each(N._evaluateMethods,function(e){var t=e+"At";this[e]=function(){var e=this.getCurve(),n=this.getTime();return null!=n&&e&&e[t](n,!0)}},{preserve:!0}),new function(){function e(e,t,n){var i=e.length,r=0,s=i-1;function o(n,r){for(var s=n+r;s>=-1&&s<=i;s+=r){var o=e[(s%i+i)%i];if(!t.getPoint().isClose(o.getPoint(),1e-7))break;if(t.equals(o))return o}return null}for(;r<=s;){var a,l=r+s>>>1,u=e[l];if(n&&(a=t.equals(u)?u:o(l,-1)||o(l,1)))return t._overlap&&(a._overlap=a._intersection._overlap=!0),a;var c=t.getPath(),h=u.getPath();(c!==h?c._id-h._id:t.getIndex()+t.getTime()-(u.getIndex()+u.getTime()))<0?s=l-1:r=l+1}return e.splice(r,0,t),t}return{statics:{insert:e,expand:function(t){for(var n=t.slice(),i=t.length-1;i>=0;i--)e(n,t[i]._intersection,!1);return n}}}}),V=T.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(e){var t,n,i;if(c.isPlainObject(e)?(n=e.segments,t=e.pathData):Array.isArray(e)?n=e:"string"==typeof e&&(t=e),n){var r=n[0];i=r&&Array.isArray(r[0])}else t&&(i=(t.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(t));return new(i?B:j)(e)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(e){this.isClockwise()!=(e=!!e)&&this.reverse()},setPathData:function(e){var t,n,i,r=e&&e.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/gi),s=!1,o=new v,a=new v;function l(e,n){var i=+t[e];return s&&(i+=o[n]),i}function u(e){return new v(l(e,"x"),l(e+1,"y"))}this.clear();for(var c=0,h=r&&r.length;c<h;c++){var d=r[c],p=d[0],f=p.toLowerCase(),g=(t=d.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g))&&t.length;switch(s=p===f,"z"!==n||/[mz]/.test(f)||this.moveTo(o),f){case"m":case"l":for(var m="m"===f,y=0;y<g;y+=2)this[m?"moveTo":"lineTo"](o=u(y)),m&&(a=o,m=!1);i=o;break;case"h":case"v":var b="h"===f?"x":"y";for(o=o.clone(),y=0;y<g;y++)o[b]=l(y,b),this.lineTo(o);i=o;break;case"c":for(y=0;y<g;y+=6)this.cubicCurveTo(u(y),i=u(y+2),o=u(y+4));break;case"s":for(y=0;y<g;y+=4)this.cubicCurveTo(/[cs]/.test(n)?o.multiply(2).subtract(i):o,i=u(y),o=u(y+2)),n=f;break;case"q":for(y=0;y<g;y+=4)this.quadraticCurveTo(i=u(y),o=u(y+2));break;case"t":for(y=0;y<g;y+=2)this.quadraticCurveTo(i=/[qt]/.test(n)?o.multiply(2).subtract(i):o,o=u(y)),n=f;break;case"a":for(y=0;y<g;y+=7)this.arcTo(o=u(y+5),new _(+t[y],+t[y+1]),+t[y+2],+t[y+4],+t[y+3]);break;case"z":this.closePath(1e-12),o=a}n=f}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(e){var t=e.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(e):{};return t.onPath||!!("evenodd"===this.getFillRule()?1&t.windingL||1&t.windingR:t.winding)},getIntersections:function(e,t,n,i){var r=this===e||!e,s=this._matrix._orNullIfIdentity(),o=r?s:(n||e._matrix)._orNullIfIdentity();return r||this.getBounds(s).intersects(e.getBounds(o),1e-12)?N.getIntersections(this.getCurves(),!r&&e.getCurves(),t,s,o,i):[]},getCrossings:function(e){return this.getIntersections(e,function(e){return e.hasOverlap()||e.isCrossing()})},getNearestLocation:function(){for(var e=v.read(arguments),t=this.getCurves(),n=1/0,i=null,r=0,s=t.length;r<s;r++){var o=t[r].getNearestLocation(e);o._distance<n&&(n=o._distance,i=o)}return i},getNearestPoint:function(){var e=this.getNearestLocation.apply(this,arguments);return e?e.getPoint():e},interpolate:function(e,t,n){var i=!this._children,r=i?"_segments":"_children",s=e[r],o=t[r],a=this[r];if(!s||!o||s.length!==o.length)throw new Error("Invalid operands in interpolate() call: "+e+", "+t);var l=a.length,u=o.length;if(l<u)for(var c=i?R:j,h=l;h<u;h++)this.add(new c);else l>u&&this[i?"removeSegments":"removeChildren"](u,l);for(h=0;h<u;h++)a[h].interpolate(s[h],o[h],n);i&&(this.setClosed(e._closed),this._changed(9))},compare:function(e){var t=!1;if(e){var n=this._children||[this],i=e._children?e._children.slice():[e],r=i.length,s=[],o=0;t=!0;for(var a=n.length-1;a>=0&&t;a--){var l=n[a];t=!1;for(var u=r-1;u>=0&&!t;u--)l.compare(i[u])&&(s[u]||(s[u]=!0,o++),t=!0)}t=t&&o===r}return t}}),j=V.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(e){this._closed=!1,this._segments=[],this._version=0;var t=Array.isArray(e)?"object"==typeof e[0]?e:arguments:!e||e.size!==a||e.x===a&&e.point===a?null:arguments;t&&t.length>0?this.setSegments(t):(this._curves=a,this._segmentSelection=0,t||"string"!=typeof e||(this.setPathData(e),e=null)),this._initialize(!t&&e)},_equals:function(e){return this._closed===e._closed&&c.equals(this._segments,e._segments)},copyContent:function(e){this.setSegments(e._segments),this._closed=e._closed},_changed:function e(t){if(e.base.call(this,t),8&t){if(this._length=this._area=a,32&t)this._version++;else if(this._curves)for(var n=0,i=this._curves.length;n<i;n++)this._curves[n]._changed()}else 64&t&&(this._bounds=a)},getStyle:function(){var e=this._parent;return(e instanceof B?e:this)._style},getSegments:function(){return this._segments},setSegments:function(e){var t=this.isFullySelected(),n=e&&e.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=a,n){var i=e[n-1];"boolean"==typeof i&&(this.setClosed(i),n--),this._add(R.readList(e,0,{},n))}t&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var e=this._curves,t=this._segments;if(!e){var n=this._countCurves();e=this._curves=new Array(n);for(var i=0;i<n;i++)e[i]=new N(this,t[i],t[i+1]||t[0])}return e},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var e=this.getCurves();return e[e.length-1]},isClosed:function(){return this._closed},setClosed:function(e){if(this._closed!=(e=!!e)){if(this._closed=e,this._curves){var t=this._curves.length=this._countCurves();e&&(this._curves[t-1]=new N(this,this._segments[t-1],this._segments[0]))}this._changed(41)}}},{beans:!0,getPathData:function(e,t){var n,i,r,s,o,a,l,u,c=this._segments,h=c.length,d=new f(t),p=new Array(6),g=!0,m=[];function v(t,c){if(t._transformCoordinates(e,p),n=p[0],i=p[1],g)m.push("M"+d.pair(n,i)),g=!1;else if(a=p[3],(o=p[2])===n&&a===i&&l===r&&u===s){if(!c){var h=n-r,f=i-s;m.push(0===h?"v"+d.number(f):0===f?"h"+d.number(h):"l"+d.pair(h,f))}}else m.push("c"+d.pair(l-r,u-s)+" "+d.pair(o-r,a-s)+" "+d.pair(n-r,i-s));r=n,s=i,l=p[4],u=p[5]}if(!h)return"";for(var y=0;y<h;y++)v(c[y]);return this._closed&&h>0&&(v(c[0],!0),m.push("z")),m.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(e){for(var t=this._segments,n=new Array(6),i=0,r=t.length;i<r;i++)t[i]._transformCoordinates(e,n,!0);return!0},_add:function(e,t){for(var n=this._segments,i=this._curves,r=e.length,s=null==t,o=(t=s?n.length:t,0);o<r;o++){var a=e[o];a._path&&(a=e[o]=a.clone()),a._path=this,a._index=t+o,a._selection&&this._updateSelection(a,0,a._selection)}if(s)c.push(n,e);else{n.splice.apply(n,[t,0].concat(e)),o=t+r;for(var l=n.length;o<l;o++)n[o]._index=o}if(i){var u=this._countCurves(),h=t>0&&t+r-1===u?t-1:t,d=h,p=Math.min(h+r,u);for(e._curves&&(i.splice.apply(i,[h,0].concat(e._curves)),d+=e._curves.length),o=d;o<p;o++)i.splice(o,0,new N(this,null,null));this._adjustCurves(h,p)}return this._changed(41),e},_adjustCurves:function(e,t){for(var n,i=this._segments,r=this._curves,s=e;s<t;s++)(n=r[s])._path=this,n._segment1=i[s],n._segment2=i[s+1]||i[0],n._changed();(n=r[this._closed&&!e?i.length-1:e-1])&&(n._segment2=i[e]||i[0],n._changed()),(n=r[t])&&(n._segment1=i[t],n._changed())},_countCurves:function(){var e=this._segments.length;return!this._closed&&e>0?e-1:e},add:function(e){return arguments.length>1&&"number"!=typeof e?this._add(R.readList(arguments)):this._add([R.read(arguments)])[0]},insert:function(e,t){return arguments.length>2&&"number"!=typeof t?this._add(R.readList(arguments,1),e):this._add([R.read(arguments,1)],e)[0]},addSegment:function(){return this._add([R.read(arguments)])[0]},insertSegment:function(e){return this._add([R.read(arguments,1)],e)[0]},addSegments:function(e){return this._add(R.readList(e))},insertSegments:function(e,t){return this._add(R.readList(t),e)},removeSegment:function(e){return this.removeSegments(e,e+1)[0]||null},removeSegments:function(e,t,n){e=e||0,t=c.pick(t,this._segments.length);var i=this._segments,r=this._curves,s=i.length,o=i.splice(e,t-e),a=o.length;if(!a)return o;for(var l=0;l<a;l++){var u=o[l];u._selection&&this._updateSelection(u,u._selection,0),u._index=u._path=null}l=e;for(var h=i.length;l<h;l++)i[l]._index=l;if(r){var d=e>0&&t===s+(this._closed?1:0)?e-1:e;for(l=(r=r.splice(d,a)).length-1;l>=0;l--)r[l]._path=null;n&&(o._curves=r.slice(1)),this._adjustCurves(d,d)}return this._changed(41),o},clear:"#removeSegments",hasHandles:function(){for(var e=this._segments,t=0,n=e.length;t<n;t++)if(e[t].hasHandles())return!0;return!1},clearHandles:function(){for(var e=this._segments,t=0,n=e.length;t<n;t++)e[t].clearHandles()},getLength:function(){if(null==this._length){for(var e=this.getCurves(),t=0,n=0,i=e.length;n<i;n++)t+=e[n].getLength();this._length=t}return this._length},getArea:function(){var e=this._area;if(null==e){var t=this._segments,n=this._closed;e=0;for(var i=0,r=t.length;i<r;i++){var s=i+1===r;e+=N.getArea(N.getValues(t[i],t[s?0:i+1],null,s&&!n))}this._area=e}return e},isFullySelected:function(){var e=this._segments.length;return this.isSelected()&&e>0&&this._segmentSelection===7*e},setFullySelected:function(e){e&&this._selectSegments(!0),this.setSelected(e)},setSelection:function e(t){1&t||this._selectSegments(!1),e.base.call(this,t)},_selectSegments:function(e){var t=this._segments,n=t.length,i=e?7:0;this._segmentSelection=i*n;for(var r=0;r<n;r++)t[r]._selection=i},_updateSelection:function(e,t,n){e._selection=n,(this._segmentSelection+=n-t)>0&&this.setSelected(!0)},divideAt:function(e){var t,n=this.getLocationAt(e);return n&&(t=n.getCurve().divideAt(n.getCurveOffset()))?t._segment1:null},splitAt:function(e){var t=this.getLocationAt(e),n=t&&t.index,i=t&&t.time;i>1-1e-8&&(n++,i=0);var r=this.getCurves();if(n>=0&&n<r.length){i>=1e-8&&r[n++].divideAtTime(i);var s,o=this.removeSegments(n,this._segments.length,!0);return this._closed?(this.setClosed(!1),s=this):((s=new j(T.NO_INSERT)).insertAbove(this),s.copyAttributes(this)),s._add(o,0),this.addSegment(o[0]),s}return null},split:function(e,t){var n,i=t===a?e:(n=this.getCurves()[e])&&n.getLocationAtTime(t);return null!=i?this.splitAt(i):null},join:function(e,t){var n=t||0;if(e&&e!==this){var i=e._segments,r=this.getLastSegment(),s=e.getLastSegment();if(!s)return this;r&&r._point.isClose(s._point,n)&&e.reverse();var o=e.getFirstSegment();if(r&&r._point.isClose(o._point,n))r.setHandleOut(o._handleOut),this._add(i.slice(1));else{var a=this.getFirstSegment();a&&a._point.isClose(o._point,n)&&e.reverse(),s=e.getLastSegment(),a&&a._point.isClose(s._point,n)?(a.setHandleIn(s._handleIn),this._add(i.slice(0,i.length-1),0)):this._add(i.slice())}e._closed&&this._add([i[0]]),e.remove()}var l=this.getFirstSegment(),u=this.getLastSegment();return l!==u&&l._point.isClose(u._point,n)&&(l.setHandleIn(u._handleIn),u.remove(),this.setClosed(!0)),this},reduce:function(e){for(var t=this.getCurves(),n=e&&e.simplify,i=n?1e-7:0,r=t.length-1;r>=0;r--){var s=t[r];!s.hasHandles()&&(!s.hasLength(i)||n&&s.isCollinear(s.getNext()))&&s.remove()}return this},reverse:function(){this._segments.reverse();for(var e=0,t=this._segments.length;e<t;e++){var n=this._segments[e],i=n._handleIn;n._handleIn=n._handleOut,n._handleOut=i,n._index=e}this._curves=null,this._changed(9)},flatten:function(e){for(var t=new z(this,e||.25,256,!0).parts,n=t.length,i=[],r=0;r<n;r++)i.push(new R(t[r].curve.slice(0,2)));!this._closed&&n>0&&i.push(new R(t[n-1].curve.slice(6))),this.setSegments(i)},simplify:function(e){var t=new H(this).fit(e||2.5);return t&&this.setSegments(t),!!t},smooth:function(e){var t=this,n=e||{},i=n.type||"asymmetric",r=this._segments,s=r.length,o=this._closed;function l(e,n){var i=e&&e.index;if(null!=i){var r=e.path;if(r&&r!==t)throw new Error(e._class+" "+i+" of "+r+" is not part of "+t);n&&e instanceof N&&i++}else i="number"==typeof e?e:n;return Math.min(i<0&&o?i%s:i<0?i+s:i,s-1)}var u=o&&n.from===a&&n.to===a,c=l(n.from,0),h=l(n.to,s-1);if(c>h)if(o)c-=s;else{var d=c;c=h,h=d}if(/^(?:asymmetric|continuous)$/.test(i)){var p="asymmetric"===i,f=Math.min,g=h-c+1,m=g-1,v=u?f(g,4):1,y=v,_=v,b=[];if(o||(y=f(1,c),_=f(1,s-h-1)),(m+=y+_)<=1)return;for(var w=0,x=c-y;w<=m;w++,x++)b[w]=r[(x<0?x+s:x)%s]._point;var C=b[0]._x+2*b[1]._x,S=b[0]._y+2*b[1]._y,E=2,T=m-1,M=[C],I=[S],O=[E],A=[],D=[];for(w=1;w<m;w++){var k=w<T,P=k?4:p?3:8,R=k?2:p?0:1,L=(k?1:p?1:2)/E;E=O[w]=(k?4:p?2:7)-L,C=M[w]=P*b[w]._x+R*b[w+1]._x-L*C,S=I[w]=P*b[w]._y+R*b[w+1]._y-L*S}for(A[T]=M[T]/O[T],D[T]=I[T]/O[T],w=m-2;w>=0;w--)A[w]=(M[w]-A[w+1])/O[w],D[w]=(I[w]-D[w+1])/O[w];A[m]=(3*b[m]._x-A[T])/2,D[m]=(3*b[m]._y-D[T])/2,w=y;var F=m-_;for(x=c;w<=F;w++,x++){var V=r[x<0?x+s:x],j=V._point,B=A[w]-j._x,z=D[w]-j._y;(u||w<F)&&V.setHandleOut(B,z),(u||w>y)&&V.setHandleIn(-B,-z)}}else for(w=c;w<=h;w++)r[w<0?w+s:w].smooth(n,!u&&w===c,!u&&w===h)},toShape:function(e){if(!this._closed)return null;var t,n,i,r,s,o,l,u=this._segments;function c(e,t){var n=u[e],i=n.getNext(),r=u[t],s=r.getNext();return n._handleOut.isZero()&&i._handleIn.isZero()&&r._handleOut.isZero()&&s._handleIn.isZero()&&i._point.subtract(n._point).isCollinear(s._point.subtract(r._point))}function h(e){var t=u[e],n=t.getNext(),i=t._handleOut,r=n._handleIn;if(i.isOrthogonal(r)){var s=t._point,o=n._point,a=new S(s,i,!0).intersect(new S(o,r,!0),!0);return a&&g.isZero(i.getLength()/a.subtract(s).getLength()-.5522847498307936)&&g.isZero(r.getLength()/a.subtract(o).getLength()-.5522847498307936)}return!1}function d(e,t){return u[e]._point.getDistance(u[t]._point)}if(!this.hasHandles()&&4===u.length&&c(0,2)&&c(1,3)&&(o=(s=u[1]).getPrevious(),l=s.getNext(),o._handleOut.isZero()&&s._handleIn.isZero()&&s._handleOut.isZero()&&l._handleIn.isZero()&&s._point.subtract(o._point).isOrthogonal(l._point.subtract(s._point)))?(t=O.Rectangle,n=new _(d(0,3),d(0,1)),r=u[1]._point.add(u[2]._point).divide(2)):8===u.length&&h(0)&&h(2)&&h(4)&&h(6)&&c(1,5)&&c(3,7)?(t=O.Rectangle,i=(n=new _(d(1,6),d(0,3))).subtract(new _(d(0,7),d(1,2))).divide(2),r=u[3]._point.add(u[4]._point).divide(2)):4===u.length&&h(0)&&h(1)&&h(2)&&h(3)&&(g.isZero(d(0,2)-d(1,3))?(t=O.Circle,i=d(0,2)/2):(t=O.Ellipse,i=new _(d(2,0)/2,d(3,1)/2)),r=u[1]._point),t){var p=this.getPosition(!0),f=new t({center:p,size:n,radius:i,insert:!1});return f.copyAttributes(this,!0),f._matrix.prepend(this._matrix),f.rotate(r.subtract(p).getAngle()+90),(e===a||e)&&f.insertAbove(this),f}return null},toPath:"#clone",compare:function e(t){if(!t||t instanceof B)return e.base.call(this,t);var n=this.getCurves(),i=t.getCurves(),r=n.length,s=i.length;if(!r||!s)return r==s;for(var o,a,l=n[0].getValues(),u=[],c=0,h=0,d=0;d<s;d++){var p=i[d].getValues();if(u.push(p),m=N.getOverlaps(l,p)){o=!d&&m[0][0]>0?s-1:d,a=m[0][1];break}}var f,g=Math.abs;for(p=u[o];l&&p;){var m;if((m=N.getOverlaps(l,p))&&g(m[0][0]-h)<1e-8){1===(h=m[1][0])&&(l=++c<r?n[c].getValues():null,h=0);var v=m[0][1];if(g(v-a)<1e-8){if(f||(f=[o,v]),1===(a=m[1][1])&&(++o>=s&&(o=0),p=u[o]||i[o].getValues(),a=0),!l)return f[0]===o&&f[1]===a;continue}}break}return!1},_hitTestSelf:function(e,t,n,i){var r,s,o,a,l,u,c=this,h=this.getStyle(),d=this._segments,p=d.length,f=this._closed,g=t._tolerancePadding,m=g,v=t.stroke&&h.hasStroke(),y=t.fill&&h.hasFill(),_=t.curves,b=v?h.getStrokeWidth()/2:y&&t.tolerance>0||_?0:null;function w(t,n){return e.subtract(t).divide(n).length<=1}function x(e,n,i){if(!t.selected||n.isSelected()){var r=e._point;if(n!==r&&(n=n.add(r)),w(n,m))return new P(i,c,{segment:e,point:n})}}function C(e,n){return(n||t.segments)&&x(e,e._point,"segment")||!n&&t.handles&&(x(e,e._handleIn,"handle-in")||x(e,e._handleOut,"handle-out"))}function S(e){a.add(e)}function E(t){var n,l=f||t._index>0&&t._index<p-1;return"round"===(l?r:s)?w(t._point,m):(a=new j({internal:!0,closed:!0}),l?t.isSmooth()||j._addBevelJoin(t,r,b,o,null,i,S,!0):"square"===s&&j._addSquareCap(t,s,b,null,i,S,!0),a.isEmpty()?void 0:a.contains(e)||(n=a.getNearestLocation(e))&&w(n.getPoint(),g))}if(null!==b&&(b>0?(r=h.getStrokeJoin(),s=h.getStrokeCap(),o=h.getMiterLimit(),m=m.add(j._getStrokePadding(b,i))):r=s="round"),!t.ends||t.segments||f){if(t.segments||t.handles)for(var T=0;T<p;T++)if(u=C(d[T]))return u}else if(u=C(d[0],!0)||C(d[p-1],!0))return u;if(null!==b){if(l=this.getNearestLocation(e)){var M=l.getTime();0===M||1===M&&p>1?E(l.getSegment())||(l=null):w(l.getPoint(),m)||(l=null)}if(!l&&"miter"===r&&p>1)for(T=0;T<p;T++){var I=d[T];if(e.getDistance(I._point)<=o*b&&E(I)){l=I.getLocation();break}}}return!l&&y&&this._contains(e)||l&&!v&&!_?new P("fill",this):l?new P(v?"stroke":"curve",this,{location:l,point:l.getPoint()}):null}},c.each(N._evaluateMethods,function(e){this[e+"At"]=function(t){var n=this.getLocationAt(t);return n&&n[e]()}},{beans:!1,getLocationOf:function(){for(var e=v.read(arguments),t=this.getCurves(),n=0,i=t.length;n<i;n++){var r=t[n].getLocationOf(e);if(r)return r}return null},getOffsetOf:function(){var e=this.getLocationOf.apply(this,arguments);return e?e.getOffset():null},getLocationAt:function(e){if("number"==typeof e){for(var t=this.getCurves(),n=0,i=0,r=t.length;i<r;i++){var s=n,o=t[i];if((n+=o.getLength())>e)return o.getLocationAt(e-s)}if(t.length>0&&e<=this.getLength())return new F(t[t.length-1],1)}else if(e&&e.getPath&&e.getPath()===this)return e;return null},getOffsetsWithTangent:function(){var e=v.read(arguments);if(e.isZero())return[];for(var t=[],n=0,i=this.getCurves(),r=0,s=i.length;r<s;r++){for(var o=i[r],a=o.getTimesWithTangent(e),l=0,u=a.length;l<u;l++){var c=n+o.getOffsetAtTime(a[l]);t.indexOf(c)<0&&t.push(c)}n+=o.length}return t}}),new function(){function e(e,t,n){var i,r,s,o,a,l,u,c,h=t._segments,d=h.length,p=new Array(6),f=!0;function g(t){if(n)t._transformCoordinates(n,p),i=p[0],r=p[1];else{var h=t._point;i=h._x,r=h._y}var d;f?(e.moveTo(i,r),f=!1):(n?(a=p[2],l=p[3]):(a=i+(d=t._handleIn)._x,l=r+d._y),a===i&&l===r&&u===s&&c===o?e.lineTo(i,r):e.bezierCurveTo(u,c,a,l,i,r)),s=i,o=r,n?(u=p[4],c=p[5]):(u=s+(d=t._handleOut)._x,c=o+d._y)}for(var m=0;m<d;m++)g(h[m]);t._closed&&d>0&&g(h[0])}return{_draw:function(t,n,i,r){var s=n.dontStart,o=n.dontFinish||n.clip,a=this.getStyle(),l=a.hasFill(),u=a.hasStroke(),c=a.getDashArray(),h=!he.support.nativeDash&&u&&c&&c.length;function d(e){return c[(e%h+h)%h]}if(s||t.beginPath(),(l||u&&!h||o)&&(e(t,this,r),this._closed&&t.closePath()),!o&&(l||u)&&(this._setStyles(t,n,i),l&&(t.fill(a.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),u)){if(h){s||t.beginPath();var p,f=new z(this,.25,32,!1,r),g=f.length,m=-a.getDashOffset(),v=0;for(m%=g;m>0;)m-=d(v--)+d(v--);for(;m<g;)p=m+d(v++),(m>0||p>0)&&f.drawPart(t,Math.max(m,0),Math.max(p,0)),m=p+d(v++)}t.stroke()}},_drawSelected:function(t,n){t.beginPath(),e(t,this,n),t.stroke(),function(e,t,n,i){var r,s,o=i/2,a=new Array(6);function l(t){var n=a[t],i=a[t+1];r==n&&s==i||(e.beginPath(),e.moveTo(r,s),e.lineTo(n,i),e.stroke(),e.beginPath(),e.arc(n,i,o,0,2*Math.PI,!0),e.fill())}for(var u=0,c=t.length;u<c;u++){var h=t[u],d=h._selection;if(h._transformCoordinates(n,a),r=a[0],s=a[1],2&d&&l(2),4&d&&l(4),e.fillRect(r-o,s-o,i,i),!(1&d)){var p=e.fillStyle;e.fillStyle="#ffffff",e.fillRect(r-o+1,s-o+1,i-2,i-2),e.fillStyle=p}}}(t,this._segments,n,he.settings.handleSize)}}},new function(){function e(e){var t=e._segments;if(!t.length)throw new Error("Use a moveTo() command first");return t[t.length-1]}return{moveTo:function(){var e=this._segments;1===e.length&&this.removeSegment(0),e.length||this._add([new R(v.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new R(v.read(arguments))])},cubicCurveTo:function(){var t=v.read(arguments),n=v.read(arguments),i=v.read(arguments),r=e(this);r.setHandleOut(t.subtract(r._point)),this._add([new R(i,n.subtract(i))])},quadraticCurveTo:function(){var t=v.read(arguments),n=v.read(arguments),i=e(this)._point;this.cubicCurveTo(t.add(i.subtract(t).multiply(1/3)),t.add(n.subtract(t).multiply(1/3)),n)},curveTo:function(){var t=v.read(arguments),n=v.read(arguments),i=c.pick(c.read(arguments),.5),r=1-i,s=e(this)._point,o=t.subtract(s.multiply(r*r)).subtract(n.multiply(i*i)).divide(2*i*r);if(o.isNaN())throw new Error("Cannot put a curve through points with parameter = "+i);this.quadraticCurveTo(o,n)},arcTo:function(){var t,n,i,r,s=Math.abs,o=Math.sqrt,a=e(this),l=a._point,u=v.read(arguments),h=c.peek(arguments);if("boolean"==typeof(y=c.pick(h,!0)))var d=(w=l.add(u).divide(2)).add(w.subtract(l).rotate(y?-90:90));else if(c.remain(arguments)<=2)d=u,u=v.read(arguments);else{var p=_.read(arguments),f=g.isZero;if(f(p.width)||f(p.height))return this.lineTo(u);var m=c.read(arguments),y=!!c.read(arguments),b=!!c.read(arguments),w=l.add(u).divide(2),x=($=l.subtract(w).rotate(-m)).x,E=$.y,T=s(p.width),M=s(p.height),I=T*T,O=M*M,A=x*x,D=E*E,k=o(A/I+D/O);if(k>1&&(I=(T*=k)*T,O=(M*=k)*M),s(k=(I*O-I*D-O*A)/(I*D+O*A))<1e-12&&(k=0),k<0)throw new Error("Cannot create an arc with the given arguments");t=new v(T*E/M,-M*x/T).multiply((b===y?-1:1)*o(k)).rotate(m).add(w),n=(i=(r=(new C).translate(t).rotate(m).scale(T,M))._inverseTransform(l)).getDirectedAngle(r._inverseTransform(u)),!y&&n>0?n-=360:y&&n<0&&(n+=360)}if(d){var P=new S(l.add(d).divide(2),d.subtract(l).rotate(90),!0),L=new S(d.add(u).divide(2),u.subtract(d).rotate(90),!0),N=new S(l,u),F=N.getSide(d);if(!(t=P.intersect(L,!0))){if(!F)return this.lineTo(u);throw new Error("Cannot create an arc with the given arguments")}n=(i=l.subtract(t)).getDirectedAngle(u.subtract(t));var V=N.getSide(t,!0);0===V?n=F*s(n):F===V&&(n+=n<0?360:-360)}for(var j=s(n),B=j>=360?4:Math.ceil((j-1e-7)/90),z=n/B,H=z*Math.PI/360,U=4/3*Math.sin(H)/(1+Math.cos(H)),G=[],W=0;W<=B;W++){var $=u,q=null;if(W<B&&(q=i.rotate(90).multiply(U),r?($=r._transformPoint(i),q=r._transformPoint(i.add(q)).subtract($)):$=t.add(i)),W){var Y=i.rotate(-90).multiply(U);r&&(Y=r._transformPoint(i.add(Y)).subtract($)),G.push(new R($,Y,q))}else a.setHandleOut(q);i=i.rotate(z)}this._add(G)},lineBy:function(){var t=v.read(arguments),n=e(this)._point;this.lineTo(n.add(t))},curveBy:function(){var t=v.read(arguments),n=v.read(arguments),i=c.read(arguments),r=e(this)._point;this.curveTo(r.add(t),r.add(n),i)},cubicCurveBy:function(){var t=v.read(arguments),n=v.read(arguments),i=v.read(arguments),r=e(this)._point;this.cubicCurveTo(r.add(t),r.add(n),r.add(i))},quadraticCurveBy:function(){var t=v.read(arguments),n=v.read(arguments),i=e(this)._point;this.quadraticCurveTo(i.add(t),i.add(n))},arcBy:function(){var t=e(this)._point,n=t.add(v.read(arguments)),i=c.pick(c.peek(arguments),!0);this.arcTo(n,"boolean"==typeof i?i:t.add(v.read(arguments)))},closePath:function(e){this.setClosed(!0),this.join(this,e)}}},{_getBounds:function(e,t){return j[t.handle?"getHandleBounds":t.stroke?"getStrokeBounds":"getBounds"](this._segments,this._closed,this,e,t)},statics:{getBounds:function(e,t,n,i,r,s){var o=e[0];if(!o)return new w;var a=new Array(6),l=o._transformCoordinates(i,new Array(6)),u=l.slice(0,2),c=u.slice(),h=new Array(2);function d(e){e._transformCoordinates(i,a);for(var t=0;t<2;t++)N._addBounds(l[t],l[t+4],a[t+2],a[t],t,s?s[t]:0,u,c,h);var n=l;l=a,a=n}for(var p=1,f=e.length;p<f;p++)d(e[p]);return t&&d(o),new w(u[0],u[1],c[0]-u[0],c[1]-u[1])},getStrokeBounds:function(e,t,n,i,r){var s=n.getStyle(),o=s.hasStroke(),a=s.getStrokeWidth(),l=o&&n._getStrokeMatrix(i,r),u=o&&j._getStrokePadding(a,l),c=j.getBounds(e,t,n,i,r,u);if(!o)return c;var h=a/2,d=s.getStrokeJoin(),p=s.getStrokeCap(),f=s.getMiterLimit(),g=new w(new _(u));function m(e){c=c.include(e)}function v(e){c=c.unite(g.setCenter(e._point.transform(i)))}function y(e,t){"round"===t||e.isSmooth()?v(e):j._addBevelJoin(e,t,h,f,i,l,m)}function b(e,t){"round"===t?v(e):j._addSquareCap(e,t,h,i,l,m)}for(var x=e.length-(t?0:1),C=1;C<x;C++)y(e[C],d);return t?y(e[0],d):x>0&&(b(e[0],p),b(e[e.length-1],p)),c},_getStrokePadding:function(e,t){if(!t)return[e,e];var n=new v(e,0).transform(t),i=new v(0,e).transform(t),r=n.getAngleInRadians(),s=n.getLength(),o=i.getLength(),a=Math.sin(r),l=Math.cos(r),u=Math.tan(r),c=Math.atan2(o*u,s),h=Math.atan2(o,u*s);return[Math.abs(s*Math.cos(c)*l+o*Math.sin(c)*a),Math.abs(o*Math.sin(h)*l+s*Math.cos(h)*a)]},_addBevelJoin:function(e,t,n,i,r,s,o,a){var l=e.getCurve(),u=l.getPrevious(),c=l.getPoint1().transform(r),h=u.getNormalAtTime(1).multiply(n).transform(s),d=l.getNormalAtTime(0).multiply(n).transform(s);if(h.getDirectedAngle(d)<0&&(h=h.negate(),d=d.negate()),a&&o(c),o(c.add(h)),"miter"===t){var p=new S(c.add(h),new v(-h.y,h.x),!0).intersect(new S(c.add(d),new v(-d.y,d.x),!0),!0);p&&c.getDistance(p)<=i*n&&o(p)}o(c.add(d))},_addSquareCap:function(e,t,n,i,r,s,o){var a=e._point.transform(i),l=e.getLocation(),u=l.getNormal().multiply(0===l.getTime()?n:-n).transform(r);"square"===t&&(o&&(s(a.subtract(u)),s(a.add(u))),a=a.add(u.rotate(-90))),s(a.add(u)),s(a.subtract(u))},getHandleBounds:function(e,t,n,i,r){var s,o,a=n.getStyle();if(r.stroke&&a.hasStroke()){var l=n._getStrokeMatrix(i,r),u=a.getStrokeWidth()/2,c=u;"miter"===a.getStrokeJoin()&&(c=u*a.getMiterLimit()),"square"===a.getStrokeCap()&&(c=Math.max(c,u*Math.SQRT2)),s=j._getStrokePadding(u,l),o=j._getStrokePadding(c,l)}for(var h=new Array(6),d=1/0,p=-d,f=d,g=p,m=0,v=e.length;m<v;m++){e[m]._transformCoordinates(i,h);for(var y=0;y<6;y+=2){var _=y?s:o,b=_?_[0]:0,x=_?_[1]:0,C=h[y],S=h[y+1],E=C-b,T=C+b,M=S-x,I=S+x;E<d&&(d=E),T>p&&(p=T),M<f&&(f=M),I>g&&(g=I)}}return new w(d,f,p-d,g-f)}}});j.inject({statics:new function(){var e=.5522847498307936,t=[new R([-1,0],[0,e],[0,-e]),new R([0,-1],[-e,0],[e,0]),new R([1,0],[0,-e],[0,e]),new R([0,1],[e,0],[-e,0])];function n(e,t,n){var i=c.getNamed(n),r=new j(i&&0==i.insert&&T.NO_INSERT);return r._add(e),r._closed=t,r.set(i,{insert:!0})}function i(e,i,r){for(var s=new Array(4),o=0;o<4;o++){var a=t[o];s[o]=new R(a._point.multiply(i).add(e),a._handleIn.multiply(i),a._handleOut.multiply(i))}return n(s,!0,r)}return{Line:function(){return n([new R(v.readNamed(arguments,"from")),new R(v.readNamed(arguments,"to"))],!1,arguments)},Circle:function(){var e=v.readNamed(arguments,"center"),t=c.readNamed(arguments,"radius");return i(e,new _(t),arguments)},Rectangle:function(){var t,i=w.readNamed(arguments,"rectangle"),r=_.readNamed(arguments,"radius",0,{readNull:!0}),s=i.getBottomLeft(!0),o=i.getTopLeft(!0),a=i.getTopRight(!0),l=i.getBottomRight(!0);if(!r||r.isZero())t=[new R(s),new R(o),new R(a),new R(l)];else{var u=(r=_.min(r,i.getSize(!0).divide(2))).width,c=r.height,h=u*e,d=c*e;t=[new R(s.add(u,0),null,[-h,0]),new R(s.subtract(0,c),[0,d]),new R(o.add(0,c),null,[0,-d]),new R(o.add(u,0),[-h,0],null),new R(a.subtract(u,0),null,[h,0]),new R(a.add(0,c),[0,-d],null),new R(l.subtract(0,c),null,[0,d]),new R(l.subtract(u,0),[h,0])]}return n(t,!0,arguments)},RoundRectangle:"#Rectangle",Ellipse:function(){var e=O._readEllipse(arguments);return i(e.center,e.radius,arguments)},Oval:"#Ellipse",Arc:function(){var e=v.readNamed(arguments,"from"),t=v.readNamed(arguments,"through"),n=v.readNamed(arguments,"to"),i=c.getNamed(arguments),r=new j(i&&0==i.insert&&T.NO_INSERT);return r.moveTo(e),r.arcTo(t,n),r.set(i)},RegularPolygon:function(){for(var e=v.readNamed(arguments,"center"),t=c.readNamed(arguments,"sides"),i=c.readNamed(arguments,"radius"),r=360/t,s=t%3==0,o=new v(0,s?-i:i),a=s?-1:.5,l=new Array(t),u=0;u<t;u++)l[u]=new R(e.add(o.rotate((u+a)*r)));return n(l,!0,arguments)},Star:function(){for(var e=v.readNamed(arguments,"center"),t=2*c.readNamed(arguments,"points"),i=c.readNamed(arguments,"radius1"),r=c.readNamed(arguments,"radius2"),s=360/t,o=new v(0,-1),a=new Array(t),l=0;l<t;l++)a[l]=new R(e.add(o.rotate(s*l).multiply(l%2?r:i)));return n(a,!0,arguments)}}}});var B=V.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(e){this._children=[],this._namedChildren={},this._initialize(e)||("string"==typeof e?this.setPathData(e):this.addChildren(Array.isArray(e)?e:arguments))},insertChildren:function e(t,n){var i=n,r=i[0];r&&"number"==typeof r[0]&&(i=[i]);for(var s=n.length-1;s>=0;s--){var o=i[s];i!==n||o instanceof j||(i=c.slice(i)),Array.isArray(o)?i[s]=new j({segments:o,insert:!1}):o instanceof B&&(i.splice.apply(i,[s,1].concat(o.removeChildren())),o.remove())}return e.base.call(this,t,i)},reduce:function e(t){for(var n=this._children,i=n.length-1;i>=0;i--){var r;(r=n[i].reduce(t)).isEmpty()&&r.remove()}return n.length?e.base.call(this):((r=new j(T.NO_INSERT)).copyAttributes(this),r.insertAbove(this),this.remove(),r)},isClosed:function(){for(var e=this._children,t=0,n=e.length;t<n;t++)if(!e[t]._closed)return!1;return!0},setClosed:function(e){for(var t=this._children,n=0,i=t.length;n<i;n++)t[n].setClosed(e)},getFirstSegment:function(){var e=this.getFirstChild();return e&&e.getFirstSegment()},getLastSegment:function(){var e=this.getLastChild();return e&&e.getLastSegment()},getCurves:function(){for(var e=this._children,t=[],n=0,i=e.length;n<i;n++)c.push(t,e[n].getCurves());return t},getFirstCurve:function(){var e=this.getFirstChild();return e&&e.getFirstCurve()},getLastCurve:function(){var e=this.getLastChild();return e&&e.getLastCurve()},getArea:function(){for(var e=this._children,t=0,n=0,i=e.length;n<i;n++)t+=e[n].getArea();return t},getLength:function(){for(var e=this._children,t=0,n=0,i=e.length;n<i;n++)t+=e[n].getLength();return t},getPathData:function(e,t){for(var n=this._children,i=[],r=0,s=n.length;r<s;r++){var o=n[r],a=o._matrix;i.push(o.getPathData(e&&!a.isIdentity()?e.appended(a):e,t))}return i.join("")},_hitTestChildren:function e(t,n,i){return e.base.call(this,t,n.class===j||"path"===n.type?n:c.set({},n,{fill:!1}),i)},_draw:function(e,t,n,i){var r=this._children;if(r.length){t=t.extend({dontStart:!0,dontFinish:!0}),e.beginPath();for(var s=0,o=r.length;s<o;s++)r[s].draw(e,t,i);if(!t.clip){this._setStyles(e,t,n);var a=this._style;a.hasFill()&&(e.fill(a.getFillRule()),e.shadowColor="rgba(0,0,0,0)"),a.hasStroke()&&e.stroke()}}},_drawSelected:function(e,t,n){for(var i=this._children,r=0,s=i.length;r<s;r++){var o=i[r],a=o._matrix;n[o._id]||o._drawSelected(e,a.isIdentity()?t:t.appended(a))}}},new function(){function e(e,t){var n=e._children;if(t&&!n.length)throw new Error("Use a moveTo() command first");return n[n.length-1]}return c.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(t){this[t]=function(){var n=e(this,!0);n[t].apply(n,arguments)}},{moveTo:function(){var t=e(this),n=t&&t.isEmpty()?t:new j(T.NO_INSERT);n!==t&&this.addChild(n),n.moveTo.apply(n,arguments)},moveBy:function(){var t=e(this,!0),n=t&&t.getLastSegment(),i=v.read(arguments);this.moveTo(n?i.add(n._point):i)},closePath:function(t){e(this,!0).closePath(t)}})},c.each(["reverse","flatten","simplify","smooth"],function(e){this[e]=function(t){for(var n,i=this._children,r=0,s=i.length;r<s;r++)n=i[r][e](t)||n;return n}},{}));V.inject(new function(){var e=Math.min,t=Math.max,n=Math.abs,i={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};function r(e,t){var n=e.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);return t?n.resolveCrossings().reorient("nonzero"===n.getFillRule(),!0):n}function s(e,t,n,i,r){var s=new B(T.NO_INSERT);return s.addChildren(e,!0),s=s.reduce({simplify:t}),r&&0==r.insert||s.insertAbove(i&&n.isSibling(i)&&n.getIndex()<i.getIndex()?i:n),s.copyAttributes(n,!0),s}function o(e,t,n,o){if(o&&(0==o.trace||o.stroke)&&/^(subtract|intersect)$/.test(n))return l(e,t,n);var a=r(e,!0),u=t&&e!==t&&r(t,!0),h=i[n];h[n]=!0,u&&(h.subtract||h.exclude)^u.isClockwise()^a.isClockwise()&&u.reverse();var f,g=p(F.expand(a.getCrossings(u))),y=a._children||[a],_=u&&(u._children||[u]),b=[],w=[];function x(e){for(var t=0,n=e.length;t<n;t++){var i=e[t];c.push(b,i._segments),c.push(w,i.getCurves()),i._overlapsOnly=!0}}if(g.length){x(y),_&&x(_);for(var C=0,S=g.length;C<S;C++)m(g[C]._segment,a,u,w,h);for(C=0,S=b.length;C<S;C++){var E=b[C],T=E._intersection;E._winding||m(E,a,u,w,h),T&&T._overlap||(E._path._overlapsOnly=!1)}f=v(b,h)}else f=d(_?y.concat(_):y.slice(),function(e){return!!h[e]});return s(f,!0,e,t,o)}function l(e,t,n){var i=r(e),o=r(t),a=i.getCrossings(o),l="subtract"===n,u="divide"===n,c={},h=[];function d(e){if(!c[e._id]&&(u||o.contains(e.getPointAt(e.getLength()/2))^l))return h.unshift(e),c[e._id]=!0}for(var p=a.length-1;p>=0;p--){var f=a[p].split();f&&(d(f)&&f.getFirstSegment().setHandleIn(0,0),i.getLastSegment().setHandleOut(0,0))}return d(i),s(h,!1,e,t)}function u(e,t){for(var n=e;n;){if(n===t)return;n=n._previous}for(;e._next&&e._next!==t;)e=e._next;if(!e._next){for(;t._previous;)t=t._previous;e._next=t,t._previous=e}}function h(e){for(var t=e.length-1;t>=0;t--)e[t].clearHandles()}function d(e,t,i){var r=e&&e.length;if(r){var s=c.each(e,function(e,t){this[e._id]={container:null,winding:e.isClockwise()?1:-1,index:t}},{}),o=e.slice().sort(function(e,t){return n(t.getArea())-n(e.getArea())});null==i&&(i=o[0].isClockwise());for(var a=0;a<r;a++){for(var l=o[a],u=s[l._id],h=l.getInteriorPoint(),d=0,p=a-1;p>=0;p--){var f=o[p];if(f.contains(h)){var g=s[f._id];u.winding+=d=g.winding,u.container=g.exclude?g.container:f;break}}if(t(u.winding)===t(d))u.exclude=!0,e[u.index]=null;else{var m=u.container;l.setClockwise(m?!m.isClockwise():i)}}}return e}function p(e,t,n){var i,r,s,o=t&&[],a=!1,l=n||[],c=n&&{};function d(e){return e._path._id+"."+e._segment1._index}for(var p=(n&&n.length)-1;p>=0;p--)(f=n[p])._path&&(c[d(f)]=!0);for(p=e.length-1;p>=0;p--){var f,g,m=e[p],v=m._time,y=v,_=t&&!t(m);if((f=m._curve)&&(f!==r?(a=!f.hasHandles()||c&&c[d(f)],i=[],s=null,r=f):s>=1e-8&&(v/=s)),_)i&&i.push(m);else{if(t&&o.unshift(m),s=y,v<1e-8)g=f._segment1;else if(v>1-1e-8)g=f._segment2;else{var b=f.divideAtTime(v,!0);a&&l.push(f,b),g=b._segment1;for(var w=i.length-1;w>=0;w--){var x=i[w];x._time=(x._time-v)/(1-v)}}m._setSegment(g);var C=g._intersection,S=m._intersection;if(C){u(C,S);for(var E=C;E;)u(E._intersection,C),E=E._next}else g._intersection=S}}return n||h(l),o||e}function f(i,r,s,o,a){var l,u,c=s?1:0,h=1^c,d=[i.x,i.y],p=d[c],g=d[h],m=1e-6,v=p-1e-9,y=p+1e-9,_=0,b=0,w=0,x=0,C=!1,S=!1,E=1,T=[];function M(n){var u=n[h+0],d=n[h+6];if(!(g<e(u,d)||g>t(u,d))){var _=n[c+0],b=n[c+2],S=n[c+4],M=n[c+6];if(u!==d){var I=g===u?0:g===d?1:v>t(_,b,S,M)||y<e(_,b,S,M)?1:N.solveCubic(n,h,g,T,0,1)>0?T[0]:1,O=0===I?_:1===I?M:N.getPoint(n,I)[s?"y":"x"],A=u>d?1:-1,D=l[c+6];return g!==u?(O<v?w+=A:O>y?x+=A:C=!0,O>p-m&&O<p+m&&(E/=2)):(A!==(l[h]>l[h+6]?1:-1)?_<v?w+=A:_>y&&(x+=A):_!=D&&(D<y&&O>y?(x+=A,C=!0):D>v&&O<v&&(w+=A,C=!0)),E=0),l=n,!a&&O>v&&O<y&&0===N.getTangent(n,I)[s?"x":"y"]&&f(i,r,!s,o,!0)}(_<y&&M>v||M<y&&_>v)&&(C=!0)}}function I(n){var i=n[h+0],r=n[h+2],o=n[h+4],a=n[h+6];if(g<=t(i,r,o,a)&&g>=e(i,r,o,a))for(var l,u=n[c+0],d=n[c+2],p=n[c+4],f=n[c+6],m=v>t(u,d,p,f)||y<e(u,d,p,f)?[n]:N.getMonoCurves(n,s),_=0,b=m.length;_<b;_++)if(l=M(m[_]))return l}for(var O=0,A=r.length;O<A;O++){var D,k=r[O],P=k._path,R=k.getValues();if(!(O&&r[O-1]._path===P||(l=null,P._closed||(u=N.getValues(P.getLastCurve().getSegment2(),k.getSegment1(),null,!o))[h]!==u[h+6]&&(l=u),l))){l=R;for(var L=P.getLastCurve();L&&L!==k;){var F=L.getValues();if(F[h]!==F[h+6]){l=F;break}L=L.getPrevious()}}if(D=I(R))return D;if(O+1===A||r[O+1]._path!==P){if(u&&(D=I(u)))return D;!C||w||x||(w=x=P.isClockwise(o)^s?1:-1),_+=w,b+=x,w=x=0,C&&(S=!0,C=!1),u=null}}return _=n(_),b=n(b),{winding:t(_,b),windingL:_,windingR:b,quality:E,onPath:S}}function m(e,t,i,r,s){var o=[],a=e,l=0;do{var u=(_=e.getCurve()).getLength();o.push({segment:e,curve:_,length:u}),l+=u,e=e.getNext()}while(e&&!e._intersection&&e!==a);for(var c=[.5,.25,.75],h={winding:0,quality:-1},d=0;d<c.length&&h.quality<.5;d++){u=l*c[d];for(var p=0,m=o.length;p<m;p++){var v=o[p],y=v.length;if(u<=y){var _,b=(_=v.curve)._path,w=b._parent,x=w instanceof B?w:b,C=g.clamp(_.getTimeAt(u),1e-8,1-1e-8),S=_.getPointAtTime(C),E=n(_.getTangentAtTime(C).y)<Math.SQRT1_2,T=null;if(s.subtract&&i){var M=x===t?i._getWinding(S,E,!0):t._getWinding(S,E,!0);if(x===t&&M.winding||x===i&&!M.winding){if(M.quality<1)continue;T={winding:0,quality:1}}}(T=T||f(S,r,E,!0)).quality>h.quality&&(h=T);break}u-=y}}for(p=o.length-1;p>=0;p--)o[p].segment._winding=h}function v(e,t){var n,i=[];function r(e){var n;return!(!e||e._visited||t&&(!t[(n=e._winding||{}).winding]||t.unite&&2===n.winding&&n.windingL&&n.windingR))}function s(e){if(e)for(var t=0,i=n.length;t<i;t++)if(e===n[t])return!0;return!1}function o(e){for(var t=e._segments,n=0,i=t.length;n<i;n++)t[n]._visited=!0}function a(e,t){var i=e._intersection,o=i,a=[];function l(i,o){for(;i&&i!==o;){var l=i._segment,u=l&&l._path;if(u){var c=l.getNext()||u.getFirstSegment(),h=c._intersection;l!==e&&(s(l)||s(c)||c&&r(l)&&(r(c)||h&&r(h._segment)))&&a.push(l),t&&n.push(l)}i=i._next}}if(t&&(n=[e]),i){for(l(i);i&&i._prev;)i=i._prev;l(i,o)}return a}e.sort(function(e,t){var n=e._intersection,i=t._intersection,r=!(!n||!n._overlap),s=e._path,o=t._path;return r^!(!i||!i._overlap)?r?1:-1:!n^!i?n?1:-1:s!==o?s._id-o._id:e._index-t._index});for(var l=0,u=e.length;l<u;l++){var c,h,d,p=e[l],f=r(p),g=null,m=!1,v=!0,y=[];if(f&&p._path._overlapsOnly){var _=p._path,b=p._intersection._segment._path;_.compare(b)&&(_.getArea()&&i.push(_.clone(!1)),o(_),o(b),f=!1)}for(;f;){var w=!g,x=a(p,w),C=x.shift(),S=!(m=!w&&(s(p)||s(C)))&&C;if(w&&(g=new j(T.NO_INSERT),c=null),m){(p.isFirst()||p.isLast())&&(v=p._path._closed),p._visited=!0;break}if(S&&c&&(y.push(c),c=null),c||(S&&x.push(p),c={start:g._segments.length,crossings:x,visited:h=[],handleIn:d}),S&&(p=C),!r(p)){g.removeSegments(c.start);for(var E=0,M=h.length;E<M;E++)h[E]._visited=!1;h.length=0;do{(p=c&&c.crossings.shift())&&p._path||(p=null,(c=y.pop())&&(h=c.visited,d=c.handleIn))}while(c&&!r(p));if(!p)break}var I=p.getNext();g.add(new R(p._point,d,I&&p._handleOut)),p._visited=!0,h.push(p),p=I||p._path.getFirstSegment(),d=I&&I._handleIn}m&&(v&&(g.getFirstSegment().setHandleIn(d),g.setClosed(v)),0!==g.getArea()&&i.push(g))}return i}return{_getWinding:function(e,t,n){return f(e,this.getCurves(),t,n)},unite:function(e,t){return o(this,e,"unite",t)},intersect:function(e,t){return o(this,e,"intersect",t)},subtract:function(e,t){return o(this,e,"subtract",t)},exclude:function(e,t){return o(this,e,"exclude",t)},divide:function(e,t){return t&&(0==t.trace||t.stroke)?l(this,e,"divide"):s([this.subtract(e,t),this.intersect(e,t)],!0,this,e,t)},resolveCrossings:function(){var e=this._children,t=e||[this];function n(e,t){var n=e&&e._intersection;return n&&n._overlap&&n._path===t}var i=!1,r=!1,s=this.getIntersections(null,function(e){return e.hasOverlap()&&(i=!0)||e.isCrossing()&&(r=!0)}),o=i&&r&&[];if(s=F.expand(s),i)for(var a=p(s,function(e){return e.hasOverlap()},o),l=a.length-1;l>=0;l--){var u=a[l],d=u._path,f=u._segment,g=f.getPrevious(),m=f.getNext();n(g,d)&&n(m,d)&&(f.remove(),g._handleOut._set(0,0),m._handleIn._set(0,0),g===f||g.getCurve().hasLength()||(m._handleIn.set(g._handleIn),g.remove()))}r&&(p(s,i&&function(e){var t=e.getCurve(),n=e.getSegment(),i=e._intersection,r=i._curve,s=i._segment;if(t&&r&&t._path&&r._path)return!0;n&&(n._intersection=null),s&&(s._intersection=null)},o),o&&h(o),t=v(c.each(t,function(e){c.push(this,e._segments)},[])));var y,_=t.length;return _>1&&e?(t!==e&&this.setChildren(t),y=this):1!==_||e||(t[0]!==this&&this.setSegments(t[0].removeSegments()),y=this),y||((y=new B(T.NO_INSERT)).addChildren(t),(y=y.reduce()).copyAttributes(this),this.replaceWith(y)),y},reorient:function(e,t){var n=this._children;return n&&n.length?this.setChildren(d(this.removeChildren(),function(t){return!!(e?t:1&t)},t)):t!==a&&this.setClockwise(t),this},getInteriorPoint:function(){var n=this.getBounds().getCenter(!0);if(!this.contains(n)){for(var i=this.getCurves(),r=n.y,s=[],o=[],a=0,l=i.length;a<l;a++){var u=i[a].getValues(),c=u[1],h=u[3],d=u[5],p=u[7];if(r>=e(c,h,d,p)&&r<=t(c,h,d,p))for(var f=N.getMonoCurves(u),g=0,m=f.length;g<m;g++){var v=f[g],y=v[1],_=v[7];if(y!==_&&(r>=y&&r<=_||r>=_&&r<=y)){var b=r===y?v[0]:r===_?v[6]:1===N.solveCubic(v,1,r,o,0,1)?N.getPoint(v,o[0]).x:(v[0]+v[6])/2;s.push(b)}}}s.length>1&&(s.sort(function(e,t){return e-t}),n.x=(s[0]+s[1])/2)}return n}}});var z=c.extend({_class:"PathFlattener",initialize:function(e,t,n,i,r){var s,o=[],a=[],l=0,u=1/(n||32),c=e._segments,h=c[0];function d(e,n){var s=N.getValues(e,n,r);o.push(s),function e(n,r,s,o){if(!(o-s>u)||i&&N.isStraight(n)||N.isFlatEnough(n,t||.25)){var c=n[6]-n[0],h=n[7]-n[1],d=Math.sqrt(c*c+h*h);d>0&&a.push({offset:l+=d,curve:n,index:r,time:o})}else{var p=N.subdivide(n,.5),f=(s+o)/2;e(p[0],r,s,f),e(p[1],r,f,o)}}(s,e._index,0,1)}for(var p=1,f=c.length;p<f;p++)d(h,s=c[p]),h=s;e._closed&&d(s||h,c[0]),this.curves=o,this.parts=a,this.length=l,this.index=0},_get:function(e){for(var t,n=this.parts,i=n.length,r=this.index;t=r,r&&!(n[--r].offset<e););for(;t<i;t++){var s=n[t];if(s.offset>=e){this.index=t;var o=n[t-1],a=o&&o.index===s.index?o.time:0,l=o?o.offset:0;return{index:s.index,time:a+(s.time-a)*(e-l)/(s.offset-l)}}}return{index:n[i-1].index,time:1}},drawPart:function(e,t,n){for(var i=this._get(t),r=this._get(n),s=i.index,o=r.index;s<=o;s++){var a=N.getPart(this.curves[s],s===i.index?i.time:0,s===r.index?r.time:1);s===i.index&&e.moveTo(a[0],a[1]),e.bezierCurveTo.apply(e,a.slice(2))}}},c.each(N._evaluateMethods,function(e){this[e+"At"]=function(t){var n=this._get(t);return N[e](this.curves[n.index],n.time)}},{})),H=c.extend({initialize:function(e){for(var t,n=this.points=[],i=e._segments,r=e._closed,s=0,o=i.length;s<o;s++){var a=i[s].point;t&&t.equals(a)||n.push(t=a.clone())}r&&(n.unshift(n[n.length-1]),n.push(n[1])),this.closed=r},fit:function(e){var t=this.points,n=t.length,i=null;return n>0&&(i=[new R(t[0])],n>1&&(this.fitCubic(i,e,0,n-1,t[1].subtract(t[0]),t[n-2].subtract(t[n-1])),this.closed&&(i.shift(),i.pop()))),i},fitCubic:function(e,t,n,i,r,s){var o=this.points;if(i-n!=1){for(var a,l=this.chordLengthParameterize(n,i),u=Math.max(t,t*t),c=!0,h=0;h<=4;h++){var d=this.generateBezier(n,i,l,r,s),p=this.findMaxError(n,i,d,l);if(p.error<t&&c)return void this.addCurve(e,d);if(a=p.index,p.error>=u)break;c=this.reparameterize(n,i,l,d),u=p.error}var f=o[a-1].subtract(o[a+1]);this.fitCubic(e,t,n,a,r,f),this.fitCubic(e,t,a,i,f.negate(),s)}else{var g=o[n],m=o[i],v=g.getDistance(m)/3;this.addCurve(e,[g,g.add(r.normalize(v)),m.add(s.normalize(v)),m])}},addCurve:function(e,t){e[e.length-1].setHandleOut(t[1].subtract(t[0])),e.push(new R(t[3],t[2].subtract(t[3])))},generateBezier:function(e,t,n,i,r){for(var s=Math.abs,o=this.points,a=o[e],l=o[t],u=[[0,0],[0,0]],c=[0,0],h=0,d=t-e+1;h<d;h++){var p=n[h],f=1-p,g=3*p*f,m=f*f*f,v=g*f,y=g*p,_=p*p*p,b=i.normalize(v),w=r.normalize(y),x=o[e+h].subtract(a.multiply(m+v)).subtract(l.multiply(y+_));u[0][0]+=b.dot(b),u[0][1]+=b.dot(w),u[1][0]=u[0][1],u[1][1]+=w.dot(w),c[0]+=b.dot(x),c[1]+=w.dot(x)}var C,S,E=u[0][0]*u[1][1]-u[1][0]*u[0][1];if(s(E)>1e-12)C=(c[0]*u[1][1]-c[1]*u[0][1])/E,S=(u[0][0]*c[1]-u[1][0]*c[0])/E;else{var T=u[0][0]+u[0][1],M=u[1][0]+u[1][1];C=S=s(T)>1e-12?c[0]/T:s(M)>1e-12?c[1]/M:0}var I,O,A=l.getDistance(a),D=1e-12*A;if(C<D||S<D)C=S=A/3;else{var k=l.subtract(a);I=i.normalize(C),O=r.normalize(S),I.dot(k)-O.dot(k)>A*A&&(C=S=A/3,I=O=null)}return[a,a.add(I||i.normalize(C)),l.add(O||r.normalize(S)),l]},reparameterize:function(e,t,n,i){for(var r=e;r<=t;r++)n[r-e]=this.findRoot(i,this.points[r],n[r-e]);r=1;for(var s=n.length;r<s;r++)if(n[r]<=n[r-1])return!1;return!0},findRoot:function(e,t,n){for(var i=[],r=[],s=0;s<=2;s++)i[s]=e[s+1].subtract(e[s]).multiply(3);for(s=0;s<=1;s++)r[s]=i[s+1].subtract(i[s]).multiply(2);var o=this.evaluate(3,e,n),a=this.evaluate(2,i,n),l=this.evaluate(1,r,n),u=o.subtract(t),c=a.dot(a)+u.dot(l);return g.isZero(c)?n:n-u.dot(a)/c},evaluate:function(e,t,n){for(var i=t.slice(),r=1;r<=e;r++)for(var s=0;s<=e-r;s++)i[s]=i[s].multiply(1-n).add(i[s+1].multiply(n));return i[0]},chordLengthParameterize:function(e,t){for(var n=[0],i=e+1;i<=t;i++)n[i-e]=n[i-e-1]+this.points[i].getDistance(this.points[i-1]);i=1;for(var r=t-e;i<=r;i++)n[i]/=n[r];return n},findMaxError:function(e,t,n,i){for(var r=Math.floor((t-e+1)/2),s=0,o=e+1;o<t;o++){var a=this.evaluate(3,n,i[o-e]).subtract(this.points[o]),l=a.x*a.x+a.y*a.y;l>=s&&(s=l,r=o)}return{error:s,index:r}}}),U=T.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(e){this._content="",this._lines=[];var t=e&&c.isPlainObject(e)&&e.x===a&&e.y===a;this._initialize(t&&e,!t&&v.read(arguments))},_equals:function(e){return this._content===e._content},copyContent:function(e){this.setContent(e._content)},getContent:function(){return this._content},setContent:function(e){this._content=""+e,this._lines=this._content.split(/\r\n|\n|\r/gm),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),G=U.extend({_class:"PointText",initialize:function(){U.apply(this,arguments)},getPoint:function(){var e=this._matrix.getTranslation();return new y(e.x,e.y,this,"setPoint")},setPoint:function(){var e=v.read(arguments);this.translate(e.subtract(this._matrix.getTranslation()))},_draw:function(e,t,n){if(this._content){this._setStyles(e,t,n);var i=this._lines,r=this._style,s=r.hasFill(),o=r.hasStroke(),a=r.getLeading(),l=e.shadowColor;e.font=r.getFontStyle(),e.textAlign=r.getJustification();for(var u=0,c=i.length;u<c;u++){e.shadowColor=l;var h=i[u];s&&(e.fillText(h,0,0),e.shadowColor="rgba(0,0,0,0)"),o&&e.strokeText(h,0,0),e.translate(0,a)}}},_getBounds:function(e,t){var n=this._style,i=this._lines,r=i.length,s=n.getJustification(),o=n.getLeading(),a=this.getView().getTextWidth(n.getFontStyle(),i),l=0;"left"!==s&&(l-=a/("center"===s?2:1));var u=new w(l,r?-.75*o:0,a,r*o);return e?e._transformBounds(u,u):u}}),W=c.extend(new function(){var e,t={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},n={},i={transparent:[0,0,0,0]},r=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],s={"rgb-hsb":function(e,t,n){var i=Math.max(e,t,n),r=i-Math.min(e,t,n);return[0===r?0:60*(i==e?(t-n)/r+(t<n?6:0):i==t?(n-e)/r+2:(e-t)/r+4),0===i?0:r/i,i]},"hsb-rgb":function(e,t,n){var i,s=(e=(e/60%6+6)%6)-(i=Math.floor(e)),o=[n,n*(1-t),n*(1-t*s),n*(1-t*(1-s))];return[o[(i=r[i])[0]],o[i[1]],o[i[2]]]},"rgb-hsl":function(e,t,n){var i=Math.max(e,t,n),r=Math.min(e,t,n),s=i-r,o=0===s,a=(i+r)/2;return[o?0:60*(i==e?(t-n)/s+(t<n?6:0):i==t?(n-e)/s+2:(e-t)/s+4),o?0:a<.5?s/(i+r):s/(2-i-r),a]},"hsl-rgb":function(e,t,n){if(0===t)return[n,n,n];for(var i=[(e=(e/360%1+1)%1)+1/3,e,e-1/3],r=n<.5?n*(1+t):n+t-n*t,s=2*n-r,o=[],a=0;a<3;a++){var l=i[a];l<0&&(l+=1),l>1&&(l-=1),o[a]=6*l<1?s+6*(r-s)*l:2*l<1?r:3*l<2?s+(r-s)*(2/3-l)*6:s}return o},"rgb-gray":function(e,t,n){return[.2989*e+.587*t+.114*n]},"gray-rgb":function(e){return[e,e,e]},"gray-hsb":function(e){return[0,0,e]},"gray-hsl":function(e){return[0,0,e]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return c.each(t,function(e,i){n[i]=[],c.each(e,function(e,r){var s=c.capitalize(e),o=/^(hue|saturation)$/.test(e),a=n[i][r]="gradient"===i?"gradient"===e?function(e){var t=this._components[0];return t!==(e=$.read(Array.isArray(e)?e:arguments,0,{readNull:!0}))&&(t&&t._removeOwner(this),e&&e._addOwner(this)),e}:function(){return v.read(arguments,0,{readNull:"highlight"===e,clone:!0})}:function(e){return null==e||isNaN(e)?0:+e};this["get"+s]=function(){return this._type===i||o&&/^hs[bl]$/.test(this._type)?this._components[r]:this._convert(i)[r]},this["set"+s]=function(e){this._type===i||o&&/^hs[bl]$/.test(this._type)||(this._components=this._convert(i),this._properties=t[i],this._type=i),this._components[r]=a.call(this,e),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function r(s){var o,a,u,h,d=arguments,p=this.__read,f=0;Array.isArray(s)&&(s=(d=s)[0]);var g=null!=s&&typeof s;if("string"===g&&s in t&&(o=s,s=d[1],Array.isArray(s)?(a=s,u=d[2]):(p&&(f=1),d=c.slice(d,1),g=typeof s)),!a){if(h="number"===g?d:"object"===g&&null!=s.length?s:null){o||(o=h.length>=3?"rgb":"gray");var m=t[o].length;u=h[m],p&&(f+=h===arguments?m+(null!=u?1:0):1),h.length>m&&(h=c.slice(h,0,m))}else if("string"===g){var v=function(t){var n,r=t.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||t.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),s="rgb";if(r){var o=r[4]?4:3;n=new Array(o);for(var a=0;a<o;a++){var u=r[a+1];n[a]=parseInt(1==u.length?u+u:u,16)/255}}else if(r=t.match(/^(rgb|hsl)a?\((.*)\)$/)){s=r[1],n=r[2].split(/[,\s]+/g);for(var c="hsl"===s,h=(a=0,Math.min(n.length,4));a<h;a++){var d=n[a];if(u=parseFloat(d),c)if(0===a){var p=d.match(/([a-z]*)$/)[1];u*={turn:360,rad:180/Math.PI,grad:.9}[p]||1}else a<3&&(u/=100);else a<3&&(u/=255);n[a]=u}}else{var f=i[t];if(!f)if(l){e||((e=ae.getContext(1,1)).globalCompositeOperation="copy"),e.fillStyle="rgba(0,0,0,0)",e.fillStyle=t,e.fillRect(0,0,1,1);var g=e.getImageData(0,0,1,1).data;f=i[t]=[g[0]/255,g[1]/255,g[2]/255]}else f=[0,0,0];n=f.slice()}return[s,n]}(s);o=v[0],4===(a=v[1]).length&&(u=a[3],a.length--)}else if("object"===g)if(s.constructor===r){if(o=s._type,a=s._components.slice(),u=s._alpha,"gradient"===o)for(var y=1,_=a.length;y<_;y++){var b=a[y];b&&(a[y]=b.clone())}}else if(s.constructor===$)o="gradient",h=d;else{var w=t[o="hue"in s?"lightness"in s?"hsl":"hsb":"gradient"in s||"stops"in s||"radial"in s?"gradient":"gray"in s?"gray":"rgb"],x=n[o];for(this._components=a=[],y=0,_=w.length;y<_;y++)null==(C=s[w[y]])&&!y&&"gradient"===o&&"stops"in s&&(C={stops:s.stops,radial:s.radial}),null!=(C=x[y].call(this,C))&&(a[y]=C);u=s.alpha}p&&o&&(f=1)}if(this._type=o||"rgb",!a)for(this._components=a=[],y=0,_=(x=n[this._type]).length;y<_;y++){var C;null!=(C=x[y].call(this,h&&h[y]))&&(a[y]=C)}return this._components=a,this._properties=t[this._type],this._alpha=u,p&&(this.__read=f),this},set:"#initialize",_serialize:function(e,t){var n=this.getComponents();return c.serialize(/^(gray|rgb)$/.test(this._type)?n:[this._type].concat(n),e,!0,t)},_changed:function(){this._canvasStyle=null,this._owner&&this._owner._changed(129)},_convert:function(e){var t;return this._type===e?this._components.slice():(t=s[this._type+"-"+e])?t.apply(this,this._components):s["rgb-"+e].apply(this,s[this._type+"-rgb"].apply(this,this._components))},convert:function(e){return new W(e,this._convert(e),this._alpha)},getType:function(){return this._type},setType:function(e){this._components=this._convert(e),this._properties=t[e],this._type=e},getComponents:function(){var e=this._components.slice();return null!=this._alpha&&e.push(this._alpha),e},getAlpha:function(){return null!=this._alpha?this._alpha:1},setAlpha:function(e){this._alpha=null==e?null:Math.min(Math.max(e,0),1),this._changed()},hasAlpha:function(){return null!=this._alpha},equals:function(e){var t=c.isPlainValue(e,!0)?W.read(arguments):e;return t===this||t&&this._class===t._class&&this._type===t._type&&this.getAlpha()===t.getAlpha()&&c.equals(this._components,t._components)||!1},toString:function(){for(var e=this._properties,t=[],n="gradient"===this._type,i=f.instance,r=0,s=e.length;r<s;r++){var o=this._components[r];null!=o&&t.push(e[r]+": "+(n?o:i.number(o)))}return null!=this._alpha&&t.push("alpha: "+i.number(this._alpha)),"{ "+t.join(", ")+" }"},toCSS:function(e){var t=this._convert("rgb"),n=e||null==this._alpha?1:this._alpha;function i(e){return Math.round(255*(e<0?0:e>1?1:e))}return t=[i(t[0]),i(t[1]),i(t[2])],n<1&&t.push(n<0?0:n),e?"#"+((1<<24)+(t[0]<<16)+(t[1]<<8)+t[2]).toString(16).slice(1):(4==t.length?"rgba(":"rgb(")+t.join(",")+")"},toCanvasStyle:function(e,t){if(this._canvasStyle)return this._canvasStyle;if("gradient"!==this._type)return this._canvasStyle=this.toCSS();var n,i=this._components,r=i[0],s=r._stops,o=i[1],a=i[2],l=i[3],u=t&&t.inverted();if(u&&(o=u._transformPoint(o),a=u._transformPoint(a),l&&(l=u._transformPoint(l))),r._radial){var c=a.getDistance(o);if(l){var h=l.subtract(o);h.getLength()>c&&(l=o.add(h.normalize(c-.1)))}var d=l||o;n=e.createRadialGradient(d.x,d.y,0,o.x,o.y,c)}else n=e.createLinearGradient(o.x,o.y,a.x,a.y);for(var p=0,f=s.length;p<f;p++){var g=s[p],m=g._offset;n.addColorStop(null==m?p/(f-1):m,g._color.toCanvasStyle())}return this._canvasStyle=n},transform:function(e){if("gradient"===this._type){for(var t=this._components,n=1,i=t.length;n<i;n++){var r=t[n];e._transformPoint(r,r,!0)}this._changed()}},statics:{_types:t,random:function(){var e=Math.random;return new W(e(),e(),e())}}})},new function(){return c.each({add:function(e,t){return e+t},subtract:function(e,t){return e-t},multiply:function(e,t){return e*t},divide:function(e,t){return e/t}},function(e,t){this[t]=function(t){t=W.read(arguments);for(var n=this._type,i=this._components,r=t._convert(n),s=0,o=i.length;s<o;s++)r[s]=e(i[s],r[s]);return new W(n,r,null!=this._alpha?e(this._alpha,t.getAlpha()):null)}},{})}),$=c.extend({_class:"Gradient",initialize:function(e,t){this._id=m.get(),e&&c.isPlainObject(e)&&(this.set(e),e=t=null),null==this._stops&&this.setStops(e||["white","black"]),null==this._radial&&this.setRadial("string"==typeof t&&"radial"===t||t||!1)},_serialize:function(e,t){return t.add(this,function(){return c.serialize([this._stops,this._radial],e,!0,t)})},_changed:function(){for(var e=0,t=this._owners&&this._owners.length;e<t;e++)this._owners[e]._changed()},_addOwner:function(e){this._owners||(this._owners=[]),this._owners.push(e)},_removeOwner:function(e){var t=this._owners?this._owners.indexOf(e):-1;-1!=t&&(this._owners.splice(t,1),this._owners.length||(this._owners=a))},clone:function(){for(var e=[],t=0,n=this._stops.length;t<n;t++)e[t]=this._stops[t].clone();return new $(e,this._radial)},getStops:function(){return this._stops},setStops:function(e){if(e.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var t=this._stops;if(t)for(var n=0,i=t.length;n<i;n++)t[n]._owner=a;for(n=0,i=(t=this._stops=q.readList(e,0,{clone:!0})).length;n<i;n++)t[n]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(e){this._radial=e,this._changed()},equals:function(e){if(e===this)return!0;if(e&&this._class===e._class){var t=this._stops,n=e._stops,i=t.length;if(i===n.length){for(var r=0;r<i;r++)if(!t[r].equals(n[r]))return!1;return!0}}return!1}}),q=c.extend({_class:"GradientStop",initialize:function(e,t){var n=e,i=t;"object"==typeof e&&t===a&&(Array.isArray(e)&&"number"!=typeof e[0]?(n=e[0],i=e[1]):("color"in e||"offset"in e||"rampPoint"in e)&&(n=e.color,i=e.offset||e.rampPoint||0)),this.setColor(n),this.setOffset(i)},clone:function(){return new q(this._color.clone(),this._offset)},_serialize:function(e,t){var n=this._color,i=this._offset;return c.serialize(null==i?[n]:[n,i],e,!0,t)},_changed:function(){this._owner&&this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(e){this._offset=e,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){var e=W.read(arguments,0,{clone:!0});e&&(e._owner=this),this._color=e,this._changed()},equals:function(e){return e===this||e&&this._class===e._class&&this._color.equals(e._color)&&this._offset==e._offset||!1}}),Y=c.extend(new function(){var e={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new v,selectedColor:null},t=c.set({},e,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),n=c.set({},t,{fillColor:new W}),i={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},r={beans:!0},s={_class:"Style",beans:!0,initialize:function(i,r,s){this._values={},this._owner=r,this._project=r&&r._project||s||he.project,this._defaults=!r||r instanceof M?t:r instanceof U?n:e,i&&this.set(i)}};return c.each(t,function(e,t){var n=/Color$/.test(t),o="shadowOffset"===t,l=c.capitalize(t),u=i[t],h="set"+l,d="get"+l;s[h]=function(e){var i=this._owner,r=i&&i._children,s=r&&r.length>0&&!(i instanceof B);if(s)for(var o=0,l=r.length;o<l;o++)r[o]._style[h](e);if(("selectedColor"===t||!s)&&t in this._defaults){var c=this._values[t];c!==e&&(n&&(c&&c._owner!==a&&(c._owner=a,c._canvasStyle=null),e&&e.constructor===W&&(e._owner&&(e=e.clone()),e._owner=i)),this._values[t]=e,i&&i._changed(u||129))}},s[d]=function(e){var i,r=this._owner,s=r&&r._children;if(t in this._defaults&&(!s||!s.length||e||r instanceof B))if((i=this._values[t])===a)(i=this._defaults[t])&&i.clone&&(i=i.clone());else{var l=n?W:o?v:null;!l||i&&i.constructor===l||(this._values[t]=i=l.read([i],0,{readNull:!0,clone:!0}),i&&n&&(i._owner=r))}else if(s)for(var u=0,h=s.length;u<h;u++){var p=s[u]._style[d]();if(u){if(!c.equals(i,p))return a}else i=p}return i},r[d]=function(e){return this._style[d](e)},r[h]=function(e){this._style[h](e)}}),c.each({Font:"FontFamily",WindingRule:"FillRule"},function(e,t){var n="get"+t,i="set"+t;s[n]=r[n]="#get"+e,s[i]=r[i]="#set"+e}),T.inject(r),s},{set:function(e){var t=e instanceof Y,n=t?e._values:e;if(n)for(var i in n)if(i in this._defaults){var r=n[i];this[i]=r&&t&&r.clone?r.clone():r}},equals:function(e){function t(e,t,n){var i=e._values,r=t._values,s=t._defaults;for(var o in i){var l=r[o];if(!(n&&o in r||c.equals(i[o],l===a?s[o]:l)))return!1}return!0}return e===this||e&&this._class===e._class&&t(this,e)&&t(e,this,!0)||!1},_dispose:function(){var e;(e=this.getFillColor())&&(e._canvasStyle=null),(e=this.getStrokeColor())&&(e._canvasStyle=null),(e=this.getShadowColor())&&(e._canvasStyle=null)},hasFill:function(){var e=this.getFillColor();return!!e&&e.alpha>0},hasStroke:function(){var e=this.getStrokeColor();return!!e&&e.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var e=this.getShadowColor();return!!e&&e.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var e=this.getFontSize();return this.getFontWeight()+" "+e+(/[a-z]/i.test(e+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function e(){var t=e.base.call(this),n=this.getFontSize();return/pt|em|%|px/.test(n)&&(n=this.getView().getPixelSize(n)),null!=t?t:1.2*n}}),Z=new function(){function e(e,t,n,i){for(var r=["","webkit","moz","Moz","ms","o"],s=t[0].toUpperCase()+t.substring(1),o=0;o<6;o++){var a=r[o],l=a?a+s:t;if(l in e){if(!n)return e[l];e[l]=i;break}}}return{getStyles:function(e){var t=e&&9!==e.nodeType?e.ownerDocument:e,n=t&&t.defaultView;return n&&n.getComputedStyle(e,"")},getBounds:function(e,t){var n,i=e.ownerDocument,r=i.body,s=i.documentElement;try{n=e.getBoundingClientRect()}catch(u){n={left:0,top:0,width:0,height:0}}var o=n.left-(s.clientLeft||r.clientLeft||0),a=n.top-(s.clientTop||r.clientTop||0);if(!t){var l=i.defaultView;o+=l.pageXOffset||s.scrollLeft||r.scrollLeft,a+=l.pageYOffset||s.scrollTop||r.scrollTop}return new w(o,a,n.width,n.height)},getViewportBounds:function(e){var t=e.ownerDocument,n=t.defaultView,i=t.documentElement;return new w(0,0,n.innerWidth||i.clientWidth,n.innerHeight||i.clientHeight)},getOffset:function(e,t){return Z.getBounds(e,t).getPoint()},getSize:function(e){return Z.getBounds(e,!0).getSize()},isInvisible:function(e){return Z.getSize(e).equals(new _(0,0))},isInView:function(e){return!Z.isInvisible(e)&&Z.getViewportBounds(e).intersects(Z.getBounds(e,!0))},isInserted:function(e){return u.body.contains(e)},getPrefixed:function(t,n){return t&&e(t,n)},setPrefixed:function(t,n,i){if("object"==typeof n)for(var r in n)e(t,r,!0,n[r]);else e(t,n,!0,i)}}},K={add:function(e,t){if(e)for(var n in t)for(var i=t[n],r=n.split(/[\s,]+/g),s=0,o=r.length;s<o;s++){var a=r[s];e.addEventListener(a,i,e===u&&("touchstart"===a||"touchmove"===a)&&{passive:!1})}},remove:function(e,t){if(e)for(var n in t)for(var i=t[n],r=n.split(/[\s,]+/g),s=0,o=r.length;s<o;s++)e.removeEventListener(r[s],i,!1)},getPoint:function(e){var t=e.targetTouches?e.targetTouches.length?e.targetTouches[0]:e.changedTouches[0]:e;return new v(t.pageX||t.clientX+u.documentElement.scrollLeft,t.pageY||t.clientY+u.documentElement.scrollTop)},getTarget:function(e){return e.target||e.srcElement},getRelatedTarget:function(e){return e.relatedTarget||e.toElement},getOffset:function(e,t){return K.getPoint(e).subtract(Z.getOffset(t||K.getTarget(e)))}};K.requestAnimationFrame=new function(){var e,t=Z.getPrefixed(l,"requestAnimationFrame"),n=!1,i=[];function r(){var e=i;i=[];for(var s=0,o=e.length;s<o;s++)e[s]();(n=t&&i.length)&&t(r)}return function(s){i.push(s),t?n||(t(r),n=!0):e||(e=setInterval(r,1e3/60))}};var X=c.extend(h,{_class:"View",initialize:function e(t,n){function i(e){return n[e]||parseInt(n.getAttribute(e),10)}function r(){var e=Z.getSize(n);return e.isNaN()||e.isZero()?new _(i("width"),i("height")):e}var s;if(l&&n){if(this._id=n.getAttribute("id"),null==this._id&&n.setAttribute("id",this._id="view-"+e._id++),K.add(n,this._viewEvents),Z.setPrefixed(n.style,{userDrag:"none",userSelect:"none",touchCallout:"none",contentZooming:"none",tapHighlightColor:"rgba(0,0,0,0)"}),d.hasAttribute(n,"resize")){var o=this;K.add(l,this._windowEvents={resize:function(){o.setViewSize(r())}})}if(s=r(),d.hasAttribute(n,"stats")&&"undefined"!=typeof Stats){this._stats=new Stats;var a=this._stats.domElement,c=a.style,h=Z.getOffset(n);c.position="absolute",c.left=h.x+"px",c.top=h.y+"px",u.body.appendChild(a)}}else s=new _(n),n=null;this._project=t,this._scope=t._scope,this._element=n,this._pixelRatio||(this._pixelRatio=l&&l.devicePixelRatio||1),this._setElementSize(s.width,s.height),this._viewSize=s,e._views.push(this),e._viewsById[this._id]=this,(this._matrix=new C)._owner=this,e._focused||(e._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!he.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;X._focused===this&&(X._focused=null),X._views.splice(X._views.indexOf(this),1),delete X._viewsById[this._id];var e=this._project;return e._view===this&&(e._view=null),K.remove(this._element,this._viewEvents),K.remove(l,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:c.each(T._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(e){this[e]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(e){this._autoUpdate=e,e&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var e=this;K.requestAnimationFrame(function(){if(e._requested=!1,e._animate){e.requestUpdate();var t=e._element;Z.getPrefixed(u,"hidden")&&"true"!==d.getAttribute(t,"keepalive")||!Z.isInView(t)||e._handleFrame()}e._autoUpdate&&e.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){he=this._scope;var e=Date.now()/1e3,t=this._last?e-this._last:0;this._last=e,this.emit("frame",new c({delta:t,time:this._time+=t,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(e,t){var n=this._frameItems;t?(n[e._id]={item:e,time:0,count:0},1==++this._frameItemCount&&this.on("frame",this._handleFrameItems)):(delete n[e._id],0==--this._frameItemCount&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(e){for(var t in this._frameItems){var n=this._frameItems[t];n.item.emit("frame",new c(e,{time:n.time+=e.delta,count:n.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=a},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return 72*this._pixelRatio},getViewSize:function(){var e=this._viewSize;return new b(e.width,e.height,this,"setViewSize")},setViewSize:function(){var e=_.read(arguments),t=e.subtract(this._viewSize);t.isZero()||(this._setElementSize(e.width,e.height),this._viewSize.set(e),this._changed(),this.emit("resize",{size:e,delta:t}),this._autoUpdate&&this.update())},_setElementSize:function(e,t){var n=this._element;n&&(n.width!==e&&(n.width=e),n.height!==t&&(n.height=t))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new w(new v,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return Z.isInView(this._element)},isInserted:function(){return Z.isInserted(this._element)},getPixelSize:function(e){var t,n=this._element;if(n){var i=n.parentNode,r=u.createElement("div");r.style.fontSize=e,i.appendChild(r),t=parseFloat(Z.getStyles(r).fontSize),i.removeChild(r)}else t=parseFloat(t);return t},getTextWidth:function(e,t){return 0}},c.each(["rotate","scale","shear","skew"],function(e){var t="rotate"===e;this[e]=function(){var n=(t?c:v).read(arguments),i=v.read(arguments,0,{readNull:!0});return this.transform((new C)[e](n,i||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var e=new C;return this.transform(e.translate.apply(e,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var e=v.read(arguments);this.translate(this.getCenter().subtract(e))},getZoom:function(){var e=this._decompose().scaling;return(e.x+e.y)/2},setZoom:function(e){this.transform((new C).scale(e/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(e){var t=this.getRotation();null!=t&&null!=e&&this.rotate(e-t)},getScaling:function(){var e=this._decompose().scaling;return new y(e.x,e.y,this,"setScaling")},setScaling:function(){var e=this.getScaling(),t=v.read(arguments,0,{clone:!0,readNull:!0});e&&t&&this.scale(t.x/e.x,t.y/e.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var e=this._matrix;e.initialize.apply(e,arguments)},transform:function(e){this._matrix.append(e)},scrollBy:function(){this.translate(v.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(v.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(v.read(arguments))},getEventPoint:function(e){return this.viewToProject(K.getOffset(e,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(e,t){return u&&"string"==typeof t&&(t=u.getElementById(t)),new(l?Q:X)(e,t)}}},new function(){if(l){var e,t,n,i,r,s=!1,o=!1,a=l.navigator;a.pointerEnabled||a.msPointerEnabled?(n="pointerdown MSPointerDown",i="pointermove MSPointerMove",r="pointerup pointercancel MSPointerUp MSPointerCancel"):(n="touchstart",i="touchmove",r="touchend touchcancel","ontouchstart"in l&&a.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(n+=" mousedown",i+=" mousemove",r+=" mouseup"));var c={},h={mouseout:function(e){var t=X._focused,n=K.getRelatedTarget(e);if(t&&(!n||"HTML"===n.nodeName)){var i=K.getOffset(e,t._element),r=i.x,s=Math.abs,o=s(r),a=o-(1<<25);i.x=s(a)<o?a*(r<0?-1:1):r,M(t,e,t.viewToProject(i))}},scroll:T};c[n]=function(e){var t=X._focused=E(e);s||(s=!0,t._handleMouseEvent("mousedown",e))},h[i]=function(n){var i=X._focused;if(!o){var r=E(n);r?i!==r&&(i&&M(i,n),e||(e=i),i=X._focused=t=r):t&&t===i&&(e&&!e.isInserted()&&(e=null),i=X._focused=e,e=null,T())}i&&M(i,n)},h[n]=function(){o=!0},h[r]=function(e){var t=X._focused;t&&s&&t._handleMouseEvent("mouseup",e),o=s=!1},K.add(u,h),K.add(l,{load:T});var d,p,f,g,m,v,y,_,b=!1,w=!1,x={doubleclick:"click",mousedrag:"mousemove"},C=!1,S={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:c,_handleMouseEvent:function(e,t,n){var i=this._itemEvents,r=i.native[e],o="mousemove"===e,a=this._scope.tool,l=this;function u(e){return i.virtual[e]||l.responds(e)||a&&a.responds(e)}o&&s&&u("mousedrag")&&(e="mousedrag"),n||(n=this.getEventPoint(t));var c=this.getBounds().contains(n),h=r&&c&&l._project.hitTest(n,{tolerance:0,fill:!0,stroke:!0}),x=h&&h.item||null,S=!1,E={};if(E[e.substr(5)]=!0,r&&x!==g&&(g&&I(g,null,"mouseleave",t,n),x&&I(x,null,"mouseenter",t,n),g=x),C^c&&(I(this,null,c?"mouseenter":"mouseleave",t,n),S=!0),!c&&!E.drag||n.equals(p)||(O(this,x,o?e:"mousemove",t,n,p),S=!0),C=c,E.down&&c||E.up&&d){if(O(this,x,e,t,n,d),E.down){if(_=x===v&&Date.now()-y<300,f=v=x,!w&&x){for(var T=x;T&&!T.responds("mousedrag");)T=T._parent;T&&(m=x)}d=n}else E.up&&(w||x!==f||(y=Date.now(),O(this,x,_?"doubleclick":"click",t,n,d),_=!1),f=m=null);C=!1,S=!0}p=n,S&&a&&(b=a._handleMouseEvent(e,t,n,E)||b),!1!==t.cancelable&&(b&&!E.move||E.down&&u("mouseup"))&&t.preventDefault()},_handleKeyEvent:function(e,t,n,i){var r,s=this._scope,o=s.tool;function a(o){o.responds(e)&&(he=s,o.emit(e,r=r||new ee(e,t,n,i)))}this.isVisible()&&(a(this),o&&o.responds(e)&&a(o))},_countItemEvent:function(e,t){var n=this._itemEvents,i=n.native,r=n.virtual;for(var s in S)i[s]=(i[s]||0)+(S[s][e]||0)*t;r[e]=(r[e]||0)+t},statics:{updateFocus:T,_resetState:function(){s=o=b=C=!1,e=t=d=p=f=g=m=v=y=_=null}}}}function E(e){var t=K.getTarget(e);return t.getAttribute&&X._viewsById[t.getAttribute("id")]}function T(){var e=X._focused;if(!e||!e.isVisible())for(var n=0,i=X._views.length;n<i;n++)if((e=X._views[n]).isVisible()){X._focused=t=e;break}}function M(e,t,n){e._handleMouseEvent("mousemove",t,n)}function I(e,t,n,i,r,s,o){var a,l=!1;function u(e,n){if(e.responds(n)){if(a||(a=new ne(n,i,r,t||e,s?r.subtract(s):null)),e.emit(n,a)&&(b=!0,a.prevented&&(w=!0),a.stopped))return l=!0}else{var o=x[n];if(o)return u(e,o)}}for(;e&&e!==o&&!u(e,n);)e=e._parent;return l}function O(e,t,n,i,r,s){return e._project.removeOn(n),w=b=!1,m&&I(m,null,n,i,r,s)||t&&t!==m&&!t.isDescendant(m)&&I(t,null,"mousedrag"===n?"mousemove":n,i,r,s,m)||I(e,m||t||e,n,i,r,s)}}),Q=X.extend({_class:"CanvasView",initialize:function(e,t){if(!(t instanceof l.HTMLCanvasElement)){var n=_.read(arguments,1);if(n.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+c.slice(arguments,1));t=ae.getCanvas(n)}var i=this._context=t.getContext("2d");if(i.save(),this._pixelRatio=1,!/^off|false$/.test(d.getAttribute(t,"hidpi"))){var r=l.devicePixelRatio||1,s=Z.getPrefixed(i,"backingStorePixelRatio")||1;this._pixelRatio=r/s}X.call(this,e,t),this._needsUpdate=!0},remove:function e(){return this._context.restore(),e.base.call(this)},_setElementSize:function e(t,n){var i=this._pixelRatio;if(e.base.call(this,t*i,n*i),1!==i){var r=this._element,s=this._context;if(!d.hasAttribute(r,"resize")){var o=r.style;o.width=t+"px",o.height=n+"px"}s.restore(),s.save(),s.scale(i,i)}},getPixelSize:function e(t){var n,i=he.agent;if(i&&i.firefox)n=e.base.call(this,t);else{var r=this._context,s=r.font;r.font=t+" serif",n=parseFloat(r.font),r.font=s}return n},getTextWidth:function(e,t){var n=this._context,i=n.font,r=0;n.font=e;for(var s=0,o=t.length;s<o;s++)r=Math.max(r,n.measureText(t[s]).width);return n.font=i,r},update:function(){if(!this._needsUpdate)return!1;var e=this._project,t=this._context,n=this._viewSize;return t.clearRect(0,0,n.width+1,n.height+1),e&&e.draw(t,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),J=c.extend({_class:"Event",initialize:function(e){this.event=e,this.type=e&&e.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return te.modifiers}}),ee=J.extend({_class:"KeyEvent",initialize:function(e,t,n,i){this.type=e,this.event=t,this.key=n,this.character=i},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),te=new function(){var e,t,n={"\t":"tab"," ":"space","\b":"backspace","\x7f":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},i={tab:"\t",space:" ",enter:"\r"},r={},s={},o=new c({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var e=he&&he.agent;return e&&e.mac?this.meta:this.control}}});function h(e){var t=e.key||e.keyIdentifier;return t=/^U\+/.test(t)?String.fromCharCode(parseInt(t.substr(2),16)):/^Arrow[A-Z]/.test(t)?t.substr(5):"Unidentified"===t||t===a?String.fromCharCode(e.keyCode):t,n[t]||(t.length>1?c.hyphenate(t):t.toLowerCase())}function d(t,n,i,a){var l,u=X._focused;if(r[n]=t,t?s[n]=i:delete s[n],n.length>1&&(l=c.camelize(n))in o){o[l]=t;var h=he&&he.agent;if("meta"===l&&h&&h.mac)if(t)e={};else{for(var p in e)p in s&&d(!1,p,e[p],a);e=null}}else t&&e&&(e[n]=i);u&&u._handleKeyEvent(t?"keydown":"keyup",a,n,i)}return K.add(u,{keydown:function(e){var n=h(e),r=he&&he.agent;n.length>1||r&&r.chrome&&(e.altKey||r.mac&&e.metaKey||!r.mac&&e.ctrlKey)?d(!0,n,i[n]||(n.length>1?"":n),e):t=n},keypress:function(e){if(t){var n=h(e),i=e.charCode,r=i>=32?String.fromCharCode(i):n.length>1?"":n;n!==t&&(n=r.toLowerCase()),d(!0,n,r,e),t=null}},keyup:function(e){var t=h(e);t in s&&d(!1,t,s[t],e)}}),K.add(l,{blur:function(e){for(var t in s)d(!1,t,s[t],e)}}),{modifiers:o,isDown:function(e){return!!r[e]}}},ne=J.extend({_class:"MouseEvent",initialize:function(e,t,n,i,r){this.type=e,this.event=t,this.point=n,this.target=i,this.delta=r},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),ie=J.extend({_class:"ToolEvent",_item:null,initialize:function(e,t,n){this.tool=e,this.type=t,this.event=n},_choosePoint:function(e,t){return e||(t?t.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(e){this._point=e},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(e){this._lastPoint=e},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(e){this._downPoint=e},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(e){this._middlePoint=e},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(e){this._delta=e},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(e){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=e},getItem:function(){if(!this._item){var e=this.tool._scope.project.hitTest(this.getPoint());if(e){for(var t=e.item,n=t._parent;/^(Group|CompoundPath)$/.test(n._class);)t=n,n=n._parent;this._item=t}}return this._item},setItem:function(e){this._item=e},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),re=p.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(e){p.call(this),this._moveCount=-1,this._downCount=-1,this.set(e)},getMinDistance:function(){return this._minDistance},setMinDistance:function(e){this._minDistance=e,null!=e&&null!=this._maxDistance&&e>this._maxDistance&&(this._maxDistance=e)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(e){this._maxDistance=e,null!=this._minDistance&&null!=e&&e<this._minDistance&&(this._minDistance=e)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(e){this._minDistance=this._maxDistance=e},_handleMouseEvent:function(e,t,n,i){he=this._scope,i.drag&&!this.responds(e)&&(e="mousemove");var r=i.move||i.drag,s=this.responds(e),o=this.minDistance,a=this.maxDistance,l=!1,u=this;function c(e,t){var s=n,o=r?u._point:u._downPoint||s;if(r){if(u._moveCount>=0&&s.equals(o))return!1;if(o&&(null!=e||null!=t)){var a=s.subtract(o),l=a.getLength();if(l<(e||0))return!1;t&&(s=o.add(a.normalize(Math.min(l,t))))}u._moveCount++}return u._point=s,u._lastPoint=o||s,i.down&&(u._moveCount=-1,u._downPoint=s,u._downCount++),!0}function h(){s&&(l=u.emit(e,new ie(u,e,t))||l)}if(i.down)c(),h();else if(i.up)c(null,a),h();else if(s)for(;c(o,a);)h();return l}}),se=c.extend(h,{_class:"Tween",statics:{easings:{linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:2*(2-e)*e-1},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}}},initialize:function e(t,n,i,r,s,o){this.object=t;var a=typeof s,l="function"===a;this.type=l?a:"string"===a?s:"linear",this.easing=l?s:e.easings[this.type],this.duration=r,this.running=!1,this._then=null,this._startTime=null;var u=n||i;this._keys=u?Object.keys(u):[],this._parsedKeys=this._parseKeys(this._keys),this._from=u&&this._getState(n),this._to=u&&this._getState(i),!1!==o&&this.start()},then:function(e){return this._then=e,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(e){if(this.running){e>1&&(e=1,this.running=!1);for(var t=this.easing(e),n=this._keys,i=function(n){return"function"==typeof n?n(t,e):n},r=0,s=n&&n.length;r<s;r++){var o=n[r],a=i(this._from[o]),l=i(this._to[o]),u=a&&l&&a.__add&&l.__add?l.__subtract(a).__multiply(t).__add(a):(l-a)*t+a;this._setProperty(this._parsedKeys[o],u)}!this.running&&this._then&&this._then(this.object),this.responds("update")&&this.emit("update",new c({progress:e,factor:t}))}return this},_events:{onUpdate:{}},_handleFrame:function(e){var t=this._startTime,n=t?(e-t)/this.duration:0;t||(this._startTime=e),this.update(n)},_getState:function(e){for(var t=this._keys,n={},i=0,r=t.length;i<r;i++){var s,o=t[i],a=this._parsedKeys[o],l=this._getProperty(a);if(e){var u=this._resolveValue(l,e[o]);this._setProperty(a,u),s=(s=this._getProperty(a))&&s.clone?s.clone():s,this._setProperty(a,l)}else s=l&&l.clone?l.clone():l;n[o]=s}return n},_resolveValue:function(e,t){if(t){if(Array.isArray(t)&&2===t.length){var n=t[0];return n&&n.match&&n.match(/^[+\-*\/]=/)?this._calculate(e,n[0],t[1]):t}if("string"==typeof t){var i=t.match(/^[+\-*\/]=(.*)/);if(i){var r=JSON.parse(i[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(e,t[0],r)}}}return t},_calculate:function(e,t,n){return he.PaperScript.calculateBinary(e,t,n)},_parseKeys:function(e){for(var t={},n=0,i=e.length;n<i;n++){var r=e[n],s=r.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");t[r]=s.split("/")}return t},_getProperty:function(e,t){for(var n=this.object,i=0,r=e.length-(t||0);i<r&&n;i++)n=n[e[i]];return n},_setProperty:function(e,t){var n=this._getProperty(e,1);n&&(n[e[e.length-1]]=t)}}),oe={request:function(e){var t=new o.XMLHttpRequest;return t.open((e.method||"get").toUpperCase(),e.url,c.pick(e.async,!0)),e.mimeType&&t.overrideMimeType(e.mimeType),t.onload=function(){var n=t.status;0===n||200===n?e.onLoad&&e.onLoad.call(t,t.responseText):t.onerror()},t.onerror=function(){var n=t.status,i='Could not load "'+e.url+'" (Status: '+n+")";if(!e.onError)throw new Error(i);e.onError(i,n)},t.send(null)}},ae={canvases:[],getCanvas:function(e,t){if(!l)return null;var n,i=!0;"object"==typeof e&&(t=e.height,e=e.width),this.canvases.length?n=this.canvases.pop():(n=u.createElement("canvas"),i=!1);var r=n.getContext("2d");if(!r)throw new Error("Canvas "+n+" is unable to provide a 2D context.");return n.width===e&&n.height===t?i&&r.clearRect(0,0,e+1,t+1):(n.width=e,n.height=t),r.save(),n},getContext:function(e,t){var n=this.getCanvas(e,t);return n?n.getContext("2d"):null},release:function(e){var t=e&&e.canvas?e.canvas:e;t&&t.getContext&&(t.getContext("2d").restore(),this.canvases.push(t))}},le=new function(){var e,t,n,i,r,s,o,a,l,u,h,d=Math.min,p=Math.max,f=Math.abs;function g(e,t,n){return.2989*e+.587*t+.114*n}function m(e,t,n,i){var r=i-g(e,t,n),s=(i=g(l=e+r,u=t+r,h=n+r),d(l,u,h)),o=p(l,u,h);if(s<0){var a=i-s;l=i+(l-i)*i/a,u=i+(u-i)*i/a,h=i+(h-i)*i/a}if(o>255){var c=255-i,f=o-i;l=i+(l-i)*c/f,u=i+(u-i)*c/f,h=i+(h-i)*c/f}}function v(e,t,n){return p(e,t,n)-d(e,t,n)}function y(e,t,n,i){var r,s=[e,t,n],o=p(e,t,n),a=d(e,t,n);r=0===d(a=a===e?0:a===t?1:2,o=o===e?0:o===t?1:2)?1===p(a,o)?2:1:0,s[o]>s[a]?(s[r]=(s[r]-s[a])*i/(s[o]-s[a]),s[o]=i):s[r]=s[o]=0,s[a]=0,l=s[0],u=s[1],h=s[2]}var _={multiply:function(){l=r*e/255,u=s*t/255,h=o*n/255},screen:function(){l=r+e-r*e/255,u=s+t-s*t/255,h=o+n-o*n/255},overlay:function(){l=r<128?2*r*e/255:255-2*(255-r)*(255-e)/255,u=s<128?2*s*t/255:255-2*(255-s)*(255-t)/255,h=o<128?2*o*n/255:255-2*(255-o)*(255-n)/255},"soft-light":function(){var i=e*r/255;l=i+r*(255-(255-r)*(255-e)/255-i)/255,u=(i=t*s/255)+s*(255-(255-s)*(255-t)/255-i)/255,h=(i=n*o/255)+o*(255-(255-o)*(255-n)/255-i)/255},"hard-light":function(){l=e<128?2*e*r/255:255-2*(255-e)*(255-r)/255,u=t<128?2*t*s/255:255-2*(255-t)*(255-s)/255,h=n<128?2*n*o/255:255-2*(255-n)*(255-o)/255},"color-dodge":function(){l=0===r?0:255===e?255:d(255,255*r/(255-e)),u=0===s?0:255===t?255:d(255,255*s/(255-t)),h=0===o?0:255===n?255:d(255,255*o/(255-n))},"color-burn":function(){l=255===r?255:0===e?0:p(0,255-255*(255-r)/e),u=255===s?255:0===t?0:p(0,255-255*(255-s)/t),h=255===o?255:0===n?0:p(0,255-255*(255-o)/n)},darken:function(){l=r<e?r:e,u=s<t?s:t,h=o<n?o:n},lighten:function(){l=r>e?r:e,u=s>t?s:t,h=o>n?o:n},difference:function(){(l=r-e)<0&&(l=-l),(u=s-t)<0&&(u=-u),(h=o-n)<0&&(h=-h)},exclusion:function(){l=r+e*(255-r-r)/255,u=s+t*(255-s-s)/255,h=o+n*(255-o-o)/255},hue:function(){y(e,t,n,v(r,s,o)),m(l,u,h,g(r,s,o))},saturation:function(){y(r,s,o,v(e,t,n)),m(l,u,h,g(r,s,o))},luminosity:function(){m(r,s,o,g(e,t,n))},color:function(){m(e,t,n,g(r,s,o))},add:function(){l=d(r+e,255),u=d(s+t,255),h=d(o+n,255)},subtract:function(){l=p(r-e,0),u=p(s-t,0),h=p(o-n,0)},average:function(){l=(r+e)/2,u=(s+t)/2,h=(o+n)/2},negation:function(){l=255-f(255-e-r),u=255-f(255-t-s),h=255-f(255-n-o)}},b=this.nativeModes=c.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(e){this[e]=!0},{}),w=ae.getContext(1,1);w&&(c.each(_,function(e,t){var n="darken"===t,i=!1;w.save();try{w.fillStyle=n?"#300":"#a00",w.fillRect(0,0,1,1),w.globalCompositeOperation=t,w.globalCompositeOperation===t&&(w.fillStyle=n?"#a00":"#300",w.fillRect(0,0,1,1),i=w.getImageData(0,0,1,1).data[0]!==n?170:51)}catch(r){}w.restore(),b[t]=i}),ae.release(w)),this.process=function(c,d,p,f,g){var m=d.canvas,v="normal"===c;if(v||b[c])p.save(),p.setTransform(1,0,0,1,0,0),p.globalAlpha=f,v||(p.globalCompositeOperation=c),p.drawImage(m,g.x,g.y),p.restore();else{var y=_[c];if(!y)return;for(var w=p.getImageData(g.x,g.y,m.width,m.height),x=w.data,C=d.getImageData(0,0,m.width,m.height).data,S=0,E=x.length;S<E;S+=4){e=C[S],r=x[S],t=C[S+1],s=x[S+1],n=C[S+2],o=x[S+2],i=C[S+3],a=x[S+3],y();var T=i*f/255,M=1-T;x[S]=T*l+M*r,x[S+1]=T*u+M*s,x[S+2]=T*h+M*o,x[S+3]=i*f+M*a}p.putImageData(w,g.x,g.y)}}},ue=new function(){var e="http://www.w3.org/2000/svg",t="http://www.w3.org/2000/xmlns",n="http://www.w3.org/1999/xlink",i={href:n,xlink:t,xmlns:t+"/","xmlns:xlink":t+"/"};function r(e,t,n){for(var r in t){var s=t[r],o=i[r];"number"==typeof s&&n&&(s=n.number(s)),o?e.setAttributeNS(o,r,s):e.setAttribute(r,s)}return e}return{svg:e,xmlns:t,xlink:n,create:function(t,n,i){return r(u.createElementNS(e,t),n,i)},get:function(e,t){var n=i[t],r=n?e.getAttributeNS(n,t):e.getAttribute(t);return"null"===r?null:r},set:r}},ce=c.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(e,t){return!t&&(e instanceof V||e instanceof O||e instanceof U)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(e,t){var n=c.capitalize(t),i=e[2];this[t]={type:e[1],property:t,attribute:e[0],toSVG:i,fromSVG:i&&c.each(i,function(e,t){this[e]=t},{}),exportFilter:e[3],get:"get"+n,set:"set"+n}},{});new function(){var e;function t(t,n,i){var r=new c,s=t.getTranslation();if(n){var o=(t=t._shiftless())._inverseTransform(s);r[i?"cx":"x"]=o.x,r[i?"cy":"y"]=o.y,s=null}if(!t.isIdentity()){var a=t.decompose();if(a){var l=[],u=a.rotation,h=a.scaling,d=a.skewing;s&&!s.isZero()&&l.push("translate("+e.point(s)+")"),u&&l.push("rotate("+e.number(u)+")"),g.isZero(h.x-1)&&g.isZero(h.y-1)||l.push("scale("+e.point(h)+")"),d.x&&l.push("skewX("+e.number(d.x)+")"),d.y&&l.push("skewY("+e.number(d.y)+")"),r.transform=l.join(" ")}else r.transform="matrix("+t.getValues().join(",")+")"}return r}function n(n,i){for(var r=t(n._matrix),s=n._children,o=ue.create("g",r,e),a=0,u=s.length;a<u;a++){var c=s[a],d=h(c,i);if(d)if(c.isClipMask()){var p=ue.create("clipPath");p.appendChild(d),l(c,p,"clip"),ue.set(o,{"clip-path":"url(#"+p.id+")"})}else o.appendChild(d)}return o}function i(n){var i=n._type,r=n._radius,s=t(n._matrix,!0,"rectangle"!==i);if("rectangle"===i){i="rect";var o=n._size,a=o.width,l=o.height;s.x-=a/2,s.y-=l/2,s.width=a,s.height=l,r.isZero()&&(r=null)}return r&&("circle"===i?s.r=r:(s.rx=r.width,s.ry=r.height)),ue.create(i,s,e)}var r,s={Group:n,Layer:n,Raster:function(n,i){var r=t(n._matrix,!0),s=n.getSize(),o=n.getImage();return r.x-=s.width/2,r.y-=s.height/2,r.width=s.width,r.height=s.height,r.href=0==i.embedImages&&o&&o.src||n.toDataURL(),ue.create("image",r,e)},Path:function(n,r){var s=r.matchShapes;if(s){var o=n.toShape(!1);if(o)return i(o)}var a,l=n._segments,u=l.length,c=t(n._matrix);if(s&&u>=2&&!n.hasHandles())if(u>2){a=n._closed?"polygon":"polyline";for(var h=[],d=0;d<u;d++)h.push(e.point(l[d]._point));c.points=h.join(" ")}else{a="line";var p=l[0]._point,f=l[1]._point;c.set({x1:p.x,y1:p.y,x2:f.x,y2:f.y})}else a="path",c.d=n.getPathData(null,r.precision);return ue.create(a,c,e)},Shape:i,CompoundPath:function(n,i){var r=t(n._matrix),s=n.getPathData(null,i.precision);return s&&(r.d=s),ue.create("path",r,e)},SymbolItem:function(n,i){var r=t(n._matrix,!0),s=n._definition,o=a(s,"symbol"),u=s._item,c=u.getBounds();return o||((o=ue.create("symbol",{viewBox:e.rectangle(c)})).appendChild(h(u,i)),l(s,o,"symbol")),r.href="#"+o.id,r.x+=c.x,r.y+=c.y,r.width=c.width,r.height=c.height,r.overflow="visible",ue.create("use",r,e)},PointText:function(n){var i=ue.create("text",t(n._matrix,!0),e);return i.textContent=n._content,i}};function a(e,t){return r||(r={ids:{},svgs:{}}),e&&r.svgs[t+"-"+(e._id||e.__id||(e.__id=m.get("svg")))]}function l(e,t,n){r||a();var i=r.ids[n]=(r.ids[n]||0)+1;t.id=n+"-"+i,r.svgs[n+"-"+(e._id||e.__id)]=t}function u(e,t){var n=e,i=null;if(r){for(var s in n="svg"===e.nodeName.toLowerCase()&&e,r.svgs)i||(n||(n=ue.create("svg")).appendChild(e),i=n.insertBefore(ue.create("defs"),n.firstChild)),i.appendChild(r.svgs[s]);r=null}return t.asString?(new o.XMLSerializer).serializeToString(n):n}function h(t,n,i){var r=s[t._class],o=r&&r(t,n);if(o){var u=n.onExport;u&&(o=u(t,o,n)||o);var h=JSON.stringify(t._data);h&&"{}"!==h&&"null"!==h&&o.setAttribute("data-paper-data",h)}return o&&function(t,n,i){var r={},s=!i&&t.getParent(),o=[];return null!=t._name&&(r.id=t._name),c.each(ce,function(n){var i=n.get,u=n.type,h=t[i]();if(n.exportFilter?n.exportFilter(t,h):!s||!c.equals(s[i](),h)){if("color"===u&&null!=h){var d=h.getAlpha();d<1&&(r[n.attribute+"-opacity"]=d)}"style"===u?o.push(n.attribute+": "+h):r[n.attribute]=null==h?"none":"color"===u?h.gradient?function(t){var n=a(t,"color");if(!n){var i,r=t.getGradient(),s=r._radial,o=t.getOrigin(),u=t.getDestination();if(s){i={cx:o.x,cy:o.y,r:o.getDistance(u)};var c=t.getHighlight();c&&(i.fx=c.x,i.fy=c.y)}else i={x1:o.x,y1:o.y,x2:u.x,y2:u.y};i.gradientUnits="userSpaceOnUse",n=ue.create((s?"radial":"linear")+"Gradient",i,e);for(var h=r._stops,d=0,p=h.length;d<p;d++){var f=h[d],g=f._color,m=g.getAlpha(),v=f._offset;i={offset:null==v?d/(p-1):v},g&&(i["stop-color"]=g.toCSS(!0)),m<1&&(i["stop-opacity"]=m),n.appendChild(ue.create("stop",i,e))}l(t,n,"color")}return"url(#"+n.id+")"}(h):h.toCSS(!0):"array"===u?h.join(","):"lookup"===u?n.toSVG[h]:h}}),o.length&&(r.style=o.join(";")),1===r.opacity&&delete r.opacity,t._visible||(r.visibility="hidden"),ue.set(n,r,e)}(t,o,i)}function d(t){return t||(t={}),e=new f(t.precision),t}T.inject({exportSVG:function(e){return u(h(this,e=d(e),!0),e)}}),E.inject({exportSVG:function(n){n=d(n);var i=this._children,r=this.getView(),s=c.pick(n.bounds,"view"),o=n.matrix||"view"===s&&r._matrix,a=o&&C.read([o]),l="view"===s?new w([0,0],r.getViewSize()):"content"===s?T._getBounds(i,a,{stroke:!0}).rect:w.read([s],0,{readNull:!0}),p={version:"1.1",xmlns:ue.svg,"xmlns:xlink":ue.xlink};l&&(p.width=l.width,p.height=l.height,(l.x||l.y)&&(p.viewBox=e.rectangle(l)));var f=ue.create("svg",p,e),g=f;a&&!a.isIdentity()&&(g=f.appendChild(ue.create("g",t(a),e)));for(var m=0,v=i.length;m<v;m++)g.appendChild(h(i[m],n,!0));return u(f,n)}})},new function(){var e,t={};function n(t,n,i,r,s){var o=ue.get(t,n),a=null==o?r?null:i?"":0:i?o:parseFloat(o);return/%\s*$/.test(o)?a/100*(s?1:e[/x|^width/.test(n)?"width":"height"]):a}function i(e,t,i,r,s){return t=n(e,t||"x",!1,r,s),i=n(e,i||"y",!1,r,s),!r||null!=t&&null!=i?new v(t,i):null}function r(e,t,i,r,s){return t=n(e,t||"width",!1,r,s),i=n(e,i||"height",!1,r,s),!r||null!=t&&null!=i?new _(t,i):null}function s(e,t,n){return"none"===e?null:"number"===t?parseFloat(e):"array"===t?e?e.split(/[\s,]+/g).map(parseFloat):[]:"color"===t?S(e)||e:"lookup"===t?n[e]:e}function h(e,t,n,i){var r=e.childNodes,s="clippath"===t,o="defs"===t,a=new M,l=a._project,u=l._currentStyle,c=[];if(s||o||(a=x(a,e,i),l._currentStyle=a._style.clone()),i)for(var h=e.querySelectorAll("defs"),d=0,p=h.length;d<p;d++)I(h[d],n,!1);for(d=0,p=r.length;d<p;d++){var f,g=r[d];1!==g.nodeType||/^defs$/i.test(g.nodeName)||!(f=I(g,n,!1))||f instanceof k||c.push(f)}return a.addChildren(c),s&&(a=x(a.reduce(),e,i)),l._currentStyle=u,(s||o)&&(a.remove(),a=null),a}function d(e,t){for(var n=e.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),i=[],r=0,s=n.length;r<s;r+=2)i.push(new v(parseFloat(n[r]),parseFloat(n[r+1])));var o=new j(i);return"polygon"===t&&o.closePath(),o}function p(e,r){var s,o=(n(e,"href",!0)||"").substring(1),a="radialgradient"===r;if(o)(s=t[o].getGradient())._radial^a&&((s=s.clone())._radial=a);else{for(var l=e.childNodes,u=[],c=0,h=l.length;c<h;c++){var d=l[c];1===d.nodeType&&u.push(x(new q,d))}s=new $(u,a)}var p,f,g,m="userSpaceOnUse"!==n(e,"gradientUnits",!0);return a?(f=(p=i(e,"cx","cy",!1,m)).add(n(e,"r",!1,!1,m),0),g=i(e,"fx","fy",!0,m)):(p=i(e,"x1","y1",!1,m),f=i(e,"x2","y2",!1,m)),x(new W(s,p,f,g),e)._scaleToBounds=m,null}var f={"#document":function(e,t,n,i){for(var r=e.childNodes,s=0,o=r.length;s<o;s++){var a=r[s];if(1===a.nodeType)return I(a,n,i)}},g:h,svg:h,clippath:h,polygon:d,polyline:d,path:function(e){return V.create(e.getAttribute("d"))},lineargradient:p,radialgradient:p,image:function(e){var t=new A(n(e,"href",!0));return t.on("load",function(){var t=r(e);this.setSize(t);var n=i(e).add(t.divide(2));this._matrix.append((new C).translate(n))}),t},symbol:function(e,t,n,i){return new k(h(e,t,n,i),!0)},defs:h,use:function(e){var r=(n(e,"href",!0)||"").substring(1),s=t[r],o=i(e);return s?s instanceof k?s.place(o):s.clone().translate(o):null},circle:function(e){return new O.Circle(i(e,"cx","cy"),n(e,"r"))},ellipse:function(e){return new O.Ellipse({center:i(e,"cx","cy"),radius:r(e,"rx","ry")})},rect:function(e){return new O.Rectangle(new w(i(e),r(e)),r(e,"rx","ry"))},line:function(e){return new j.Line(i(e,"x1","y1"),i(e,"x2","y2"))},text:function(e){var t=new G(i(e).add(i(e,"dx","dy")));return t.setContent(e.textContent.trim()||""),t}};function g(e,t,n,i){if(e.transform){for(var r=(i.getAttribute(n)||"").split(/\)\s*/g),s=new C,o=0,a=r.length;o<a;o++){var l=r[o];if(!l)break;for(var u=l.split(/\(\s*/),c=u[0],h=u[1].split(/[\s,]+/g),d=0,p=h.length;d<p;d++)h[d]=parseFloat(h[d]);switch(c){case"matrix":s.append(new C(h[0],h[1],h[2],h[3],h[4],h[5]));break;case"rotate":s.rotate(h[0],h[1]||0,h[2]||0);break;case"translate":s.translate(h[0],h[1]||0);break;case"scale":s.scale(h);break;case"skewX":s.skew(h[0],0);break;case"skewY":s.skew(0,h[0])}}e.transform(s)}}function m(e,t,n){var i="fill-opacity"===n?"getFillColor":"getStrokeColor",r=e[i]&&e[i]();r&&r.setAlpha(parseFloat(t))}var y=c.set(c.each(ce,function(e){this[e.attribute]=function(t,n){if(t[e.set]&&(t[e.set](s(n,e.type,e.fromSVG)),"color"===e.type)){var i=t[e.get]();if(i&&i._scaleToBounds){var r=t.getBounds();i.transform((new C).translate(r.getPoint()).scale(r.getSize()))}}}},{}),{id:function(e,n){t[n]=e,e.setName&&e.setName(n)},"clip-path":function(e,t){var n=S(t);if(n){if((n=n.clone()).setClipMask(!0),!(e instanceof M))return new M(n,e);e.insertChild(0,n)}},gradientTransform:g,transform:g,"fill-opacity":m,"stroke-opacity":m,visibility:function(e,t){e.setVisible&&e.setVisible("visible"===t)},display:function(e,t){e.setVisible&&e.setVisible(null!==t)},"stop-color":function(e,t){e.setColor&&e.setColor(t)},"stop-opacity":function(e,t){e._color&&e._color.setAlpha(parseFloat(t))},offset:function(e,t){if(e.setOffset){var n=t.match(/(.*)%$/);e.setOffset(n?n[1]/100:parseFloat(t))}},viewBox:function(e,t,n,i,o){var a,l=new w(s(t,"array")),u=r(i,null,null,!0);if(e instanceof M){var c=u?u.divide(l.getSize()):1,h=(new C).scale(c).translate(l.getPoint().negate());a=e}else e instanceof k&&(u&&l.setSize(u),a=e._item);if(a){if("visible"!==b(i,"overflow",o)){var d=new O.Rectangle(l);d.setClipMask(!0),a.addChild(d)}h&&a.transform(h)}}});function b(e,t,n){var i=e.attributes[t],r=i&&i.value;if(!r&&e.style){var s=c.camelize(t);(r=e.style[s])||n.node[s]===n.parent[s]||(r=n.node[s])}return r?"none"===r?null:r:a}function x(e,t,n){var i=t.parentNode,r={node:Z.getStyles(t)||{},parent:!n&&!/^defs$/i.test(i.tagName)&&Z.getStyles(i)||{}};return c.each(y,function(n,i){var s=b(t,i,r);e=s!==a&&n(e,s,i,t,r)||e}),e}function S(e){var n=e&&e.match(/\((?:["'#]*)([^"')]+)/),i=n&&n[1],r=i&&t[l?i.replace(l.location.href.split("#")[0]+"#",""):i];return r&&r._scaleToBounds&&((r=r.clone())._scaleToBounds=!0),r}function I(n,i,s){var o,a,l,h=n.nodeName.toLowerCase(),d="#document"!==h,p=u.body;s&&d&&(e=he.getView().getSize(),e=r(n,null,null,!0)||e,o=ue.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),a=n.parentNode,l=n.nextSibling,o.appendChild(n),p.appendChild(o));var g=he.settings,m=g.applyMatrix,v=g.insertItems;g.applyMatrix=!1,g.insertItems=!1;var y=f[h],_=y&&y(n,h,i,s)||null;if(g.insertItems=v,g.applyMatrix=m,_){!d||_ instanceof M||(_=x(_,n,s));var b=i.onImport,w=d&&n.getAttribute("data-paper-data");b&&(_=b(n,_,i)||_),i.expandShapes&&_ instanceof O&&(_.remove(),_=_.toPath()),w&&(_._data=JSON.parse(w))}return o&&(p.removeChild(o),a&&(l?a.insertBefore(n,l):a.appendChild(n))),s&&(t={},_&&c.pick(i.applyMatrix,m)&&_.matrix.apply(!0,!0)),_}function D(e,t,n){if(!e)return null;t="function"==typeof t?{onLoad:t}:t||{};var i=he,r=null;function s(s){try{var u="object"==typeof s?s:(new o.DOMParser).parseFromString(s,"image/svg+xml");if(!u.nodeName)throw u=null,new Error("Unsupported SVG source: "+e);he=i,r=I(u,t,!0),t&&!1===t.insert||n._insertItem(a,r);var c=t.onLoad;c&&c(r,s)}catch(h){l(h)}}function l(e,n){var i=t.onError;if(!i)throw new Error(e);i(e,n)}if("string"!=typeof e||/^.*</.test(e)){if("undefined"!=typeof File&&e instanceof File){var c=new FileReader;return c.onload=function(){s(c.result)},c.onerror=function(){l(c.error)},c.readAsText(e)}s(e)}else{var h=u.getElementById(e);h?s(h):oe.request({url:e,async:!0,onLoad:s,onError:l})}return r}T.inject({importSVG:function(e,t){return D(e,t,this)}}),E.inject({importSVG:function(e,t){return this.activate(),D(e,t,this)}})},c.exports.PaperScript=(function(){var e,t,h,p=this,f=p.acorn;if(!f)try{f=n("5OIv")}catch(M){}function g(e,t){return(p.acorn||f).parse(e,t)}f||(f=e=t={},h=function(e){"use strict";var t,n,i,r;e.version="0.5.0",e.parse=function(e,r){return n=String(e),i=n.length,o(r),qe(),function(e){v=y=a,t.locations&&(_=new $e),b=x=null,w=[],Qe();var n=e||ct(),i=!0;for(e||(n.body=[]);d!==D;){var r=xt();n.body.push(r),i&&pt(r)&&at(!0),i=!1}return dt(n,"Program")}(t.program)};var s=e.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,allowReturnOutsideFunction:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null};function o(e){for(var n in t=e||{},s)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=s[n]);r=t.sourceFile||null}var a,l,u,c,h,d,p,f,g,m,v,y,_,b,w,x,C=e.getLineInfo=function(e,t){for(var n=1,i=0;;){Ue.lastIndex=i;var r=Ue.exec(e);if(!(r&&r.index<t))break;++n,i=r.index+r[0].length}return{line:n,column:t-i}};function S(e,t){var i=C(n,e),r=new SyntaxError(t+=" ("+i.line+":"+i.column+")");throw r.pos=e,r.loc=i,r.raisedAt=a,r}e.tokenize=function(e,r){n=String(e),i=n.length,o(r),qe();var s={};function v(e){return y=u,Qe(e),s.start=l,s.end=u,s.startLoc=c,s.endLoc=h,s.type=d,s.value=p,s}return v.jumpTo=function(e,i){var r;if(a=e,t.locations)for(g=1,m=Ue.lastIndex=0;(r=Ue.exec(n))&&r.index<e;)++g,m=r.index+r[0].length;f=i,Xe()},v};var E=[],T={type:"num"},I={type:"regexp"},O={type:"string"},A={type:"name"},D={type:"eof"},k={keyword:"break"},P={keyword:"case",beforeExpr:!0},R={keyword:"catch"},L={keyword:"continue"},N={keyword:"debugger"},F={keyword:"default"},V={keyword:"do",isLoop:!0},j={keyword:"else",beforeExpr:!0},B={keyword:"finally"},z={keyword:"for",isLoop:!0},H={keyword:"function"},U={keyword:"if"},G={keyword:"return",beforeExpr:!0},W={keyword:"switch"},$={keyword:"throw",beforeExpr:!0},q={keyword:"try"},Y={keyword:"var"},Z={keyword:"while",isLoop:!0},K={keyword:"with"},X={keyword:"new",beforeExpr:!0},Q={keyword:"this"},J={keyword:"null",atomValue:null},ee={keyword:"true",atomValue:!0},te={keyword:"false",atomValue:!1},ne={keyword:"in",binop:7,beforeExpr:!0},ie={break:k,case:P,catch:R,continue:L,debugger:N,default:F,do:V,else:j,finally:B,for:z,function:H,if:U,return:G,switch:W,throw:$,try:q,var:Y,while:Z,with:K,null:J,true:ee,false:te,new:X,in:ne,instanceof:{keyword:"instanceof",binop:7,beforeExpr:!0},this:Q,typeof:{keyword:"typeof",prefix:!0,beforeExpr:!0},void:{keyword:"void",prefix:!0,beforeExpr:!0},delete:{keyword:"delete",prefix:!0,beforeExpr:!0}},re={type:"[",beforeExpr:!0},se={type:"]"},oe={type:"{",beforeExpr:!0},ae={type:"}"},le={type:"(",beforeExpr:!0},ue={type:")"},ce={type:",",beforeExpr:!0},he={type:";",beforeExpr:!0},de={type:":",beforeExpr:!0},pe={type:"."},fe={type:"?",beforeExpr:!0},ge={binop:10,beforeExpr:!0},me={isAssign:!0,beforeExpr:!0},ve={isAssign:!0,beforeExpr:!0},ye={postfix:!0,prefix:!0,isUpdate:!0},_e={prefix:!0,beforeExpr:!0},be={binop:1,beforeExpr:!0},we={binop:2,beforeExpr:!0},xe={binop:3,beforeExpr:!0},Ce={binop:4,beforeExpr:!0},Se={binop:5,beforeExpr:!0},Ee={binop:6,beforeExpr:!0},Te={binop:7,beforeExpr:!0},Me={binop:8,beforeExpr:!0},Ie={binop:9,prefix:!0,beforeExpr:!0},Oe={binop:10,beforeExpr:!0};for(var Ae in e.tokTypes={bracketL:re,bracketR:se,braceL:oe,braceR:ae,parenL:le,parenR:ue,comma:ce,semi:he,colon:de,dot:pe,question:fe,slash:ge,eq:me,name:A,eof:D,num:T,regexp:I,string:O},ie)e.tokTypes["_"+Ae]=ie[Ae];function De(e){e=e.split(" ");var t="",n=[];e:for(var i=0;i<e.length;++i){for(var r=0;r<n.length;++r)if(n[r][0].length==e[i].length){n[r].push(e[i]);continue e}n.push([e[i]])}function s(e){if(1==e.length)return t+="return str === "+JSON.stringify(e[0])+";";t+="switch(str){";for(var n=0;n<e.length;++n)t+="case "+JSON.stringify(e[n])+":";t+="return true}return false;"}if(n.length>3){for(n.sort(function(e,t){return t.length-e.length}),t+="switch(str.length){",i=0;i<n.length;++i){var o=n[i];t+="case "+o[0].length+":",s(o)}t+="}"}else s(e);return new Function("str",t)}var ke,Pe=De("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),Re=De("class enum extends super const export import"),Le=De("implements interface let package private protected public static yield"),Ne=De("eval arguments"),Fe=De("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),Ve=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,je="\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc",Be=new RegExp("["+je+"]"),ze=new RegExp("["+je+"\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u0620-\u0649\u0672-\u06d3\u06e7-\u06e8\u06fb-\u06fc\u0730-\u074a\u0800-\u0814\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0840-\u0857\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962-\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09d7\u09df-\u09e0\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2-\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b5f-\u0b60\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62-\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2-\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d46-\u0d48\u0d57\u0d62-\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e34-\u0e3a\u0e40-\u0e45\u0e50-\u0e59\u0eb4-\u0eb9\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f41-\u0f47\u0f71-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1029\u1040-\u1049\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u170e-\u1710\u1720-\u1730\u1740-\u1750\u1772\u1773\u1780-\u17b2\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1920-\u192b\u1930-\u193b\u1951-\u196d\u19b0-\u19c0\u19c8-\u19c9\u19d0-\u19d9\u1a00-\u1a15\u1a20-\u1a53\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b46-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1bb0-\u1bb9\u1be6-\u1bf3\u1c00-\u1c22\u1c40-\u1c49\u1c5b-\u1c7d\u1cd0-\u1cd2\u1d00-\u1dbe\u1e01-\u1f15\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2d81-\u2d96\u2de0-\u2dff\u3021-\u3028\u3099\u309a\ua640-\ua66d\ua674-\ua67d\ua69f\ua6f0-\ua6f1\ua7f8-\ua800\ua806\ua80b\ua823-\ua827\ua880-\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8f3-\ua8f7\ua900-\ua909\ua926-\ua92d\ua930-\ua945\ua980-\ua983\ua9b3-\ua9c0\uaa00-\uaa27\uaa40-\uaa41\uaa4c-\uaa4d\uaa50-\uaa59\uaa7b\uaae0-\uaae9\uaaf2-\uaaf3\uabc0-\uabe1\uabec\uabed\uabf0-\uabf9\ufb20-\ufb28\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]"),He=/[\n\r\u2028\u2029]/,Ue=/\r\n|[\n\r\u2028\u2029]/g,Ge=e.isIdentifierStart=function(e){return e<65?36===e:e<91||(e<97?95===e:e<123||e>=170&&Be.test(String.fromCharCode(e)))},We=e.isIdentifierChar=function(e){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||e>=170&&ze.test(String.fromCharCode(e))))};function $e(){this.line=g,this.column=a-m}function qe(){g=1,a=m=0,f=!0,Xe()}function Ye(e,n){u=a,t.locations&&(h=new $e),d=e,Xe(),p=n,f=e.beforeExpr}function Ze(){var e,i=t.onComment&&t.locations&&new $e,r=a,s=n.indexOf("*/",a+=2);if(-1===s&&S(a-2,"Unterminated comment"),a=s+2,t.locations)for(Ue.lastIndex=r;(e=Ue.exec(n))&&e.index<a;)++g,m=e.index+e[0].length;t.onComment&&t.onComment(!0,n.slice(r+2,s),r,a,i,t.locations&&new $e)}function Ke(){for(var e=a,r=t.onComment&&t.locations&&new $e,s=n.charCodeAt(a+=2);a<i&&10!==s&&13!==s&&8232!==s&&8233!==s;)s=n.charCodeAt(++a);t.onComment&&t.onComment(!1,n.slice(e+2,a),e,a,r,t.locations&&new $e)}function Xe(){for(;a<i;){var e=n.charCodeAt(a);if(32===e)++a;else if(13===e)10===(r=n.charCodeAt(++a))&&++a,t.locations&&(++g,m=a);else if(10===e||8232===e||8233===e)++a,t.locations&&(++g,m=a);else if(e>8&&e<14)++a;else if(47===e){var r;if(42===(r=n.charCodeAt(a+1)))Ze();else{if(47!==r)break;Ke()}}else if(160===e)++a;else{if(!(e>=5760&&Ve.test(String.fromCharCode(e))))break;++a}}}function Qe(e){if(e?a=l+1:l=a,t.locations&&(c=new $e),e)return et();if(a>=i)return Ye(D);var r=n.charCodeAt(a);if(Ge(r)||92===r)return st();var s=function(e){switch(e){case 46:return function(){var e=n.charCodeAt(a+1);return e>=48&&e<=57?nt(!0):(++a,Ye(pe))}();case 40:return++a,Ye(le);case 41:return++a,Ye(ue);case 59:return++a,Ye(he);case 44:return++a,Ye(ce);case 91:return++a,Ye(re);case 93:return++a,Ye(se);case 123:return++a,Ye(oe);case 125:return++a,Ye(ae);case 58:return++a,Ye(de);case 63:return++a,Ye(fe);case 48:var r=n.charCodeAt(a+1);if(120===r||88===r)return function(){a+=2;var e=tt(16);return null==e&&S(l+2,"Expected hexadecimal number"),Ge(n.charCodeAt(a))&&S(a,"Identifier directly after number"),Ye(T,e)}();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return nt(!1);case 34:case 39:return function(e){a++;for(var r="";;){a>=i&&S(l,"Unterminated string constant");var s=n.charCodeAt(a);if(s===e)return++a,Ye(O,r);if(92===s){s=n.charCodeAt(++a);var o=/^[0-7]+/.exec(n.slice(a,a+3));for(o&&(o=o[0]);o&&parseInt(o,8)>255;)o=o.slice(0,-1);if("0"===o&&(o=null),++a,o)x&&S(a-2,"Octal literal in strict mode"),r+=String.fromCharCode(parseInt(o,8)),a+=o.length-1;else switch(s){case 110:r+="\n";break;case 114:r+="\r";break;case 120:r+=String.fromCharCode(it(2));break;case 117:r+=String.fromCharCode(it(4));break;case 85:r+=String.fromCharCode(it(8));break;case 116:r+="\t";break;case 98:r+="\b";break;case 118:r+="\v";break;case 102:r+="\f";break;case 48:r+="\0";break;case 13:10===n.charCodeAt(a)&&++a;case 10:t.locations&&(m=a,++g);break;default:r+=String.fromCharCode(s)}}else 13!==s&&10!==s&&8232!==s&&8233!==s||S(l,"Unterminated string constant"),r+=String.fromCharCode(s),++a}}(e);case 47:return function(){var e=n.charCodeAt(a+1);return f?(++a,et()):61===e?Je(ve,2):Je(ge,1)}();case 37:case 42:return 61===n.charCodeAt(a+1)?Je(ve,2):Je(Oe,1);case 124:case 38:return function(e){var t=n.charCodeAt(a+1);return t===e?Je(124===e?be:we,2):61===t?Je(ve,2):Je(124===e?xe:Se,1)}(e);case 94:return 61===n.charCodeAt(a+1)?Je(ve,2):Je(Ce,1);case 43:case 45:return function(e){var t=n.charCodeAt(a+1);return t===e?45==t&&62==n.charCodeAt(a+2)&&He.test(n.slice(y,a))?(a+=3,Ke(),Xe(),Qe()):Je(ye,2):61===t?Je(ve,2):Je(Ie,1)}(e);case 60:case 62:return function(e){var t=n.charCodeAt(a+1),i=1;return t===e?(i=62===e&&62===n.charCodeAt(a+2)?3:2,61===n.charCodeAt(a+i)?Je(ve,i+1):Je(Me,i)):33==t&&60==e&&45==n.charCodeAt(a+2)&&45==n.charCodeAt(a+3)?(a+=4,Ke(),Xe(),Qe()):(61===t&&(i=61===n.charCodeAt(a+2)?3:2),Je(Te,i))}(e);case 61:case 33:return function(e){return 61===n.charCodeAt(a+1)?Je(Ee,61===n.charCodeAt(a+2)?3:2):Je(61===e?me:_e,1)}(e);case 126:return Je(_e,1)}return!1}(r);if(!1===s){var o=String.fromCharCode(r);if("\\"===o||Be.test(o))return st();S(a,"Unexpected character '"+o+"'")}return s}function Je(e,t){var i=n.slice(a,a+t);a+=t,Ye(e,i)}function et(){for(var e,t,r=a;;){a>=i&&S(r,"Unterminated regular expression");var s=n.charAt(a);if(He.test(s)&&S(r,"Unterminated regular expression"),e)e=!1;else{if("["===s)t=!0;else if("]"===s&&t)t=!1;else if("/"===s&&!t)break;e="\\"===s}++a}var o=n.slice(r,a);++a;var l=rt();l&&!/^[gmsiy]*$/.test(l)&&S(r,"Invalid regexp flag");try{var u=new RegExp(o,l)}catch(M){M instanceof SyntaxError&&S(r,M.message),S(M)}return Ye(I,u)}function tt(e,t){for(var i=a,r=0,s=0,o=null==t?1/0:t;s<o;++s){var l,u=n.charCodeAt(a);if((l=u>=97?u-97+10:u>=65?u-65+10:u>=48&&u<=57?u-48:1/0)>=e)break;++a,r=r*e+l}return a===i||null!=t&&a-i!==t?null:r}function nt(e){var t=a,i=!1,r=48===n.charCodeAt(a);e||null!==tt(10)||S(t,"Invalid number"),46===n.charCodeAt(a)&&(++a,tt(10),i=!0);var s=n.charCodeAt(a);69!==s&&101!==s||(43!==(s=n.charCodeAt(++a))&&45!==s||++a,null===tt(10)&&S(t,"Invalid number"),i=!0),Ge(n.charCodeAt(a))&&S(a,"Identifier directly after number");var o,l=n.slice(t,a);return i?o=parseFloat(l):r&&1!==l.length?/[89]/.test(l)||x?S(t,"Invalid number"):o=parseInt(l,8):o=parseInt(l,10),Ye(T,o)}function it(e){var t=tt(16,e);return null===t&&S(l,"Bad character escape sequence"),t}function rt(){ke=!1;for(var e,t=!0,i=a;;){var r=n.charCodeAt(a);if(We(r))ke&&(e+=n.charAt(a)),++a;else{if(92!==r)break;ke||(e=n.slice(i,a)),ke=!0,117!=n.charCodeAt(++a)&&S(a,"Expecting Unicode escape sequence \\uXXXX"),++a;var s=it(4),o=String.fromCharCode(s);o||S(a-1,"Invalid Unicode escape"),(t?Ge(s):We(s))||S(a-4,"Invalid Unicode escape"),e+=o}t=!1}return ke?e:n.slice(i,a)}function st(){var e=rt(),t=A;return!ke&&Fe(e)&&(t=ie[e]),Ye(t,e)}function ot(){v=l,y=u,_=h,Qe()}function at(e){if(x=e,a=l,t.locations)for(;a<m;)m=n.lastIndexOf("\n",m-2)+1,--g;Xe(),Qe()}function lt(){this.type=null,this.start=l,this.end=null}function ut(){this.start=c,this.end=null,null!==r&&(this.source=r)}function ct(){var e=new lt;return t.locations&&(e.loc=new ut),t.directSourceFile&&(e.sourceFile=t.directSourceFile),t.ranges&&(e.range=[l,0]),e}function ht(e){var n=new lt;return n.start=e.start,t.locations&&(n.loc=new ut,n.loc.start=e.loc.start),t.ranges&&(n.range=[e.range[0],0]),n}function dt(e,n){return e.type=n,e.end=y,t.locations&&(e.loc.end=_),t.ranges&&(e.range[1]=y),e}function pt(e){return t.ecmaVersion>=5&&"ExpressionStatement"===e.type&&"Literal"===e.expression.type&&"use strict"===e.expression.value}function ft(e){if(d===e)return ot(),!0}function gt(){return!t.strictSemicolons&&(d===D||d===ae||He.test(n.slice(y,l)))}function mt(){ft(he)||gt()||yt()}function vt(e){d===e?ot():yt()}function yt(){S(l,"Unexpected token")}function _t(e){"Identifier"!==e.type&&"MemberExpression"!==e.type&&S(e.start,"Assigning to rvalue"),x&&"Identifier"===e.type&&Ne(e.name)&&S(e.start,"Assigning to "+e.name+" in strict mode")}var bt={kind:"loop"},wt={kind:"switch"};function xt(){(d===ge||d===ve&&"/="==p)&&Qe(!0);var e=d,i=ct();switch(e){case k:case L:ot();var r=e===k;ft(he)||gt()?i.label=null:d!==A?yt():(i.label=Nt(),mt());for(var s=0;s<w.length;++s){var o=w[s];if(null==i.label||o.name===i.label.name){if(null!=o.kind&&(r||"loop"===o.kind))break;if(i.label&&r)break}}return s===w.length&&S(i.start,"Unsyntactic "+e.keyword),dt(i,r?"BreakStatement":"ContinueStatement");case N:return ot(),mt(),dt(i,"DebuggerStatement");case V:return ot(),w.push(bt),i.body=xt(),w.pop(),vt(Z),i.test=Ct(),mt(),dt(i,"DoWhileStatement");case z:if(ot(),w.push(bt),vt(le),d===he)return Et(i,null);if(d===Y){var a=ct();return ot(),Mt(a,!0),dt(a,"VariableDeclaration"),1===a.declarations.length&&ft(ne)?Tt(i,a):Et(i,a)}return a=It(!1,!0),ft(ne)?(_t(a),Tt(i,a)):Et(i,a);case H:return ot(),Rt(i,!0);case U:return ot(),i.test=Ct(),i.consequent=xt(),i.alternate=ft(j)?xt():null,dt(i,"IfStatement");case G:return b||t.allowReturnOutsideFunction||S(l,"'return' outside of function"),ot(),ft(he)||gt()?i.argument=null:(i.argument=It(),mt()),dt(i,"ReturnStatement");case W:ot(),i.discriminant=Ct(),i.cases=[],vt(oe),w.push(wt);for(var u,c;d!=ae;)if(d===P||d===F){var h=d===P;u&&dt(u,"SwitchCase"),i.cases.push(u=ct()),u.consequent=[],ot(),h?u.test=It():(c&&S(v,"Multiple default clauses"),c=!0,u.test=null),vt(de)}else u||yt(),u.consequent.push(xt());return u&&dt(u,"SwitchCase"),ot(),w.pop(),dt(i,"SwitchStatement");case $:return ot(),He.test(n.slice(y,l))&&S(y,"Illegal newline after throw"),i.argument=It(),mt(),dt(i,"ThrowStatement");case q:if(ot(),i.block=St(),i.handler=null,d===R){var f=ct();ot(),vt(le),f.param=Nt(),x&&Ne(f.param.name)&&S(f.param.start,"Binding "+f.param.name+" in strict mode"),vt(ue),f.guard=null,f.body=St(),i.handler=dt(f,"CatchClause")}return i.guardedHandlers=E,i.finalizer=ft(B)?St():null,i.handler||i.finalizer||S(i.start,"Missing catch or finally clause"),dt(i,"TryStatement");case Y:return ot(),Mt(i),mt(),dt(i,"VariableDeclaration");case Z:return ot(),i.test=Ct(),w.push(bt),i.body=xt(),w.pop(),dt(i,"WhileStatement");case K:return x&&S(l,"'with' in strict mode"),ot(),i.object=Ct(),i.body=xt(),dt(i,"WithStatement");case oe:return St();case he:return ot(),dt(i,"EmptyStatement");default:var g=p,m=It();if(e===A&&"Identifier"===m.type&&ft(de)){for(s=0;s<w.length;++s)w[s].name===g&&S(m.start,"Label '"+g+"' is already declared");return w.push({name:g,kind:d.isLoop?"loop":d===W?"switch":null}),i.body=xt(),w.pop(),i.label=m,dt(i,"LabeledStatement")}return i.expression=m,mt(),dt(i,"ExpressionStatement")}}function Ct(){vt(le);var e=It();return vt(ue),e}function St(e){var t,n=ct(),i=!0,r=!1;for(n.body=[],vt(oe);!ft(ae);){var s=xt();n.body.push(s),i&&e&&pt(s)&&(t=r,at(r=!0)),i=!1}return r&&!t&&at(!1),dt(n,"BlockStatement")}function Et(e,t){return e.init=t,vt(he),e.test=d===he?null:It(),vt(he),e.update=d===ue?null:It(),vt(ue),e.body=xt(),w.pop(),dt(e,"ForStatement")}function Tt(e,t){return e.left=t,e.right=It(),vt(ue),e.body=xt(),w.pop(),dt(e,"ForInStatement")}function Mt(e,t){for(e.declarations=[],e.kind="var";;){var n=ct();if(n.id=Nt(),x&&Ne(n.id.name)&&S(n.id.start,"Binding "+n.id.name+" in strict mode"),n.init=ft(me)?It(!0,t):null,e.declarations.push(dt(n,"VariableDeclarator")),!ft(ce))break}return e}function It(e,t){var n=Ot(t);if(!e&&d===ce){var i=ht(n);for(i.expressions=[n];ft(ce);)i.expressions.push(Ot(t));return dt(i,"SequenceExpression")}return n}function Ot(e){var t=function(e){var t=function(e){return function e(t,n,i){var r=d.binop;if(null!=r&&(!i||d!==ne)&&r>n){var s=ht(t);s.left=t,s.operator=p;var o=d;return ot(),s.right=e(At(),r,i),e(dt(s,o===be||o===we?"LogicalExpression":"BinaryExpression"),n,i)}return t}(At(),-1,e)}(e);if(ft(fe)){var n=ht(t);return n.test=t,n.consequent=It(!0),vt(de),n.alternate=It(!0,e),dt(n,"ConditionalExpression")}return t}(e);if(d.isAssign){var n=ht(t);return n.operator=p,n.left=t,ot(),n.right=Ot(e),_t(t),dt(n,"AssignmentExpression")}return t}function At(){if(d.prefix){var e=ct(),t=d.isUpdate;return e.operator=p,e.prefix=!0,f=!0,ot(),e.argument=At(),t?_t(e.argument):x&&"delete"===e.operator&&"Identifier"===e.argument.type&&S(e.start,"Deleting local variable in strict mode"),dt(e,t?"UpdateExpression":"UnaryExpression")}for(var n=Dt(kt());d.postfix&&!gt();)(e=ht(n)).operator=p,e.prefix=!1,e.argument=n,_t(n),ot(),n=dt(e,"UpdateExpression");return n}function Dt(e,t){var n;return ft(pe)?((n=ht(e)).object=e,n.property=Nt(!0),n.computed=!1,Dt(dt(n,"MemberExpression"),t)):ft(re)?((n=ht(e)).object=e,n.property=It(),n.computed=!0,vt(se),Dt(dt(n,"MemberExpression"),t)):!t&&ft(le)?((n=ht(e)).callee=e,n.arguments=Lt(ue,!1),Dt(dt(n,"CallExpression"),t)):e}function kt(){switch(d){case Q:var e=ct();return ot(),dt(e,"ThisExpression");case A:return Nt();case T:case O:case I:return(e=ct()).value=p,e.raw=n.slice(l,u),ot(),dt(e,"Literal");case J:case ee:case te:return(e=ct()).value=d.atomValue,e.raw=d.keyword,ot(),dt(e,"Literal");case le:var i=c,r=l;ot();var s=It();return s.start=r,s.end=u,t.locations&&(s.loc.start=i,s.loc.end=h),t.ranges&&(s.range=[r,u]),vt(ue),s;case re:return e=ct(),ot(),e.elements=Lt(se,!0,!0),dt(e,"ArrayExpression");case oe:return function(){var e=ct(),n=!0,i=!1;for(e.properties=[],ot();!ft(ae);){if(n)n=!1;else if(vt(ce),t.allowTrailingCommas&&ft(ae))break;var r,s={key:Pt()},o=!1;if(ft(de)?(s.value=It(!0),r=s.kind="init"):t.ecmaVersion>=5&&"Identifier"===s.key.type&&("get"===s.key.name||"set"===s.key.name)?(o=i=!0,r=s.kind=s.key.name,s.key=Pt(),d!==le&&yt(),s.value=Rt(ct(),!1)):yt(),"Identifier"===s.key.type&&(x||i))for(var a=0;a<e.properties.length;++a){var l=e.properties[a];if(l.key.name===s.key.name){var u=r==l.kind||o&&"init"===l.kind||"init"===r&&("get"===l.kind||"set"===l.kind);u&&!x&&"init"===r&&"init"===l.kind&&(u=!1),u&&S(s.key.start,"Redefinition of property")}}e.properties.push(s)}return dt(e,"ObjectExpression")}();case H:return e=ct(),ot(),Rt(e,!1);case X:return function(){var e=ct();return ot(),e.callee=Dt(kt(),!0),e.arguments=ft(le)?Lt(ue,!1):E,dt(e,"NewExpression")}();default:yt()}}function Pt(){return d===T||d===O?kt():Nt(!0)}function Rt(e,t){d===A?e.id=Nt():t?yt():e.id=null,e.params=[];var n=!0;for(vt(le);!ft(ue);)n?n=!1:vt(ce),e.params.push(Nt());var i=b,r=w;if(b=!0,w=[],e.body=St(!0),b=i,w=r,x||e.body.body.length&&pt(e.body.body[0]))for(var s=e.id?-1:0;s<e.params.length;++s){var o=s<0?e.id:e.params[s];if((Le(o.name)||Ne(o.name))&&S(o.start,"Defining '"+o.name+"' in strict mode"),s>=0)for(var a=0;a<s;++a)o.name===e.params[a].name&&S(o.start,"Argument name clash in strict mode")}return dt(e,t?"FunctionDeclaration":"FunctionExpression")}function Lt(e,n,i){for(var r=[],s=!0;!ft(e);){if(s)s=!1;else if(vt(ce),n&&t.allowTrailingCommas&&ft(e))break;r.push(i&&d===ce?null:It(!0))}return r}function Nt(e){var i=ct();return e&&"everywhere"==t.forbidReserved&&(e=!1),d===A?(!e&&(t.forbidReserved&&(3===t.ecmaVersion?Pe:Re)(p)||x&&Le(p))&&-1==n.slice(l,u).indexOf("\\")&&S(l,"The keyword '"+p+"' is reserved"),i.name=p):e&&d.keyword?i.name=d.keyword:yt(),f=!1,ot(),dt(i,"Identifier")}},"object"==typeof e&&"object"==typeof t?h(e):(i=[e],(s="function"==typeof(r=h)?r.apply(e,i):r)===a||(t.exports=s)),f.version||(f=null));var m={"+":"__add","-":"__subtract","*":"__multiply","/":"__divide","%":"__modulo","==":"__equals","!=":"__equals"},y={"-":"__negate","+":"__self"},b=c.each(["add","subtract","multiply","divide","modulo","equals","negate"],function(e){this["__"+e]="#"+e},{__self:function(){return this}});function w(e,t,n){var i=m[t];if(e&&e[i]){var r=e[i](n);return"!="===t?!r:r}switch(t){case"+":return e+n;case"-":return e-n;case"*":return e*n;case"/":return e/n;case"%":return e%n;case"==":return e==n;case"!=":return e!=n}}function x(e,t){var n=y[e];if(t&&t[n])return t[n]();switch(e){case"+":return+t;case"-":return-t}}function C(e,t){if(!e)return"";var n=[];function i(e){for(var t=0,i=n.length;t<i;t++){var r=n[t];if(r[0]>=e)break;e+=r[1]}return e}function r(t){return e.substring(i(t.range[0]),i(t.range[1]))}function s(t,r){for(var s=i(t.range[0]),o=i(t.range[1]),a=0,l=n.length-1;l>=0;l--)if(s>n[l][0]){a=l+1;break}n.splice(a,0,[s,r.length-o+s]),e=e.substring(0,s)+r+e.substring(o)}var a,c=(t=t||{}).url||"",h=he.agent,d=h.versionNumber,p=!1,f=t.sourceMaps,v=t.source||e,_=/\r\n|\n|\r/gm,b=t.offset||0;if(f&&(h.chrome&&d>=30||h.webkit&&d>=537.76||h.firefox&&d>=23||h.node)){if(h.node)b-=2;else if(l&&c&&!l.location.href.indexOf(c)){var w=u.getElementsByTagName("html")[0].innerHTML;b=w.substr(0,w.indexOf(e)+1).match(_).length+1}var x=["AA"+function(e){var t="";for(e=(Math.abs(e)<<1)+(e<0?1:0);e||!t;){var n=31&e;(e>>=5)&&(n|=32),t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[n]}return t}((p=b>0&&!(h.chrome&&d>=36||h.safari&&d>=600||h.firefox&&d>=40||h.node))?0:b)+"A"];x.length=(e.match(_)||[]).length+1+(p?b:0),a={version:3,file:c,names:[],mappings:x.join(";AACA"),sourceRoot:"",sources:[c],sourcesContent:[v]}}return function t(n,o){if(n){for(var a in n)if("range"!==a&&"loc"!==a){var l=n[a];if(Array.isArray(l))for(var u=0,c=l.length;u<c;u++)t(l[u],n);else l&&"object"==typeof l&&t(l,n)}switch(n.type){case"UnaryExpression":if(n.operator in y&&"Literal"!==n.argument.type){var h=r(n.argument);s(n,'$__("'+n.operator+'", '+h+")")}break;case"BinaryExpression":if(n.operator in m&&"Literal"!==n.left.type){var d=r(n.left),p=r(n.right),f=function(t,r){return e.substring(i(n.left.range[1]),i(r.range[0]))}(0,n.right),g=n.operator;s(n,"__$__("+d+","+f.replace(new RegExp("\\"+g),'"'+g+'"')+", "+p+")")}break;case"UpdateExpression":case"AssignmentExpression":var v=o&&o.type;if(!("ForStatement"===v||"BinaryExpression"===v&&/^[=!<>]/.test(o.operator)||"MemberExpression"===v&&o.computed))if("UpdateExpression"===n.type){var _=(h=r(n.argument))+" = "+(b="__$__("+h+', "'+n.operator[0]+'", 1)');n.prefix||"AssignmentExpression"!==v&&"VariableDeclarator"!==v||(r(o.left||o.id)===h&&(_=b),_=h+"; "+_),s(n,_)}else if(/^.=$/.test(n.operator)&&"Literal"!==n.left.type){d=r(n.left),p=r(n.right);var b=d+" = __$__("+d+', "'+n.operator[0]+'", '+p+")";s(n,/^\(.*\)$/.test(r(n))?"("+b+")":b)}break;case"ExportDefaultDeclaration":s({range:[n.start,n.declaration.start]},"module.exports = ");break;case"ExportNamedDeclaration":var w=n.declaration,x=n.specifiers;if(w){var C=w.declarations;C&&(C.forEach(function(e){s(e,"module.exports."+r(e))}),s({range:[n.start,w.start+w.kind.length]},""))}else if(x){var S=x.map(function(e){var t=r(e);return"module.exports."+t+" = "+t+"; "}).join("");S&&s(n,S)}}}}(g(e,{ranges:!0,preserveParens:!0,sourceType:"module"})),a&&(p&&(e=new Array(b+1).join("\n")+e),/^(inline|both)$/.test(f)&&(e+="\n//# sourceMappingURL=data:application/json;base64,"+o.btoa(unescape(encodeURIComponent(JSON.stringify(a))))),e+="\n//# sourceURL="+(c||"paperscript")),{url:c,source:v,code:e,map:a}}function S(e,t,n){he=t;var i,r=t.getView(),s=/\btool\.\w+|\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\b/.test(e)&&!/\bnew\s+Tool\b/.test(e)?new re:null,o=s?s._events:[],a=["onFrame","onResize"].concat(o),l=[],h=[],d="object"==typeof e?e:C(e,n);function p(t,n){for(var i in t)!n&&/^_/.test(i)||!new RegExp("([\\b\\s\\W]|^)"+i.replace(/\$/g,"\\$")+"\\b").test(e)||(l.push(i),h.push(t[i]))}e=d.code,p({__$__:w,$__:x,paper:t,view:r,tool:s},!0),p(t),e="var module = { exports: {} }; "+e,(y=c.each(a,function(t){new RegExp("\\s+"+t+"\\b").test(e)&&(l.push(t),this.push("module.exports."+t+" = "+t+";"))},[]).join("\n"))&&(e+="\n"+y),e+="\nreturn module.exports;";var f=he.agent;if(u&&(f.chrome||f.firefox&&f.versionNumber<40)){var g=u.createElement("script"),m=u.head||u.getElementsByTagName("head")[0];f.firefox&&(e="\n"+e),g.appendChild(u.createTextNode("document.__paperscript__ = function("+l+") {"+e+"\n}")),m.appendChild(g),i=u.__paperscript__,delete u.__paperscript__,m.removeChild(g)}else i=Function(l,e);var y,_=(y=i&&i.apply(t,h))||{};return c.each(o,function(e){var t=_[e];t&&(s[e]=t)}),r&&(_.onResize&&r.setOnResize(_.onResize),r.emit("resize",{size:r.size,delta:new v}),_.onFrame&&r.setOnFrame(_.onFrame),r.requestUpdate()),y}function E(e){if(/^text\/(?:x-|)paperscript$/.test(e.type)&&"true"!==d.getAttribute(e,"ignore")){var t=d.getAttribute(e,"canvas"),n=u.getElementById(t),i=e.src||e.getAttribute("data-src"),r=d.hasAttribute(e,"async");if(!n)throw new Error('Unable to find canvas with id "'+t+'"');var s=d.get(n.getAttribute("data-paper-scope"))||(new d).setup(n);return n.setAttribute("data-paper-scope",s._id),i?oe.request({url:i,async:r,mimeType:"text/plain",onLoad:function(e){S(e,s,i)}}):S(e.innerHTML,s,e.baseURI),e.setAttribute("data-paper-ignore","true"),s}}function T(){c.each(u&&u.getElementsByTagName("script"),E)}return v.inject(b),_.inject(b),W.inject(b),l&&("complete"===u.readyState?setTimeout(T):K.add(l,{load:T})),{compile:C,execute:S,load:function(e){return e?E(e):T()},parse:g,calculateBinary:w,calculateUnary:x}}).call(this);var he=new(d.inject(c.exports,{Base:c,Numerical:g,Key:te,DomEvent:K,DomElement:Z,document:u,window:l,Symbol:k,PlacedSymbol:D}));return he.agent.node&&n(2)(he),(s="function"==typeof(r=he)?r.call(t,n,t,e):r)===a||(e.exports=s),he}).call(this,"object"==typeof self?self:null)},IjjT:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("Y/cZ");class r extends i.a{constructor(e,t=i.a.now){super(e,()=>r.delegate&&r.delegate!==this?r.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,n){return r.delegate&&r.delegate!==this?r.delegate.schedule(e,t,n):super.schedule(e,t,n)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}},Itiq:function(e,t,n){var i=n("mrSG").__decorate,r=n("mrSG").__metadata;Object.defineProperty(t,"__esModule",{value:!0});var s=n("8Y7J"),o=n("GS7A"),a=n("SVse"),l=n("7LN8"),u=0,c=function(){function e(e){this.accordion=e,this.cache=!0,this.selectedChange=new s.EventEmitter,this.transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)",this.id="ui-accordiontab-"+u++}return e.prototype.ngAfterContentInit=function(){var e=this;this.templates.forEach(function(t){switch(t.getType()){case"content":default:e.contentTemplate=t.template}})},e.prototype.toggle=function(e){if(this.disabled||this.animating)return!1;this.animating=!0;var t=this.findTabIndex();if(this.selected)this.selected=!1,this.accordion.onClose.emit({originalEvent:e,index:t});else{if(!this.accordion.multiple)for(var n=0;n<this.accordion.tabs.length;n++)this.accordion.tabs[n].selected=!1,this.accordion.tabs[n].selectedChange.emit(!1);this.selected=!0,this.loaded=!0,this.accordion.onOpen.emit({originalEvent:e,index:t})}this.selectedChange.emit(this.selected),e.preventDefault()},e.prototype.findTabIndex=function(){for(var e=-1,t=0;t<this.accordion.tabs.length;t++)if(this.accordion.tabs[t]==this){e=t;break}return e},Object.defineProperty(e.prototype,"hasHeaderFacet",{get:function(){return this.headerFacet&&this.headerFacet.length>0},enumerable:!0,configurable:!0}),e.prototype.onToggleDone=function(e){this.animating=!1},e.prototype.ngOnDestroy=function(){this.accordion.tabs.splice(this.findTabIndex(),1)},i([s.Input(),r("design:type",String)],e.prototype,"header",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"selected",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"disabled",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"cache",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"selectedChange",void 0),i([s.Input(),r("design:type",String)],e.prototype,"transitionOptions",void 0),i([s.ContentChildren(l.Header),r("design:type",s.QueryList)],e.prototype,"headerFacet",void 0),i([s.ContentChildren(l.PrimeTemplate),r("design:type",s.QueryList)],e.prototype,"templates",void 0),i([s.Component({selector:"p-accordionTab",template:'\n        <div class="ui-accordion-header ui-state-default ui-corner-all" [ngClass]="{\'ui-state-active\': selected,\'ui-state-disabled\':disabled}">\n            <a tabindex="0" [attr.id]="id" [attr.aria-controls]="id + \'-content\'" role="tab" [attr.aria-expanded]="selected" (click)="toggle($event)" \n                (keydown.space)="toggle($event)" (keydown.enter)="toggle($event)">\n                <span class="ui-accordion-toggle-icon" [ngClass]="selected ? accordion.collapseIcon : accordion.expandIcon"></span>\n                <span class="ui-accordion-header-text" *ngIf="!hasHeaderFacet">\n                    {{header}}\n                </span>\n                <ng-content select="p-header" *ngIf="hasHeaderFacet"></ng-content>\n            </a>\n        </div>\n        <div [attr.id]="id + \'-content\'" class="ui-accordion-content-wrapper" [@tabContent]="selected ? {value: \'visible\', params: {transitionParams: transitionOptions}} : {value: \'hidden\', params: {transitionParams: transitionOptions}}" (@tabContent.done)="onToggleDone($event)"\n            [ngClass]="{\'ui-accordion-content-wrapper-overflown\': !selected||animating}" \n            role="tabpanel" [attr.aria-hidden]="!selected" [attr.aria-labelledby]="id">\n            <div class="ui-accordion-content ui-widget-content">\n                <ng-content></ng-content>\n                <ng-container *ngIf="contentTemplate && (cache ? loaded : selected)">\n                    <ng-container *ngTemplateOutlet="contentTemplate"></ng-container>\n                </ng-container>\n            </div>\n        </div>\n    ',animations:[o.trigger("tabContent",[o.state("hidden",o.style({height:"0"})),o.state("visible",o.style({height:"*"})),o.transition("visible <=> hidden",o.animate("{{transitionParams}}"))])]})],e)}();t.AccordionTab=c;var h=function(){function e(e,t){this.el=e,this.changeDetector=t,this.onClose=new s.EventEmitter,this.onOpen=new s.EventEmitter,this.expandIcon="pi pi-fw pi-caret-right",this.collapseIcon="pi pi-fw pi-caret-down",this.tabs=[]}return e.prototype.ngAfterContentInit=function(){var e=this;this.initTabs(),this.tabListSubscription=this.tabList.changes.subscribe(function(t){e.initTabs(),e.changeDetector.markForCheck()})},e.prototype.initTabs=function(){this.tabs=this.tabList.toArray(),this.updateSelectionState()},e.prototype.getBlockableElement=function(){return this.el.nativeElement.children[0]},Object.defineProperty(e.prototype,"activeIndex",{get:function(){return this._activeIndex},set:function(e){this._activeIndex=e,this.updateSelectionState()},enumerable:!0,configurable:!0}),e.prototype.updateSelectionState=function(){if(this.tabs&&this.tabs.length&&null!=this._activeIndex)for(var e=0;e<this.tabs.length;e++){var t=this.multiple?this._activeIndex.includes(e):e===this._activeIndex;t!==this.tabs[e].selected&&(this.tabs[e].animating=!0),this.tabs[e].selected=t,this.tabs[e].selectedChange.emit(t)}},e.prototype.ngOnDestroy=function(){this.tabListSubscription&&this.tabListSubscription.unsubscribe()},i([s.Input(),r("design:type",Boolean)],e.prototype,"multiple",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"onClose",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"onOpen",void 0),i([s.Input(),r("design:type",Object)],e.prototype,"style",void 0),i([s.Input(),r("design:type",String)],e.prototype,"styleClass",void 0),i([s.Input(),r("design:type",String)],e.prototype,"expandIcon",void 0),i([s.Input(),r("design:type",String)],e.prototype,"collapseIcon",void 0),i([s.ContentChildren(c),r("design:type",s.QueryList)],e.prototype,"tabList",void 0),i([s.Input(),r("design:type",Object),r("design:paramtypes",[Object])],e.prototype,"activeIndex",null),i([s.Component({selector:"p-accordion",template:'\n        <div [ngClass]="\'ui-accordion ui-widget ui-helper-reset\'" [ngStyle]="style" [class]="styleClass" role="tablist">\n            <ng-content></ng-content>\n        </div>\n    '})],e)}();t.Accordion=h,t.AccordionModule=function(){return i([s.NgModule({imports:[a.CommonModule],exports:[h,c,l.SharedModule],declarations:[h,c]})],function(){})}()},IzEk:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("7o/Q"),r=n("4I5i"),s=n("EY2u");function o(e){return t=>0===e?Object(s.b)():t.lift(new a(e))}class a{constructor(e){if(this.total=e,this.total<0)throw new r.a}call(e,t){return t.subscribe(new l(e,this.total))}}class l extends i.a{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}},JIr8:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("l7GE"),r=n("51Dv"),s=n("ZUHj");function o(e){return function(t){const n=new a(e),i=t.lift(n);return n.caught=i}}class a{constructor(e){this.selector=e}call(e,t){return t.subscribe(new l(e,this.selector,this.caught))}}class l extends i.a{constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const i=new r.a(this,void 0,void 0);this.add(i),Object(s.a)(this,n,void 0,void 0,i)}}}},JX91:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var i=n("yCtX"),r=n("XUOw"),s=n("EY2u"),o=n("GyhO"),a=n("z+Ro");function l(...e){return t=>{let n=e[e.length-1];Object(a.a)(n)?e.pop():n=null;const l=e.length;return 1!==l||n?l>0?Object(o.a)(Object(i.a)(e,n),t):Object(o.a)(Object(s.b)(n),t):Object(o.a)(Object(r.a)(e[0]),t)}}},K8Pq:function(e,t,n){var i=n("mrSG").__decorate,r=n("mrSG").__metadata;Object.defineProperty(t,"__esModule",{value:!0});var s=n("8Y7J"),o=n("SVse"),a=n("sdDj"),l=n("s7LF");t.SLIDER_VALUE_ACCESSOR={provide:l.NG_VALUE_ACCESSOR,useExisting:s.forwardRef(function(){return u}),multi:!0};var u=function(){function e(e,t,n,i){this.el=e,this.renderer=t,this.ngZone=n,this.cd=i,this.min=0,this.max=100,this.orientation="horizontal",this.onChange=new s.EventEmitter,this.onSlideEnd=new s.EventEmitter,this.handleValues=[],this.onModelChange=function(){},this.onModelTouched=function(){},this.handleIndex=0}return e.prototype.onMouseDown=function(e,t){this.disabled||(this.dragging=!0,this.updateDomData(),this.sliderHandleClick=!0,this.handleIndex=t,this.bindDragListeners(),e.preventDefault())},e.prototype.onTouchStart=function(e,t){var n=e.changedTouches[0];this.startHandleValue=this.range?this.handleValues[t]:this.handleValue,this.dragging=!0,this.handleIndex=t,"horizontal"===this.orientation?(this.startx=parseInt(n.clientX,10),this.barWidth=this.el.nativeElement.children[0].offsetWidth):(this.starty=parseInt(n.clientY,10),this.barHeight=this.el.nativeElement.children[0].offsetHeight),e.preventDefault()},e.prototype.onTouchMove=function(e,t){var n,i=e.changedTouches[0];n="horizontal"===this.orientation?Math.floor(100*(parseInt(i.clientX,10)-this.startx)/this.barWidth)+this.startHandleValue:Math.floor(100*(this.starty-parseInt(i.clientY,10))/this.barHeight)+this.startHandleValue,this.setValueFromHandle(e,n),e.preventDefault()},e.prototype.onTouchEnd=function(e,t){this.dragging=!1,this.onSlideEnd.emit(this.range?{originalEvent:e,values:this.values}:{originalEvent:e,value:this.value}),e.preventDefault()},e.prototype.onBarClick=function(e){this.disabled||(this.sliderHandleClick||(this.updateDomData(),this.handleChange(e)),this.sliderHandleClick=!1)},e.prototype.handleChange=function(e){var t=this.calculateHandleValue(e);this.setValueFromHandle(e,t)},e.prototype.bindDragListeners=function(){var e=this;this.ngZone.runOutsideAngular(function(){e.dragListener||(e.dragListener=e.renderer.listen("document","mousemove",function(t){e.dragging&&e.ngZone.run(function(){e.handleChange(t)})})),e.mouseupListener||(e.mouseupListener=e.renderer.listen("document","mouseup",function(t){e.dragging&&(e.dragging=!1,e.ngZone.run(function(){e.onSlideEnd.emit(e.range?{originalEvent:t,values:e.values}:{originalEvent:t,value:e.value})}))}))})},e.prototype.unbindDragListeners=function(){this.dragListener&&this.dragListener(),this.mouseupListener&&this.mouseupListener()},e.prototype.setValueFromHandle=function(e,t){var n=this.getValueFromHandle(t);this.range?this.step?this.handleStepChange(n,this.values[this.handleIndex]):(this.handleValues[this.handleIndex]=t,this.updateValue(n,e)):this.step?this.handleStepChange(n,this.value):(this.handleValue=t,this.updateValue(n,e))},e.prototype.handleStepChange=function(e,t){var n=e-t,i=t;n<0?i=t+Math.ceil(e/this.step-t/this.step)*this.step:n>0&&(i=t+Math.floor(e/this.step-t/this.step)*this.step),this.updateValue(i),this.updateHandleValue()},e.prototype.writeValue=function(e){this.range?this.values=e||[0,0]:this.value=e||0,this.updateHandleValue(),this.cd.markForCheck()},e.prototype.registerOnChange=function(e){this.onModelChange=e},e.prototype.registerOnTouched=function(e){this.onModelTouched=e},e.prototype.setDisabledState=function(e){this.disabled=e},Object.defineProperty(e.prototype,"rangeStartLeft",{get:function(){return this.isVertical()?"auto":this.handleValues[0]+"%"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rangeStartBottom",{get:function(){return this.isVertical()?this.handleValues[0]+"%":"auto"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rangeEndLeft",{get:function(){return this.isVertical()?"auto":this.handleValues[1]+"%"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rangeEndBottom",{get:function(){return this.isVertical()?this.handleValues[1]+"%":"auto"},enumerable:!0,configurable:!0}),e.prototype.isVertical=function(){return"vertical"===this.orientation},e.prototype.updateDomData=function(){var e=this.el.nativeElement.children[0].getBoundingClientRect();this.initX=e.left+a.DomHandler.getWindowScrollLeft(),this.initY=e.top+a.DomHandler.getWindowScrollTop(),this.barWidth=this.el.nativeElement.children[0].offsetWidth,this.barHeight=this.el.nativeElement.children[0].offsetHeight},e.prototype.calculateHandleValue=function(e){return"horizontal"===this.orientation?100*(e.pageX-this.initX)/this.barWidth:100*(this.initY+this.barHeight-e.pageY)/this.barHeight},e.prototype.updateHandleValue=function(){this.range?(this.handleValues[0]=100*(this.values[0]<this.min?0:this.values[0]-this.min)/(this.max-this.min),this.handleValues[1]=100*(this.values[1]>this.max?100:this.values[1]-this.min)/(this.max-this.min)):this.handleValue=this.value<this.min?0:this.value>this.max?100:100*(this.value-this.min)/(this.max-this.min)},e.prototype.updateValue=function(e,t){if(this.range){var n=e;0==this.handleIndex?n<this.min?(n=this.min,this.handleValues[0]=0):n>this.values[1]&&(n=this.values[1],this.handleValues[0]=this.handleValues[1]):n>this.max?(n=this.max,this.handleValues[1]=100):n<this.values[0]&&(n=this.values[0],this.handleValues[1]=this.handleValues[0]),this.values[this.handleIndex]=Math.floor(n),this.onModelChange(this.values),this.onChange.emit({event:t,values:this.values})}else e<this.min?(e=this.min,this.handleValue=0):e>this.max&&(e=this.max,this.handleValue=100),this.value=Math.floor(e),this.onModelChange(this.value),this.onChange.emit({event:t,value:this.value})},e.prototype.getValueFromHandle=function(e){return e/100*(this.max-this.min)+this.min},e.prototype.ngOnDestroy=function(){this.unbindDragListeners()},i([s.Input(),r("design:type",Boolean)],e.prototype,"animate",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"disabled",void 0),i([s.Input(),r("design:type",Number)],e.prototype,"min",void 0),i([s.Input(),r("design:type",Number)],e.prototype,"max",void 0),i([s.Input(),r("design:type",String)],e.prototype,"orientation",void 0),i([s.Input(),r("design:type",Number)],e.prototype,"step",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"range",void 0),i([s.Input(),r("design:type",Object)],e.prototype,"style",void 0),i([s.Input(),r("design:type",String)],e.prototype,"styleClass",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"onChange",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"onSlideEnd",void 0),i([s.Component({selector:"p-slider",template:'\n        <div [ngStyle]="style" [class]="styleClass" [ngClass]="{\'ui-slider ui-widget ui-widget-content ui-corner-all\':true,\'ui-state-disabled\':disabled,\n            \'ui-slider-horizontal\':orientation == \'horizontal\',\'ui-slider-vertical\':orientation == \'vertical\',\'ui-slider-animate\':animate}"\n            (click)="onBarClick($event)">\n            <span *ngIf="range && orientation == \'horizontal\'" class="ui-slider-range ui-widget-header ui-corner-all" [ngStyle]="{\'left\':handleValues[0] + \'%\',width: (handleValues[1] - handleValues[0] + \'%\')}"></span>\n            <span *ngIf="range && orientation == \'vertical\'" class="ui-slider-range ui-widget-header ui-corner-all" [ngStyle]="{\'bottom\':handleValues[0] + \'%\',height: (handleValues[1] - handleValues[0] + \'%\')}"></span>\n            <span *ngIf="!range && orientation==\'vertical\'" class="ui-slider-range ui-slider-range-min ui-widget-header ui-corner-all" [ngStyle]="{\'height\': handleValue + \'%\'}"></span>\n            <span *ngIf="!range && orientation==\'horizontal\'" class="ui-slider-range ui-slider-range-min ui-widget-header ui-corner-all" [ngStyle]="{\'width\': handleValue + \'%\'}"></span>\n            <span *ngIf="!range" class="ui-slider-handle ui-state-default ui-corner-all ui-clickable" (mousedown)="onMouseDown($event)" (touchstart)="onTouchStart($event)" (touchmove)="onTouchMove($event)" (touchend)="onTouchEnd($event)"\n                [style.transition]="dragging ? \'none\': null" [ngStyle]="{\'left\': orientation == \'horizontal\' ? handleValue + \'%\' : null,\'bottom\': orientation == \'vertical\' ? handleValue + \'%\' : null}"></span>\n            <span *ngIf="range" (mousedown)="onMouseDown($event,0)" (touchstart)="onTouchStart($event,0)" (touchmove)="onTouchMove($event,0)" (touchend)="onTouchEnd($event)" [style.transition]="dragging ? \'none\': null" class="ui-slider-handle ui-state-default ui-corner-all ui-clickable" \n                [ngStyle]="{\'left\': rangeStartLeft, \'bottom\': rangeStartBottom}" [ngClass]="{\'ui-slider-handle-active\':handleIndex==0}"></span>\n            <span *ngIf="range" (mousedown)="onMouseDown($event,1)" (touchstart)="onTouchStart($event,1)" (touchmove)="onTouchMove($event,1)" (touchend)="onTouchEnd($event)" [style.transition]="dragging ? \'none\': null" class="ui-slider-handle ui-state-default ui-corner-all ui-clickable" \n                [ngStyle]="{\'left\': rangeEndLeft, \'bottom\': rangeEndBottom}" [ngClass]="{\'ui-slider-handle-active\':handleIndex==1}"></span>\n        </div>\n    ',providers:[t.SLIDER_VALUE_ACCESSOR]})],e)}();t.Slider=u,t.SliderModule=function(){return i([s.NgModule({imports:[o.CommonModule],exports:[u],declarations:[u]})],function(){})}()},"KB/w":function(e,t,n){var i=n("mrSG").__decorate,r=n("mrSG").__metadata;Object.defineProperty(t,"__esModule",{value:!0});var s=n("8Y7J"),o=n("GS7A"),a=n("SVse"),l=n("VSng"),u=n("sdDj"),c=n("7LN8"),h=n("s7LF");t.CALENDAR_VALUE_ACCESSOR={provide:h.NG_VALUE_ACCESSOR,useExisting:s.forwardRef(function(){return d}),multi:!0};var d=function(){function e(e,t,n){this.el=e,this.renderer=t,this.cd=n,this.dateFormat="mm/dd/yy",this.inline=!1,this.showOtherMonths=!0,this.icon="pi pi-calendar",this.shortYearCutoff="+10",this.hourFormat="24",this.stepHour=1,this.stepMinute=1,this.stepSecond=1,this.showSeconds=!1,this.showOnFocus=!0,this.dataType="date",this.selectionMode="single",this.todayButtonStyleClass="ui-button-secondary",this.clearButtonStyleClass="ui-button-secondary",this.autoZIndex=!0,this.baseZIndex=0,this.keepInvalid=!1,this.hideOnDateTimeSelect=!1,this.numberOfMonths=1,this.view="date",this.showTransitionOptions="225ms ease-out",this.hideTransitionOptions="195ms ease-in",this.onFocus=new s.EventEmitter,this.onBlur=new s.EventEmitter,this.onClose=new s.EventEmitter,this.onSelect=new s.EventEmitter,this.onInput=new s.EventEmitter,this.onTodayClick=new s.EventEmitter,this.onClearClick=new s.EventEmitter,this.onMonthChange=new s.EventEmitter,this.onYearChange=new s.EventEmitter,this._locale={firstDayOfWeek:0,dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",dateFormat:"mm/dd/yy"},this.onModelChange=function(){},this.onModelTouched=function(){},this.inputFieldValue=null}return Object.defineProperty(e.prototype,"utc",{get:function(){return this._utc},set:function(e){this._utc=e,console.log("Setting utc has no effect as built-in UTC support is dropped.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minDate",{get:function(){return this._minDate},set:function(e){this._minDate=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxDate",{get:function(){return this._maxDate},set:function(e){this._maxDate=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabledDates",{get:function(){return this._disabledDates},set:function(e){this._disabledDates=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabledDays",{get:function(){return this._disabledDays},set:function(e){this._disabledDays=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showTime",{get:function(){return this._showTime},set:function(e){this._showTime=e,void 0===this.currentHour&&this.initTime(this.value||new Date),this.updateInputfield()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"locale",{get:function(){return this._locale},set:function(e){this._locale=e,"date"===this.view?(this.createWeekDays(),this.createMonths(this.currentMonth,this.currentYear)):"month"===this.view&&this.createMonthPickerValues()},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this.defaultDate||new Date;if(this.currentMonth=e.getMonth(),this.currentYear=e.getFullYear(),this.yearNavigator&&this.yearRange){var t=this.yearRange.split(":"),n=parseInt(t[0]),i=parseInt(t[1]);this.populateYearOptions(n,i)}"date"===this.view?(this.createWeekDays(),this.initTime(e),this.createMonths(this.currentMonth,this.currentYear),this.ticksTo1970=24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7):"month"===this.view&&this.createMonthPickerValues()},e.prototype.ngAfterContentInit=function(){var e=this;this.templates.forEach(function(t){switch(t.getType()){case"date":default:e.dateTemplate=t.template}})},e.prototype.populateYearOptions=function(e,t){this.yearOptions=[];for(var n=e;n<=t;n++)this.yearOptions.push(n)},e.prototype.createWeekDays=function(){this.weekDays=[];for(var e=this.locale.firstDayOfWeek,t=0;t<7;t++)this.weekDays.push(this.locale.dayNamesMin[e]),e=6==e?0:++e},e.prototype.createMonthPickerValues=function(){this.monthPickerValues=[];for(var e=0;e<=11;e++)this.monthPickerValues.push(this.locale.monthNamesShort[e])},e.prototype.createMonths=function(e,t){this.months=this.months=[];for(var n=0;n<this.numberOfMonths;n++){var i=e+n,r=t;i>11&&(i=i%11-1,r=t+1),this.months.push(this.createMonth(i,r))}},e.prototype.createMonth=function(e,t){for(var n=[],i=this.getFirstDayOfMonthIndex(e,t),r=this.getDaysCountInMonth(e,t),s=this.getDaysCountInPrevMonth(e,t),o=(this.getSundayIndex(),1),a=new Date,l=0;l<6;l++){var u=[];if(0==l){for(var c=s-i+1;c<=s;c++){var h=this.getPreviousMonthAndYear(e,t);u.push({day:c,month:h.month,year:h.year,otherMonth:!0,today:this.isToday(a,c,h.month,h.year),selectable:this.isSelectable(c,h.month,h.year,!0)})}var d=7-u.length;for(c=0;c<d;c++)u.push({day:o,month:e,year:t,today:this.isToday(a,o,e,t),selectable:this.isSelectable(o,e,t,!1)}),o++}else for(c=0;c<7;c++){if(o>r){var p=this.getNextMonthAndYear(e,t);u.push({day:o-r,month:p.month,year:p.year,otherMonth:!0,today:this.isToday(a,o-r,p.month,p.year),selectable:this.isSelectable(o-r,p.month,p.year,!0)})}else u.push({day:o,month:e,year:t,today:this.isToday(a,o,e,t),selectable:this.isSelectable(o,e,t,!1)});o++}n.push(u)}return{month:e,year:t,dates:n}},e.prototype.initTime=function(e){this.pm=e.getHours()>11,this.showTime?(this.currentMinute=e.getMinutes(),this.currentSecond=e.getSeconds(),this.currentHour="12"==this.hourFormat?0==e.getHours()?12:e.getHours()%12:e.getHours()):this.timeOnly&&(this.currentMinute=0,this.currentHour=0,this.currentSecond=0)},e.prototype.navBackward=function(e){this.disabled?e.preventDefault():("month"===this.view?this.decrementYear():(0===this.currentMonth?(this.currentMonth=11,this.decrementYear()):this.currentMonth--,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)),e.preventDefault())},e.prototype.navForward=function(e){this.disabled?e.preventDefault():("month"===this.view?this.incrementYear():(11===this.currentMonth?(this.currentMonth=0,this.incrementYear()):this.currentMonth++,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)),e.preventDefault())},e.prototype.decrementYear=function(){if(this.currentYear--,this.yearNavigator&&this.currentYear<this.yearOptions[0]){var e=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]-e,this.yearOptions[this.yearOptions.length-1]-e)}},e.prototype.incrementYear=function(){if(this.currentYear++,this.yearNavigator&&this.currentYear>this.yearOptions[this.yearOptions.length-1]){var e=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]+e,this.yearOptions[this.yearOptions.length-1]+e)}},e.prototype.onDateSelect=function(e,t){var n=this;!this.disabled&&t.selectable?(this.isMultipleSelection()&&this.isSelected(t)?(this.value=this.value.filter(function(e,i){return!n.isDateEquals(e,t)}),this.updateModel(this.value)):this.shouldSelectDate(t)&&(t.otherMonth?(this.currentMonth=t.month,this.currentYear=t.year,this.createMonths(this.currentMonth,this.currentYear),this.selectDate(t)):this.selectDate(t)),!this.isSingleSelection()||this.showTime&&!this.hideOnDateTimeSelect||setTimeout(function(){e.preventDefault(),n.hideOverlay(),n.mask&&n.disableModality(),n.cd.markForCheck()},150),this.updateInputfield(),e.preventDefault()):e.preventDefault()},e.prototype.shouldSelectDate=function(e){return!this.isMultipleSelection()||!this.maxDateCount||!this.value||this.maxDateCount>this.value.length},e.prototype.onMonthSelect=function(e,t){this.onDateSelect(e,{year:this.currentYear,month:t,day:1,selectable:!0})},e.prototype.updateInputfield=function(){var e="";if(this.value)if(this.isSingleSelection())e=this.formatDateTime(this.value);else if(this.isMultipleSelection())for(var t=0;t<this.value.length;t++)e+=this.formatDateTime(this.value[t]),t!==this.value.length-1&&(e+=", ");else if(this.isRangeSelection()&&this.value&&this.value.length){var n=this.value[1];e=this.formatDateTime(this.value[0]),n&&(e+=" - "+this.formatDateTime(n))}this.inputFieldValue=e,this.updateFilledState(),this.inputfieldViewChild&&this.inputfieldViewChild.nativeElement&&(this.inputfieldViewChild.nativeElement.value=this.inputFieldValue)},e.prototype.formatDateTime=function(e){var t=null;return e&&(this.timeOnly?t=this.formatTime(e):(t=this.formatDate(e,this.getDateFormat()),this.showTime&&(t+=" "+this.formatTime(e)))),t},e.prototype.selectDate=function(e){var t=new Date(e.year,e.month,e.day);if(this.showTime&&(t.setHours("12"===this.hourFormat&&this.pm&&12!=this.currentHour?this.currentHour+12:this.currentHour),t.setMinutes(this.currentMinute),t.setSeconds(this.currentSecond)),this.minDate&&this.minDate>t&&(this.currentHour=(t=this.minDate).getHours(),this.currentMinute=t.getMinutes(),this.currentSecond=t.getSeconds()),this.maxDate&&this.maxDate<t&&(this.currentHour=(t=this.maxDate).getHours(),this.currentMinute=t.getMinutes(),this.currentSecond=t.getSeconds()),this.isSingleSelection())this.updateModel(t);else if(this.isMultipleSelection())this.updateModel(this.value?this.value.concat([t]):[t]);else if(this.isRangeSelection())if(this.value&&this.value.length){var n=this.value[0],i=this.value[1];!i&&t.getTime()>=n.getTime()?i=t:(n=t,i=null),this.updateModel([n,i])}else this.updateModel([t,null]);this.onSelect.emit(t)},e.prototype.updateModel=function(e){var t=this;if(this.value=e,"date"==this.dataType)this.onModelChange(this.value);else if("string"==this.dataType)if(this.isSingleSelection())this.onModelChange(this.formatDateTime(this.value));else{var n=null;this.value&&(n=this.value.map(function(e){return t.formatDateTime(e)})),this.onModelChange(n)}},e.prototype.getFirstDayOfMonthIndex=function(e,t){var n=new Date;n.setDate(1),n.setMonth(e),n.setFullYear(t);var i=n.getDay()+this.getSundayIndex();return i>=7?i-7:i},e.prototype.getDaysCountInMonth=function(e,t){return 32-this.daylightSavingAdjust(new Date(t,e,32)).getDate()},e.prototype.getDaysCountInPrevMonth=function(e,t){var n=this.getPreviousMonthAndYear(e,t);return this.getDaysCountInMonth(n.month,n.year)},e.prototype.getPreviousMonthAndYear=function(e,t){var n,i;return 0===e?(n=11,i=t-1):(n=e-1,i=t),{month:n,year:i}},e.prototype.getNextMonthAndYear=function(e,t){var n,i;return 11===e?(n=0,i=t+1):(n=e+1,i=t),{month:n,year:i}},e.prototype.getSundayIndex=function(){return this.locale.firstDayOfWeek>0?7-this.locale.firstDayOfWeek:0},e.prototype.isSelected=function(e){if(!this.value)return!1;if(this.isSingleSelection())return this.isDateEquals(this.value,e);if(this.isMultipleSelection()){for(var t=!1,n=0,i=this.value;n<i.length&&!(t=this.isDateEquals(i[n],e));n++);return t}return this.isRangeSelection()?this.value[1]?this.isDateEquals(this.value[0],e)||this.isDateEquals(this.value[1],e)||this.isDateBetween(this.value[0],this.value[1],e):this.isDateEquals(this.value[0],e):void 0},e.prototype.isMonthSelected=function(e){return!!this.value&&this.value.getMonth()===e&&this.value.getFullYear()===this.currentYear},e.prototype.isDateEquals=function(e,t){return!!e&&e.getDate()===t.day&&e.getMonth()===t.month&&e.getFullYear()===t.year},e.prototype.isDateBetween=function(e,t,n){if(e&&t){var i=new Date(n.year,n.month,n.day);return e.getTime()<=i.getTime()&&t.getTime()>=i.getTime()}return!1},e.prototype.isSingleSelection=function(){return"single"===this.selectionMode},e.prototype.isRangeSelection=function(){return"range"===this.selectionMode},e.prototype.isMultipleSelection=function(){return"multiple"===this.selectionMode},e.prototype.isToday=function(e,t,n,i){return e.getDate()===t&&e.getMonth()===n&&e.getFullYear()===i},e.prototype.isSelectable=function(e,t,n,i){var r=!0,s=!0,o=!0,a=!0;return!(i&&!this.selectOtherMonths)&&(this.minDate&&(this.minDate.getFullYear()>n?r=!1:this.minDate.getFullYear()===n&&(this.minDate.getMonth()>t?r=!1:this.minDate.getMonth()===t&&this.minDate.getDate()>e&&(r=!1))),this.maxDate&&(this.maxDate.getFullYear()<n?s=!1:this.maxDate.getFullYear()===n&&(this.maxDate.getMonth()<t?s=!1:this.maxDate.getMonth()===t&&this.maxDate.getDate()<e&&(s=!1))),this.disabledDates&&(o=!this.isDateDisabled(e,t,n)),this.disabledDays&&(a=!this.isDayDisabled(e,t,n)),r&&s&&o&&a)},e.prototype.isDateDisabled=function(e,t,n){if(this.disabledDates)for(var i=0,r=this.disabledDates;i<r.length;i++){var s=r[i];if(s.getFullYear()===n&&s.getMonth()===t&&s.getDate()===e)return!0}return!1},e.prototype.isDayDisabled=function(e,t,n){if(this.disabledDays){var i=new Date(n,t,e).getDay();return-1!==this.disabledDays.indexOf(i)}return!1},e.prototype.onInputFocus=function(e){this.focus=!0,this.showOnFocus&&this.showOverlay(),this.onFocus.emit(e)},e.prototype.onInputClick=function(e){this.datepickerClick=!0,this.overlay&&this.autoZIndex&&(this.overlay.style.zIndex=String(this.baseZIndex+ ++u.DomHandler.zindex)),this.showOnFocus&&!this.overlayVisible&&this.showOverlay()},e.prototype.onInputBlur=function(e){this.focus=!1,this.onBlur.emit(e),this.keepInvalid||this.updateInputfield(),this.onModelTouched()},e.prototype.onButtonClick=function(e,t){this.overlayVisible?this.hideOverlay():(t.focus(),this.showOverlay()),this.datepickerClick=!0},e.prototype.onInputKeydown=function(e){this.isKeydown=!0,9===e.keyCode&&(this.touchUI?this.disableModality():this.hideOverlay())},e.prototype.onMonthDropdownChange=function(e){this.currentMonth=parseInt(e),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)},e.prototype.onYearDropdownChange=function(e){this.currentYear=parseInt(e),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)},e.prototype.incrementHour=function(e){var t=this.currentHour,n=this.currentHour+this.stepHour;this.validateHour(n)&&("24"==this.hourFormat?this.currentHour=n>=24?n-24:n:"12"==this.hourFormat&&(t<12&&n>11&&(this.pm=!this.pm),this.currentHour=n>=13?n-12:n)),e.preventDefault()},e.prototype.onTimePickerElementMouseDown=function(e,t,n){this.disabled||(this.repeat(e,null,t,n),e.preventDefault())},e.prototype.onTimePickerElementMouseUp=function(e){this.disabled||(this.clearTimePickerTimer(),this.updateTime())},e.prototype.repeat=function(e,t,n,i){var r=this,s=t||500;switch(this.clearTimePickerTimer(),this.timePickerTimer=setTimeout(function(){r.repeat(e,100,n,i)},s),n){case 0:1===i?this.incrementHour(e):this.decrementHour(e);break;case 1:1===i?this.incrementMinute(e):this.decrementMinute(e);break;case 2:1===i?this.incrementSecond(e):this.decrementSecond(e)}this.updateInputfield()},e.prototype.clearTimePickerTimer=function(){this.timePickerTimer&&clearInterval(this.timePickerTimer)},e.prototype.decrementHour=function(e){var t=this.currentHour-this.stepHour;this.validateHour(t)&&("24"==this.hourFormat?this.currentHour=t<0?24+t:t:"12"==this.hourFormat&&(12===this.currentHour&&(this.pm=!this.pm),this.currentHour=t<=0?12+t:t)),e.preventDefault()},e.prototype.validateHour=function(e){var t=!0,n=this.value;this.isRangeSelection()&&(n=this.value[1]||this.value[0]),this.isMultipleSelection()&&(n=this.value[this.value.length-1]);var i=n?n.toDateString():null;return this.minDate&&i&&this.minDate.toDateString()===i&&this.minDate.getHours()>e&&(t=!1),this.maxDate&&i&&this.maxDate.toDateString()===i&&this.maxDate.getHours()<e&&(t=!1),t},e.prototype.incrementMinute=function(e){var t=this.currentMinute+this.stepMinute;this.validateMinute(t)&&(this.currentMinute=t>59?t-60:t),e.preventDefault()},e.prototype.decrementMinute=function(e){var t=this.currentMinute-this.stepMinute;this.validateMinute(t)&&(this.currentMinute=t<0?60+t:t),e.preventDefault()},e.prototype.validateMinute=function(e){var t=!0,n=this.value;this.isRangeSelection()&&(n=this.value[1]||this.value[0]),this.isMultipleSelection()&&(n=this.value[this.value.length-1]);var i=n?n.toDateString():null;return this.minDate&&i&&this.minDate.toDateString()===i&&n.getHours()==this.minDate.getHours()&&this.minDate.getMinutes()>e&&(t=!1),this.maxDate&&i&&this.maxDate.toDateString()===i&&n.getHours()==this.maxDate.getHours()&&this.maxDate.getMinutes()<e&&(t=!1),t},e.prototype.incrementSecond=function(e){var t=this.currentSecond+this.stepSecond;this.validateSecond(t)&&(this.currentSecond=t>59?t-60:t),e.preventDefault()},e.prototype.decrementSecond=function(e){var t=this.currentSecond-this.stepSecond;this.validateSecond(t)&&(this.currentSecond=t<0?60+t:t),e.preventDefault()},e.prototype.validateSecond=function(e){var t=!0,n=this.value;this.isRangeSelection()&&(n=this.value[1]||this.value[0]),this.isMultipleSelection()&&(n=this.value[this.value.length-1]);var i=n?n.toDateString():null;return this.minDate&&i&&this.minDate.toDateString()===i&&this.minDate.getSeconds()>e&&(t=!1),this.maxDate&&i&&this.maxDate.toDateString()===i&&this.maxDate.getSeconds()<e&&(t=!1),t},e.prototype.updateTime=function(){var e=this.value;this.isRangeSelection()&&(e=this.value[1]||this.value[0]),this.isMultipleSelection()&&(e=this.value[this.value.length-1]),(e=e?new Date(e.getTime()):new Date).setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),e.setMinutes(this.currentMinute),e.setSeconds(this.currentSecond),this.isRangeSelection()&&(e=this.value[1]?[this.value[0],e]:[e,null]),this.isMultipleSelection()&&(e=this.value.slice(0,-1).concat([e])),this.updateModel(e),this.onSelect.emit(e),this.updateInputfield()},e.prototype.toggleAMPM=function(e){this.pm=!this.pm,this.updateTime(),e.preventDefault()},e.prototype.onUserInput=function(e){if(this.isKeydown){this.isKeydown=!1;var t=e.target.value;try{var n=this.parseValueFromString(t);this.isSelectable(n.getDate(),n.getMonth(),n.getFullYear(),!1)&&(this.updateModel(n),this.updateUI())}catch(i){this.updateModel(null)}this.filled=null!=t&&t.length,this.onInput.emit(e)}},e.prototype.parseValueFromString=function(e){if(!e||0===e.trim().length)return null;var t;if(this.isSingleSelection())t=this.parseDateTime(e);else if(this.isMultipleSelection()){t=[];for(var n=0,i=r=e.split(",");n<i.length;n++)t.push(this.parseDateTime(i[n].trim()))}else if(this.isRangeSelection()){var r=e.split(" - ");t=[];for(var s=0;s<r.length;s++)t[s]=this.parseDateTime(r[s].trim())}return t},e.prototype.parseDateTime=function(e){var t,n=e.split(" ");if(this.timeOnly)t=new Date,this.populateTime(t,n[0],n[1]);else{var i=this.getDateFormat();this.showTime?(t=this.parseDate(n[0],i),this.populateTime(t,n[1],n[2])):t=this.parseDate(e,i)}return t},e.prototype.populateTime=function(e,t,n){if("12"==this.hourFormat&&!n)throw"Invalid Time";this.pm="PM"===n||"pm"===n;var i=this.parseTime(t);e.setHours(i.hour),e.setMinutes(i.minute),e.setSeconds(i.second)},e.prototype.updateUI=function(){var e=this.value||this.defaultDate||new Date;if(Array.isArray(e)&&(e=e[0]),this.currentMonth=e.getMonth(),this.currentYear=e.getFullYear(),this.createMonths(this.currentMonth,this.currentYear),this.showTime||this.timeOnly){var t=e.getHours();"12"==this.hourFormat?(this.pm=t>11,this.currentHour=t>=12?12==t?12:t-12:0==t?12:t):this.currentHour=e.getHours(),this.currentMinute=e.getMinutes(),this.currentSecond=e.getSeconds()}},e.prototype.onDatePickerClick=function(e){this.datepickerClick=!0},e.prototype.showOverlay=function(){this.updateUI(),this.overlayVisible=!0},e.prototype.hideOverlay=function(){this.overlayVisible=!1},e.prototype.onOverlayAnimationStart=function(e){switch(e.toState){case"visible":case"visibleTouchUI":this.inline||(this.overlay=e.element,this.appendOverlay(),this.autoZIndex&&(this.overlay.style.zIndex=String(this.baseZIndex+ ++u.DomHandler.zindex)),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener());break;case"void":this.onOverlayHide(),this.onClose.emit(e)}},e.prototype.appendOverlay=function(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):u.DomHandler.appendChild(this.overlay,this.appendTo))},e.prototype.restoreOverlayAppend=function(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)},e.prototype.alignOverlay=function(){this.touchUI?this.enableModality(this.overlay):this.appendTo?u.DomHandler.absolutePosition(this.overlay,this.inputfieldViewChild.nativeElement):u.DomHandler.relativePosition(this.overlay,this.inputfieldViewChild.nativeElement)},e.prototype.enableModality=function(e){var t=this;this.mask||(this.mask=document.createElement("div"),this.mask.style.zIndex=String(parseInt(e.style.zIndex)-1),u.DomHandler.addMultipleClasses(this.mask,"ui-widget-overlay ui-datepicker-mask ui-datepicker-mask-scrollblocker"),this.maskClickListener=this.renderer.listen(this.mask,"click",function(e){t.disableModality()}),document.body.appendChild(this.mask),u.DomHandler.addClass(document.body,"ui-overflow-hidden"))},e.prototype.disableModality=function(){if(this.mask){document.body.removeChild(this.mask);for(var e=document.body.children,t=void 0,n=0;n<e.length;n++)if(u.DomHandler.hasClass(e[n],"ui-datepicker-mask-scrollblocker")){t=!0;break}t||u.DomHandler.removeClass(document.body,"ui-overflow-hidden"),this.hideOverlay(),this.unbindMaskClickListener(),this.mask=null}},e.prototype.unbindMaskClickListener=function(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)},e.prototype.writeValue=function(e){this.value=e,this.value&&"string"==typeof this.value&&(this.value=this.parseValueFromString(this.value)),this.updateInputfield(),this.updateUI()},e.prototype.registerOnChange=function(e){this.onModelChange=e},e.prototype.registerOnTouched=function(e){this.onModelTouched=e},e.prototype.setDisabledState=function(e){this.disabled=e},e.prototype.getDateFormat=function(){return this.dateFormat||this.locale.dateFormat},e.prototype.formatDate=function(e,t){if(!e)return"";var n,i=function(e){var i=n+1<t.length&&t.charAt(n+1)===e;return i&&n++,i},r=function(e,t,n){var r=""+t;if(i(e))for(;r.length<n;)r="0"+r;return r},s=function(e,t,n,r){return i(e)?r[t]:n[t]},o="",a=!1;if(e)for(n=0;n<t.length;n++)if(a)"'"!==t.charAt(n)||i("'")?o+=t.charAt(n):a=!1;else switch(t.charAt(n)){case"d":o+=r("d",e.getDate(),2);break;case"D":o+=s("D",e.getDay(),this.locale.dayNamesShort,this.locale.dayNames);break;case"o":o+=r("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":o+=r("m",e.getMonth()+1,2);break;case"M":o+=s("M",e.getMonth(),this.locale.monthNamesShort,this.locale.monthNames);break;case"y":o+=i("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":o+=e.getTime();break;case"!":o+=1e4*e.getTime()+this.ticksTo1970;break;case"'":i("'")?o+="'":a=!0;break;default:o+=t.charAt(n)}return o},e.prototype.formatTime=function(e){if(!e)return"";var t="",n=e.getHours(),i=e.getMinutes(),r=e.getSeconds();return"12"==this.hourFormat&&n>11&&12!=n&&(n-=12),t+="12"==this.hourFormat&&0===n?12:n<10?"0"+n:n,t+=":",t+=i<10?"0"+i:i,this.showSeconds&&(t+=":",t+=r<10?"0"+r:r),"12"==this.hourFormat&&(t+=e.getHours()>11?" PM":" AM"),t},e.prototype.parseTime=function(e){var t=e.split(":");if(t.length!==(this.showSeconds?3:2))throw"Invalid time";var n=parseInt(t[0]),i=parseInt(t[1]),r=this.showSeconds?parseInt(t[2]):null;if(isNaN(n)||isNaN(i)||n>23||i>59||"12"==this.hourFormat&&n>12||this.showSeconds&&(isNaN(r)||r>59))throw"Invalid time";return"12"==this.hourFormat&&12!==n&&this.pm&&(n+=12),{hour:n,minute:i,second:r}},e.prototype.parseDate=function(e,t){if(null==t||null==e)throw"Invalid arguments";if(""===(e="object"==typeof e?e.toString():e+""))return null;var n,i,r,s,o=0,a="string"!=typeof this.shortYearCutoff?this.shortYearCutoff:(new Date).getFullYear()%100+parseInt(this.shortYearCutoff,10),l=-1,u=-1,c=-1,h=-1,d=!1,p=function(e){var i=n+1<t.length&&t.charAt(n+1)===e;return i&&n++,i},f=function(t){var n=p(t),i="@"===t?14:"!"===t?20:"y"===t&&n?4:"o"===t?3:2,r=new RegExp("^\\d{"+("y"===t?i:1)+","+i+"}"),s=e.substring(o).match(r);if(!s)throw"Missing number at position "+o;return o+=s[0].length,parseInt(s[0],10)},g=function(t,n,i){for(var r=-1,s=p(t)?i:n,a=[],l=0;l<s.length;l++)a.push([l,s[l]]);for(a.sort(function(e,t){return-(e[1].length-t[1].length)}),l=0;l<a.length;l++){var u=a[l][1];if(e.substr(o,u.length).toLowerCase()===u.toLowerCase()){r=a[l][0],o+=u.length;break}}if(-1!==r)return r+1;throw"Unknown name at position "+o},m=function(){if(e.charAt(o)!==t.charAt(n))throw"Unexpected literal at position "+o;o++};for("month"===this.view&&(c=1),n=0;n<t.length;n++)if(d)"'"!==t.charAt(n)||p("'")?m():d=!1;else switch(t.charAt(n)){case"d":c=f("d");break;case"D":g("D",this.locale.dayNamesShort,this.locale.dayNames);break;case"o":h=f("o");break;case"m":u=f("m");break;case"M":u=g("M",this.locale.monthNamesShort,this.locale.monthNames);break;case"y":l=f("y");break;case"@":l=(s=new Date(f("@"))).getFullYear(),u=s.getMonth()+1,c=s.getDate();break;case"!":l=(s=new Date((f("!")-this.ticksTo1970)/1e4)).getFullYear(),u=s.getMonth()+1,c=s.getDate();break;case"'":p("'")?m():d=!0;break;default:m()}if(o<e.length&&(r=e.substr(o),!/^\s+/.test(r)))throw"Extra/unparsed characters found in date: "+r;if(-1===l?l=(new Date).getFullYear():l<100&&(l+=(new Date).getFullYear()-(new Date).getFullYear()%100+(l<=a?0:-100)),h>-1)for(u=1,c=h;!(c<=(i=this.getDaysCountInMonth(l,u-1)));)u++,c-=i;if((s=this.daylightSavingAdjust(new Date(l,u-1,c))).getFullYear()!==l||s.getMonth()+1!==u||s.getDate()!==c)throw"Invalid date";return s},e.prototype.daylightSavingAdjust=function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},e.prototype.updateFilledState=function(){this.filled=this.inputFieldValue&&""!=this.inputFieldValue},e.prototype.onTodayButtonClick=function(e){var t=new Date,n={day:t.getDate(),month:t.getMonth(),year:t.getFullYear(),otherMonth:t.getMonth()!==this.currentMonth||t.getFullYear()!==this.currentYear,today:!0,selectable:!0};this.onDateSelect(e,n),this.onTodayClick.emit(e)},e.prototype.onClearButtonClick=function(e){this.updateModel(null),this.updateInputfield(),this.hideOverlay(),this.onClearClick.emit(e)},e.prototype.bindDocumentClickListener=function(){var e=this;this.documentClickListener||(this.documentClickListener=this.renderer.listen("document","click",function(t){!e.datepickerClick&&e.overlayVisible&&e.hideOverlay(),e.datepickerClick=!1,e.cd.detectChanges()}))},e.prototype.unbindDocumentClickListener=function(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)},e.prototype.bindDocumentResizeListener=function(){this.documentResizeListener||this.touchUI||(this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener))},e.prototype.unbindDocumentResizeListener=function(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)},e.prototype.onWindowResize=function(){this.overlayVisible&&this.hideOverlay()},e.prototype.onOverlayHide=function(){this.unbindDocumentClickListener(),this.unbindMaskClickListener(),this.unbindDocumentResizeListener(),this.overlay=null},e.prototype.ngOnDestroy=function(){this.restoreOverlayAppend(),this.onOverlayHide()},i([s.Input(),r("design:type",Date)],e.prototype,"defaultDate",void 0),i([s.Input(),r("design:type",Object)],e.prototype,"style",void 0),i([s.Input(),r("design:type",String)],e.prototype,"styleClass",void 0),i([s.Input(),r("design:type",Object)],e.prototype,"inputStyle",void 0),i([s.Input(),r("design:type",String)],e.prototype,"inputId",void 0),i([s.Input(),r("design:type",String)],e.prototype,"name",void 0),i([s.Input(),r("design:type",String)],e.prototype,"inputStyleClass",void 0),i([s.Input(),r("design:type",String)],e.prototype,"placeholder",void 0),i([s.Input(),r("design:type",Object)],e.prototype,"disabled",void 0),i([s.Input(),r("design:type",String)],e.prototype,"dateFormat",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"inline",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"showOtherMonths",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"selectOtherMonths",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"showIcon",void 0),i([s.Input(),r("design:type",String)],e.prototype,"icon",void 0),i([s.Input(),r("design:type",Object)],e.prototype,"appendTo",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"readonlyInput",void 0),i([s.Input(),r("design:type",Object)],e.prototype,"shortYearCutoff",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"monthNavigator",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"yearNavigator",void 0),i([s.Input(),r("design:type",String)],e.prototype,"yearRange",void 0),i([s.Input(),r("design:type",String)],e.prototype,"hourFormat",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"timeOnly",void 0),i([s.Input(),r("design:type",Number)],e.prototype,"stepHour",void 0),i([s.Input(),r("design:type",Number)],e.prototype,"stepMinute",void 0),i([s.Input(),r("design:type",Number)],e.prototype,"stepSecond",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"showSeconds",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"required",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"showOnFocus",void 0),i([s.Input(),r("design:type",String)],e.prototype,"dataType",void 0),i([s.Input(),r("design:type",String)],e.prototype,"selectionMode",void 0),i([s.Input(),r("design:type",Number)],e.prototype,"maxDateCount",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"showButtonBar",void 0),i([s.Input(),r("design:type",String)],e.prototype,"todayButtonStyleClass",void 0),i([s.Input(),r("design:type",String)],e.prototype,"clearButtonStyleClass",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"autoZIndex",void 0),i([s.Input(),r("design:type",Number)],e.prototype,"baseZIndex",void 0),i([s.Input(),r("design:type",String)],e.prototype,"panelStyleClass",void 0),i([s.Input(),r("design:type",Object)],e.prototype,"panelStyle",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"keepInvalid",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"hideOnDateTimeSelect",void 0),i([s.Input(),r("design:type",Number)],e.prototype,"numberOfMonths",void 0),i([s.Input(),r("design:type",String)],e.prototype,"view",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"touchUI",void 0),i([s.Input(),r("design:type",String)],e.prototype,"showTransitionOptions",void 0),i([s.Input(),r("design:type",String)],e.prototype,"hideTransitionOptions",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"onFocus",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"onBlur",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"onClose",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"onSelect",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"onInput",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"onTodayClick",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"onClearClick",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"onMonthChange",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"onYearChange",void 0),i([s.ContentChildren(c.PrimeTemplate),r("design:type",s.QueryList)],e.prototype,"templates",void 0),i([s.Input(),r("design:type",Number)],e.prototype,"tabindex",void 0),i([s.ViewChild("inputfield"),r("design:type",s.ElementRef)],e.prototype,"inputfieldViewChild",void 0),i([s.Input(),r("design:type",Boolean),r("design:paramtypes",[Boolean])],e.prototype,"utc",null),i([s.Input(),r("design:type",Date),r("design:paramtypes",[Date])],e.prototype,"minDate",null),i([s.Input(),r("design:type",Date),r("design:paramtypes",[Date])],e.prototype,"maxDate",null),i([s.Input(),r("design:type",Array),r("design:paramtypes",[Array])],e.prototype,"disabledDates",null),i([s.Input(),r("design:type",Array),r("design:paramtypes",[Array])],e.prototype,"disabledDays",null),i([s.Input(),r("design:type",Boolean),r("design:paramtypes",[Boolean])],e.prototype,"showTime",null),i([s.Input(),r("design:type",Object),r("design:paramtypes",[Object])],e.prototype,"locale",null),i([s.Component({selector:"p-calendar",template:'\n        <span [ngClass]="{\'ui-calendar\':true, \'ui-calendar-w-btn\': showIcon, \'ui-calendar-timeonly\': timeOnly}" [ngStyle]="style" [class]="styleClass">\n            <ng-template [ngIf]="!inline">\n                <input #inputfield type="text" [attr.id]="inputId" [attr.name]="name" [attr.required]="required" [value]="inputFieldValue" (focus)="onInputFocus($event)" (keydown)="onInputKeydown($event)" (click)="onInputClick($event)" (blur)="onInputBlur($event)"\n                    [readonly]="readonlyInput" (input)="onUserInput($event)" [ngStyle]="inputStyle" [class]="inputStyleClass" [placeholder]="placeholder||\'\'" [disabled]="disabled" [attr.tabindex]="tabindex"\n                    [ngClass]="\'ui-inputtext ui-widget ui-state-default ui-corner-all\'" autocomplete="off"\n                    ><button type="button" [icon]="icon" pButton *ngIf="showIcon" (click)="onButtonClick($event,inputfield)" class="ui-datepicker-trigger ui-calendar-button"\n                    [ngClass]="{\'ui-state-disabled\':disabled}" [disabled]="disabled" tabindex="-1"></button>\n            </ng-template>\n            <div [class]="panelStyleClass" [ngStyle]="panelStyle" [ngClass]="{\'ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all\': true, \'ui-datepicker-inline\':inline,\'ui-shadow\':!inline,\n                \'ui-state-disabled\':disabled,\'ui-datepicker-timeonly\':timeOnly,\'ui-datepicker-multiple-month\': this.numberOfMonths > 1, \'ui-datepicker-monthpicker\': (view === \'month\'), \'ui-datepicker-touch-ui\': touchUI}"\n                (click)="onDatePickerClick($event)" [@overlayAnimation]="touchUI ? {value: \'visibleTouchUI\', params: {showTransitionParams: showTransitionOptions, hideTransitionParams: hideTransitionOptions}}: \n                                            {value: \'visible\', params: {showTransitionParams: showTransitionOptions, hideTransitionParams: hideTransitionOptions}}" \n                                            [@.disabled]="inline === true" (@overlayAnimation.start)="onOverlayAnimationStart($event)" *ngIf="inline || overlayVisible">\n                <ng-container *ngIf="!timeOnly">\n                    <div class="ui-datepicker-group ui-widget-content" *ngFor="let month of months; let i = index;">\n                        <div class="ui-datepicker-header ui-widget-header ui-helper-clearfix ui-corner-all">\n                            <ng-content select="p-header"></ng-content>\n                            <a class="ui-datepicker-prev ui-corner-all" tabindex="0" (click)="navBackward($event)" *ngIf="i === 0">\n                                <span class="pi pi-chevron-left"></span>\n                            </a>\n                            <a class="ui-datepicker-next ui-corner-all" tabindex="0" (click)="navForward($event)" *ngIf="numberOfMonths === 1 ? true : (i === numberOfMonths -1)">\n                                <span class="pi pi-chevron-right"></span>\n                            </a>\n                            <div class="ui-datepicker-title">\n                                <span class="ui-datepicker-month" *ngIf="!monthNavigator && (view !== \'month\')">{{locale.monthNames[month.month]}}</span>\n                                <select class="ui-datepicker-month" *ngIf="monthNavigator && (view !== \'month\') && numberOfMonths === 1" (change)="onMonthDropdownChange($event.target.value)">\n                                    <option [value]="i" *ngFor="let monthName of locale.monthNames;let i = index" [selected]="i === month.month">{{monthName}}</option>\n                                </select>\n                                <select class="ui-datepicker-year" *ngIf="yearNavigator && numberOfMonths === 1" (change)="onYearDropdownChange($event.target.value)">\n                                    <option [value]="year" *ngFor="let year of yearOptions" [selected]="year === currentYear">{{year}}</option>\n                                </select>\n                                <span class="ui-datepicker-year" *ngIf="!yearNavigator">{{view === \'month\' ? currentYear : month.year}}</span>\n                            </div>\n                        </div>\n                        <div class="ui-datepicker-calendar-container" *ngIf="view ===\'date\'">\n                            <table class="ui-datepicker-calendar">\n                                <thead>\n                                    <tr>\n                                        <th scope="col" *ngFor="let weekDay of weekDays;let begin = first; let end = last">\n                                            <span>{{weekDay}}</span>\n                                        </th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    <tr *ngFor="let week of month.dates">\n                                        <td *ngFor="let date of week" [ngClass]="{\'ui-datepicker-other-month\': date.otherMonth,\n                                            \'ui-datepicker-current-day\':isSelected(date),\'ui-datepicker-today\':date.today}">\n                                            <ng-container *ngIf="date.otherMonth ? showOtherMonths : true">\n                                                <a class="ui-state-default" *ngIf="date.selectable" [ngClass]="{\'ui-state-active\':isSelected(date), \'ui-state-highlight\':date.today}"\n                                                    (click)="onDateSelect($event,date)" draggable="false">\n                                                    <ng-container *ngIf="!dateTemplate">{{date.day}}</ng-container>\n                                                    <ng-container *ngTemplateOutlet="dateTemplate; context: {$implicit: date}"></ng-container>\n                                                </a>\n                                                <span class="ui-state-default ui-state-disabled" *ngIf="!date.selectable">\n                                                    {{date.day}}\n                                                </span>\n                                            </ng-container>\n                                        </td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n                    <div class="ui-monthpicker" *ngIf="view === \'month\'">\n                        <a tabindex="0" *ngFor="let m of monthPickerValues; let i = index" (click)="onMonthSelect($event, i)" class="ui-monthpicker-month" [ngClass]="{\'ui-state-active\': isMonthSelected(i)}">\n                            {{m}}\n                        </a>\n                    </div>\n                </ng-container>\n                <div class="ui-timepicker ui-widget-header ui-corner-all" *ngIf="showTime||timeOnly">\n                    <div class="ui-hour-picker">\n                        <a tabindex="0" (mousedown)="onTimePickerElementMouseDown($event, 0, 1)" (mouseup)="onTimePickerElementMouseUp($event)">\n                            <span class="pi pi-chevron-up"></span>\n                        </a>\n                        <span [ngStyle]="{\'display\': currentHour < 10 ? \'inline\': \'none\'}">0</span><span>{{currentHour}}</span>\n                        <a tabindex="0" (mousedown)="onTimePickerElementMouseDown($event, 0, -1)" (mouseup)="onTimePickerElementMouseUp($event)">\n                            <span class="pi pi-chevron-down"></span>\n                        </a>\n                    </div>\n                    <div class="ui-separator">\n                        <a tabindex="0">\n                            <span class="pi pi-chevron-up"></span>\n                        </a>\n                        <span>:</span>\n                        <a tabindex="0">\n                            <span class="pi pi-chevron-down"></span>\n                        </a>\n                    </div>\n                    <div class="ui-minute-picker">\n                        <a tabindex="0" (mousedown)="onTimePickerElementMouseDown($event, 1, 1)" (mouseup)="onTimePickerElementMouseUp($event)">\n                            <span class="pi pi-chevron-up"></span>\n                        </a>\n                        <span [ngStyle]="{\'display\': currentMinute < 10 ? \'inline\': \'none\'}">0</span><span>{{currentMinute}}</span>\n                        <a tabindex="0" (mousedown)="onTimePickerElementMouseDown($event, 1, -1)" (mouseup)="onTimePickerElementMouseUp($event)">\n                            <span class="pi pi-chevron-down"></span>\n                        </a>\n                    </div>\n                    <div class="ui-separator" *ngIf="showSeconds">\n                        <a tabindex="0">\n                            <span class="pi pi-chevron-up"></span>\n                        </a>\n                        <span>:</span>\n                        <a tabindex="0">\n                            <span class="pi pi-chevron-down"></span>\n                        </a>\n                    </div>\n                    <div class="ui-second-picker" *ngIf="showSeconds">\n                        <a tabindex="0" (mousedown)="onTimePickerElementMouseDown($event, 2, 1)" (mouseup)="onTimePickerElementMouseUp($event)">\n                            <span class="pi pi-chevron-up"></span>\n                        </a>\n                        <span [ngStyle]="{\'display\': currentSecond < 10 ? \'inline\': \'none\'}">0</span><span>{{currentSecond}}</span>\n                        <a tabindex="0" (mousedown)="onTimePickerElementMouseDown($event, 2, -1)" (mouseup)="onTimePickerElementMouseUp($event)">\n                            <span class="pi pi-chevron-down"></span>\n                        </a>\n                    </div>\n                    <div class="ui-ampm-picker" *ngIf="hourFormat==\'12\'">\n                        <a tabindex="0" (click)="toggleAMPM($event)">\n                            <span class="pi pi-chevron-up"></span>\n                        </a>\n                        <span>{{pm ? \'PM\' : \'AM\'}}</span>\n                        <a tabindex="0" (click)="toggleAMPM($event)">\n                            <span class="pi pi-chevron-down"></span>\n                        </a>\n                    </div>\n                </div>\n                <div class="ui-datepicker-buttonbar ui-widget-header" *ngIf="showButtonBar">\n                    <div class="ui-g">\n                        <div class="ui-g-6">\n                            <button type="button" [label]="_locale.today" (click)="onTodayButtonClick($event)" pButton [ngClass]="[todayButtonStyleClass]"></button>\n                        </div>\n                        <div class="ui-g-6">\n                            <button type="button" [label]="_locale.clear" (click)="onClearButtonClick($event)" pButton [ngClass]="[clearButtonStyleClass]"></button>\n                        </div>\n                    </div>\n                </div>\n                <ng-content select="p-footer"></ng-content>\n            </div>\n        </span>\n    ',animations:[o.trigger("overlayAnimation",[o.state("visible",o.style({transform:"translateY(0)",opacity:1})),o.state("visibleTouchUI",o.style({transform:"translate(-50%,-50%)",opacity:1})),o.transition("void => visible",[o.style({transform:"translateY(5%)",opacity:0}),o.animate("{{showTransitionParams}}")]),o.transition("visible => void",[o.animate("{{hideTransitionParams}}",o.style({opacity:0,transform:"translateY(5%)"}))]),o.transition("void => visibleTouchUI",[o.style({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}),o.animate("{{showTransitionParams}}")]),o.transition("visibleTouchUI => void",[o.animate("{{hideTransitionParams}}",o.style({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}))])])],host:{"[class.ui-inputwrapper-filled]":"filled","[class.ui-inputwrapper-focus]":"focus"},providers:[t.CALENDAR_VALUE_ACCESSOR]})],e)}();t.Calendar=d,t.CalendarModule=function(){return i([s.NgModule({imports:[a.CommonModule,l.ButtonModule,c.SharedModule],exports:[d,l.ButtonModule,c.SharedModule],declarations:[d]})],function(){})}()},KZCy:function(e,t,n){var i=n("mrSG").__decorate,r=n("mrSG").__metadata;Object.defineProperty(t,"__esModule",{value:!0});var s=n("8Y7J"),o=n("SVse"),a=n("sdDj"),l=n("iInd"),u=function(){function e(e,t){this.renderer=e,this.cd=t,this.autoZIndex=!0,this.baseZIndex=0,this.menuHoverActive=!1}return e.prototype.onItemMenuClick=function(e,t,n){if(!this.autoDisplay){if(n.disabled)return;this.activeItem=this.activeMenu&&this.activeMenu.isEqualNode(t)?null:t;var i=t.children[0].nextElementSibling;if(i){var r=i.children[0];this.autoZIndex&&(r.style.zIndex=String(this.baseZIndex+ ++a.DomHandler.zindex)),this.root?(r.style.top=a.DomHandler.getOuterHeight(t.children[0])+"px",r.style.left="0px"):(r.style.top="0px",r.style.left=a.DomHandler.getOuterWidth(t.children[0])+"px")}this.menuClick=!0,this.menuHoverActive=!this.activeMenu||!this.activeMenu.isEqualNode(t),this.activeMenu=this.activeMenu&&this.activeMenu.isEqualNode(t)?null:t,this.bindEventListener()}},e.prototype.bindEventListener=function(){var e=this;this.documentClickListener||(this.documentClickListener=this.renderer.listen("document","click",function(t){e.menuClick||(e.activeItem=null,e.menuHoverActive=!1),e.menuClick=!1}))},e.prototype.onItemMouseEnter=function(e,t,n){if(this.autoDisplay||!this.autoDisplay&&this.root&&this.menuHoverActive){if(n.disabled)return;this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null),this.activeItem=this.activeItem&&this.activeItem.isEqualNode(t)?null:t;var i=t.children[0].nextElementSibling;if(i){var r=i.children[0];r.style.zIndex=String(++a.DomHandler.zindex),this.root?(r.style.top=a.DomHandler.getOuterHeight(t.children[0])+"px",r.style.left="0px"):(r.style.top="0px",r.style.left=a.DomHandler.getOuterWidth(t.children[0])+"px")}this.activeMenu=this.activeMenu&&this.activeMenu.isEqualNode(t)?null:t}},e.prototype.onItemMouseLeave=function(e){var t=this;this.autoDisplay&&(this.hideTimeout=setTimeout(function(){t.activeItem=null,t.cd.markForCheck()},250))},e.prototype.itemClick=function(e,t){t.disabled?e.preventDefault():(t.url||e.preventDefault(),t.command&&t.command({originalEvent:e,item:t}),this.activeItem=null)},e.prototype.listClick=function(e){this.autoDisplay&&(this.activeItem=null)},e.prototype.ngOnDestroy=function(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)},i([s.Input(),r("design:type",Object)],e.prototype,"item",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"root",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"autoDisplay",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"autoZIndex",void 0),i([s.Input(),r("design:type",Number)],e.prototype,"baseZIndex",void 0),i([s.Component({selector:"p-menubarSub",template:'\n        <ul [ngClass]="{\'ui-menubar-root-list\':root, \'ui-widget-content ui-corner-all ui-submenu-list ui-shadow\':!root}"\n            (click)="listClick($event)">\n            <ng-template ngFor let-child [ngForOf]="(root ? item : item.items)">\n                <li *ngIf="child.separator" class="ui-menu-separator ui-widget-content" [ngClass]="{\'ui-helper-hidden\': child.visible === false}">\n                <li *ngIf="!child.separator" #listItem [ngClass]="{\'ui-menuitem ui-corner-all\':true,\n                        \'ui-menu-parent\':child.items,\'ui-menuitem-active\':listItem==activeItem,\'ui-helper-hidden\': child.visible === false}"\n                        (mouseenter)="onItemMouseEnter($event,listItem,child)" (mouseleave)="onItemMouseLeave($event)" (click)="onItemMenuClick($event, listItem, child)">\n                    <a *ngIf="!child.routerLink" [href]="child.url||\'#\'" [attr.data-automationid]="child.automationId" [attr.target]="child.target" [attr.title]="child.title" [attr.id]="child.id" (click)="itemClick($event, child)"\n                         [ngClass]="{\'ui-menuitem-link ui-corner-all\':true,\'ui-state-disabled\':child.disabled}" [ngStyle]="child.style" [class]="child.styleClass">\n                        <span class="ui-menuitem-icon" *ngIf="child.icon" [ngClass]="child.icon"></span>\n                        <span class="ui-menuitem-text">{{child.label}}</span>\n                        <span class="ui-submenu-icon pi pi-fw" *ngIf="child.items" [ngClass]="{\'pi-caret-down\':root,\'pi-caret-right\':!root}"></span>\n                    </a>\n                    <a *ngIf="child.routerLink" [routerLink]="child.routerLink" [attr.data-automationid]="child.automationId" [queryParams]="child.queryParams" [routerLinkActive]="\'ui-state-active\'" [routerLinkActiveOptions]="child.routerLinkActiveOptions||{exact:false}"\n                        [attr.target]="child.target" [attr.title]="child.title" [attr.id]="child.id"\n                        (click)="itemClick($event, child)" [ngClass]="{\'ui-menuitem-link ui-corner-all\':true,\'ui-state-disabled\':child.disabled}" [ngStyle]="child.style" [class]="child.styleClass">\n                        <span class="ui-menuitem-icon" *ngIf="child.icon" [ngClass]="child.icon"></span>\n                        <span class="ui-menuitem-text">{{child.label}}</span>\n                        <span class="ui-submenu-icon pi pi-fw" *ngIf="child.items" [ngClass]="{\'pi-caret-down\':root,\'pi-caret-right\':!root}"></span>\n                    </a>\n                    <p-menubarSub class="ui-submenu" [item]="child" *ngIf="child.items" [autoDisplay]="true"></p-menubarSub>\n                </li>\n            </ng-template>\n        </ul>\n    '})],e)}();t.MenubarSub=u;var c=function(){function e(e,t){this.el=e,this.renderer=t,this.autoDisplay=!0,this.autoZIndex=!0,this.baseZIndex=0}return i([s.Input(),r("design:type",Array)],e.prototype,"model",void 0),i([s.Input(),r("design:type",Object)],e.prototype,"style",void 0),i([s.Input(),r("design:type",String)],e.prototype,"styleClass",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"autoDisplay",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"autoZIndex",void 0),i([s.Input(),r("design:type",Number)],e.prototype,"baseZIndex",void 0),i([s.Component({selector:"p-menubar",template:'\n        <div [ngClass]="{\'ui-menubar ui-widget ui-widget-content ui-corner-all\':true}" [class]="styleClass" [ngStyle]="style">\n            <p-menubarSub [item]="model" root="root" [autoDisplay]="autoDisplay" [baseZIndex]="baseZIndex" [autoZIndex]="autoZIndex">\n                <ng-content></ng-content>\n            </p-menubarSub>\n            <div class="ui-menubar-custom">\n                <ng-content></ng-content>\n            </div>\n        </div>\n    '})],e)}();t.Menubar=c,t.MenubarModule=function(){return i([s.NgModule({imports:[o.CommonModule,l.RouterModule],exports:[c,l.RouterModule],declarations:[c,u]})],function(){})}()},Kqap:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("7o/Q");function r(e,t){let n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new s(e,t,n))}}class s{constructor(e,t,n=!1){this.accumulator=e,this.seed=t,this.hasSeed=n}call(e,t){return t.subscribe(new o(e,this.accumulator,this.seed,this.hasSeed))}}class o extends i.a{constructor(e,t,n,i){super(e),this.accumulator=t,this._seed=n,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let n;try{n=this.accumulator(this.seed,e,t)}catch(i){this.destination.error(i)}this.seed=n,this.destination.next(n)}}},KqfI:function(e,t,n){"use strict";function i(){}n.d(t,"a",function(){return i})},LRne:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n("z+Ro"),r=n("yCtX"),s=n("EY2u"),o=n("XUOw");function a(...e){let t=e[e.length-1];switch(Object(i.a)(t)?e.pop():t=void 0,e.length){case 0:return Object(s.b)(t);case 1:return t?Object(r.a)(e,t):Object(o.a)(e[0]);default:return Object(r.a)(e,t)}}},Lhse:function(e,t,n){"use strict";function i(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(t,"a",function(){return r});const r=i()},LvDl:function(e,t,n){(function(e){var i;(function(){var r,s=200,o="Expected a function",a="__lodash_placeholder__",l=1,u=2,c=4,h=1,d=2,p=1,f=2,g=4,m=8,v=16,y=32,_=64,b=128,w=256,x=512,C=800,S=16,E=1/0,T=9007199254740991,M=1.7976931348623157e308,I=NaN,O=4294967295,A=O-1,D=O>>>1,k=[["ary",b],["bind",p],["bindKey",f],["curry",m],["curryRight",v],["flip",x],["partial",y],["partialRight",_],["rearg",w]],P="[object Arguments]",R="[object Array]",L="[object AsyncFunction]",N="[object Boolean]",F="[object Date]",V="[object DOMException]",j="[object Error]",B="[object Function]",z="[object GeneratorFunction]",H="[object Map]",U="[object Number]",G="[object Null]",W="[object Object]",$="[object Proxy]",q="[object RegExp]",Y="[object Set]",Z="[object String]",K="[object Symbol]",X="[object Undefined]",Q="[object WeakMap]",J="[object ArrayBuffer]",ee="[object DataView]",te="[object Float32Array]",ne="[object Float64Array]",ie="[object Int8Array]",re="[object Int16Array]",se="[object Int32Array]",oe="[object Uint8Array]",ae="[object Uint8ClampedArray]",le="[object Uint16Array]",ue="[object Uint32Array]",ce=/\b__p \+= '';/g,he=/\b(__p \+=) '' \+/g,de=/(__e\(.*?\)|\b__t\)) \+\n'';/g,pe=/&(?:amp|lt|gt|quot|#39);/g,fe=/[&<>"']/g,ge=RegExp(pe.source),me=RegExp(fe.source),ve=/<%-([\s\S]+?)%>/g,ye=/<%([\s\S]+?)%>/g,_e=/<%=([\s\S]+?)%>/g,be=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,we=/^\w*$/,xe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ce=/[\\^$.*+?()[\]{}|]/g,Se=RegExp(Ce.source),Ee=/^\s+|\s+$/g,Te=/^\s+/,Me=/\s+$/,Ie=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Oe=/\{\n\/\* \[wrapped with (.+)\] \*/,Ae=/,? & /,De=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ke=/\\(\\)?/g,Pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Re=/\w*$/,Le=/^[-+]0x[0-9a-f]+$/i,Ne=/^0b[01]+$/i,Fe=/^\[object .+?Constructor\]$/,Ve=/^0o[0-7]+$/i,je=/^(?:0|[1-9]\d*)$/,Be=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ze=/($^)/,He=/['\n\r\u2028\u2029\\]/g,Ue="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ge="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",We="["+Ge+"]",$e="["+Ue+"]",qe="\\d+",Ye="[a-z\\xdf-\\xf6\\xf8-\\xff]",Ze="[^\\ud800-\\udfff"+Ge+qe+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",Ke="\\ud83c[\\udffb-\\udfff]",Xe="[^\\ud800-\\udfff]",Qe="(?:\\ud83c[\\udde6-\\uddff]){2}",Je="[\\ud800-\\udbff][\\udc00-\\udfff]",et="[A-Z\\xc0-\\xd6\\xd8-\\xde]",tt="(?:"+Ye+"|"+Ze+")",nt="(?:"+et+"|"+Ze+")",it="(?:"+$e+"|"+Ke+")?",rt="[\\ufe0e\\ufe0f]?"+it+"(?:\\u200d(?:"+[Xe,Qe,Je].join("|")+")[\\ufe0e\\ufe0f]?"+it+")*",st="(?:"+["[\\u2700-\\u27bf]",Qe,Je].join("|")+")"+rt,ot="(?:"+[Xe+$e+"?",$e,Qe,Je,"[\\ud800-\\udfff]"].join("|")+")",at=RegExp("['\u2019]","g"),lt=RegExp($e,"g"),ut=RegExp(Ke+"(?="+Ke+")|"+ot+rt,"g"),ct=RegExp([et+"?"+Ye+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[We,et,"$"].join("|")+")",nt+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[We,et+tt,"$"].join("|")+")",et+"?"+tt+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",et+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",qe,st].join("|"),"g"),ht=RegExp("[\\u200d\\ud800-\\udfff"+Ue+"\\ufe0e\\ufe0f]"),dt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,pt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ft=-1,gt={};gt[te]=gt[ne]=gt[ie]=gt[re]=gt[se]=gt[oe]=gt[ae]=gt[le]=gt[ue]=!0,gt[P]=gt[R]=gt[J]=gt[N]=gt[ee]=gt[F]=gt[j]=gt[B]=gt[H]=gt[U]=gt[W]=gt[q]=gt[Y]=gt[Z]=gt[Q]=!1;var mt={};mt[P]=mt[R]=mt[J]=mt[ee]=mt[N]=mt[F]=mt[te]=mt[ne]=mt[ie]=mt[re]=mt[se]=mt[H]=mt[U]=mt[W]=mt[q]=mt[Y]=mt[Z]=mt[K]=mt[oe]=mt[ae]=mt[le]=mt[ue]=!0,mt[j]=mt[B]=mt[Q]=!1;var vt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},yt=parseFloat,_t=parseInt,bt="object"==typeof global&&global&&global.Object===Object&&global,wt="object"==typeof self&&self&&self.Object===Object&&self,xt=bt||wt||Function("return this")(),Ct=t&&!t.nodeType&&t,St=Ct&&"object"==typeof e&&e&&!e.nodeType&&e,Et=St&&St.exports===Ct,Tt=Et&&bt.process,Mt=function(){try{return St&&St.require&&St.require("util").types||Tt&&Tt.binding&&Tt.binding("util")}catch(e){}}(),It=Mt&&Mt.isArrayBuffer,Ot=Mt&&Mt.isDate,At=Mt&&Mt.isMap,Dt=Mt&&Mt.isRegExp,kt=Mt&&Mt.isSet,Pt=Mt&&Mt.isTypedArray;function Rt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Lt(e,t,n,i){for(var r=-1,s=null==e?0:e.length;++r<s;){var o=e[r];t(i,o,n(o),e)}return i}function Nt(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}function Ft(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}function Vt(e,t){for(var n=-1,i=null==e?0:e.length,r=0,s=[];++n<i;){var o=e[n];t(o,n,e)&&(s[r++]=o)}return s}function jt(e,t){return!(null==e||!e.length)&&Zt(e,t,0)>-1}function Bt(e,t,n){for(var i=-1,r=null==e?0:e.length;++i<r;)if(n(t,e[i]))return!0;return!1}function zt(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}function Ht(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}function Ut(e,t,n,i){var r=-1,s=null==e?0:e.length;for(i&&s&&(n=e[++r]);++r<s;)n=t(n,e[r],r,e);return n}function Gt(e,t,n,i){var r=null==e?0:e.length;for(i&&r&&(n=e[--r]);r--;)n=t(n,e[r],r,e);return n}function Wt(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}var $t=Jt("length");function qt(e,t,n){var i;return n(e,function(e,n,r){if(t(e,n,r))return i=n,!1}),i}function Yt(e,t,n,i){for(var r=e.length,s=n+(i?1:-1);i?s--:++s<r;)if(t(e[s],s,e))return s;return-1}function Zt(e,t,n){return t==t?function(e,t,n){for(var i=n-1,r=e.length;++i<r;)if(e[i]===t)return i;return-1}(e,t,n):Yt(e,Xt,n)}function Kt(e,t,n,i){for(var r=n-1,s=e.length;++r<s;)if(i(e[r],t))return r;return-1}function Xt(e){return e!=e}function Qt(e,t){var n=null==e?0:e.length;return n?nn(e,t)/n:I}function Jt(e){return function(t){return null==t?r:t[e]}}function en(e){return function(t){return null==e?r:e[t]}}function tn(e,t,n,i,r){return r(e,function(e,r,s){n=i?(i=!1,e):t(n,e,r,s)}),n}function nn(e,t){for(var n,i=-1,s=e.length;++i<s;){var o=t(e[i]);o!==r&&(n=n===r?o:n+o)}return n}function rn(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function sn(e){return function(t){return e(t)}}function on(e,t){return zt(t,function(t){return e[t]})}function an(e,t){return e.has(t)}function ln(e,t){for(var n=-1,i=e.length;++n<i&&Zt(t,e[n],0)>-1;);return n}function un(e,t){for(var n=e.length;n--&&Zt(t,e[n],0)>-1;);return n}var cn=en({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),hn=en({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function dn(e){return"\\"+vt[e]}function pn(e){return ht.test(e)}function fn(e){var t=-1,n=Array(e.size);return e.forEach(function(e,i){n[++t]=[i,e]}),n}function gn(e,t){return function(n){return e(t(n))}}function mn(e,t){for(var n=-1,i=e.length,r=0,s=[];++n<i;){var o=e[n];o!==t&&o!==a||(e[n]=a,s[r++]=n)}return s}function vn(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function yn(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function _n(e){return pn(e)?function(e){for(var t=ut.lastIndex=0;ut.test(e);)++t;return t}(e):$t(e)}function bn(e){return pn(e)?function(e){return e.match(ut)||[]}(e):function(e){return e.split("")}(e)}var wn=en({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),xn=function e(t){var n,i=(t=null==t?xt:xn.defaults(xt.Object(),t,xn.pick(xt,pt))).Array,Ue=t.Date,Ge=t.Error,We=t.Function,$e=t.Math,qe=t.Object,Ye=t.RegExp,Ze=t.String,Ke=t.TypeError,Xe=i.prototype,Qe=qe.prototype,Je=t["__core-js_shared__"],et=We.prototype.toString,tt=Qe.hasOwnProperty,nt=0,it=(n=/[^.]+$/.exec(Je&&Je.keys&&Je.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",rt=Qe.toString,st=et.call(qe),ot=xt._,ut=Ye("^"+et.call(tt).replace(Ce,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ht=Et?t.Buffer:r,vt=t.Symbol,bt=t.Uint8Array,wt=ht?ht.allocUnsafe:r,Ct=gn(qe.getPrototypeOf,qe),St=qe.create,Tt=Qe.propertyIsEnumerable,Mt=Xe.splice,$t=vt?vt.isConcatSpreadable:r,en=vt?vt.iterator:r,Cn=vt?vt.toStringTag:r,Sn=function(){try{var e=xs(qe,"defineProperty");return e({},"",{}),e}catch(t){}}(),En=t.clearTimeout!==xt.clearTimeout&&t.clearTimeout,Tn=Ue&&Ue.now!==xt.Date.now&&Ue.now,Mn=t.setTimeout!==xt.setTimeout&&t.setTimeout,In=$e.ceil,On=$e.floor,An=qe.getOwnPropertySymbols,Dn=ht?ht.isBuffer:r,kn=t.isFinite,Pn=Xe.join,Rn=gn(qe.keys,qe),Ln=$e.max,Nn=$e.min,Fn=Ue.now,Vn=t.parseInt,jn=$e.random,Bn=Xe.reverse,zn=xs(t,"DataView"),Hn=xs(t,"Map"),Un=xs(t,"Promise"),Gn=xs(t,"Set"),Wn=xs(t,"WeakMap"),$n=xs(qe,"create"),qn=Wn&&new Wn,Yn={},Zn=Ys(zn),Kn=Ys(Hn),Xn=Ys(Un),Qn=Ys(Gn),Jn=Ys(Wn),ei=vt?vt.prototype:r,ti=ei?ei.valueOf:r,ni=ei?ei.toString:r;function ii(e){if(da(e)&&!ta(e)&&!(e instanceof ai)){if(e instanceof oi)return e;if(tt.call(e,"__wrapped__"))return Zs(e)}return new oi(e)}var ri=function(){function e(){}return function(t){if(!ha(t))return{};if(St)return St(t);e.prototype=t;var n=new e;return e.prototype=r,n}}();function si(){}function oi(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=r}function ai(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=O,this.__views__=[]}function li(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function ui(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function ci(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function hi(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ci;++t<n;)this.add(e[t])}function di(e){var t=this.__data__=new ui(e);this.size=t.size}function pi(e,t){var n=ta(e),i=!n&&ea(e),r=!n&&!i&&sa(e),s=!n&&!i&&!r&&ba(e),o=n||i||r||s,a=o?rn(e.length,Ze):[],l=a.length;for(var u in e)!t&&!tt.call(e,u)||o&&("length"==u||r&&("offset"==u||"parent"==u)||s&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Os(u,l))||a.push(u);return a}function fi(e){var t=e.length;return t?e[lr(0,t-1)]:r}function gi(e,t,n){(n===r||Xo(e[t],n))&&(n!==r||t in e)||bi(e,t,n)}function mi(e,t,n){var i=e[t];tt.call(e,t)&&Xo(i,n)&&(n!==r||t in e)||bi(e,t,n)}function vi(e,t){for(var n=e.length;n--;)if(Xo(e[n][0],t))return n;return-1}function yi(e,t,n,i){return Mi(e,function(e,r,s){t(i,e,n(e),s)}),i}function _i(e,t){return e&&zr(t,Ha(t),e)}function bi(e,t,n){"__proto__"==t&&Sn?Sn(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function wi(e,t){for(var n=-1,s=t.length,o=i(s),a=null==e;++n<s;)o[n]=a?r:Fa(e,t[n]);return o}function xi(e,t,n){return e==e&&(n!==r&&(e=e<=n?e:n),t!==r&&(e=e>=t?e:t)),e}function Ci(e,t,n,i,s,o){var a,h=t&l,d=t&u,p=t&c;if(n&&(a=s?n(e,i,s,o):n(e)),a!==r)return a;if(!ha(e))return e;var f=ta(e);if(f){if(a=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&tt.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!h)return Br(e,a)}else{var g=Es(e),m=g==B||g==z;if(sa(e))return Rr(e,h);if(g==W||g==P||m&&!s){if(a=d||m?{}:Ms(e),!h)return d?function(e,t){return zr(e,Ss(e),t)}(e,function(t,n){return t&&zr(e,Ua(e),t)}(a)):function(e,t){return zr(e,Cs(e),t)}(e,_i(a,e))}else{if(!mt[g])return s?e:{};a=function(e,t,n){var i,r,s=e.constructor;switch(t){case J:return Lr(e);case N:case F:return new s(+e);case ee:return function(e,t){var n=t?Lr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case te:case ne:case ie:case re:case se:case oe:case ae:case le:case ue:return Nr(e,n);case H:return new s;case U:case Z:return new s(e);case q:return(r=new(i=e).constructor(i.source,Re.exec(i))).lastIndex=i.lastIndex,r;case Y:return new s;case K:return ti?qe(ti.call(e)):{}}}(e,g,h)}}o||(o=new di);var v=o.get(e);if(v)return v;if(o.set(e,a),va(e))return e.forEach(function(i){a.add(Ci(i,t,n,i,e,o))}),a;if(pa(e))return e.forEach(function(i,r){a.set(r,Ci(i,t,n,r,e,o))}),a;var y=f?r:(p?d?gs:fs:d?Ua:Ha)(e);return Nt(y||e,function(i,r){y&&(i=e[r=i]),mi(a,r,Ci(i,t,n,r,e,o))}),a}function Si(e,t,n){var i=n.length;if(null==e)return!i;for(e=qe(e);i--;){var s=n[i],o=e[s];if(o===r&&!(s in e)||!(0,t[s])(o))return!1}return!0}function Ei(e,t,n){if("function"!=typeof e)throw new Ke(o);return zs(function(){e.apply(r,n)},t)}function Ti(e,t,n,i){var r=-1,o=jt,a=!0,l=e.length,u=[],c=t.length;if(!l)return u;n&&(t=zt(t,sn(n))),i?(o=Bt,a=!1):t.length>=s&&(o=an,a=!1,t=new hi(t));e:for(;++r<l;){var h=e[r],d=null==n?h:n(h);if(h=i||0!==h?h:0,a&&d==d){for(var p=c;p--;)if(t[p]===d)continue e;u.push(h)}else o(t,d,i)||u.push(h)}return u}ii.templateSettings={escape:ve,evaluate:ye,interpolate:_e,variable:"",imports:{_:ii}},(ii.prototype=si.prototype).constructor=ii,(oi.prototype=ri(si.prototype)).constructor=oi,(ai.prototype=ri(si.prototype)).constructor=ai,li.prototype.clear=function(){this.__data__=$n?$n(null):{},this.size=0},li.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},li.prototype.get=function(e){var t=this.__data__;if($n){var n=t[e];return"__lodash_hash_undefined__"===n?r:n}return tt.call(t,e)?t[e]:r},li.prototype.has=function(e){var t=this.__data__;return $n?t[e]!==r:tt.call(t,e)},li.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=$n&&t===r?"__lodash_hash_undefined__":t,this},ui.prototype.clear=function(){this.__data__=[],this.size=0},ui.prototype.delete=function(e){var t=this.__data__,n=vi(t,e);return!(n<0||(n==t.length-1?t.pop():Mt.call(t,n,1),--this.size,0))},ui.prototype.get=function(e){var t=this.__data__,n=vi(t,e);return n<0?r:t[n][1]},ui.prototype.has=function(e){return vi(this.__data__,e)>-1},ui.prototype.set=function(e,t){var n=this.__data__,i=vi(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},ci.prototype.clear=function(){this.size=0,this.__data__={hash:new li,map:new(Hn||ui),string:new li}},ci.prototype.delete=function(e){var t=bs(this,e).delete(e);return this.size-=t?1:0,t},ci.prototype.get=function(e){return bs(this,e).get(e)},ci.prototype.has=function(e){return bs(this,e).has(e)},ci.prototype.set=function(e,t){var n=bs(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},hi.prototype.add=hi.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},hi.prototype.has=function(e){return this.__data__.has(e)},di.prototype.clear=function(){this.__data__=new ui,this.size=0},di.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},di.prototype.get=function(e){return this.__data__.get(e)},di.prototype.has=function(e){return this.__data__.has(e)},di.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ui){var i=n.__data__;if(!Hn||i.length<s-1)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new ci(i)}return n.set(e,t),this.size=n.size,this};var Mi=Gr(Li),Ii=Gr(Ni,!0);function Oi(e,t){var n=!0;return Mi(e,function(e,i,r){return n=!!t(e,i,r)}),n}function Ai(e,t,n){for(var i=-1,s=e.length;++i<s;){var o=e[i],a=t(o);if(null!=a&&(l===r?a==a&&!_a(a):n(a,l)))var l=a,u=o}return u}function Di(e,t){var n=[];return Mi(e,function(e,i,r){t(e,i,r)&&n.push(e)}),n}function ki(e,t,n,i,r){var s=-1,o=e.length;for(n||(n=Is),r||(r=[]);++s<o;){var a=e[s];t>0&&n(a)?t>1?ki(a,t-1,n,i,r):Ht(r,a):i||(r[r.length]=a)}return r}var Pi=Wr(),Ri=Wr(!0);function Li(e,t){return e&&Pi(e,t,Ha)}function Ni(e,t){return e&&Ri(e,t,Ha)}function Fi(e,t){return Vt(t,function(t){return la(e[t])})}function Vi(e,t){for(var n=0,i=(t=Ar(t,e)).length;null!=e&&n<i;)e=e[qs(t[n++])];return n&&n==i?e:r}function ji(e,t,n){var i=t(e);return ta(e)?i:Ht(i,n(e))}function Bi(e){return null==e?e===r?X:G:Cn&&Cn in qe(e)?function(e){var t=tt.call(e,Cn),n=e[Cn];try{e[Cn]=r;var i=!0}catch(o){}var s=rt.call(e);return i&&(t?e[Cn]=n:delete e[Cn]),s}(e):function(e){return rt.call(e)}(e)}function zi(e,t){return e>t}function Hi(e,t){return null!=e&&tt.call(e,t)}function Ui(e,t){return null!=e&&t in qe(e)}function Gi(e,t,n){for(var s=n?Bt:jt,o=e[0].length,a=e.length,l=a,u=i(a),c=1/0,h=[];l--;){var d=e[l];l&&t&&(d=zt(d,sn(t))),c=Nn(d.length,c),u[l]=!n&&(t||o>=120&&d.length>=120)?new hi(l&&d):r}d=e[0];var p=-1,f=u[0];e:for(;++p<o&&h.length<c;){var g=d[p],m=t?t(g):g;if(g=n||0!==g?g:0,!(f?an(f,m):s(h,m,n))){for(l=a;--l;){var v=u[l];if(!(v?an(v,m):s(e[l],m,n)))continue e}f&&f.push(m),h.push(g)}}return h}function Wi(e,t,n){var i=null==(e=Vs(e,t=Ar(t,e)))?e:e[qs(oo(t))];return null==i?r:Rt(i,e,n)}function $i(e){return da(e)&&Bi(e)==P}function qi(e,t,n,i,s){return e===t||(null==e||null==t||!da(e)&&!da(t)?e!=e&&t!=t:function(e,t,n,i,s,o){var a=ta(e),l=ta(t),u=a?R:Es(e),c=l?R:Es(t),p=(u=u==P?W:u)==W,f=(c=c==P?W:c)==W,g=u==c;if(g&&sa(e)){if(!sa(t))return!1;a=!0,p=!1}if(g&&!p)return o||(o=new di),a||ba(e)?ds(e,t,n,i,s,o):function(e,t,n,i,r,s,o){switch(u){case ee:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case J:return!(e.byteLength!=t.byteLength||!s(new bt(e),new bt(t)));case N:case F:case U:return Xo(+e,+t);case j:return e.name==t.name&&e.message==t.message;case q:case Z:return e==t+"";case H:var a=fn;case Y:if(a||(a=vn),e.size!=t.size&&!(i&h))return!1;var l=o.get(e);if(l)return l==t;i|=d,o.set(e,t);var c=ds(a(e),a(t),i,r,s,o);return o.delete(e),c;case K:if(ti)return ti.call(e)==ti.call(t)}return!1}(e,t,0,n,i,s,o);if(!(n&h)){var m=p&&tt.call(e,"__wrapped__"),v=f&&tt.call(t,"__wrapped__");if(m||v){var y=m?e.value():e,_=v?t.value():t;return o||(o=new di),s(y,_,n,i,o)}}return!!g&&(o||(o=new di),function(e,t,n,i,s,o){var a=n&h,l=fs(e),u=l.length;if(u!=fs(t).length&&!a)return!1;for(var c=u;c--;){var d=l[c];if(!(a?d in t:tt.call(t,d)))return!1}var p=o.get(e);if(p&&o.get(t))return p==t;var f=!0;o.set(e,t),o.set(t,e);for(var g=a;++c<u;){var m=e[d=l[c]],v=t[d];if(i)var y=a?i(v,m,d,t,e,o):i(m,v,d,e,t,o);if(!(y===r?m===v||s(m,v,n,i,o):y)){f=!1;break}g||(g="constructor"==d)}if(f&&!g){var _=e.constructor,b=t.constructor;_!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof _&&_ instanceof _&&"function"==typeof b&&b instanceof b)&&(f=!1)}return o.delete(e),o.delete(t),f}(e,t,n,i,s,o))}(e,t,n,i,qi,s))}function Yi(e,t,n,i){var s=n.length,o=s,a=!i;if(null==e)return!o;for(e=qe(e);s--;){var l=n[s];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<o;){var u=(l=n[s])[0],c=e[u],p=l[1];if(a&&l[2]){if(c===r&&!(u in e))return!1}else{var f=new di;if(i)var g=i(c,p,u,e,t,f);if(!(g===r?qi(p,c,h|d,i,f):g))return!1}}return!0}function Zi(e){return!(!ha(e)||(t=e,it&&it in t))&&(la(e)?ut:Fe).test(Ys(e));var t}function Ki(e){return"function"==typeof e?e:null==e?fl:"object"==typeof e?ta(e)?tr(e[0],e[1]):er(e):Cl(e)}function Xi(e){if(!Rs(e))return Rn(e);var t=[];for(var n in qe(e))tt.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Qi(e,t){return e<t}function Ji(e,t){var n=-1,r=ia(e)?i(e.length):[];return Mi(e,function(e,i,s){r[++n]=t(e,i,s)}),r}function er(e){var t=ws(e);return 1==t.length&&t[0][2]?Ns(t[0][0],t[0][1]):function(n){return n===e||Yi(n,e,t)}}function tr(e,t){return Ds(e)&&Ls(t)?Ns(qs(e),t):function(n){var i=Fa(n,e);return i===r&&i===t?Va(n,e):qi(t,i,h|d)}}function nr(e,t,n,i,s){e!==t&&Pi(t,function(o,a){if(ha(o))s||(s=new di),function(e,t,n,i,s,o,a){var l=js(e,n),u=js(t,n),c=a.get(u);if(c)gi(e,n,c);else{var h=o?o(l,u,n+"",e,t,a):r,d=h===r;if(d){var p=ta(u),f=!p&&sa(u),g=!p&&!f&&ba(u);h=u,p||f||g?ta(l)?h=l:ra(l)?h=Br(l):f?(d=!1,h=Rr(u,!0)):g?(d=!1,h=Nr(u,!0)):h=[]:ga(u)||ea(u)?(h=l,ea(l)?h=Ia(l):ha(l)&&!la(l)||(h=Ms(u))):d=!1}d&&(a.set(u,h),s(h,u,i,o,a),a.delete(u)),gi(e,n,h)}}(e,t,a,n,nr,i,s);else{var l=i?i(js(e,a),o,a+"",e,t,s):r;l===r&&(l=o),gi(e,a,l)}},Ua)}function ir(e,t){var n=e.length;if(n)return Os(t+=t<0?n:0,n)?e[t]:r}function rr(e,t,n){var i=-1;return t=zt(t.length?t:[fl],sn(_s())),function(e,t){var i=e.length;for(e.sort(function(e,t){return function(e,t,n){for(var i=-1,r=e.criteria,s=t.criteria,o=r.length,a=n.length;++i<o;){var l=Fr(r[i],s[i]);if(l)return i>=a?l:l*("desc"==n[i]?-1:1)}return e.index-t.index}(e,t,n)});i--;)e[i]=e[i].value;return e}(Ji(e,function(e,n,r){return{criteria:zt(t,function(t){return t(e)}),index:++i,value:e}}))}function sr(e,t,n){for(var i=-1,r=t.length,s={};++i<r;){var o=t[i],a=Vi(e,o);n(a,o)&&hr(s,Ar(o,e),a)}return s}function or(e,t,n,i){var r=i?Kt:Zt,s=-1,o=t.length,a=e;for(e===t&&(t=Br(t)),n&&(a=zt(e,sn(n)));++s<o;)for(var l=0,u=t[s],c=n?n(u):u;(l=r(a,c,l,i))>-1;)a!==e&&Mt.call(a,l,1),Mt.call(e,l,1);return e}function ar(e,t){for(var n=e?t.length:0,i=n-1;n--;){var r=t[n];if(n==i||r!==s){var s=r;Os(r)?Mt.call(e,r,1):xr(e,r)}}return e}function lr(e,t){return e+On(jn()*(t-e+1))}function ur(e,t){var n="";if(!e||t<1||t>T)return n;do{t%2&&(n+=e),(t=On(t/2))&&(e+=e)}while(t);return n}function cr(e,t){return Hs(Fs(e,t,fl),e+"")}function hr(e,t,n,i){if(!ha(e))return e;for(var s=-1,o=(t=Ar(t,e)).length,a=o-1,l=e;null!=l&&++s<o;){var u=qs(t[s]),c=n;if(s!=a){var h=l[u];(c=i?i(h,u,l):r)===r&&(c=ha(h)?h:Os(t[s+1])?[]:{})}mi(l,u,c),l=l[u]}return e}var dr=qn?function(e,t){return qn.set(e,t),e}:fl,pr=Sn?function(e,t){return Sn(e,"toString",{configurable:!0,enumerable:!1,value:hl(t),writable:!0})}:fl;function fr(e,t,n){var r=-1,s=e.length;t<0&&(t=-t>s?0:s+t),(n=n>s?s:n)<0&&(n+=s),s=t>n?0:n-t>>>0,t>>>=0;for(var o=i(s);++r<s;)o[r]=e[r+t];return o}function gr(e,t){var n;return Mi(e,function(e,i,r){return!(n=t(e,i,r))}),!!n}function mr(e,t,n){var i=0,r=null==e?i:e.length;if("number"==typeof t&&t==t&&r<=D){for(;i<r;){var s=i+r>>>1,o=e[s];null!==o&&!_a(o)&&(n?o<=t:o<t)?i=s+1:r=s}return r}return vr(e,t,fl,n)}function vr(e,t,n,i){t=n(t);for(var s=0,o=null==e?0:e.length,a=t!=t,l=null===t,u=_a(t),c=t===r;s<o;){var h=On((s+o)/2),d=n(e[h]),p=d!==r,f=null===d,g=d==d,m=_a(d);if(a)var v=i||g;else v=c?g&&(i||p):l?g&&p&&(i||!f):u?g&&p&&!f&&(i||!m):!f&&!m&&(i?d<=t:d<t);v?s=h+1:o=h}return Nn(o,A)}function yr(e,t){for(var n=-1,i=e.length,r=0,s=[];++n<i;){var o=e[n],a=t?t(o):o;if(!n||!Xo(a,l)){var l=a;s[r++]=0===o?0:o}}return s}function _r(e){return"number"==typeof e?e:_a(e)?I:+e}function br(e){if("string"==typeof e)return e;if(ta(e))return zt(e,br)+"";if(_a(e))return ni?ni.call(e):"";var t=e+"";return"0"==t&&1/e==-E?"-0":t}function wr(e,t,n){var i=-1,r=jt,o=e.length,a=!0,l=[],u=l;if(n)a=!1,r=Bt;else if(o>=s){var c=t?null:os(e);if(c)return vn(c);a=!1,r=an,u=new hi}else u=t?[]:l;e:for(;++i<o;){var h=e[i],d=t?t(h):h;if(h=n||0!==h?h:0,a&&d==d){for(var p=u.length;p--;)if(u[p]===d)continue e;t&&u.push(d),l.push(h)}else r(u,d,n)||(u!==l&&u.push(d),l.push(h))}return l}function xr(e,t){return null==(e=Vs(e,t=Ar(t,e)))||delete e[qs(oo(t))]}function Cr(e,t,n,i){return hr(e,t,n(Vi(e,t)),i)}function Sr(e,t,n,i){for(var r=e.length,s=i?r:-1;(i?s--:++s<r)&&t(e[s],s,e););return n?fr(e,i?0:s,i?s+1:r):fr(e,i?s+1:0,i?r:s)}function Er(e,t){var n=e;return n instanceof ai&&(n=n.value()),Ut(t,function(e,t){return t.func.apply(t.thisArg,Ht([e],t.args))},n)}function Tr(e,t,n){var r=e.length;if(r<2)return r?wr(e[0]):[];for(var s=-1,o=i(r);++s<r;)for(var a=e[s],l=-1;++l<r;)l!=s&&(o[s]=Ti(o[s]||a,e[l],t,n));return wr(ki(o,1),t,n)}function Mr(e,t,n){for(var i=-1,s=e.length,o=t.length,a={};++i<s;)n(a,e[i],i<o?t[i]:r);return a}function Ir(e){return ra(e)?e:[]}function Or(e){return"function"==typeof e?e:fl}function Ar(e,t){return ta(e)?e:Ds(e,t)?[e]:$s(Oa(e))}var Dr=cr;function kr(e,t,n){var i=e.length;return n=n===r?i:n,!t&&n>=i?e:fr(e,t,n)}var Pr=En||function(e){return xt.clearTimeout(e)};function Rr(e,t){if(t)return e.slice();var n=e.length,i=wt?wt(n):new e.constructor(n);return e.copy(i),i}function Lr(e){var t=new e.constructor(e.byteLength);return new bt(t).set(new bt(e)),t}function Nr(e,t){var n=t?Lr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Fr(e,t){if(e!==t){var n=e!==r,i=null===e,s=e==e,o=_a(e),a=t!==r,l=null===t,u=t==t,c=_a(t);if(!l&&!c&&!o&&e>t||o&&a&&u&&!l&&!c||i&&a&&u||!n&&u||!s)return 1;if(!i&&!o&&!c&&e<t||c&&n&&s&&!i&&!o||l&&n&&s||!a&&s||!u)return-1}return 0}function Vr(e,t,n,r){for(var s=-1,o=e.length,a=n.length,l=-1,u=t.length,c=Ln(o-a,0),h=i(u+c),d=!r;++l<u;)h[l]=t[l];for(;++s<a;)(d||s<o)&&(h[n[s]]=e[s]);for(;c--;)h[l++]=e[s++];return h}function jr(e,t,n,r){for(var s=-1,o=e.length,a=-1,l=n.length,u=-1,c=t.length,h=Ln(o-l,0),d=i(h+c),p=!r;++s<h;)d[s]=e[s];for(var f=s;++u<c;)d[f+u]=t[u];for(;++a<l;)(p||s<o)&&(d[f+n[a]]=e[s++]);return d}function Br(e,t){var n=-1,r=e.length;for(t||(t=i(r));++n<r;)t[n]=e[n];return t}function zr(e,t,n,i){var s=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var l=t[o],u=i?i(n[l],e[l],l,n,e):r;u===r&&(u=e[l]),s?bi(n,l,u):mi(n,l,u)}return n}function Hr(e,t){return function(n,i){var r=ta(n)?Lt:yi,s=t?t():{};return r(n,e,_s(i,2),s)}}function Ur(e){return cr(function(t,n){var i=-1,s=n.length,o=s>1?n[s-1]:r,a=s>2?n[2]:r;for(o=e.length>3&&"function"==typeof o?(s--,o):r,a&&As(n[0],n[1],a)&&(o=s<3?r:o,s=1),t=qe(t);++i<s;){var l=n[i];l&&e(t,l,i,o)}return t})}function Gr(e,t){return function(n,i){if(null==n)return n;if(!ia(n))return e(n,i);for(var r=n.length,s=t?r:-1,o=qe(n);(t?s--:++s<r)&&!1!==i(o[s],s,o););return n}}function Wr(e){return function(t,n,i){for(var r=-1,s=qe(t),o=i(t),a=o.length;a--;){var l=o[e?a:++r];if(!1===n(s[l],l,s))break}return t}}function $r(e){return function(t){var n=pn(t=Oa(t))?bn(t):r,i=n?n[0]:t.charAt(0),s=n?kr(n,1).join(""):t.slice(1);return i[e]()+s}}function qr(e){return function(t){return Ut(ll(el(t).replace(at,"")),e,"")}}function Yr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=ri(e.prototype),i=e.apply(n,t);return ha(i)?i:n}}function Zr(e){return function(t,n,i){var s=qe(t);if(!ia(t)){var o=_s(n,3);t=Ha(t),n=function(e){return o(s[e],e,s)}}var a=e(t,n,i);return a>-1?s[o?t[a]:a]:r}}function Kr(e){return ps(function(t){var n=t.length,i=n,s=oi.prototype.thru;for(e&&t.reverse();i--;){var a=t[i];if("function"!=typeof a)throw new Ke(o);if(s&&!l&&"wrapper"==vs(a))var l=new oi([],!0)}for(i=l?i:n;++i<n;){var u=vs(a=t[i]),c="wrapper"==u?ms(a):r;l=c&&ks(c[0])&&c[1]==(b|m|y|w)&&!c[4].length&&1==c[9]?l[vs(c[0])].apply(l,c[3]):1==a.length&&ks(a)?l[u]():l.thru(a)}return function(){var e=arguments,i=e[0];if(l&&1==e.length&&ta(i))return l.plant(i).value();for(var r=0,s=n?t[r].apply(this,e):i;++r<n;)s=t[r].call(this,s);return s}})}function Xr(e,t,n,s,o,a,l,u,c,h){var d=t&b,g=t&p,y=t&f,_=t&(m|v),w=t&x,C=y?r:Yr(e);return function p(){for(var f=arguments.length,m=i(f),v=f;v--;)m[v]=arguments[v];if(_)var b=ys(p),x=function(e,t){for(var n=e.length,i=0;n--;)e[n]===t&&++i;return i}(m,b);if(s&&(m=Vr(m,s,o,_)),a&&(m=jr(m,a,l,_)),f-=x,_&&f<h){var S=mn(m,b);return rs(e,t,Xr,p.placeholder,n,m,S,u,c,h-f)}var E=g?n:this,T=y?E[e]:e;return f=m.length,u?m=function(e,t){for(var n=e.length,i=Nn(t.length,n),s=Br(e);i--;){var o=t[i];e[i]=Os(o,n)?s[o]:r}return e}(m,u):w&&f>1&&m.reverse(),d&&c<f&&(m.length=c),this&&this!==xt&&this instanceof p&&(T=C||Yr(T)),T.apply(E,m)}}function Qr(e,t){return function(n,i){return function(e,t,n,i){return Li(e,function(e,r,s){t(i,n(e),r,s)}),i}(n,e,t(i),{})}}function Jr(e,t){return function(n,i){var s;if(n===r&&i===r)return t;if(n!==r&&(s=n),i!==r){if(s===r)return i;"string"==typeof n||"string"==typeof i?(n=br(n),i=br(i)):(n=_r(n),i=_r(i)),s=e(n,i)}return s}}function es(e){return ps(function(t){return t=zt(t,sn(_s())),cr(function(n){var i=this;return e(t,function(e){return Rt(e,i,n)})})})}function ts(e,t){var n=(t=t===r?" ":br(t)).length;if(n<2)return n?ur(t,e):t;var i=ur(t,In(e/_n(t)));return pn(t)?kr(bn(i),0,e).join(""):i.slice(0,e)}function ns(e){return function(t,n,s){return s&&"number"!=typeof s&&As(t,n,s)&&(n=s=r),t=Sa(t),n===r?(n=t,t=0):n=Sa(n),function(e,t,n,r){for(var s=-1,o=Ln(In((t-e)/(n||1)),0),a=i(o);o--;)a[r?o:++s]=e,e+=n;return a}(t,n,s=s===r?t<n?1:-1:Sa(s),e)}}function is(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=Ma(t),n=Ma(n)),e(t,n)}}function rs(e,t,n,i,s,o,a,l,u,c){var h=t&m;t|=h?y:_,(t&=~(h?_:y))&g||(t&=~(p|f));var d=[e,t,s,h?o:r,h?a:r,h?r:o,h?r:a,l,u,c],v=n.apply(r,d);return ks(e)&&Bs(v,d),v.placeholder=i,Us(v,e,t)}function ss(e){var t=$e[e];return function(e,n){if(e=Ma(e),n=null==n?0:Nn(Ea(n),292)){var i=(Oa(e)+"e").split("e");return+((i=(Oa(t(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return t(e)}}var os=Gn&&1/vn(new Gn([,-0]))[1]==E?function(e){return new Gn(e)}:_l;function as(e){return function(t){var n=Es(t);return n==H?fn(t):n==Y?yn(t):function(e,t){return zt(t,function(t){return[t,e[t]]})}(t,e(t))}}function ls(e,t,n,s,l,u,c,h){var d=t&f;if(!d&&"function"!=typeof e)throw new Ke(o);var x=s?s.length:0;if(x||(t&=~(y|_),s=l=r),c=c===r?c:Ln(Ea(c),0),h=h===r?h:Ea(h),x-=l?l.length:0,t&_){var C=s,S=l;s=l=r}var E=d?r:ms(e),T=[e,t,n,s,l,C,S,u,c,h];if(E&&function(e,t){var n=e[1],i=t[1],r=n|i;if(!(r<(p|f|b)||i==b&&n==m||i==b&&n==w&&e[7].length<=t[8]||i==(b|w)&&t[7].length<=t[8]&&n==m))return e;i&p&&(e[2]=t[2],r|=n&p?0:g);var s=t[3];if(s){var o=e[3];e[3]=o?Vr(o,s,t[4]):s,e[4]=o?mn(e[3],a):t[4]}(s=t[5])&&(e[5]=(o=e[5])?jr(o,s,t[6]):s,e[6]=o?mn(e[5],a):t[6]),(s=t[7])&&(e[7]=s),i&b&&(e[8]=null==e[8]?t[8]:Nn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=r}(T,E),e=T[0],t=T[1],n=T[2],s=T[3],l=T[4],!(h=T[9]=T[9]===r?d?0:e.length:Ln(T[9]-x,0))&&t&(m|v)&&(t&=~(m|v)),t&&t!=p)M=t==m||t==v?function(e,t,n){var s=Yr(e);return function o(){for(var a=arguments.length,l=i(a),u=a,c=ys(o);u--;)l[u]=arguments[u];var h=a<3&&l[0]!==c&&l[a-1]!==c?[]:mn(l,c);return(a-=h.length)<n?rs(e,t,Xr,o.placeholder,r,l,h,r,r,n-a):Rt(this&&this!==xt&&this instanceof o?s:e,this,l)}}(e,t,h):t!=y&&t!=(p|y)||l.length?Xr.apply(r,T):function(e,t,n,r){var s=t&p,o=Yr(e);return function t(){for(var a=-1,l=arguments.length,u=-1,c=r.length,h=i(c+l),d=this&&this!==xt&&this instanceof t?o:e;++u<c;)h[u]=r[u];for(;l--;)h[u++]=arguments[++a];return Rt(d,s?n:this,h)}}(e,t,n,s);else var M=function(e,t,n){var i=t&p,r=Yr(e);return function t(){return(this&&this!==xt&&this instanceof t?r:e).apply(i?n:this,arguments)}}(e,t,n);return Us((E?dr:Bs)(M,T),e,t)}function us(e,t,n,i){return e===r||Xo(e,Qe[n])&&!tt.call(i,n)?t:e}function cs(e,t,n,i,s,o){return ha(e)&&ha(t)&&(o.set(t,e),nr(e,t,r,cs,o),o.delete(t)),e}function hs(e){return ga(e)?r:e}function ds(e,t,n,i,s,o){var a=n&h,l=e.length,u=t.length;if(l!=u&&!(a&&u>l))return!1;var c=o.get(e);if(c&&o.get(t))return c==t;var p=-1,f=!0,g=n&d?new hi:r;for(o.set(e,t),o.set(t,e);++p<l;){var m=e[p],v=t[p];if(i)var y=a?i(v,m,p,t,e,o):i(m,v,p,e,t,o);if(y!==r){if(y)continue;f=!1;break}if(g){if(!Wt(t,function(e,t){if(!an(g,t)&&(m===e||s(m,e,n,i,o)))return g.push(t)})){f=!1;break}}else if(m!==v&&!s(m,v,n,i,o)){f=!1;break}}return o.delete(e),o.delete(t),f}function ps(e){return Hs(Fs(e,r,to),e+"")}function fs(e){return ji(e,Ha,Cs)}function gs(e){return ji(e,Ua,Ss)}var ms=qn?function(e){return qn.get(e)}:_l;function vs(e){for(var t=e.name+"",n=Yn[t],i=tt.call(Yn,t)?n.length:0;i--;){var r=n[i],s=r.func;if(null==s||s==e)return r.name}return t}function ys(e){return(tt.call(ii,"placeholder")?ii:e).placeholder}function _s(){var e=ii.iteratee||gl;return e=e===gl?Ki:e,arguments.length?e(arguments[0],arguments[1]):e}function bs(e,t){var n,i,r=e.__data__;return("string"==(i=typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof t?"string":"hash"]:r.map}function ws(e){for(var t=Ha(e),n=t.length;n--;){var i=t[n],r=e[i];t[n]=[i,r,Ls(r)]}return t}function xs(e,t){var n=function(e,t){return null==e?r:e[t]}(e,t);return Zi(n)?n:r}var Cs=An?function(e){return null==e?[]:(e=qe(e),Vt(An(e),function(t){return Tt.call(e,t)}))}:Tl,Ss=An?function(e){for(var t=[];e;)Ht(t,Cs(e)),e=Ct(e);return t}:Tl,Es=Bi;function Ts(e,t,n){for(var i=-1,r=(t=Ar(t,e)).length,s=!1;++i<r;){var o=qs(t[i]);if(!(s=null!=e&&n(e,o)))break;e=e[o]}return s||++i!=r?s:!!(r=null==e?0:e.length)&&ca(r)&&Os(o,r)&&(ta(e)||ea(e))}function Ms(e){return"function"!=typeof e.constructor||Rs(e)?{}:ri(Ct(e))}function Is(e){return ta(e)||ea(e)||!!($t&&e&&e[$t])}function Os(e,t){var n=typeof e;return!!(t=null==t?T:t)&&("number"==n||"symbol"!=n&&je.test(e))&&e>-1&&e%1==0&&e<t}function As(e,t,n){if(!ha(n))return!1;var i=typeof t;return!!("number"==i?ia(n)&&Os(t,n.length):"string"==i&&t in n)&&Xo(n[t],e)}function Ds(e,t){if(ta(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!_a(e))||we.test(e)||!be.test(e)||null!=t&&e in qe(t)}function ks(e){var t=vs(e),n=ii[t];if("function"!=typeof n||!(t in ai.prototype))return!1;if(e===n)return!0;var i=ms(n);return!!i&&e===i[0]}(zn&&Es(new zn(new ArrayBuffer(1)))!=ee||Hn&&Es(new Hn)!=H||Un&&"[object Promise]"!=Es(Un.resolve())||Gn&&Es(new Gn)!=Y||Wn&&Es(new Wn)!=Q)&&(Es=function(e){var t=Bi(e),n=t==W?e.constructor:r,i=n?Ys(n):"";if(i)switch(i){case Zn:return ee;case Kn:return H;case Xn:return"[object Promise]";case Qn:return Y;case Jn:return Q}return t});var Ps=Je?la:Ml;function Rs(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Qe)}function Ls(e){return e==e&&!ha(e)}function Ns(e,t){return function(n){return null!=n&&n[e]===t&&(t!==r||e in qe(n))}}function Fs(e,t,n){return t=Ln(t===r?e.length-1:t,0),function(){for(var r=arguments,s=-1,o=Ln(r.length-t,0),a=i(o);++s<o;)a[s]=r[t+s];s=-1;for(var l=i(t+1);++s<t;)l[s]=r[s];return l[t]=n(a),Rt(e,this,l)}}function Vs(e,t){return t.length<2?e:Vi(e,fr(t,0,-1))}function js(e,t){if("__proto__"!=t)return e[t]}var Bs=Gs(dr),zs=Mn||function(e,t){return xt.setTimeout(e,t)},Hs=Gs(pr);function Us(e,t,n){var i=t+"";return Hs(e,function(e,t){var n=t.length;if(!n)return e;var i=n-1;return t[i]=(n>1?"& ":"")+t[i],t=t.join(n>2?", ":" "),e.replace(Ie,"{\n/* [wrapped with "+t+"] */\n")}(i,function(e,t){return Nt(k,function(n){var i="_."+n[0];t&n[1]&&!jt(e,i)&&e.push(i)}),e.sort()}(function(e){var t=e.match(Oe);return t?t[1].split(Ae):[]}(i),n)))}function Gs(e){var t=0,n=0;return function(){var i=Fn(),s=S-(i-n);if(n=i,s>0){if(++t>=C)return arguments[0]}else t=0;return e.apply(r,arguments)}}function Ws(e,t){var n=-1,i=e.length,s=i-1;for(t=t===r?i:t;++n<t;){var o=lr(n,s),a=e[o];e[o]=e[n],e[n]=a}return e.length=t,e}var $s=function(e){var t=Wo(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(xe,function(e,n,i,r){t.push(i?r.replace(ke,"$1"):n||e)}),t},function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}();function qs(e){if("string"==typeof e||_a(e))return e;var t=e+"";return"0"==t&&1/e==-E?"-0":t}function Ys(e){if(null!=e){try{return et.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Zs(e){if(e instanceof ai)return e.clone();var t=new oi(e.__wrapped__,e.__chain__);return t.__actions__=Br(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Ks=cr(function(e,t){return ra(e)?Ti(e,ki(t,1,ra,!0)):[]}),Xs=cr(function(e,t){var n=oo(t);return ra(n)&&(n=r),ra(e)?Ti(e,ki(t,1,ra,!0),_s(n,2)):[]}),Qs=cr(function(e,t){var n=oo(t);return ra(n)&&(n=r),ra(e)?Ti(e,ki(t,1,ra,!0),r,n):[]});function Js(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:Ea(n);return r<0&&(r=Ln(i+r,0)),Yt(e,_s(t,3),r)}function eo(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var s=i-1;return n!==r&&(s=Ea(n),s=n<0?Ln(i+s,0):Nn(s,i-1)),Yt(e,_s(t,3),s,!0)}function to(e){return null!=e&&e.length?ki(e,1):[]}function no(e){return e&&e.length?e[0]:r}var io=cr(function(e){var t=zt(e,Ir);return t.length&&t[0]===e[0]?Gi(t):[]}),ro=cr(function(e){var t=oo(e),n=zt(e,Ir);return t===oo(n)?t=r:n.pop(),n.length&&n[0]===e[0]?Gi(n,_s(t,2)):[]}),so=cr(function(e){var t=oo(e),n=zt(e,Ir);return(t="function"==typeof t?t:r)&&n.pop(),n.length&&n[0]===e[0]?Gi(n,r,t):[]});function oo(e){var t=null==e?0:e.length;return t?e[t-1]:r}var ao=cr(lo);function lo(e,t){return e&&e.length&&t&&t.length?or(e,t):e}var uo=ps(function(e,t){var n=null==e?0:e.length,i=wi(e,t);return ar(e,zt(t,function(e){return Os(e,n)?+e:e}).sort(Fr)),i});function co(e){return null==e?e:Bn.call(e)}var ho=cr(function(e){return wr(ki(e,1,ra,!0))}),po=cr(function(e){var t=oo(e);return ra(t)&&(t=r),wr(ki(e,1,ra,!0),_s(t,2))}),fo=cr(function(e){var t=oo(e);return t="function"==typeof t?t:r,wr(ki(e,1,ra,!0),r,t)});function go(e){if(!e||!e.length)return[];var t=0;return e=Vt(e,function(e){if(ra(e))return t=Ln(e.length,t),!0}),rn(t,function(t){return zt(e,Jt(t))})}function mo(e,t){if(!e||!e.length)return[];var n=go(e);return null==t?n:zt(n,function(e){return Rt(t,r,e)})}var vo=cr(function(e,t){return ra(e)?Ti(e,t):[]}),yo=cr(function(e){return Tr(Vt(e,ra))}),_o=cr(function(e){var t=oo(e);return ra(t)&&(t=r),Tr(Vt(e,ra),_s(t,2))}),bo=cr(function(e){var t=oo(e);return t="function"==typeof t?t:r,Tr(Vt(e,ra),r,t)}),wo=cr(go),xo=cr(function(e){var t=e.length,n=t>1?e[t-1]:r;return n="function"==typeof n?(e.pop(),n):r,mo(e,n)});function Co(e){var t=ii(e);return t.__chain__=!0,t}function So(e,t){return t(e)}var Eo=ps(function(e){var t=e.length,n=t?e[0]:0,i=this.__wrapped__,s=function(t){return wi(t,e)};return!(t>1||this.__actions__.length)&&i instanceof ai&&Os(n)?((i=i.slice(n,+n+(t?1:0))).__actions__.push({func:So,args:[s],thisArg:r}),new oi(i,this.__chain__).thru(function(e){return t&&!e.length&&e.push(r),e})):this.thru(s)}),To=Hr(function(e,t,n){tt.call(e,n)?++e[n]:bi(e,n,1)}),Mo=Zr(Js),Io=Zr(eo);function Oo(e,t){return(ta(e)?Nt:Mi)(e,_s(t,3))}function Ao(e,t){return(ta(e)?function(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}:Ii)(e,_s(t,3))}var Do=Hr(function(e,t,n){tt.call(e,n)?e[n].push(t):bi(e,n,[t])}),ko=cr(function(e,t,n){var r=-1,s="function"==typeof t,o=ia(e)?i(e.length):[];return Mi(e,function(e){o[++r]=s?Rt(t,e,n):Wi(e,t,n)}),o}),Po=Hr(function(e,t,n){bi(e,n,t)});function Ro(e,t){return(ta(e)?zt:Ji)(e,_s(t,3))}var Lo=Hr(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),No=cr(function(e,t){if(null==e)return[];var n=t.length;return n>1&&As(e,t[0],t[1])?t=[]:n>2&&As(t[0],t[1],t[2])&&(t=[t[0]]),rr(e,ki(t,1),[])}),Fo=Tn||function(){return xt.Date.now()};function Vo(e,t,n){return t=n?r:t,ls(e,b,r,r,r,r,t=e&&null==t?e.length:t)}function jo(e,t){var n;if("function"!=typeof t)throw new Ke(o);return e=Ea(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=r),n}}var Bo=cr(function(e,t,n){var i=p;if(n.length){var r=mn(n,ys(Bo));i|=y}return ls(e,i,t,n,r)}),zo=cr(function(e,t,n){var i=p|f;if(n.length){var r=mn(n,ys(zo));i|=y}return ls(t,i,e,n,r)});function Ho(e,t,n){var i,s,a,l,u,c,h=0,d=!1,p=!1,f=!0;if("function"!=typeof e)throw new Ke(o);function g(t){var n=i,o=s;return i=s=r,h=t,l=e.apply(o,n)}function m(e){var n=e-c;return c===r||n>=t||n<0||p&&e-h>=a}function v(){var e=Fo();if(m(e))return y(e);u=zs(v,function(e){var n=t-(e-c);return p?Nn(n,a-(e-h)):n}(e))}function y(e){return u=r,f&&i?g(e):(i=s=r,l)}function _(){var e=Fo(),n=m(e);if(i=arguments,s=this,c=e,n){if(u===r)return function(e){return h=e,u=zs(v,t),d?g(e):l}(c);if(p)return u=zs(v,t),g(c)}return u===r&&(u=zs(v,t)),l}return t=Ma(t)||0,ha(n)&&(d=!!n.leading,a=(p="maxWait"in n)?Ln(Ma(n.maxWait)||0,t):a,f="trailing"in n?!!n.trailing:f),_.cancel=function(){u!==r&&Pr(u),h=0,i=c=s=u=r},_.flush=function(){return u===r?l:y(Fo())},_}var Uo=cr(function(e,t){return Ei(e,1,t)}),Go=cr(function(e,t,n){return Ei(e,Ma(t)||0,n)});function Wo(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ke(o);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],s=n.cache;if(s.has(r))return s.get(r);var o=e.apply(this,i);return n.cache=s.set(r,o)||s,o};return n.cache=new(Wo.Cache||ci),n}function $o(e){if("function"!=typeof e)throw new Ke(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Wo.Cache=ci;var qo=Dr(function(e,t){var n=(t=1==t.length&&ta(t[0])?zt(t[0],sn(_s())):zt(ki(t,1),sn(_s()))).length;return cr(function(i){for(var r=-1,s=Nn(i.length,n);++r<s;)i[r]=t[r].call(this,i[r]);return Rt(e,this,i)})}),Yo=cr(function(e,t){var n=mn(t,ys(Yo));return ls(e,y,r,t,n)}),Zo=cr(function(e,t){var n=mn(t,ys(Zo));return ls(e,_,r,t,n)}),Ko=ps(function(e,t){return ls(e,w,r,r,r,t)});function Xo(e,t){return e===t||e!=e&&t!=t}var Qo=is(zi),Jo=is(function(e,t){return e>=t}),ea=$i(function(){return arguments}())?$i:function(e){return da(e)&&tt.call(e,"callee")&&!Tt.call(e,"callee")},ta=i.isArray,na=It?sn(It):function(e){return da(e)&&Bi(e)==J};function ia(e){return null!=e&&ca(e.length)&&!la(e)}function ra(e){return da(e)&&ia(e)}var sa=Dn||Ml,oa=Ot?sn(Ot):function(e){return da(e)&&Bi(e)==F};function aa(e){if(!da(e))return!1;var t=Bi(e);return t==j||t==V||"string"==typeof e.message&&"string"==typeof e.name&&!ga(e)}function la(e){if(!ha(e))return!1;var t=Bi(e);return t==B||t==z||t==L||t==$}function ua(e){return"number"==typeof e&&e==Ea(e)}function ca(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=T}function ha(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function da(e){return null!=e&&"object"==typeof e}var pa=At?sn(At):function(e){return da(e)&&Es(e)==H};function fa(e){return"number"==typeof e||da(e)&&Bi(e)==U}function ga(e){if(!da(e)||Bi(e)!=W)return!1;var t=Ct(e);if(null===t)return!0;var n=tt.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&et.call(n)==st}var ma=Dt?sn(Dt):function(e){return da(e)&&Bi(e)==q},va=kt?sn(kt):function(e){return da(e)&&Es(e)==Y};function ya(e){return"string"==typeof e||!ta(e)&&da(e)&&Bi(e)==Z}function _a(e){return"symbol"==typeof e||da(e)&&Bi(e)==K}var ba=Pt?sn(Pt):function(e){return da(e)&&ca(e.length)&&!!gt[Bi(e)]},wa=is(Qi),xa=is(function(e,t){return e<=t});function Ca(e){if(!e)return[];if(ia(e))return ya(e)?bn(e):Br(e);if(en&&e[en])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[en]());var t=Es(e);return(t==H?fn:t==Y?vn:Xa)(e)}function Sa(e){return e?(e=Ma(e))===E||e===-E?(e<0?-1:1)*M:e==e?e:0:0===e?e:0}function Ea(e){var t=Sa(e),n=t%1;return t==t?n?t-n:t:0}function Ta(e){return e?xi(Ea(e),0,O):0}function Ma(e){if("number"==typeof e)return e;if(_a(e))return I;if(ha(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ha(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Ee,"");var n=Ne.test(e);return n||Ve.test(e)?_t(e.slice(2),n?2:8):Le.test(e)?I:+e}function Ia(e){return zr(e,Ua(e))}function Oa(e){return null==e?"":br(e)}var Aa=Ur(function(e,t){if(Rs(t)||ia(t))zr(t,Ha(t),e);else for(var n in t)tt.call(t,n)&&mi(e,n,t[n])}),Da=Ur(function(e,t){zr(t,Ua(t),e)}),ka=Ur(function(e,t,n,i){zr(t,Ua(t),e,i)}),Pa=Ur(function(e,t,n,i){zr(t,Ha(t),e,i)}),Ra=ps(wi),La=cr(function(e,t){e=qe(e);var n=-1,i=t.length,s=i>2?t[2]:r;for(s&&As(t[0],t[1],s)&&(i=1);++n<i;)for(var o=t[n],a=Ua(o),l=-1,u=a.length;++l<u;){var c=a[l],h=e[c];(h===r||Xo(h,Qe[c])&&!tt.call(e,c))&&(e[c]=o[c])}return e}),Na=cr(function(e){return e.push(r,cs),Rt(Wa,r,e)});function Fa(e,t,n){var i=null==e?r:Vi(e,t);return i===r?n:i}function Va(e,t){return null!=e&&Ts(e,t,Ui)}var ja=Qr(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=rt.call(t)),e[t]=n},hl(fl)),Ba=Qr(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=rt.call(t)),tt.call(e,t)?e[t].push(n):e[t]=[n]},_s),za=cr(Wi);function Ha(e){return ia(e)?pi(e):Xi(e)}function Ua(e){return ia(e)?pi(e,!0):function(e){if(!ha(e))return function(e){var t=[];if(null!=e)for(var n in qe(e))t.push(n);return t}(e);var t=Rs(e),n=[];for(var i in e)("constructor"!=i||!t&&tt.call(e,i))&&n.push(i);return n}(e)}var Ga=Ur(function(e,t,n){nr(e,t,n)}),Wa=Ur(function(e,t,n,i){nr(e,t,n,i)}),$a=ps(function(e,t){var n={};if(null==e)return n;var i=!1;t=zt(t,function(t){return t=Ar(t,e),i||(i=t.length>1),t}),zr(e,gs(e),n),i&&(n=Ci(n,l|u|c,hs));for(var r=t.length;r--;)xr(n,t[r]);return n}),qa=ps(function(e,t){return null==e?{}:function(e,t){return sr(e,t,function(t,n){return Va(e,n)})}(e,t)});function Ya(e,t){if(null==e)return{};var n=zt(gs(e),function(e){return[e]});return t=_s(t),sr(e,n,function(e,n){return t(e,n[0])})}var Za=as(Ha),Ka=as(Ua);function Xa(e){return null==e?[]:on(e,Ha(e))}var Qa=qr(function(e,t,n){return t=t.toLowerCase(),e+(n?Ja(t):t)});function Ja(e){return al(Oa(e).toLowerCase())}function el(e){return(e=Oa(e))&&e.replace(Be,cn).replace(lt,"")}var tl=qr(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),nl=qr(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),il=$r("toLowerCase"),rl=qr(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),sl=qr(function(e,t,n){return e+(n?" ":"")+al(t)}),ol=qr(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),al=$r("toUpperCase");function ll(e,t,n){return e=Oa(e),(t=n?r:t)===r?function(e){return dt.test(e)}(e)?function(e){return e.match(ct)||[]}(e):function(e){return e.match(De)||[]}(e):e.match(t)||[]}var ul=cr(function(e,t){try{return Rt(e,r,t)}catch(n){return aa(n)?n:new Ge(n)}}),cl=ps(function(e,t){return Nt(t,function(t){t=qs(t),bi(e,t,Bo(e[t],e))}),e});function hl(e){return function(){return e}}var dl=Kr(),pl=Kr(!0);function fl(e){return e}function gl(e){return Ki("function"==typeof e?e:Ci(e,l))}var ml=cr(function(e,t){return function(n){return Wi(n,e,t)}}),vl=cr(function(e,t){return function(n){return Wi(e,n,t)}});function yl(e,t,n){var i=Ha(t),r=Fi(t,i);null!=n||ha(t)&&(r.length||!i.length)||(n=t,t=e,e=this,r=Fi(t,Ha(t)));var s=!(ha(n)&&"chain"in n&&!n.chain),o=la(e);return Nt(r,function(n){var i=t[n];e[n]=i,o&&(e.prototype[n]=function(){var t=this.__chain__;if(s||t){var n=e(this.__wrapped__);return(n.__actions__=Br(this.__actions__)).push({func:i,args:arguments,thisArg:e}),n.__chain__=t,n}return i.apply(e,Ht([this.value()],arguments))})}),e}function _l(){}var bl=es(zt),wl=es(Ft),xl=es(Wt);function Cl(e){return Ds(e)?Jt(qs(e)):function(e){return function(t){return Vi(t,e)}}(e)}var Sl=ns(),El=ns(!0);function Tl(){return[]}function Ml(){return!1}var Il,Ol=Jr(function(e,t){return e+t},0),Al=ss("ceil"),Dl=Jr(function(e,t){return e/t},1),kl=ss("floor"),Pl=Jr(function(e,t){return e*t},1),Rl=ss("round"),Ll=Jr(function(e,t){return e-t},0);return ii.after=function(e,t){if("function"!=typeof t)throw new Ke(o);return e=Ea(e),function(){if(--e<1)return t.apply(this,arguments)}},ii.ary=Vo,ii.assign=Aa,ii.assignIn=Da,ii.assignInWith=ka,ii.assignWith=Pa,ii.at=Ra,ii.before=jo,ii.bind=Bo,ii.bindAll=cl,ii.bindKey=zo,ii.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return ta(e)?e:[e]},ii.chain=Co,ii.chunk=function(e,t,n){t=(n?As(e,t,n):t===r)?1:Ln(Ea(t),0);var s=null==e?0:e.length;if(!s||t<1)return[];for(var o=0,a=0,l=i(In(s/t));o<s;)l[a++]=fr(e,o,o+=t);return l},ii.compact=function(e){for(var t=-1,n=null==e?0:e.length,i=0,r=[];++t<n;){var s=e[t];s&&(r[i++]=s)}return r},ii.concat=function(){var e=arguments.length;if(!e)return[];for(var t=i(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return Ht(ta(n)?Br(n):[n],ki(t,1))},ii.cond=function(e){var t=null==e?0:e.length,n=_s();return e=t?zt(e,function(e){if("function"!=typeof e[1])throw new Ke(o);return[n(e[0]),e[1]]}):[],cr(function(n){for(var i=-1;++i<t;){var r=e[i];if(Rt(r[0],this,n))return Rt(r[1],this,n)}})},ii.conforms=function(e){return function(e){var t=Ha(e);return function(n){return Si(n,e,t)}}(Ci(e,l))},ii.constant=hl,ii.countBy=To,ii.create=function(e,t){var n=ri(e);return null==t?n:_i(n,t)},ii.curry=function e(t,n,i){var s=ls(t,m,r,r,r,r,r,n=i?r:n);return s.placeholder=e.placeholder,s},ii.curryRight=function e(t,n,i){var s=ls(t,v,r,r,r,r,r,n=i?r:n);return s.placeholder=e.placeholder,s},ii.debounce=Ho,ii.defaults=La,ii.defaultsDeep=Na,ii.defer=Uo,ii.delay=Go,ii.difference=Ks,ii.differenceBy=Xs,ii.differenceWith=Qs,ii.drop=function(e,t,n){var i=null==e?0:e.length;return i?fr(e,(t=n||t===r?1:Ea(t))<0?0:t,i):[]},ii.dropRight=function(e,t,n){var i=null==e?0:e.length;return i?fr(e,0,(t=i-(t=n||t===r?1:Ea(t)))<0?0:t):[]},ii.dropRightWhile=function(e,t){return e&&e.length?Sr(e,_s(t,3),!0,!0):[]},ii.dropWhile=function(e,t){return e&&e.length?Sr(e,_s(t,3),!0):[]},ii.fill=function(e,t,n,i){var s=null==e?0:e.length;return s?(n&&"number"!=typeof n&&As(e,t,n)&&(n=0,i=s),function(e,t,n,i){var s=e.length;for((n=Ea(n))<0&&(n=-n>s?0:s+n),(i=i===r||i>s?s:Ea(i))<0&&(i+=s),i=n>i?0:Ta(i);n<i;)e[n++]=t;return e}(e,t,n,i)):[]},ii.filter=function(e,t){return(ta(e)?Vt:Di)(e,_s(t,3))},ii.flatMap=function(e,t){return ki(Ro(e,t),1)},ii.flatMapDeep=function(e,t){return ki(Ro(e,t),E)},ii.flatMapDepth=function(e,t,n){return n=n===r?1:Ea(n),ki(Ro(e,t),n)},ii.flatten=to,ii.flattenDeep=function(e){return null!=e&&e.length?ki(e,E):[]},ii.flattenDepth=function(e,t){return null!=e&&e.length?ki(e,t=t===r?1:Ea(t)):[]},ii.flip=function(e){return ls(e,x)},ii.flow=dl,ii.flowRight=pl,ii.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,i={};++t<n;){var r=e[t];i[r[0]]=r[1]}return i},ii.functions=function(e){return null==e?[]:Fi(e,Ha(e))},ii.functionsIn=function(e){return null==e?[]:Fi(e,Ua(e))},ii.groupBy=Do,ii.initial=function(e){return null!=e&&e.length?fr(e,0,-1):[]},ii.intersection=io,ii.intersectionBy=ro,ii.intersectionWith=so,ii.invert=ja,ii.invertBy=Ba,ii.invokeMap=ko,ii.iteratee=gl,ii.keyBy=Po,ii.keys=Ha,ii.keysIn=Ua,ii.map=Ro,ii.mapKeys=function(e,t){var n={};return t=_s(t,3),Li(e,function(e,i,r){bi(n,t(e,i,r),e)}),n},ii.mapValues=function(e,t){var n={};return t=_s(t,3),Li(e,function(e,i,r){bi(n,i,t(e,i,r))}),n},ii.matches=function(e){return er(Ci(e,l))},ii.matchesProperty=function(e,t){return tr(e,Ci(t,l))},ii.memoize=Wo,ii.merge=Ga,ii.mergeWith=Wa,ii.method=ml,ii.methodOf=vl,ii.mixin=yl,ii.negate=$o,ii.nthArg=function(e){return e=Ea(e),cr(function(t){return ir(t,e)})},ii.omit=$a,ii.omitBy=function(e,t){return Ya(e,$o(_s(t)))},ii.once=function(e){return jo(2,e)},ii.orderBy=function(e,t,n,i){return null==e?[]:(ta(t)||(t=null==t?[]:[t]),ta(n=i?r:n)||(n=null==n?[]:[n]),rr(e,t,n))},ii.over=bl,ii.overArgs=qo,ii.overEvery=wl,ii.overSome=xl,ii.partial=Yo,ii.partialRight=Zo,ii.partition=Lo,ii.pick=qa,ii.pickBy=Ya,ii.property=Cl,ii.propertyOf=function(e){return function(t){return null==e?r:Vi(e,t)}},ii.pull=ao,ii.pullAll=lo,ii.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?or(e,t,_s(n,2)):e},ii.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?or(e,t,r,n):e},ii.pullAt=uo,ii.range=Sl,ii.rangeRight=El,ii.rearg=Ko,ii.reject=function(e,t){return(ta(e)?Vt:Di)(e,$o(_s(t,3)))},ii.remove=function(e,t){var n=[];if(!e||!e.length)return n;var i=-1,r=[],s=e.length;for(t=_s(t,3);++i<s;){var o=e[i];t(o,i,e)&&(n.push(o),r.push(i))}return ar(e,r),n},ii.rest=function(e,t){if("function"!=typeof e)throw new Ke(o);return cr(e,t=t===r?t:Ea(t))},ii.reverse=co,ii.sampleSize=function(e,t,n){return t=(n?As(e,t,n):t===r)?1:Ea(t),(ta(e)?function(e,t){return Ws(Br(e),xi(t,0,e.length))}:function(e,t){var n=Xa(e);return Ws(n,xi(t,0,n.length))})(e,t)},ii.set=function(e,t,n){return null==e?e:hr(e,t,n)},ii.setWith=function(e,t,n,i){return i="function"==typeof i?i:r,null==e?e:hr(e,t,n,i)},ii.shuffle=function(e){return(ta(e)?function(e){return Ws(Br(e))}:function(e){return Ws(Xa(e))})(e)},ii.slice=function(e,t,n){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&As(e,t,n)?(t=0,n=i):(t=null==t?0:Ea(t),n=n===r?i:Ea(n)),fr(e,t,n)):[]},ii.sortBy=No,ii.sortedUniq=function(e){return e&&e.length?yr(e):[]},ii.sortedUniqBy=function(e,t){return e&&e.length?yr(e,_s(t,2)):[]},ii.split=function(e,t,n){return n&&"number"!=typeof n&&As(e,t,n)&&(t=n=r),(n=n===r?O:n>>>0)?(e=Oa(e))&&("string"==typeof t||null!=t&&!ma(t))&&!(t=br(t))&&pn(e)?kr(bn(e),0,n):e.split(t,n):[]},ii.spread=function(e,t){if("function"!=typeof e)throw new Ke(o);return t=null==t?0:Ln(Ea(t),0),cr(function(n){var i=n[t],r=kr(n,0,t);return i&&Ht(r,i),Rt(e,this,r)})},ii.tail=function(e){var t=null==e?0:e.length;return t?fr(e,1,t):[]},ii.take=function(e,t,n){return e&&e.length?fr(e,0,(t=n||t===r?1:Ea(t))<0?0:t):[]},ii.takeRight=function(e,t,n){var i=null==e?0:e.length;return i?fr(e,(t=i-(t=n||t===r?1:Ea(t)))<0?0:t,i):[]},ii.takeRightWhile=function(e,t){return e&&e.length?Sr(e,_s(t,3),!1,!0):[]},ii.takeWhile=function(e,t){return e&&e.length?Sr(e,_s(t,3)):[]},ii.tap=function(e,t){return t(e),e},ii.throttle=function(e,t,n){var i=!0,r=!0;if("function"!=typeof e)throw new Ke(o);return ha(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),Ho(e,t,{leading:i,maxWait:t,trailing:r})},ii.thru=So,ii.toArray=Ca,ii.toPairs=Za,ii.toPairsIn=Ka,ii.toPath=function(e){return ta(e)?zt(e,qs):_a(e)?[e]:Br($s(Oa(e)))},ii.toPlainObject=Ia,ii.transform=function(e,t,n){var i=ta(e),r=i||sa(e)||ba(e);if(t=_s(t,4),null==n){var s=e&&e.constructor;n=r?i?new s:[]:ha(e)&&la(s)?ri(Ct(e)):{}}return(r?Nt:Li)(e,function(e,i,r){return t(n,e,i,r)}),n},ii.unary=function(e){return Vo(e,1)},ii.union=ho,ii.unionBy=po,ii.unionWith=fo,ii.uniq=function(e){return e&&e.length?wr(e):[]},ii.uniqBy=function(e,t){return e&&e.length?wr(e,_s(t,2)):[]},ii.uniqWith=function(e,t){return t="function"==typeof t?t:r,e&&e.length?wr(e,r,t):[]},ii.unset=function(e,t){return null==e||xr(e,t)},ii.unzip=go,ii.unzipWith=mo,ii.update=function(e,t,n){return null==e?e:Cr(e,t,Or(n))},ii.updateWith=function(e,t,n,i){return i="function"==typeof i?i:r,null==e?e:Cr(e,t,Or(n),i)},ii.values=Xa,ii.valuesIn=function(e){return null==e?[]:on(e,Ua(e))},ii.without=vo,ii.words=ll,ii.wrap=function(e,t){return Yo(Or(t),e)},ii.xor=yo,ii.xorBy=_o,ii.xorWith=bo,ii.zip=wo,ii.zipObject=function(e,t){return Mr(e||[],t||[],mi)},ii.zipObjectDeep=function(e,t){return Mr(e||[],t||[],hr)},ii.zipWith=xo,ii.entries=Za,ii.entriesIn=Ka,ii.extend=Da,ii.extendWith=ka,yl(ii,ii),ii.add=Ol,ii.attempt=ul,ii.camelCase=Qa,ii.capitalize=Ja,ii.ceil=Al,ii.clamp=function(e,t,n){return n===r&&(n=t,t=r),n!==r&&(n=(n=Ma(n))==n?n:0),t!==r&&(t=(t=Ma(t))==t?t:0),xi(Ma(e),t,n)},ii.clone=function(e){return Ci(e,c)},ii.cloneDeep=function(e){return Ci(e,l|c)},ii.cloneDeepWith=function(e,t){return Ci(e,l|c,t="function"==typeof t?t:r)},ii.cloneWith=function(e,t){return Ci(e,c,t="function"==typeof t?t:r)},ii.conformsTo=function(e,t){return null==t||Si(e,t,Ha(t))},ii.deburr=el,ii.defaultTo=function(e,t){return null==e||e!=e?t:e},ii.divide=Dl,ii.endsWith=function(e,t,n){e=Oa(e),t=br(t);var i=e.length,s=n=n===r?i:xi(Ea(n),0,i);return(n-=t.length)>=0&&e.slice(n,s)==t},ii.eq=Xo,ii.escape=function(e){return(e=Oa(e))&&me.test(e)?e.replace(fe,hn):e},ii.escapeRegExp=function(e){return(e=Oa(e))&&Se.test(e)?e.replace(Ce,"\\$&"):e},ii.every=function(e,t,n){var i=ta(e)?Ft:Oi;return n&&As(e,t,n)&&(t=r),i(e,_s(t,3))},ii.find=Mo,ii.findIndex=Js,ii.findKey=function(e,t){return qt(e,_s(t,3),Li)},ii.findLast=Io,ii.findLastIndex=eo,ii.findLastKey=function(e,t){return qt(e,_s(t,3),Ni)},ii.floor=kl,ii.forEach=Oo,ii.forEachRight=Ao,ii.forIn=function(e,t){return null==e?e:Pi(e,_s(t,3),Ua)},ii.forInRight=function(e,t){return null==e?e:Ri(e,_s(t,3),Ua)},ii.forOwn=function(e,t){return e&&Li(e,_s(t,3))},ii.forOwnRight=function(e,t){return e&&Ni(e,_s(t,3))},ii.get=Fa,ii.gt=Qo,ii.gte=Jo,ii.has=function(e,t){return null!=e&&Ts(e,t,Hi)},ii.hasIn=Va,ii.head=no,ii.identity=fl,ii.includes=function(e,t,n,i){e=ia(e)?e:Xa(e),n=n&&!i?Ea(n):0;var r=e.length;return n<0&&(n=Ln(r+n,0)),ya(e)?n<=r&&e.indexOf(t,n)>-1:!!r&&Zt(e,t,n)>-1},ii.indexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:Ea(n);return r<0&&(r=Ln(i+r,0)),Zt(e,t,r)},ii.inRange=function(e,t,n){return t=Sa(t),n===r?(n=t,t=0):n=Sa(n),function(e,t,n){return e>=Nn(t,n)&&e<Ln(t,n)}(e=Ma(e),t,n)},ii.invoke=za,ii.isArguments=ea,ii.isArray=ta,ii.isArrayBuffer=na,ii.isArrayLike=ia,ii.isArrayLikeObject=ra,ii.isBoolean=function(e){return!0===e||!1===e||da(e)&&Bi(e)==N},ii.isBuffer=sa,ii.isDate=oa,ii.isElement=function(e){return da(e)&&1===e.nodeType&&!ga(e)},ii.isEmpty=function(e){if(null==e)return!0;if(ia(e)&&(ta(e)||"string"==typeof e||"function"==typeof e.splice||sa(e)||ba(e)||ea(e)))return!e.length;var t=Es(e);if(t==H||t==Y)return!e.size;if(Rs(e))return!Xi(e).length;for(var n in e)if(tt.call(e,n))return!1;return!0},ii.isEqual=function(e,t){return qi(e,t)},ii.isEqualWith=function(e,t,n){var i=(n="function"==typeof n?n:r)?n(e,t):r;return i===r?qi(e,t,r,n):!!i},ii.isError=aa,ii.isFinite=function(e){return"number"==typeof e&&kn(e)},ii.isFunction=la,ii.isInteger=ua,ii.isLength=ca,ii.isMap=pa,ii.isMatch=function(e,t){return e===t||Yi(e,t,ws(t))},ii.isMatchWith=function(e,t,n){return n="function"==typeof n?n:r,Yi(e,t,ws(t),n)},ii.isNaN=function(e){return fa(e)&&e!=+e},ii.isNative=function(e){if(Ps(e))throw new Ge("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Zi(e)},ii.isNil=function(e){return null==e},ii.isNull=function(e){return null===e},ii.isNumber=fa,ii.isObject=ha,ii.isObjectLike=da,ii.isPlainObject=ga,ii.isRegExp=ma,ii.isSafeInteger=function(e){return ua(e)&&e>=-T&&e<=T},ii.isSet=va,ii.isString=ya,ii.isSymbol=_a,ii.isTypedArray=ba,ii.isUndefined=function(e){return e===r},ii.isWeakMap=function(e){return da(e)&&Es(e)==Q},ii.isWeakSet=function(e){return da(e)&&"[object WeakSet]"==Bi(e)},ii.join=function(e,t){return null==e?"":Pn.call(e,t)},ii.kebabCase=tl,ii.last=oo,ii.lastIndexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var s=i;return n!==r&&(s=(s=Ea(n))<0?Ln(i+s,0):Nn(s,i-1)),t==t?function(e,t,n){for(var i=n+1;i--;)if(e[i]===t)return i;return i}(e,t,s):Yt(e,Xt,s,!0)},ii.lowerCase=nl,ii.lowerFirst=il,ii.lt=wa,ii.lte=xa,ii.max=function(e){return e&&e.length?Ai(e,fl,zi):r},ii.maxBy=function(e,t){return e&&e.length?Ai(e,_s(t,2),zi):r},ii.mean=function(e){return Qt(e,fl)},ii.meanBy=function(e,t){return Qt(e,_s(t,2))},ii.min=function(e){return e&&e.length?Ai(e,fl,Qi):r},ii.minBy=function(e,t){return e&&e.length?Ai(e,_s(t,2),Qi):r},ii.stubArray=Tl,ii.stubFalse=Ml,ii.stubObject=function(){return{}},ii.stubString=function(){return""},ii.stubTrue=function(){return!0},ii.multiply=Pl,ii.nth=function(e,t){return e&&e.length?ir(e,Ea(t)):r},ii.noConflict=function(){return xt._===this&&(xt._=ot),this},ii.noop=_l,ii.now=Fo,ii.pad=function(e,t,n){e=Oa(e);var i=(t=Ea(t))?_n(e):0;if(!t||i>=t)return e;var r=(t-i)/2;return ts(On(r),n)+e+ts(In(r),n)},ii.padEnd=function(e,t,n){e=Oa(e);var i=(t=Ea(t))?_n(e):0;return t&&i<t?e+ts(t-i,n):e},ii.padStart=function(e,t,n){e=Oa(e);var i=(t=Ea(t))?_n(e):0;return t&&i<t?ts(t-i,n)+e:e},ii.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),Vn(Oa(e).replace(Te,""),t||0)},ii.random=function(e,t,n){if(n&&"boolean"!=typeof n&&As(e,t,n)&&(t=n=r),n===r&&("boolean"==typeof t?(n=t,t=r):"boolean"==typeof e&&(n=e,e=r)),e===r&&t===r?(e=0,t=1):(e=Sa(e),t===r?(t=e,e=0):t=Sa(t)),e>t){var i=e;e=t,t=i}if(n||e%1||t%1){var s=jn();return Nn(e+s*(t-e+yt("1e-"+((s+"").length-1))),t)}return lr(e,t)},ii.reduce=function(e,t,n){var i=ta(e)?Ut:tn,r=arguments.length<3;return i(e,_s(t,4),n,r,Mi)},ii.reduceRight=function(e,t,n){var i=ta(e)?Gt:tn,r=arguments.length<3;return i(e,_s(t,4),n,r,Ii)},ii.repeat=function(e,t,n){return t=(n?As(e,t,n):t===r)?1:Ea(t),ur(Oa(e),t)},ii.replace=function(){var e=arguments,t=Oa(e[0]);return e.length<3?t:t.replace(e[1],e[2])},ii.result=function(e,t,n){var i=-1,s=(t=Ar(t,e)).length;for(s||(s=1,e=r);++i<s;){var o=null==e?r:e[qs(t[i])];o===r&&(i=s,o=n),e=la(o)?o.call(e):o}return e},ii.round=Rl,ii.runInContext=e,ii.sample=function(e){return(ta(e)?fi:function(e){return fi(Xa(e))})(e)},ii.size=function(e){if(null==e)return 0;if(ia(e))return ya(e)?_n(e):e.length;var t=Es(e);return t==H||t==Y?e.size:Xi(e).length},ii.snakeCase=rl,ii.some=function(e,t,n){var i=ta(e)?Wt:gr;return n&&As(e,t,n)&&(t=r),i(e,_s(t,3))},ii.sortedIndex=function(e,t){return mr(e,t)},ii.sortedIndexBy=function(e,t,n){return vr(e,t,_s(n,2))},ii.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var i=mr(e,t);if(i<n&&Xo(e[i],t))return i}return-1},ii.sortedLastIndex=function(e,t){return mr(e,t,!0)},ii.sortedLastIndexBy=function(e,t,n){return vr(e,t,_s(n,2),!0)},ii.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=mr(e,t,!0)-1;if(Xo(e[n],t))return n}return-1},ii.startCase=sl,ii.startsWith=function(e,t,n){return e=Oa(e),n=null==n?0:xi(Ea(n),0,e.length),t=br(t),e.slice(n,n+t.length)==t},ii.subtract=Ll,ii.sum=function(e){return e&&e.length?nn(e,fl):0},ii.sumBy=function(e,t){return e&&e.length?nn(e,_s(t,2)):0},ii.template=function(e,t,n){var i=ii.templateSettings;n&&As(e,t,n)&&(t=r),e=Oa(e),t=ka({},t,i,us);var s,o,a=ka({},t.imports,i.imports,us),l=Ha(a),u=on(a,l),c=0,h=t.interpolate||ze,d="__p += '",p=Ye((t.escape||ze).source+"|"+h.source+"|"+(h===_e?Pe:ze).source+"|"+(t.evaluate||ze).source+"|$","g"),f="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++ft+"]")+"\n";e.replace(p,function(t,n,i,r,a,l){return i||(i=r),d+=e.slice(c,l).replace(He,dn),n&&(s=!0,d+="' +\n__e("+n+") +\n'"),a&&(o=!0,d+="';\n"+a+";\n__p += '"),i&&(d+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),c=l+t.length,t}),d+="';\n";var g=t.variable;g||(d="with (obj) {\n"+d+"\n}\n"),d=(o?d.replace(ce,""):d).replace(he,"$1").replace(de,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m=ul(function(){return We(l,f+"return "+d).apply(r,u)});if(m.source=d,aa(m))throw m;return m},ii.times=function(e,t){if((e=Ea(e))<1||e>T)return[];var n=O,i=Nn(e,O);t=_s(t),e-=O;for(var r=rn(i,t);++n<e;)t(n);return r},ii.toFinite=Sa,ii.toInteger=Ea,ii.toLength=Ta,ii.toLower=function(e){return Oa(e).toLowerCase()},ii.toNumber=Ma,ii.toSafeInteger=function(e){return e?xi(Ea(e),-T,T):0===e?e:0},ii.toString=Oa,ii.toUpper=function(e){return Oa(e).toUpperCase()},ii.trim=function(e,t,n){if((e=Oa(e))&&(n||t===r))return e.replace(Ee,"");if(!e||!(t=br(t)))return e;var i=bn(e),s=bn(t);return kr(i,ln(i,s),un(i,s)+1).join("")},ii.trimEnd=function(e,t,n){if((e=Oa(e))&&(n||t===r))return e.replace(Me,"");if(!e||!(t=br(t)))return e;var i=bn(e);return kr(i,0,un(i,bn(t))+1).join("")},ii.trimStart=function(e,t,n){if((e=Oa(e))&&(n||t===r))return e.replace(Te,"");if(!e||!(t=br(t)))return e;var i=bn(e);return kr(i,ln(i,bn(t))).join("")},ii.truncate=function(e,t){var n=30,i="...";if(ha(t)){var s="separator"in t?t.separator:s;n="length"in t?Ea(t.length):n,i="omission"in t?br(t.omission):i}var o=(e=Oa(e)).length;if(pn(e)){var a=bn(e);o=a.length}if(n>=o)return e;var l=n-_n(i);if(l<1)return i;var u=a?kr(a,0,l).join(""):e.slice(0,l);if(s===r)return u+i;if(a&&(l+=u.length-l),ma(s)){if(e.slice(l).search(s)){var c,h=u;for(s.global||(s=Ye(s.source,Oa(Re.exec(s))+"g")),s.lastIndex=0;c=s.exec(h);)var d=c.index;u=u.slice(0,d===r?l:d)}}else if(e.indexOf(br(s),l)!=l){var p=u.lastIndexOf(s);p>-1&&(u=u.slice(0,p))}return u+i},ii.unescape=function(e){return(e=Oa(e))&&ge.test(e)?e.replace(pe,wn):e},ii.uniqueId=function(e){var t=++nt;return Oa(e)+t},ii.upperCase=ol,ii.upperFirst=al,ii.each=Oo,ii.eachRight=Ao,ii.first=no,yl(ii,(Il={},Li(ii,function(e,t){tt.call(ii.prototype,t)||(Il[t]=e)}),Il),{chain:!1}),ii.VERSION="4.17.11",Nt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){ii[e].placeholder=ii}),Nt(["drop","take"],function(e,t){ai.prototype[e]=function(n){n=n===r?1:Ln(Ea(n),0);var i=this.__filtered__&&!t?new ai(this):this.clone();return i.__filtered__?i.__takeCount__=Nn(n,i.__takeCount__):i.__views__.push({size:Nn(n,O),type:e+(i.__dir__<0?"Right":"")}),i},ai.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),Nt(["filter","map","takeWhile"],function(e,t){var n=t+1,i=1==n||3==n;ai.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:_s(e,3),type:n}),t.__filtered__=t.__filtered__||i,t}}),Nt(["head","last"],function(e,t){var n="take"+(t?"Right":"");ai.prototype[e]=function(){return this[n](1).value()[0]}}),Nt(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");ai.prototype[e]=function(){return this.__filtered__?new ai(this):this[n](1)}}),ai.prototype.compact=function(){return this.filter(fl)},ai.prototype.find=function(e){return this.filter(e).head()},ai.prototype.findLast=function(e){return this.reverse().find(e)},ai.prototype.invokeMap=cr(function(e,t){return"function"==typeof e?new ai(this):this.map(function(n){return Wi(n,e,t)})}),ai.prototype.reject=function(e){return this.filter($o(_s(e)))},ai.prototype.slice=function(e,t){e=Ea(e);var n=this;return n.__filtered__&&(e>0||t<0)?new ai(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==r&&(n=(t=Ea(t))<0?n.dropRight(-t):n.take(t-e)),n)},ai.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},ai.prototype.toArray=function(){return this.take(O)},Li(ai.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),s=ii[i?"take"+("last"==t?"Right":""):t],o=i||/^find/.test(t);s&&(ii.prototype[t]=function(){var t=this.__wrapped__,a=i?[1]:arguments,l=t instanceof ai,u=a[0],c=l||ta(t),h=function(e){var t=s.apply(ii,Ht([e],a));return i&&d?t[0]:t};c&&n&&"function"==typeof u&&1!=u.length&&(l=c=!1);var d=this.__chain__,p=o&&!d,f=l&&!this.__actions__.length;if(!o&&c){t=f?t:new ai(this);var g=e.apply(t,a);return g.__actions__.push({func:So,args:[h],thisArg:r}),new oi(g,d)}return p&&f?e.apply(this,a):(g=this.thru(h),p?i?g.value()[0]:g.value():g)})}),Nt(["pop","push","shift","sort","splice","unshift"],function(e){var t=Xe[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);ii.prototype[e]=function(){var e=arguments;if(i&&!this.__chain__){var r=this.value();return t.apply(ta(r)?r:[],e)}return this[n](function(n){return t.apply(ta(n)?n:[],e)})}}),Li(ai.prototype,function(e,t){var n=ii[t];if(n){var i=n.name+"";(Yn[i]||(Yn[i]=[])).push({name:t,func:n})}}),Yn[Xr(r,f).name]=[{name:"wrapper",func:r}],ai.prototype.clone=function(){var e=new ai(this.__wrapped__);return e.__actions__=Br(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Br(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Br(this.__views__),e},ai.prototype.reverse=function(){if(this.__filtered__){var e=new ai(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},ai.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=ta(e),i=t<0,r=n?e.length:0,s=function(e,t,n){for(var i=-1,r=n.length;++i<r;){var s=n[i],o=s.size;switch(s.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=Nn(t,e+o);break;case"takeRight":e=Ln(e,t-o)}}return{start:e,end:t}}(0,r,this.__views__),o=s.start,a=s.end,l=a-o,u=i?a:o-1,c=this.__iteratees__,h=c.length,d=0,p=Nn(l,this.__takeCount__);if(!n||!i&&r==l&&p==l)return Er(e,this.__actions__);var f=[];e:for(;l--&&d<p;){for(var g=-1,m=e[u+=t];++g<h;){var v=c[g],y=v.type,_=(0,v.iteratee)(m);if(2==y)m=_;else if(!_){if(1==y)continue e;break e}}f[d++]=m}return f},ii.prototype.at=Eo,ii.prototype.chain=function(){return Co(this)},ii.prototype.commit=function(){return new oi(this.value(),this.__chain__)},ii.prototype.next=function(){this.__values__===r&&(this.__values__=Ca(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?r:this.__values__[this.__index__++]}},ii.prototype.plant=function(e){for(var t,n=this;n instanceof si;){var i=Zs(n);i.__index__=0,i.__values__=r,t?s.__wrapped__=i:t=i;var s=i;n=n.__wrapped__}return s.__wrapped__=e,t},ii.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof ai){var t=e;return this.__actions__.length&&(t=new ai(this)),(t=t.reverse()).__actions__.push({func:So,args:[co],thisArg:r}),new oi(t,this.__chain__)}return this.thru(co)},ii.prototype.toJSON=ii.prototype.valueOf=ii.prototype.value=function(){return Er(this.__wrapped__,this.__actions__)},ii.prototype.first=ii.prototype.head,en&&(ii.prototype[en]=function(){return this}),ii}();xt._=xn,(i=(function(){return xn}).call(t,n,t,e))===r||(e.exports=i)}).call(this)}).call(this,n("YuTi")(e))},NJ4a:function(e,t,n){"use strict";function i(e){setTimeout(()=>{throw e})}n.d(t,"a",function(){return i})},NXyV:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("HDdC"),r=n("Cfvw"),s=n("EY2u");function o(e){return new i.a(t=>{let n;try{n=e()}catch(i){return void t.error(i)}return(n?Object(r.a)(n):Object(s.b)()).subscribe(t)})}},P3jN:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectUtils=function(){function e(){}return e.equals=function(e,t,n){return n?this.resolveFieldData(e,n)===this.resolveFieldData(t,n):this.equalsByValue(e,t)},e.equalsByValue=function(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var n,i,r,s=Array.isArray(e),o=Array.isArray(t);if(s&&o){if((i=e.length)!=t.length)return!1;for(n=i;0!=n--;)if(!this.equalsByValue(e[n],t[n]))return!1;return!0}if(s!=o)return!1;var a=e instanceof Date,l=t instanceof Date;if(a!=l)return!1;if(a&&l)return e.getTime()==t.getTime();var u=e instanceof RegExp,c=t instanceof RegExp;if(u!=c)return!1;if(u&&c)return e.toString()==t.toString();var h=Object.keys(e);if((i=h.length)!==Object.keys(t).length)return!1;for(n=i;0!=n--;)if(!Object.prototype.hasOwnProperty.call(t,h[n]))return!1;for(n=i;0!=n--;)if(!this.equalsByValue(e[r=h[n]],t[r]))return!1;return!0}return e!=e&&t!=t},e.resolveFieldData=function(e,t){if(e&&t){if(this.isFunction(t))return t(e);if(-1==t.indexOf("."))return e[t];for(var n=t.split("."),i=e,r=0,s=n.length;r<s;++r){if(null==i)return null;i=i[n[r]]}return i}return null},e.isFunction=function(e){return!!(e&&e.constructor&&e.call&&e.apply)},e.filter=function(e,t,n){var i=[],r=this.removeAccents(n).toLowerCase();if(e)for(var s=0,o=e;s<o.length;s++)for(var a=o[s],l=0,u=t;l<u.length;l++)if(this.removeAccents(String(this.resolveFieldData(a,u[l]))).toLowerCase().indexOf(r)>-1){i.push(a);break}return i},e.reorderArray=function(e,t,n){var i;if(e&&t!==n){if(n>=e.length)for(i=n-e.length;1+i--;)e.push(void 0);e.splice(n,0,e.splice(t,1)[0])}},e.generateSelectItems=function(e,t){var n;if(e&&e.length){n=[];for(var i=0,r=e;i<r.length;i++){var s=r[i];n.push({label:this.resolveFieldData(s,t),value:s})}}return n},e.insertIntoOrderedArray=function(e,t,n,i){if(n.length>0){for(var r=!1,s=0;s<n.length;s++)if(this.findIndexInList(n[s],i)>t){n.splice(s,0,e),r=!0;break}r||n.push(e)}else n.push(e)},e.findIndexInList=function(e,t){var n=-1;if(t)for(var i=0;i<t.length;i++)if(t[i]==e){n=i;break}return n},e.removeAccents=function(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e},e}()},Pchq:function(e,t,n){var i=n("mrSG").__decorate,r=n("mrSG").__metadata;Object.defineProperty(t,"__esModule",{value:!0});var s=n("8Y7J"),o=n("GS7A"),a=n("SVse"),l=n("sdDj"),u=function(){function e(e,t){this.el=e,this.renderer=t,this.position="left",this.blockScroll=!1,this.autoZIndex=!0,this.baseZIndex=0,this.modal=!0,this.dismissible=!0,this.showCloseIcon=!0,this.onShow=new s.EventEmitter,this.onHide=new s.EventEmitter,this.visibleChange=new s.EventEmitter}return e.prototype.ngAfterViewInit=function(){this.initialized=!0,this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.containerViewChild.nativeElement):l.DomHandler.appendChild(this.containerViewChild.nativeElement,this.appendTo)),this.visible&&this.show()},Object.defineProperty(e.prototype,"visible",{get:function(){return this._visible},set:function(e){this._visible=e,this.initialized&&this.containerViewChild&&this.containerViewChild.nativeElement&&(this._visible?this.show():this.preventVisibleChangePropagation?this.preventVisibleChangePropagation=!1:this.hide())},enumerable:!0,configurable:!0}),e.prototype.ngAfterViewChecked=function(){this.executePostDisplayActions&&(this.onShow.emit({}),this.executePostDisplayActions=!1)},e.prototype.show=function(){this.executePostDisplayActions=!0,this.autoZIndex&&(this.containerViewChild.nativeElement.style.zIndex=String(this.baseZIndex+ ++l.DomHandler.zindex)),this.modal&&this.enableModality()},e.prototype.hide=function(){this.onHide.emit({}),this.modal&&this.disableModality()},e.prototype.close=function(e){this.preventVisibleChangePropagation=!0,this.hide(),this.visibleChange.emit(!1),e.preventDefault()},e.prototype.enableModality=function(){var e=this;this.mask||(this.mask=document.createElement("div"),this.mask.style.zIndex=String(parseInt(this.containerViewChild.nativeElement.style.zIndex)-1),l.DomHandler.addMultipleClasses(this.mask,"ui-widget-overlay ui-sidebar-mask"),this.dismissible&&(this.maskClickListener=this.renderer.listen(this.mask,"click",function(t){e.close(t)})),document.body.appendChild(this.mask),this.blockScroll&&l.DomHandler.addClass(document.body,"ui-overflow-hidden"))},e.prototype.disableModality=function(){this.mask&&(this.unbindMaskClickListener(),document.body.removeChild(this.mask),this.blockScroll&&l.DomHandler.removeClass(document.body,"ui-overflow-hidden"),this.mask=null)},e.prototype.unbindMaskClickListener=function(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)},e.prototype.ngOnDestroy=function(){this.initialized=!1,this.visible&&this.hide(),this.appendTo&&this.el.nativeElement.appendChild(this.containerViewChild.nativeElement),this.unbindMaskClickListener()},i([s.Input(),r("design:type",String)],e.prototype,"position",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"fullScreen",void 0),i([s.Input(),r("design:type",String)],e.prototype,"appendTo",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"blockScroll",void 0),i([s.Input(),r("design:type",Object)],e.prototype,"style",void 0),i([s.Input(),r("design:type",String)],e.prototype,"styleClass",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"autoZIndex",void 0),i([s.Input(),r("design:type",Number)],e.prototype,"baseZIndex",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"modal",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"dismissible",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"showCloseIcon",void 0),i([s.ViewChild("container"),r("design:type",s.ElementRef)],e.prototype,"containerViewChild",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"onShow",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"onHide",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"visibleChange",void 0),i([s.Input(),r("design:type",Boolean),r("design:paramtypes",[Boolean])],e.prototype,"visible",null),i([s.Component({selector:"p-sidebar",template:"\n        <div #container [ngClass]=\"{'ui-sidebar ui-widget ui-widget-content ui-shadow':true, 'ui-sidebar-active': visible, \n            'ui-sidebar-left': (position === 'left'), 'ui-sidebar-right': (position === 'right'),\n            'ui-sidebar-top': (position === 'top'), 'ui-sidebar-bottom': (position === 'bottom'), \n            'ui-sidebar-full': fullScreen}\"\n            [@panelState]=\"visible ? 'visible' : 'hidden'\" [ngStyle]=\"style\" [class]=\"styleClass\">\n            <a [ngClass]=\"{'ui-sidebar-close ui-corner-all':true}\" *ngIf=\"showCloseIcon\" tabindex=\"0\" role=\"button\" (click)=\"close($event)\" (keydown.enter)=\"close($event)\">\n                <span class=\"pi pi-times\"></span>\n            </a>\n            <ng-content></ng-content>\n        </div>\n    ",animations:[o.trigger("panelState",[o.state("hidden",o.style({opacity:0})),o.state("visible",o.style({opacity:1})),o.transition("visible => hidden",o.animate("300ms ease-in")),o.transition("hidden => visible",o.animate("300ms ease-out"))])]})],e)}();t.Sidebar=u,t.SidebarModule=function(){return i([s.NgModule({imports:[a.CommonModule],exports:[u],declarations:[u]})],function(){})}()},PqYM:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n("HDdC"),r=n("D0XW"),s=n("Y7HM"),o=n("z+Ro");function a(e=0,t,n){let a=-1;return Object(s.a)(t)?a=Number(t)<1?1:Number(t):Object(o.a)(t)&&(n=t),Object(o.a)(n)||(n=r.a),new i.a(t=>{const i=Object(s.a)(e)?e:+e-n.now();return n.schedule(l,i,{index:0,period:a,subscriber:t})})}function l(e){const{index:t,period:n,subscriber:i}=e;if(i.next(t),!i.closed){if(-1===n)return i.complete();e.index=t+1,this.schedule(e,n)}}},SVse:function(e,t,n){"use strict";n.r(t),n.d(t,"\u0275angular_packages_common_common_e",function(){return Ke}),n.d(t,"\u0275angular_packages_common_common_d",function(){return G}),n.d(t,"\u0275angular_packages_common_common_a",function(){return Ie}),n.d(t,"\u0275angular_packages_common_common_b",function(){return ke}),n.d(t,"\u0275angular_packages_common_common_g",function(){return bt}),n.d(t,"\u0275angular_packages_common_common_f",function(){return Ht}),n.d(t,"\u0275registerLocaleData",function(){return g}),n.d(t,"formatDate",function(){return ee}),n.d(t,"formatCurrency",function(){return Ce}),n.d(t,"formatNumber",function(){return Ee}),n.d(t,"formatPercent",function(){return Se}),n.d(t,"NgLocaleLocalization",function(){return De}),n.d(t,"NgLocalization",function(){return Oe}),n.d(t,"registerLocaleData",function(){return g}),n.d(t,"Plural",function(){return y}),n.d(t,"NumberFormatStyle",function(){return v}),n.d(t,"FormStyle",function(){return _}),n.d(t,"TranslationWidth",function(){return b}),n.d(t,"FormatWidth",function(){return w}),n.d(t,"NumberSymbol",function(){return x}),n.d(t,"WeekDay",function(){return C}),n.d(t,"getNumberOfCurrencyDigits",function(){return q}),n.d(t,"getCurrencySymbol",function(){return W}),n.d(t,"getLocaleDayPeriods",function(){return E}),n.d(t,"getLocaleDayNames",function(){return T}),n.d(t,"getLocaleMonthNames",function(){return M}),n.d(t,"getLocaleId",function(){return S}),n.d(t,"getLocaleEraNames",function(){return I}),n.d(t,"getLocaleWeekEndRange",function(){return A}),n.d(t,"getLocaleFirstDayOfWeek",function(){return O}),n.d(t,"getLocaleDateFormat",function(){return D}),n.d(t,"getLocaleDateTimeFormat",function(){return P}),n.d(t,"getLocaleExtraDayPeriodRules",function(){return B}),n.d(t,"getLocaleExtraDayPeriods",function(){return z}),n.d(t,"getLocalePluralCase",function(){return V}),n.d(t,"getLocaleTimeFormat",function(){return k}),n.d(t,"getLocaleNumberSymbol",function(){return R}),n.d(t,"getLocaleNumberFormat",function(){return L}),n.d(t,"getLocaleCurrencyName",function(){return F}),n.d(t,"getLocaleCurrencySymbol",function(){return N}),n.d(t,"\u0275parseCookieValue",function(){return Pe}),n.d(t,"CommonModule",function(){return Ut}),n.d(t,"DeprecatedI18NPipesModule",function(){return Gt}),n.d(t,"NgClass",function(){return Re}),n.d(t,"NgForOf",function(){return Fe}),n.d(t,"NgForOfContext",function(){return Ne}),n.d(t,"NgIf",function(){return je}),n.d(t,"NgIfContext",function(){return Be}),n.d(t,"NgPlural",function(){return $e}),n.d(t,"NgPluralCase",function(){return qe}),n.d(t,"NgStyle",function(){return Ye}),n.d(t,"NgSwitch",function(){return Ue}),n.d(t,"NgSwitchCase",function(){return Ge}),n.d(t,"NgSwitchDefault",function(){return We}),n.d(t,"NgTemplateOutlet",function(){return Ze}),n.d(t,"NgComponentOutlet",function(){return Le}),n.d(t,"DOCUMENT",function(){return Wt}),n.d(t,"AsyncPipe",function(){return Et}),n.d(t,"DatePipe",function(){return At}),n.d(t,"I18nPluralPipe",function(){return kt}),n.d(t,"I18nSelectPipe",function(){return Pt}),n.d(t,"JsonPipe",function(){return Rt}),n.d(t,"LowerCasePipe",function(){return Tt}),n.d(t,"CurrencyPipe",function(){return Vt}),n.d(t,"DecimalPipe",function(){return Nt}),n.d(t,"PercentPipe",function(){return Ft}),n.d(t,"SlicePipe",function(){return zt}),n.d(t,"UpperCasePipe",function(){return Ot}),n.d(t,"TitleCasePipe",function(){return It}),n.d(t,"KeyValuePipe",function(){return Lt}),n.d(t,"DeprecatedDatePipe",function(){return ft}),n.d(t,"DeprecatedCurrencyPipe",function(){return _t}),n.d(t,"DeprecatedDecimalPipe",function(){return vt}),n.d(t,"DeprecatedPercentPipe",function(){return yt}),n.d(t,"\u0275PLATFORM_BROWSER_ID",function(){return $t}),n.d(t,"\u0275PLATFORM_SERVER_ID",function(){return qt}),n.d(t,"\u0275PLATFORM_WORKER_APP_ID",function(){return Yt}),n.d(t,"\u0275PLATFORM_WORKER_UI_ID",function(){return Zt}),n.d(t,"isPlatformBrowser",function(){return Kt}),n.d(t,"isPlatformServer",function(){return Xt}),n.d(t,"isPlatformWorkerApp",function(){return Qt}),n.d(t,"isPlatformWorkerUi",function(){return Jt}),n.d(t,"VERSION",function(){return en}),n.d(t,"ViewportScroller",function(){return tn}),n.d(t,"\u0275NullViewportScroller",function(){return rn}),n.d(t,"PlatformLocation",function(){return r}),n.d(t,"LOCATION_INITIALIZED",function(){return s}),n.d(t,"LocationStrategy",function(){return o}),n.d(t,"APP_BASE_HREF",function(){return a}),n.d(t,"HashLocationStrategy",function(){return c}),n.d(t,"PathLocationStrategy",function(){return h}),n.d(t,"Location",function(){return l});var i=n("8Y7J");class r{}const s=new i.InjectionToken("Location Initialized");class o{}const a=new i.InjectionToken("appBaseHref");class l{constructor(e){this._subject=new i.EventEmitter,this._platformStrategy=e;const t=this._platformStrategy.getBaseHref();this._baseHref=l.stripTrailingSlash(u(t)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+l.normalizeQueryParams(t))}normalize(e){return l.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,u(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",n=null){this._platformStrategy.pushState(n,"",e,t)}replaceState(e,t="",n=null){this._platformStrategy.replaceState(n,"",e,t)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}static normalizeQueryParams(e){return e&&"?"!==e[0]?"?"+e:e}static joinWithSlash(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}static stripTrailingSlash(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}}function u(e){return e.replace(/\/index.html$/,"")}class c extends o{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",null!=t&&(this._baseHref=t)}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=l.joinWithSlash(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,n,i){let r=this.prepareExternalUrl(n+l.normalizeQueryParams(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(e,t,r)}replaceState(e,t,n,i){let r=this.prepareExternalUrl(n+l.normalizeQueryParams(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}class h extends o{constructor(e,t){if(super(),this._platformLocation=e,null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return l.joinWithSlash(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+l.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,i){const r=this.prepareExternalUrl(n+l.normalizeQueryParams(i));this._platformLocation.pushState(e,t,r)}replaceState(e,t,n,i){const r=this.prepareExternalUrl(n+l.normalizeQueryParams(i));this._platformLocation.replaceState(e,t,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}const d=void 0;var p=["en",[["a","p"],["AM","PM"],d],[["AM","PM"],d,d],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],d,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],d,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",d,"{1} 'at' {0}",d],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];const f={};function g(e,t,n){"string"!=typeof t&&(n=t,t=e[0]),t=t.toLowerCase().replace(/_/g,"-"),f[t]=e,n&&(f[t][19]=n)}const m={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,0],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",0],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",0],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",0],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",0],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",0],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",0],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,0],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UZS:[void 0,void 0,0],VEF:[void 0,"Bs"],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},v=function(){var e={Decimal:0,Percent:1,Currency:2,Scientific:3};return e[e.Decimal]="Decimal",e[e.Percent]="Percent",e[e.Currency]="Currency",e[e.Scientific]="Scientific",e}(),y=function(){var e={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return e[e.Zero]="Zero",e[e.One]="One",e[e.Two]="Two",e[e.Few]="Few",e[e.Many]="Many",e[e.Other]="Other",e}(),_=function(){var e={Format:0,Standalone:1};return e[e.Format]="Format",e[e.Standalone]="Standalone",e}(),b=function(){var e={Narrow:0,Abbreviated:1,Wide:2,Short:3};return e[e.Narrow]="Narrow",e[e.Abbreviated]="Abbreviated",e[e.Wide]="Wide",e[e.Short]="Short",e}(),w=function(){var e={Short:0,Medium:1,Long:2,Full:3};return e[e.Short]="Short",e[e.Medium]="Medium",e[e.Long]="Long",e[e.Full]="Full",e}(),x=function(){var e={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return e[e.Decimal]="Decimal",e[e.Group]="Group",e[e.List]="List",e[e.PercentSign]="PercentSign",e[e.PlusSign]="PlusSign",e[e.MinusSign]="MinusSign",e[e.Exponential]="Exponential",e[e.SuperscriptingExponent]="SuperscriptingExponent",e[e.PerMille]="PerMille",e[e.Infinity]="Infinity",e[e.NaN]="NaN",e[e.TimeSeparator]="TimeSeparator",e[e.CurrencyDecimal]="CurrencyDecimal",e[e.CurrencyGroup]="CurrencyGroup",e}(),C=function(){var e={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6};return e[e.Sunday]="Sunday",e[e.Monday]="Monday",e[e.Tuesday]="Tuesday",e[e.Wednesday]="Wednesday",e[e.Thursday]="Thursday",e[e.Friday]="Friday",e[e.Saturday]="Saturday",e}();function S(e){return G(e)[0]}function E(e,t,n){const i=G(e),r=H([i[1],i[2]],t);return H(r,n)}function T(e,t,n){const i=G(e),r=H([i[3],i[4]],t);return H(r,n)}function M(e,t,n){const i=G(e),r=H([i[5],i[6]],t);return H(r,n)}function I(e,t){return H(G(e)[7],t)}function O(e){return G(e)[8]}function A(e){return G(e)[9]}function D(e,t){return H(G(e)[10],t)}function k(e,t){return H(G(e)[11],t)}function P(e,t){return H(G(e)[12],t)}function R(e,t){const n=G(e),i=n[13][t];if(void 0===i){if(t===x.CurrencyDecimal)return n[13][x.Decimal];if(t===x.CurrencyGroup)return n[13][x.Group]}return i}function L(e,t){return G(e)[14][t]}function N(e){return G(e)[15]||null}function F(e){return G(e)[16]||null}function V(e){return G(e)[18]}function j(e){if(!e[19])throw new Error(`Missing extra locale data for the locale "${e[0]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function B(e){const t=G(e);return j(t),(t[19][2]||[]).map(e=>"string"==typeof e?U(e):[U(e[0]),U(e[1])])}function z(e,t,n){const i=G(e);j(i);const r=H([i[19][0],i[19][1]],t)||[];return H(r,n)||[]}function H(e,t){for(let n=t;n>-1;n--)if(void 0!==e[n])return e[n];throw new Error("Locale data API: locale data undefined")}function U(e){const[t,n]=e.split(":");return{hours:+t,minutes:+n}}function G(e){const t=e.toLowerCase().replace(/_/g,"-");let n=f[t];if(n)return n;const i=t.split("-")[0];if(n=f[i])return n;if("en"===i)return p;throw new Error(`Missing locale data for the locale "${e}".`)}function W(e,t,n="en"){const i=function(e){return G(e)[17]}(n)[e]||m[e]||[],r=i[1];return"narrow"===t&&"string"==typeof r?r:i[0]||e}const $=2;function q(e){let t;const n=m[e];return n&&(t=n[2]),"number"==typeof t?t:$}const Y=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Z={},K=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,X=function(){var e={Short:0,ShortGMT:1,Long:2,Extended:3};return e[e.Short]="Short",e[e.ShortGMT]="ShortGMT",e[e.Long]="Long",e[e.Extended]="Extended",e}(),Q=function(){var e={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return e[e.FullYear]="FullYear",e[e.Month]="Month",e[e.Date]="Date",e[e.Hours]="Hours",e[e.Minutes]="Minutes",e[e.Seconds]="Seconds",e[e.FractionalSeconds]="FractionalSeconds",e[e.Day]="Day",e}(),J=function(){var e={DayPeriods:0,Days:1,Months:2,Eras:3};return e[e.DayPeriods]="DayPeriods",e[e.Days]="Days",e[e.Months]="Months",e[e.Eras]="Eras",e}();function ee(e,t,n,i){let r=function(e){if(de(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){e=e.trim();const t=parseFloat(e);if(!isNaN(e-t))return new Date(t);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){const[t,n,i]=e.split("-").map(e=>+e);return new Date(t,n-1,i)}let n;if(n=e.match(Y))return he(n)}const t=new Date(e);if(!de(t))throw new Error(`Unable to convert "${e}" into a date`);return t}(e);t=function e(t,n){const i=S(t);if(Z[i]=Z[i]||{},Z[i][n])return Z[i][n];let r="";switch(n){case"shortDate":r=D(t,w.Short);break;case"mediumDate":r=D(t,w.Medium);break;case"longDate":r=D(t,w.Long);break;case"fullDate":r=D(t,w.Full);break;case"shortTime":r=k(t,w.Short);break;case"mediumTime":r=k(t,w.Medium);break;case"longTime":r=k(t,w.Long);break;case"fullTime":r=k(t,w.Full);break;case"short":const i=e(t,"shortTime"),s=e(t,"shortDate");r=te(P(t,w.Short),[i,s]);break;case"medium":const o=e(t,"mediumTime"),a=e(t,"mediumDate");r=te(P(t,w.Medium),[o,a]);break;case"long":const l=e(t,"longTime"),u=e(t,"longDate");r=te(P(t,w.Long),[l,u]);break;case"full":const c=e(t,"fullTime"),h=e(t,"fullDate");r=te(P(t,w.Full),[c,h])}return r&&(Z[i][n]=r),r}(n,t)||t;let s,o=[];for(;t;){if(!(s=K.exec(t))){o.push(t);break}{const e=(o=o.concat(s.slice(1))).pop();if(!e)break;t=e}}let a=r.getTimezoneOffset();i&&(a=ce(i,a),r=function(e,t,n){const i=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,-1*(ce(t,i)-i))}(r,i));let l="";return o.forEach(e=>{const t=function(e){if(ue[e])return ue[e];let t;switch(e){case"G":case"GG":case"GGG":t=re(J.Eras,b.Abbreviated);break;case"GGGG":t=re(J.Eras,b.Wide);break;case"GGGGG":t=re(J.Eras,b.Narrow);break;case"y":t=ie(Q.FullYear,1,0,!1,!0);break;case"yy":t=ie(Q.FullYear,2,0,!0,!0);break;case"yyy":t=ie(Q.FullYear,3,0,!1,!0);break;case"yyyy":t=ie(Q.FullYear,4,0,!1,!0);break;case"M":case"L":t=ie(Q.Month,1,1);break;case"MM":case"LL":t=ie(Q.Month,2,1);break;case"MMM":t=re(J.Months,b.Abbreviated);break;case"MMMM":t=re(J.Months,b.Wide);break;case"MMMMM":t=re(J.Months,b.Narrow);break;case"LLL":t=re(J.Months,b.Abbreviated,_.Standalone);break;case"LLLL":t=re(J.Months,b.Wide,_.Standalone);break;case"LLLLL":t=re(J.Months,b.Narrow,_.Standalone);break;case"w":t=le(1);break;case"ww":t=le(2);break;case"W":t=le(1,!0);break;case"d":t=ie(Q.Date,1);break;case"dd":t=ie(Q.Date,2);break;case"E":case"EE":case"EEE":t=re(J.Days,b.Abbreviated);break;case"EEEE":t=re(J.Days,b.Wide);break;case"EEEEE":t=re(J.Days,b.Narrow);break;case"EEEEEE":t=re(J.Days,b.Short);break;case"a":case"aa":case"aaa":t=re(J.DayPeriods,b.Abbreviated);break;case"aaaa":t=re(J.DayPeriods,b.Wide);break;case"aaaaa":t=re(J.DayPeriods,b.Narrow);break;case"b":case"bb":case"bbb":t=re(J.DayPeriods,b.Abbreviated,_.Standalone,!0);break;case"bbbb":t=re(J.DayPeriods,b.Wide,_.Standalone,!0);break;case"bbbbb":t=re(J.DayPeriods,b.Narrow,_.Standalone,!0);break;case"B":case"BB":case"BBB":t=re(J.DayPeriods,b.Abbreviated,_.Format,!0);break;case"BBBB":t=re(J.DayPeriods,b.Wide,_.Format,!0);break;case"BBBBB":t=re(J.DayPeriods,b.Narrow,_.Format,!0);break;case"h":t=ie(Q.Hours,1,-12);break;case"hh":t=ie(Q.Hours,2,-12);break;case"H":t=ie(Q.Hours,1);break;case"HH":t=ie(Q.Hours,2);break;case"m":t=ie(Q.Minutes,1);break;case"mm":t=ie(Q.Minutes,2);break;case"s":t=ie(Q.Seconds,1);break;case"ss":t=ie(Q.Seconds,2);break;case"S":t=ie(Q.FractionalSeconds,1);break;case"SS":t=ie(Q.FractionalSeconds,2);break;case"SSS":t=ie(Q.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=se(X.Short);break;case"ZZZZZ":t=se(X.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=se(X.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=se(X.Long);break;default:return null}return ue[e]=t,t}(e);l+=t?t(r,n,a):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function te(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(e,n){return null!=t&&n in t?t[n]:e})),e}function ne(e,t,n="-",i,r){let s="";(e<0||r&&e<=0)&&(r?e=1-e:(e=-e,s=n));let o=String(e);for(;o.length<t;)o="0"+o;return i&&(o=o.substr(o.length-t)),s+o}function ie(e,t,n=0,i=!1,r=!1){return function(s,o){let a=function(e,t){switch(e){case Q.FullYear:return t.getFullYear();case Q.Month:return t.getMonth();case Q.Date:return t.getDate();case Q.Hours:return t.getHours();case Q.Minutes:return t.getMinutes();case Q.Seconds:return t.getSeconds();case Q.FractionalSeconds:return t.getMilliseconds();case Q.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,s);if((n>0||a>-n)&&(a+=n),e===Q.Hours)0===a&&-12===n&&(a=12);else if(e===Q.FractionalSeconds)return l=t,ne(a,3).substr(0,l);var l;const u=R(o,x.MinusSign);return ne(a,t,u,i,r)}}function re(e,t,n=_.Format,i=!1){return function(r,s){return function(e,t,n,i,r,s){switch(n){case J.Months:return M(t,r,i)[e.getMonth()];case J.Days:return T(t,r,i)[e.getDay()];case J.DayPeriods:const o=e.getHours(),a=e.getMinutes();if(s){const e=B(t),n=z(t,r,i);let s;if(e.forEach((e,t)=>{if(Array.isArray(e)){const{hours:i,minutes:r}=e[0],{hours:l,minutes:u}=e[1];o>=i&&a>=r&&(o<l||o===l&&a<u)&&(s=n[t])}else{const{hours:i,minutes:r}=e;i===o&&r===a&&(s=n[t])}}),s)return s}return E(t,r,i)[o<12?0:1];case J.Eras:return I(t,i)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(r,s,e,t,n,i)}}function se(e){return function(t,n,i){const r=-1*i,s=R(n,x.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(e){case X.Short:return(r>=0?"+":"")+ne(o,2,s)+ne(Math.abs(r%60),2,s);case X.ShortGMT:return"GMT"+(r>=0?"+":"")+ne(o,1,s);case X.Long:return"GMT"+(r>=0?"+":"")+ne(o,2,s)+":"+ne(Math.abs(r%60),2,s);case X.Extended:return 0===i?"Z":(r>=0?"+":"")+ne(o,2,s)+":"+ne(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${e}"`)}}}const oe=0,ae=4;function le(e,t=!1){return function(n,i){let r;if(t){const e=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,t=n.getDate();r=1+Math.floor((t+e)/7)}else{const e=function(e){const t=new Date(e,oe,1).getDay();return new Date(e,0,1+(t<=ae?ae:ae+7)-t)}(n.getFullYear()),t=(s=n,new Date(s.getFullYear(),s.getMonth(),s.getDate()+(ae-s.getDay()))).getTime()-e.getTime();r=1+Math.round(t/6048e5)}var s;return ne(r,e,R(i,x.MinusSign))}}const ue={};function ce(e,t){e=e.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function he(e){const t=new Date(0);let n=0,i=0;const r=e[8]?t.setUTCFullYear:t.setFullYear,s=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),i=Number(e[9]+e[11])),r.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));const o=Number(e[4]||0)-n,a=Number(e[5]||0)-i,l=Number(e[6]||0),u=Math.round(1e3*parseFloat("0."+(e[7]||0)));return s.call(t,o,a,l,u),t}function de(e){return e instanceof Date&&!isNaN(e.valueOf())}const pe=/^(\d+)?\.((\d+)(-(\d+))?)?$/,fe=22,ge=".",me="0",ve=";",ye=",",_e="#",be="\xa4",we="%";function xe(e,t,n,i,r,s,o=!1){let a="",l=!1;if(isFinite(e)){let u=function(t){let n,i,r,s,o,a=Math.abs(e)+"",l=0;for((i=a.indexOf(ge))>-1&&(a=a.replace(ge,"")),(r=a.search(/e/i))>0?(i<0&&(i=r),i+=+a.slice(r+1),a=a.substring(0,r)):i<0&&(i=a.length),r=0;a.charAt(r)===me;r++);if(r===(o=a.length))n=[0],i=1;else{for(o--;a.charAt(o)===me;)o--;for(i-=r,n=[],s=0;r<=o;r++,s++)n[s]=Number(a.charAt(r))}return i>fe&&(n=n.splice(0,fe-1),l=i-1,i=1),{digits:n,exponent:l,integerLen:i}}();o&&(u=function(e){if(0===e.digits[0])return e;const t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===t?e.digits.push(0,0):1===t&&e.digits.push(0),e.integerLen+=2),e}(u));let c=t.minInt,h=t.minFrac,d=t.maxFrac;if(s){const e=s.match(pe);if(null===e)throw new Error(`${s} is not a valid digit info`);const t=e[1],n=e[3],i=e[5];null!=t&&(c=Me(t)),null!=n&&(h=Me(n)),null!=i?d=Me(i):null!=n&&h>d&&(d=h)}!function(e,t,n){if(t>n)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${n}).`);let i=e.digits,r=i.length-e.integerLen;const s=Math.min(Math.max(t,r),n);let o=s+e.integerLen,a=i[o];if(o>0){i.splice(Math.max(e.integerLen,o));for(let e=o;e<i.length;e++)i[e]=0}else{r=Math.max(0,r),e.integerLen=1,i.length=Math.max(1,o=s+1),i[0]=0;for(let e=1;e<o;e++)i[e]=0}if(a>=5)if(o-1<0){for(let t=0;t>o;t--)i.unshift(0),e.integerLen++;i.unshift(1),e.integerLen++}else i[o-1]++;for(;r<Math.max(0,s);r++)i.push(0);let l=0!==s;const u=t+e.integerLen,c=i.reduceRight(function(e,t,n,i){return i[n]=(t+=e)<10?t:t-10,l&&(0===i[n]&&n>=u?i.pop():l=!1),t>=10?1:0},0);c&&(i.unshift(c),e.integerLen++)}(u,h,d);let p=u.digits,f=u.integerLen;const g=u.exponent;let m=[];for(l=p.every(e=>!e);f<c;f++)p.unshift(0);for(;f<0;f++)p.unshift(0);f>0?m=p.splice(f,p.length):(m=p,p=[0]);const v=[];for(p.length>=t.lgSize&&v.unshift(p.splice(-t.lgSize,p.length).join(""));p.length>t.gSize;)v.unshift(p.splice(-t.gSize,p.length).join(""));p.length&&v.unshift(p.join("")),a=v.join(R(n,i)),m.length&&(a+=R(n,r)+m.join("")),g&&(a+=R(n,x.Exponential)+"+"+g)}else a=R(n,x.Infinity);return e<0&&!l?t.negPre+a+t.negSuf:t.posPre+a+t.posSuf}function Ce(e,t,n,i,r){const s=Te(L(t,v.Currency),R(t,x.MinusSign));return s.minFrac=q(i),s.maxFrac=s.minFrac,xe(e,s,t,x.CurrencyGroup,x.CurrencyDecimal,r).replace(be,n).replace(be,"")}function Se(e,t,n){return xe(e,Te(L(t,v.Percent),R(t,x.MinusSign)),t,x.Group,x.Decimal,n,!0).replace(new RegExp(we,"g"),R(t,x.PercentSign))}function Ee(e,t,n){return xe(e,Te(L(t,v.Decimal),R(t,x.MinusSign)),t,x.Group,x.Decimal,n)}function Te(e,t="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=e.split(ve),r=i[0],s=i[1],o=-1!==r.indexOf(ge)?r.split(ge):[r.substring(0,r.lastIndexOf(me)+1),r.substring(r.lastIndexOf(me)+1)],a=o[0],l=o[1]||"";n.posPre=a.substr(0,a.indexOf(_e));for(let c=0;c<l.length;c++){const e=l.charAt(c);e===me?n.minFrac=n.maxFrac=c+1:e===_e?n.maxFrac=c+1:n.posSuf+=e}const u=a.split(ye);if(n.gSize=u[1]?u[1].length:0,n.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,s){const e=r.length-n.posPre.length-n.posSuf.length,t=s.indexOf(_e);n.negPre=s.substr(0,t).replace(/'/g,""),n.negSuf=s.substr(t+e).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}function Me(e){const t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}const Ie=new i.InjectionToken("UseV4Plurals");class Oe{}function Ae(e,t,n,i){let r=`=${e}`;if(t.indexOf(r)>-1)return r;if(r=n.getPluralCategory(e,i),t.indexOf(r)>-1)return r;if(t.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${e}"`)}class De extends Oe{constructor(e,t){super(),this.locale=e,this.deprecatedPluralFn=t}getPluralCategory(e,t){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(t||this.locale,e):V(t||this.locale)(e)){case y.Zero:return"zero";case y.One:return"one";case y.Two:return"two";case y.Few:return"few";case y.Many:return"many";default:return"other"}}}function ke(e,t){"string"==typeof t&&(t=parseInt(t,10));const n=t,i=n.toString().replace(/^[^.]*\.?/,""),r=Math.floor(Math.abs(n)),s=i.length,o=parseInt(i,10),a=parseInt(n.toString().replace(/^[^.]*\.?|0+$/g,""),10)||0;switch(e.split("-")[0].toLowerCase()){case"af":case"asa":case"az":case"bem":case"bez":case"bg":case"brx":case"ce":case"cgg":case"chr":case"ckb":case"ee":case"el":case"eo":case"es":case"eu":case"fo":case"fur":case"gsw":case"ha":case"haw":case"hu":case"jgo":case"jmc":case"ka":case"kk":case"kkj":case"kl":case"ks":case"ksb":case"ky":case"lb":case"lg":case"mas":case"mgo":case"ml":case"mn":case"nb":case"nd":case"ne":case"nn":case"nnh":case"nyn":case"om":case"or":case"os":case"ps":case"rm":case"rof":case"rwk":case"saq":case"seh":case"sn":case"so":case"sq":case"ta":case"te":case"teo":case"tk":case"tr":case"ug":case"uz":case"vo":case"vun":case"wae":case"xog":return 1===n?y.One:y.Other;case"ak":case"ln":case"mg":case"pa":case"ti":return n===Math.floor(n)&&n>=0&&n<=1?y.One:y.Other;case"am":case"as":case"bn":case"fa":case"gu":case"hi":case"kn":case"mr":case"zu":return 0===r||1===n?y.One:y.Other;case"ar":return 0===n?y.Zero:1===n?y.One:2===n?y.Two:n%100===Math.floor(n%100)&&n%100>=3&&n%100<=10?y.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=99?y.Many:y.Other;case"ast":case"ca":case"de":case"en":case"et":case"fi":case"fy":case"gl":case"it":case"nl":case"sv":case"sw":case"ur":case"yi":return 1===r&&0===s?y.One:y.Other;case"be":return n%10==1&&n%100!=11?y.One:n%10===Math.floor(n%10)&&n%10>=2&&n%10<=4&&!(n%100>=12&&n%100<=14)?y.Few:n%10==0||n%10===Math.floor(n%10)&&n%10>=5&&n%10<=9||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=14?y.Many:y.Other;case"br":return n%10==1&&n%100!=11&&n%100!=71&&n%100!=91?y.One:n%10==2&&n%100!=12&&n%100!=72&&n%100!=92?y.Two:n%10===Math.floor(n%10)&&(n%10>=3&&n%10<=4||n%10==9)&&!(n%100>=10&&n%100<=19||n%100>=70&&n%100<=79||n%100>=90&&n%100<=99)?y.Few:0!==n&&n%1e6==0?y.Many:y.Other;case"bs":case"hr":case"sr":return 0===s&&r%10==1&&r%100!=11||o%10==1&&o%100!=11?y.One:0===s&&r%10===Math.floor(r%10)&&r%10>=2&&r%10<=4&&!(r%100>=12&&r%100<=14)||o%10===Math.floor(o%10)&&o%10>=2&&o%10<=4&&!(o%100>=12&&o%100<=14)?y.Few:y.Other;case"cs":case"sk":return 1===r&&0===s?y.One:r===Math.floor(r)&&r>=2&&r<=4&&0===s?y.Few:0!==s?y.Many:y.Other;case"cy":return 0===n?y.Zero:1===n?y.One:2===n?y.Two:3===n?y.Few:6===n?y.Many:y.Other;case"da":return 1===n||0!==a&&(0===r||1===r)?y.One:y.Other;case"dsb":case"hsb":return 0===s&&r%100==1||o%100==1?y.One:0===s&&r%100==2||o%100==2?y.Two:0===s&&r%100===Math.floor(r%100)&&r%100>=3&&r%100<=4||o%100===Math.floor(o%100)&&o%100>=3&&o%100<=4?y.Few:y.Other;case"ff":case"fr":case"hy":case"kab":return 0===r||1===r?y.One:y.Other;case"fil":return 0===s&&(1===r||2===r||3===r)||0===s&&r%10!=4&&r%10!=6&&r%10!=9||0!==s&&o%10!=4&&o%10!=6&&o%10!=9?y.One:y.Other;case"ga":return 1===n?y.One:2===n?y.Two:n===Math.floor(n)&&n>=3&&n<=6?y.Few:n===Math.floor(n)&&n>=7&&n<=10?y.Many:y.Other;case"gd":return 1===n||11===n?y.One:2===n||12===n?y.Two:n===Math.floor(n)&&(n>=3&&n<=10||n>=13&&n<=19)?y.Few:y.Other;case"gv":return 0===s&&r%10==1?y.One:0===s&&r%10==2?y.Two:0!==s||r%100!=0&&r%100!=20&&r%100!=40&&r%100!=60&&r%100!=80?0!==s?y.Many:y.Other:y.Few;case"he":return 1===r&&0===s?y.One:2===r&&0===s?y.Two:0!==s||n>=0&&n<=10||n%10!=0?y.Other:y.Many;case"is":return 0===a&&r%10==1&&r%100!=11||0!==a?y.One:y.Other;case"ksh":return 0===n?y.Zero:1===n?y.One:y.Other;case"kw":case"naq":case"se":case"smn":return 1===n?y.One:2===n?y.Two:y.Other;case"lag":return 0===n?y.Zero:0!==r&&1!==r||0===n?y.Other:y.One;case"lt":return n%10!=1||n%100>=11&&n%100<=19?n%10===Math.floor(n%10)&&n%10>=2&&n%10<=9&&!(n%100>=11&&n%100<=19)?y.Few:0!==o?y.Many:y.Other:y.One;case"lv":case"prg":return n%10==0||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19||2===s&&o%100===Math.floor(o%100)&&o%100>=11&&o%100<=19?y.Zero:n%10==1&&n%100!=11||2===s&&o%10==1&&o%100!=11||2!==s&&o%10==1?y.One:y.Other;case"mk":return 0===s&&r%10==1||o%10==1?y.One:y.Other;case"mt":return 1===n?y.One:0===n||n%100===Math.floor(n%100)&&n%100>=2&&n%100<=10?y.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19?y.Many:y.Other;case"pl":return 1===r&&0===s?y.One:0===s&&r%10===Math.floor(r%10)&&r%10>=2&&r%10<=4&&!(r%100>=12&&r%100<=14)?y.Few:0===s&&1!==r&&r%10===Math.floor(r%10)&&r%10>=0&&r%10<=1||0===s&&r%10===Math.floor(r%10)&&r%10>=5&&r%10<=9||0===s&&r%100===Math.floor(r%100)&&r%100>=12&&r%100<=14?y.Many:y.Other;case"pt":return n===Math.floor(n)&&n>=0&&n<=2&&2!==n?y.One:y.Other;case"ro":return 1===r&&0===s?y.One:0!==s||0===n||1!==n&&n%100===Math.floor(n%100)&&n%100>=1&&n%100<=19?y.Few:y.Other;case"ru":case"uk":return 0===s&&r%10==1&&r%100!=11?y.One:0===s&&r%10===Math.floor(r%10)&&r%10>=2&&r%10<=4&&!(r%100>=12&&r%100<=14)?y.Few:0===s&&r%10==0||0===s&&r%10===Math.floor(r%10)&&r%10>=5&&r%10<=9||0===s&&r%100===Math.floor(r%100)&&r%100>=11&&r%100<=14?y.Many:y.Other;case"shi":return 0===r||1===n?y.One:n===Math.floor(n)&&n>=2&&n<=10?y.Few:y.Other;case"si":return 0===n||1===n||0===r&&1===o?y.One:y.Other;case"sl":return 0===s&&r%100==1?y.One:0===s&&r%100==2?y.Two:0===s&&r%100===Math.floor(r%100)&&r%100>=3&&r%100<=4||0!==s?y.Few:y.Other;case"tzm":return n===Math.floor(n)&&n>=0&&n<=1||n===Math.floor(n)&&n>=11&&n<=99?y.One:y.Other;default:return y.Other}}function Pe(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[i,r]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(i.trim()===t)return decodeURIComponent(r)}return null}class Re{constructor(e,t,n,i){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=n,this._renderer=i,this._initialClasses=[]}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Object(i["\u0275isListLikeIterable"])(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachChangedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachRemovedItem(e=>{e.previousValue&&this._toggleClass(e.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(e=>{if("string"!=typeof e.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Object(i["\u0275stringify"])(e.item)}`);this._toggleClass(e.item,!0)}),e.forEachRemovedItem(e=>this._toggleClass(e.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!0)):Object.keys(e).forEach(t=>this._toggleClass(t,!!e[t])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!1)):Object.keys(e).forEach(e=>this._toggleClass(e,!1)))}_toggleClass(e,t){(e=e.trim())&&e.split(/\s+/g).forEach(e=>{t?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)})}}class Le{constructor(e){this._viewContainerRef=e,this._componentRef=null,this._moduleRef=null}ngOnChanges(e){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){const t=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(e.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){const e=t.get(i.NgModuleRef);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(e.injector)}else this._moduleRef=null;const n=(this._moduleRef?this._moduleRef.componentFactoryResolver:t.get(i.ComponentFactoryResolver)).resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(n,this._viewContainerRef.length,t,this.ngComponentOutletContent)}}ngOnDestroy(){this._moduleRef&&this._moduleRef.destroy()}}class Ne{constructor(e,t,n,i){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}class Fe{constructor(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){Object(i.isDevMode)()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(e)}. `+"See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(t){throw new Error(`Cannot find a differ supporting object '${n}' of type '${e=n,e.name||typeof e}'. NgFor only supports binding to Iterables such as Arrays.`)}}var e;if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,n,i)=>{if(null==e.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new Ne(null,this._ngForOf,-1,-1),i),r=new Ve(e,n);t.push(r)}else if(null==i)this._viewContainer.remove(n);else{const r=this._viewContainer.get(n);this._viewContainer.move(r,i);const s=new Ve(e,r);t.push(s)}});for(let n=0;n<t.length;n++)this._perViewChange(t[n].view,t[n].record);for(let n=0,i=this._viewContainer.length;n<i;n++){const e=this._viewContainer.get(n);e.context.index=n,e.context.count=i,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}class Ve{constructor(e,t){this.record=e,this.view=t}}class je{constructor(e,t){this._viewContainer=e,this._context=new Be,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){ze("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){ze("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateGuard_ngIf(e,t){return!0}}class Be{constructor(){this.$implicit=null,this.ngIf=null}}function ze(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Object(i["\u0275stringify"])(t)}'.`)}class He{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}class Ue{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let t=0;t<this._defaultViews.length;t++)this._defaultViews[t].enforceState(e)}}}class Ge{constructor(e,t,n){this.ngSwitch=n,n._addCase(),this._view=new He(e,t)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}class We{constructor(e,t,n){n._addDefault(new He(e,t))}}class $e{constructor(e){this._localization=e,this._caseViews={}}set ngPlural(e){this._switchValue=e,this._updateView()}addCase(e,t){this._caseViews[e]=t}_updateView(){this._clearViews();const e=Object.keys(this._caseViews),t=Ae(this._switchValue,e,this._localization);this._activateView(this._caseViews[t])}_clearViews(){this._activeView&&this._activeView.destroy()}_activateView(e){e&&(this._activeView=e,this._activeView.create())}}class qe{constructor(e,t,n,i){this.value=e;const r=!isNaN(Number(e));i.addCase(r?`=${e}`:e,new He(n,t))}}class Ye{constructor(e,t,n){this._differs=e,this._ngEl=t,this._renderer=n}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_applyChanges(e){e.forEachRemovedItem(e=>this._setStyle(e.key,null)),e.forEachAddedItem(e=>this._setStyle(e.key,e.currentValue)),e.forEachChangedItem(e=>this._setStyle(e.key,e.currentValue))}_setStyle(e,t){const[n,i]=e.split(".");null!=(t=null!=t&&i?`${t}${i}`:t)?this._renderer.setStyle(this._ngEl.nativeElement,n,t):this._renderer.removeStyle(this._ngEl.nativeElement,n)}}class Ze{constructor(e){this._viewContainerRef=e}ngOnChanges(e){this._shouldRecreateView(e)?(this._viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._viewRef)),this.ngTemplateOutlet&&(this._viewRef=this._viewContainerRef.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext))):this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(e){const t=e.ngTemplateOutletContext;return!!e.ngTemplateOutlet||t&&this._hasContextShapeChanged(t)}_hasContextShapeChanged(e){const t=Object.keys(e.previousValue||{}),n=Object.keys(e.currentValue||{});if(t.length===n.length){for(let e of n)if(-1===t.indexOf(e))return!0;return!1}return!0}_updateExistingContext(e){for(let t of Object.keys(e))this._viewRef.context[t]=this.ngTemplateOutletContext[t]}}const Ke=[Re,Le,Fe,je,Ze,Ye,Ue,Ge,We,$e,qe];function Xe(e,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${Object(i["\u0275stringify"])(e)}'`)}class Qe{static format(e,t,n,i={}){const{minimumIntegerDigits:r,minimumFractionDigits:s,maximumFractionDigits:o,currency:a,currencyAsSymbol:l=!1}=i,u={minimumIntegerDigits:r,minimumFractionDigits:s,maximumFractionDigits:o,style:v[n].toLowerCase()};return n==v.Currency&&(u.currency="string"==typeof a?a:void 0,u.currencyDisplay=l?"symbol":"code"),new Intl.NumberFormat(t,u).format(e)}}const Je=/((?:[^yMLdHhmsazZEwGjJ']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|J+|j+|m+|s+|a|z|Z|G+|w+))(.*)/,et={yMMMdjms:ht(ct([lt("year",1),ut("month",3),lt("day",1),lt("hour",1),lt("minute",1),lt("second",1)])),yMdjm:ht(ct([lt("year",1),lt("month",1),lt("day",1),lt("hour",1),lt("minute",1)])),yMMMMEEEEd:ht(ct([lt("year",1),ut("month",4),ut("weekday",4),lt("day",1)])),yMMMMd:ht(ct([lt("year",1),ut("month",4),lt("day",1)])),yMMMd:ht(ct([lt("year",1),ut("month",3),lt("day",1)])),yMd:ht(ct([lt("year",1),lt("month",1),lt("day",1)])),jms:ht(ct([lt("hour",1),lt("second",1),lt("minute",1)])),jm:ht(ct([lt("hour",1),lt("minute",1)]))},tt={yyyy:ht(lt("year",4)),yy:ht(lt("year",2)),y:ht(lt("year",1)),MMMM:ht(ut("month",4)),MMM:ht(ut("month",3)),MM:ht(lt("month",2)),M:ht(lt("month",1)),LLLL:ht(ut("month",4)),L:ht(ut("month",1)),dd:ht(lt("day",2)),d:ht(lt("day",1)),HH:nt(rt(ht(at(lt("hour",2),!1)))),H:rt(ht(at(lt("hour",1),!1))),hh:nt(rt(ht(at(lt("hour",2),!0)))),h:rt(ht(at(lt("hour",1),!0))),jj:ht(lt("hour",2)),j:ht(lt("hour",1)),mm:nt(ht(lt("minute",2))),m:ht(lt("minute",1)),ss:nt(ht(lt("second",2))),s:ht(lt("second",1)),sss:ht(lt("second",3)),EEEE:ht(ut("weekday",4)),EEE:ht(ut("weekday",3)),EE:ht(ut("weekday",2)),E:ht(ut("weekday",1)),a:it(ht(at(lt("hour",1),!0))),Z:ot("short"),z:ot("long"),ww:ht({}),w:ht({}),G:ht(ut("era",1)),GG:ht(ut("era",2)),GGG:ht(ut("era",3)),GGGG:ht(ut("era",4))};function nt(e){return function(t,n){const i=e(t,n);return 1==i.length?"0"+i:i}}function it(e){return function(t,n){return e(t,n).split(" ")[1]}}function rt(e){return function(t,n){return e(t,n).split(" ")[0]}}function st(e,t,n){return new Intl.DateTimeFormat(t,n).format(e).replace(/[\u200e\u200f]/g,"")}function ot(e){const t={hour:"2-digit",hour12:!1,timeZoneName:e};return function(e,n){const i=st(e,n,t);return i?i.substring(3):""}}function at(e,t){return e.hour12=t,e}function lt(e,t){const n={};return n[e]=2===t?"2-digit":"numeric",n}function ut(e,t){const n={};return n[e]=t<4?t>1?"short":"narrow":"long",n}function ct(e){return e.reduce((e,t)=>Object.assign({},e,t),{})}function ht(e){return(t,n)=>st(t,n,e)}const dt=new Map;class pt{static format(e,t,n){return function(e,t,n){const i=et[e];if(i)return i(t,n);const r=e;let s=dt.get(r);if(!s){let t;s=[],Je.exec(e);let n=e;for(;n;)(t=Je.exec(n))?n=(s=s.concat(t.slice(1))).pop():(s.push(n),n=null);dt.set(r,s)}return s.reduce((e,i)=>{const r=tt[i];return e+(r?r(t,n):function(e){return"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}(i))},"")}(n,e,t)}}class ft{constructor(e){this._locale=e}transform(e,t="mediumDate"){if(null==e||""===e||e!=e)return null;let n;if("string"==typeof e&&(e=e.trim()),gt(e))n=e;else if(isNaN(e-parseFloat(e)))if("string"==typeof e&&/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){const[t,i,r]=e.split("-").map(e=>parseInt(e,10));n=new Date(t,i-1,r)}else n=new Date(e);else n=new Date(parseFloat(e));if(!gt(n)){let t;if("string"!=typeof e||!(t=e.match(Y)))throw Xe(ft,e);n=he(t)}return pt.format(n,this._locale,ft._ALIASES[t]||t)}}function gt(e){return e instanceof Date&&!isNaN(e.valueOf())}function mt(e,t,n,i,r,s=null,o=!1){if(null==n)return null;if("number"!=typeof(n="string"!=typeof n||isNaN(+n-parseFloat(n))?n:+n))throw Xe(e,n);let a,l,u;if(i!==v.Currency&&(a=1,l=0,u=3),r){const e=r.match(pe);if(null===e)throw new Error(`${r} is not a valid digit info for number pipes`);null!=e[1]&&(a=Me(e[1])),null!=e[3]&&(l=Me(e[3])),null!=e[5]&&(u=Me(e[5]))}return Qe.format(n,t,i,{minimumIntegerDigits:a,minimumFractionDigits:l,maximumFractionDigits:u,currency:s,currencyAsSymbol:o})}ft._ALIASES={medium:"yMMMdjms",short:"yMdjm",fullDate:"yMMMMEEEEd",longDate:"yMMMMd",mediumDate:"yMMMd",shortDate:"yMd",mediumTime:"jms",shortTime:"jm"};class vt{constructor(e){this._locale=e}transform(e,t){return mt(vt,this._locale,e,v.Decimal,t)}}class yt{constructor(e){this._locale=e}transform(e,t){return mt(yt,this._locale,e,v.Percent,t)}}class _t{constructor(e){this._locale=e}transform(e,t="USD",n=!1,i){return mt(_t,this._locale,e,v.Currency,i,t,n)}}const bt=[vt,yt,_t,ft];class wt{createSubscription(e,t){return e.subscribe({next:t,error:e=>{throw e}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class xt{createSubscription(e,t){return e.then(t,e=>{throw e})}dispose(e){}onDestroy(e){}}const Ct=new xt,St=new wt;class Et{constructor(e){this._ref=e,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue===this._latestReturnedValue?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,i.WrappedValue.wrap(this._latestValue)):(e&&this._subscribe(e),this._latestReturnedValue=this._latestValue,this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,t=>this._updateLatestValue(e,t))}_selectStrategy(e){if(Object(i["\u0275isPromise"])(e))return Ct;if(Object(i["\u0275isObservable"])(e))return St;throw Xe(Et,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}class Tt{transform(e){if(!e)return e;if("string"!=typeof e)throw Xe(Tt,e);return e.toLowerCase()}}const Mt=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])\S*/g;class It{transform(e){if(!e)return e;if("string"!=typeof e)throw Xe(It,e);return e.replace(Mt,e=>e[0].toUpperCase()+e.substr(1).toLowerCase())}}class Ot{transform(e){if(!e)return e;if("string"!=typeof e)throw Xe(Ot,e);return e.toUpperCase()}}class At{constructor(e){this.locale=e}transform(e,t="mediumDate",n,i){if(null==e||""===e||e!=e)return null;try{return ee(e,t,i||this.locale,n)}catch(r){throw Xe(At,r.message)}}}const Dt=/#/g;class kt{constructor(e){this._localization=e}transform(e,t,n){if(null==e)return"";if("object"!=typeof t||null===t)throw Xe(kt,t);return t[Ae(e,Object.keys(t),this._localization,n)].replace(Dt,e.toString())}}class Pt{transform(e,t){if(null==e)return"";if("object"!=typeof t||"string"!=typeof e)throw Xe(Pt,t);return t.hasOwnProperty(e)?t[e]:t.hasOwnProperty("other")?t.other:""}}class Rt{transform(e){return JSON.stringify(e,null,2)}}class Lt{constructor(e){this.differs=e,this.keyValues=[]}transform(e,t=function(e,t){const n=e.key,i=t.key;if(n===i)return 0;if(void 0===n)return 1;if(void 0===i)return-1;if(null===n)return 1;if(null===i)return-1;if("string"==typeof n&&"string"==typeof i)return n<i?-1:1;if("number"==typeof n&&"number"==typeof i)return n-i;if("boolean"==typeof n&&"boolean"==typeof i)return n<i?-1:1;const r=String(n),s=String(i);return r==s?0:r<s?-1:1}){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());const n=this.differ.diff(e);return n&&(this.keyValues=[],n.forEachItem(e=>{this.keyValues.push(function(t,n){return{key:e.key,value:e.currentValue}}())}),this.keyValues.sort(t)),this.keyValues}}class Nt{constructor(e){this._locale=e}transform(e,t,n){if(jt(e))return null;n=n||this._locale;try{return Ee(Bt(e),n,t)}catch(i){throw Xe(Nt,i.message)}}}class Ft{constructor(e){this._locale=e}transform(e,t,n){if(jt(e))return null;n=n||this._locale;try{return Se(Bt(e),n,t)}catch(i){throw Xe(Ft,i.message)}}}class Vt{constructor(e){this._locale=e}transform(e,t,n="symbol",i,r){if(jt(e))return null;r=r||this._locale,"boolean"==typeof n&&(console&&console.warn&&console.warn('Warning: the currency pipe has been changed in Angular v5. The symbolDisplay option (third parameter) is now a string instead of a boolean. The accepted values are "code", "symbol" or "symbol-narrow".'),n=n?"symbol":"code");let s=t||"USD";"code"!==n&&(s="symbol"===n||"symbol-narrow"===n?W(s,"symbol"===n?"wide":"narrow",r):n);try{return Ce(Bt(e),r,s,t,i)}catch(o){throw Xe(Vt,o.message)}}}function jt(e){return null==e||""===e||e!=e}function Bt(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error(`${e} is not a number`);return e}class zt{transform(e,t,n){if(null==e)return e;if(!this.supports(e))throw Xe(zt,e);return e.slice(t,n)}supports(e){return"string"==typeof e||Array.isArray(e)}}const Ht=[Et,Ot,Tt,Rt,zt,Nt,Ft,It,Vt,At,kt,Pt,Lt];class Ut{}class Gt{}const Wt=new i.InjectionToken("DocumentToken"),$t="browser",qt="server",Yt="browserWorkerApp",Zt="browserWorkerUi";function Kt(e){return e===$t}function Xt(e){return e===qt}function Qt(e){return e===Yt}function Jt(e){return e===Zt}const en=new i.Version("7.2.0");class tn{}tn.ngInjectableDef=Object(i.defineInjectable)({providedIn:"root",factory:()=>new nn(Object(i.inject)(Wt),window)});class nn{constructor(e,t){this.document=e,this.window=t,this.offset=(()=>[0,0])}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(this.supportScrollRestoration()){const t=this.document.querySelector(`#${e}`);if(t)return void this.scrollToElement(t);const n=this.document.querySelector(`[name='${e}']`);if(n)return void this.scrollToElement(n)}}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],i-r[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(e){return!1}}}class rn{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}}},SeVD:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var i=n("HDdC"),r=n("ngJS"),s=n("a7t3"),o=n("pLzU"),a=n("CRDf"),l=n("I55L"),u=n("c2HN"),c=n("XoHu"),h=n("Lhse"),d=n("kJWO");const p=e=>{if(e instanceof i.a)return t=>e._isScalar?(t.next(e.value),void t.complete()):e.subscribe(t);if(e&&"function"==typeof e[d.a])return Object(a.a)(e);if(Object(l.a)(e))return Object(r.a)(e);if(Object(u.a)(e))return Object(s.a)(e);if(e&&"function"==typeof e[h.a])return Object(o.a)(e);{const t=Object(c.a)(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}}},SpAZ:function(e,t,n){"use strict";function i(e){return e}n.d(t,"a",function(){return i})},"T+K8":function(e,t,n){var i=n("mrSG").__decorate,r=n("mrSG").__metadata;Object.defineProperty(t,"__esModule",{value:!0});var s=n("8Y7J"),o=n("SVse"),a=n("s7LF");t.CHECKBOX_VALUE_ACCESSOR={provide:a.NG_VALUE_ACCESSOR,useExisting:s.forwardRef(function(){return l}),multi:!0};var l=function(){function e(e){this.cd=e,this.onChange=new s.EventEmitter,this.onModelChange=function(){},this.onModelTouched=function(){},this.focused=!1,this.checked=!1}return e.prototype.onClick=function(e,t,n){e.preventDefault(),this.disabled||(this.checked=!this.checked,this.updateModel(),n&&t.focus())},e.prototype.updateModel=function(){this.binary?this.onModelChange(this.checked):(this.checked?this.addValue():this.removeValue(),this.onModelChange(this.model),this.formControl&&this.formControl.setValue(this.model)),this.onChange.emit(this.checked)},e.prototype.handleChange=function(e){this.checked=e.target.checked,this.updateModel()},e.prototype.isChecked=function(){return this.binary?this.model:this.model&&this.model.indexOf(this.value)>-1},e.prototype.removeValue=function(){var e=this;this.model=this.model.filter(function(t){return t!==e.value})},e.prototype.addValue=function(){this.model=this.model?this.model.concat([this.value]):[this.value]},e.prototype.onFocus=function(e){this.focused=!0},e.prototype.onBlur=function(e){this.focused=!1,this.onModelTouched()},e.prototype.writeValue=function(e){this.model=e,this.checked=this.isChecked(),this.cd.markForCheck()},e.prototype.registerOnChange=function(e){this.onModelChange=e},e.prototype.registerOnTouched=function(e){this.onModelTouched=e},e.prototype.setDisabledState=function(e){this.disabled=e},i([s.Input(),r("design:type",Object)],e.prototype,"value",void 0),i([s.Input(),r("design:type",String)],e.prototype,"name",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"disabled",void 0),i([s.Input(),r("design:type",String)],e.prototype,"binary",void 0),i([s.Input(),r("design:type",String)],e.prototype,"label",void 0),i([s.Input(),r("design:type",Number)],e.prototype,"tabindex",void 0),i([s.Input(),r("design:type",String)],e.prototype,"inputId",void 0),i([s.Input(),r("design:type",Object)],e.prototype,"style",void 0),i([s.Input(),r("design:type",String)],e.prototype,"styleClass",void 0),i([s.Input(),r("design:type",String)],e.prototype,"labelStyleClass",void 0),i([s.Input(),r("design:type",a.FormControl)],e.prototype,"formControl",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"onChange",void 0),i([s.Component({selector:"p-checkbox",template:'\n        <div [ngStyle]="style" [ngClass]="\'ui-chkbox ui-widget\'" [class]="styleClass">\n            <div class="ui-helper-hidden-accessible">\n                <input #cb type="checkbox" [attr.id]="inputId" [name]="name" [value]="value" [checked]="checked" (focus)="onFocus($event)" (blur)="onBlur($event)"\n                [ngClass]="{\'ui-state-focus\':focused}" (change)="handleChange($event)" [disabled]="disabled" [attr.tabindex]="tabindex">\n            </div>\n            <div class="ui-chkbox-box ui-widget ui-corner-all ui-state-default" (click)="onClick($event,cb,true)"\n                        [ngClass]="{\'ui-state-active\':checked,\'ui-state-disabled\':disabled,\'ui-state-focus\':focused}">\n                <span class="ui-chkbox-icon ui-clickable" [ngClass]="{\'pi pi-check\':checked}"></span>\n            </div>\n        </div>\n        <label (click)="onClick($event,cb,true)" [class]="labelStyleClass"\n                [ngClass]="{\'ui-chkbox-label\': true, \'ui-label-active\':checked, \'ui-label-disabled\':disabled, \'ui-label-focus\':focused}"\n                *ngIf="label" [attr.for]="inputId">{{label}}</label>\n    ',providers:[t.CHECKBOX_VALUE_ACCESSOR]})],e)}();t.Checkbox=l,t.CheckboxModule=function(){return i([s.NgModule({imports:[o.CommonModule],exports:[l],declarations:[l]})],function(){})}()},VRyK:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n("HDdC"),r=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...e){let t=Number.POSITIVE_INFINITY,n=null,a=e[e.length-1];return Object(r.a)(a)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof a&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof i.a?e[0]:Object(s.a)(t)(Object(o.a)(e,n))}},VSng:function(e,t,n){var i=n("mrSG").__decorate,r=n("mrSG").__metadata;Object.defineProperty(t,"__esModule",{value:!0});var s=n("8Y7J"),o=n("sdDj"),a=n("SVse"),l=function(){function e(e){this.el=e,this.iconPos="left",this.cornerStyleClass="ui-corner-all"}return e.prototype.ngAfterViewInit=function(){if(o.DomHandler.addMultipleClasses(this.el.nativeElement,this.getStyleClass()),this.icon){var e=document.createElement("span");e.setAttribute("aria-hidden","true"),e.className=("right"==this.iconPos?"ui-button-icon-right":"ui-button-icon-left")+" ui-clickable "+this.icon,this.el.nativeElement.appendChild(e)}var t=document.createElement("span");t.className="ui-button-text ui-clickable",t.appendChild(document.createTextNode(this.label||"ui-btn")),this.el.nativeElement.appendChild(t),this.initialized=!0},e.prototype.getStyleClass=function(){return"ui-button ui-widget ui-state-default "+this.cornerStyleClass+(this.icon?null!=this.label&&null!=this.label?"left"==this.iconPos?" ui-button-text-icon-left":" ui-button-text-icon-right":" ui-button-icon-only":this.label?" ui-button-text-only":" ui-button-text-empty")},Object.defineProperty(e.prototype,"label",{get:function(){return this._label},set:function(e){this._label=e,this.initialized&&(o.DomHandler.findSingle(this.el.nativeElement,".ui-button-text").textContent=this._label,this.icon||(this._label?(o.DomHandler.removeClass(this.el.nativeElement,"ui-button-text-empty"),o.DomHandler.addClass(this.el.nativeElement,"ui-button-text-only")):(o.DomHandler.addClass(this.el.nativeElement,"ui-button-text-empty"),o.DomHandler.removeClass(this.el.nativeElement,"ui-button-text-only"))))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"icon",{get:function(){return this._icon},set:function(e){if(this._icon=e,this.initialized){var t="right"==this.iconPos?"ui-button-icon-right":"ui-button-icon-left";o.DomHandler.findSingle(this.el.nativeElement,".ui-clickable").className=t+" ui-clickable "+this.icon}},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){for(;this.el.nativeElement.hasChildNodes();)this.el.nativeElement.removeChild(this.el.nativeElement.lastChild);this.initialized=!1},i([s.Input(),r("design:type",String)],e.prototype,"iconPos",void 0),i([s.Input(),r("design:type",String)],e.prototype,"cornerStyleClass",void 0),i([s.Input(),r("design:type",String),r("design:paramtypes",[String])],e.prototype,"label",null),i([s.Input(),r("design:type",String),r("design:paramtypes",[String])],e.prototype,"icon",null),i([s.Directive({selector:"[pButton]"})],e)}();t.ButtonDirective=l;var u=function(){function e(){this.iconPos="left",this.onClick=new s.EventEmitter,this.onFocus=new s.EventEmitter,this.onBlur=new s.EventEmitter}return i([s.Input(),r("design:type",String)],e.prototype,"type",void 0),i([s.Input(),r("design:type",String)],e.prototype,"iconPos",void 0),i([s.Input(),r("design:type",String)],e.prototype,"icon",void 0),i([s.Input(),r("design:type",String)],e.prototype,"label",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"disabled",void 0),i([s.Input(),r("design:type",Object)],e.prototype,"style",void 0),i([s.Input(),r("design:type",String)],e.prototype,"styleClass",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"onClick",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"onFocus",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"onBlur",void 0),i([s.Component({selector:"p-button",template:"\n        <button [attr.type]=\"type\" [class]=\"styleClass\" [style]=\"style\" [disabled]=\"disabled\"\n            [ngClass]=\"{'ui-button ui-widget ui-state-default ui-corner-all':true,\n                        'ui-button-icon-only': (icon && !label),\n                        'ui-button-text-icon-left': (icon && label && iconPos === 'left'),\n                        'ui-button-text-icon-right': (icon && label && iconPos === 'right'),\n                        'ui-button-text-only': (!icon && label),\n                        'ui-button-text-empty': (!icon && !label),\n                        'ui-state-disabled': disabled}\"\n                        (click)=\"onClick.emit($event)\" (focus)=\"onFocus.emit($event)\" (blur)=\"onBlur.emit($event)\">\n            <ng-content></ng-content>\n            <span [ngClass]=\"{'ui-clickable': true,\n                        'ui-button-icon-left': (iconPos === 'left'), \n                        'ui-button-icon-right': (iconPos === 'right')}\"\n                        [class]=\"icon\" *ngIf=\"icon\"></span>\n            <span class=\"ui-button-text ui-clickable\">{{label||'ui-btn'}}</span>\n        </button>\n    "})],e)}();t.Button=u,t.ButtonModule=function(){return i([s.NgModule({imports:[a.CommonModule],exports:[l,u],declarations:[l,u]})],function(){})}()},WMd4:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("EY2u"),r=n("LRne"),s=n("z6cu");class o{constructor(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}accept(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}toObservable(){switch(this.kind){case"N":return Object(r.a)(this.value);case"E":return Object(s.a)(this.error);case"C":return Object(i.b)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new o("N",e):o.undefinedValueNotification}static createError(e){return new o("E",void 0,e)}static createComplete(){return o.completeNotification}}o.completeNotification=new o("C"),o.undefinedValueNotification=new o("N",void 0)},WWtA:function(e,t){e.exports=new function(){var e=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],t=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],n=Math.abs,i=Math.sqrt,r=Math.pow,s=Math.log2||function(e){return Math.log(e)*Math.LOG2E};function o(e,t,n){return e<t?t:e>n?n:e}function a(e,t,i){function r(e){var t=134217729*e,n=e-t+t;return[n,e-n]}var s=t*t-e*i,o=t*t+e*i;if(3*n(s)<o){var a=r(e),l=r(t),u=r(i),c=t*t,h=e*i;s=c-h+(l[0]*l[0]-c+2*l[0]*l[1]+l[1]*l[1]-(a[0]*u[0]-h+a[0]*u[1]+a[1]*u[0]+a[1]*u[1]))}return s}function l(){var e=Math.max.apply(Math,arguments);return e&&(e<1e-8||e>1e8)?r(2,-Math.round(s(e))):0}return{EPSILON:1e-12,MACHINE_EPSILON:1.12e-16,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,KAPPA:4*(i(2)-1)/3,isZero:function(e){return e>=-1e-12&&e<=1e-12},clamp:o,integrate:function(n,i,r,s){for(var o=e[s-2],a=t[s-2],l=.5*(r-i),u=l+i,c=0,h=s+1>>1,d=1&s?a[c++]*n(u):0;c<h;){var p=l*o[c];d+=a[c++]*(n(u+p)+n(u-p))}return l*d},findRoot:function(e,t,i,r,s,a,l){for(var u=0;u<a;u++){var c=e(i),h=c/t(i),d=i-h;if(n(h)<l){i=d;break}c>0?(s=i,i=d<=r?.5*(r+s):d):(r=i,i=d>=s?.5*(r+s):d)}return o(i,r,s)},solveQuadratic:function(e,t,r,s,u,c){var h,d=1/0;if(n(e)<1e-12){if(n(t)<1e-12)return n(r)<1e-12?-1:0;h=-r/t}else{var p=a(e,t*=-.5,r);if(p&&n(p)<1.12e-16){var f=l(n(e),n(t),n(r));f&&(p=a(e*=f,t*=f,r*=f))}if(p>=-1.12e-16){var g=p<0?0:i(p),m=t+(t<0?-g:g);0===m?d=-(h=r/e):(h=m/e,d=r/m)}}var v=0,y=null==u,_=u-1e-12,b=c+1e-12;return isFinite(h)&&(y||h>_&&h<b)&&(s[v++]=y?h:o(h,u,c)),d!==h&&isFinite(d)&&(y||d>_&&d<b)&&(s[v++]=y?d:o(d,u,c)),v},solveCubic:function(e,t,s,a,u,c,h){var d,p,f,g,m,v=l(n(e),n(t),n(s),n(a));function y(n){var i=e*(d=n);g=(i+(p=i+t))*d+(f=p*d+s),m=f*d+a}if(v&&(e*=v,t*=v,s*=v,a*=v),n(e)<1e-12)e=t,p=s,f=a,d=1/0;else if(n(a)<1e-12)p=t,f=s,d=0;else{y(-t/e/3);var _=m/e,b=r(n(_),1/3),w=_<0?-1:1,x=-g/e,C=x>0?1.324717957244746*Math.max(b,i(x)):b,S=d-w*C;if(S!==d){do{y(S),S=0===g?d:d-m/g/(1+1.12e-16)}while(w*S>w*d);n(e)*d*d>n(a/d)&&(p=((f=-a/d)-s)/d)}}var E=Numerical.solveQuadratic(e,p,f,u,c,h),T=null==c;return isFinite(d)&&(0===E||E>0&&d!==u[0]&&d!==u[1])&&(T||d>c-1e-12&&d<h+1e-12)&&(u[E++]=T?d:o(d,c,h)),E}}}},Womt:function(e,t,n){"use strict";function i(){}n.r(t),n.d(t,"WebGLRenderTargetCube",function(){return fn}),n.d(t,"WebGLRenderTarget",function(){return pn}),n.d(t,"WebGLRenderer",function(){return xs}),n.d(t,"ShaderLib",function(){return Dn}),n.d(t,"UniformsLib",function(){return An}),n.d(t,"UniformsUtils",function(){return Tn}),n.d(t,"ShaderChunk",function(){return bn}),n.d(t,"FogExp2",function(){return Cs}),n.d(t,"Fog",function(){return Ss}),n.d(t,"Scene",function(){return Es}),n.d(t,"Sprite",function(){return Os}),n.d(t,"LOD",function(){return As}),n.d(t,"SkinnedMesh",function(){return Ds}),n.d(t,"Skeleton",function(){return ks}),n.d(t,"Bone",function(){return Ps}),n.d(t,"Mesh",function(){return Oi}),n.d(t,"LineSegments",function(){return Ns}),n.d(t,"LineLoop",function(){return Fs}),n.d(t,"Line",function(){return Ls}),n.d(t,"Points",function(){return js}),n.d(t,"Group",function(){return as}),n.d(t,"VideoTexture",function(){return Bs}),n.d(t,"DataTexture",function(){return gn}),n.d(t,"DataTexture3D",function(){return Hi}),n.d(t,"CompressedTexture",function(){return zs}),n.d(t,"CubeTexture",function(){return zi}),n.d(t,"CanvasTexture",function(){return Hs}),n.d(t,"DepthTexture",function(){return Us}),n.d(t,"Texture",function(){return hn}),n.d(t,"AnimationLoader",function(){return Ra}),n.d(t,"CompressedTextureLoader",function(){return La}),n.d(t,"DataTextureLoader",function(){return Na}),n.d(t,"CubeTextureLoader",function(){return Va}),n.d(t,"TextureLoader",function(){return ja}),n.d(t,"ObjectLoader",function(){return Sl}),n.d(t,"MaterialLoader",function(){return bl}),n.d(t,"BufferGeometryLoader",function(){return xl}),n.d(t,"DefaultLoadingManager",function(){return Da}),n.d(t,"LoadingManager",function(){return Aa}),n.d(t,"ImageLoader",function(){return Fa}),n.d(t,"ImageBitmapLoader",function(){return Pl}),n.d(t,"FontLoader",function(){return Fl}),n.d(t,"FileLoader",function(){return Pa}),n.d(t,"Loader",function(){return Vl}),n.d(t,"LoaderUtils",function(){return wl}),n.d(t,"Cache",function(){return Oa}),n.d(t,"AudioLoader",function(){return hu}),n.d(t,"SpotLightShadow",function(){return dl}),n.d(t,"SpotLight",function(){return pl}),n.d(t,"PointLight",function(){return fl}),n.d(t,"RectAreaLight",function(){return _l}),n.d(t,"HemisphereLight",function(){return cl}),n.d(t,"DirectionalLightShadow",function(){return ml}),n.d(t,"DirectionalLight",function(){return vl}),n.d(t,"AmbientLight",function(){return yl}),n.d(t,"LightShadow",function(){return hl}),n.d(t,"Light",function(){return ul}),n.d(t,"StereoCamera",function(){return du}),n.d(t,"PerspectiveCamera",function(){return us}),n.d(t,"OrthographicCamera",function(){return gl}),n.d(t,"CubeCamera",function(){return pu}),n.d(t,"ArrayCamera",function(){return cs}),n.d(t,"Camera",function(){return ls}),n.d(t,"AudioListener",function(){return gu}),n.d(t,"PositionalAudio",function(){return vu}),n.d(t,"AudioContext",function(){return cu}),n.d(t,"AudioAnalyser",function(){return yu}),n.d(t,"Audio",function(){return mu}),n.d(t,"VectorKeyframeTrack",function(){return Ta}),n.d(t,"StringKeyframeTrack",function(){return Ea}),n.d(t,"QuaternionKeyframeTrack",function(){return Sa}),n.d(t,"NumberKeyframeTrack",function(){return xa}),n.d(t,"ColorKeyframeTrack",function(){return wa}),n.d(t,"BooleanKeyframeTrack",function(){return ba}),n.d(t,"PropertyMixer",function(){return _u}),n.d(t,"PropertyBinding",function(){return wu}),n.d(t,"KeyframeTrack",function(){return _a}),n.d(t,"AnimationUtils",function(){return fa}),n.d(t,"AnimationObjectGroup",function(){return xu}),n.d(t,"AnimationMixer",function(){return Su}),n.d(t,"AnimationClip",function(){return Ma}),n.d(t,"Uniform",function(){return Eu}),n.d(t,"InstancedBufferGeometry",function(){return Tu}),n.d(t,"BufferGeometry",function(){return oi}),n.d(t,"Geometry",function(){return $n}),n.d(t,"InterleavedBufferAttribute",function(){return Ms}),n.d(t,"InstancedInterleavedBuffer",function(){return Mu}),n.d(t,"InterleavedBuffer",function(){return Ts}),n.d(t,"InstancedBufferAttribute",function(){return Iu}),n.d(t,"Face3",function(){return Rn}),n.d(t,"Object3D",function(){return Hn}),n.d(t,"Raycaster",function(){return Ou}),n.d(t,"Layers",function(){return Nn}),n.d(t,"EventDispatcher",function(){return i}),n.d(t,"Clock",function(){return fu}),n.d(t,"QuaternionLinearInterpolant",function(){return Ca}),n.d(t,"LinearInterpolant",function(){return va}),n.d(t,"DiscreteInterpolant",function(){return ya}),n.d(t,"CubicInterpolant",function(){return ma}),n.d(t,"Interpolant",function(){return ga}),n.d(t,"Triangle",function(){return Mi}),n.d(t,"Math",function(){return Xt}),n.d(t,"Spherical",function(){return ku}),n.d(t,"Cylindrical",function(){return Pu}),n.d(t,"Plane",function(){return yn}),n.d(t,"Frustum",function(){return _n}),n.d(t,"Sphere",function(){return vn}),n.d(t,"Ray",function(){return Ti}),n.d(t,"Matrix4",function(){return Jt}),n.d(t,"Matrix3",function(){return nn}),n.d(t,"Box3",function(){return mn}),n.d(t,"Box2",function(){return Ru}),n.d(t,"Line3",function(){return Lu}),n.d(t,"Euler",function(){return Ln}),n.d(t,"Vector4",function(){return dn}),n.d(t,"Vector3",function(){return tn}),n.d(t,"Vector2",function(){return Qt}),n.d(t,"Quaternion",function(){return en}),n.d(t,"Color",function(){return In}),n.d(t,"ImmediateRenderObject",function(){return Nu}),n.d(t,"VertexNormalsHelper",function(){return Fu}),n.d(t,"SpotLightHelper",function(){return Vu}),n.d(t,"SkeletonHelper",function(){return ju}),n.d(t,"PointLightHelper",function(){return Bu}),n.d(t,"RectAreaLightHelper",function(){return zu}),n.d(t,"HemisphereLightHelper",function(){return Hu}),n.d(t,"GridHelper",function(){return Uu}),n.d(t,"PolarGridHelper",function(){return Gu}),n.d(t,"FaceNormalsHelper",function(){return Wu}),n.d(t,"DirectionalLightHelper",function(){return $u}),n.d(t,"CameraHelper",function(){return qu}),n.d(t,"BoxHelper",function(){return Yu}),n.d(t,"Box3Helper",function(){return Zu}),n.d(t,"PlaneHelper",function(){return Ku}),n.d(t,"ArrowHelper",function(){return Xu}),n.d(t,"AxesHelper",function(){return Qu}),n.d(t,"Shape",function(){return ll}),n.d(t,"Path",function(){return al}),n.d(t,"ShapePath",function(){return Rl}),n.d(t,"Font",function(){return Ll}),n.d(t,"CurvePath",function(){return ol}),n.d(t,"Curve",function(){return Ba}),n.d(t,"ImageUtils",function(){return un}),n.d(t,"ShapeUtils",function(){return Do}),n.d(t,"WebGLUtils",function(){return os}),n.d(t,"WireframeGeometry",function(){return Gs}),n.d(t,"ParametricGeometry",function(){return Ws}),n.d(t,"ParametricBufferGeometry",function(){return $s}),n.d(t,"TetrahedronGeometry",function(){return Zs}),n.d(t,"TetrahedronBufferGeometry",function(){return Ks}),n.d(t,"OctahedronGeometry",function(){return Xs}),n.d(t,"OctahedronBufferGeometry",function(){return Qs}),n.d(t,"IcosahedronGeometry",function(){return Js}),n.d(t,"IcosahedronBufferGeometry",function(){return eo}),n.d(t,"DodecahedronGeometry",function(){return to}),n.d(t,"DodecahedronBufferGeometry",function(){return no}),n.d(t,"PolyhedronGeometry",function(){return qs}),n.d(t,"PolyhedronBufferGeometry",function(){return Ys}),n.d(t,"TubeGeometry",function(){return io}),n.d(t,"TubeBufferGeometry",function(){return ro}),n.d(t,"TorusKnotGeometry",function(){return so}),n.d(t,"TorusKnotBufferGeometry",function(){return oo}),n.d(t,"TorusGeometry",function(){return ao}),n.d(t,"TorusBufferGeometry",function(){return lo}),n.d(t,"TextGeometry",function(){return Vo}),n.d(t,"TextBufferGeometry",function(){return jo}),n.d(t,"SphereGeometry",function(){return Bo}),n.d(t,"SphereBufferGeometry",function(){return zo}),n.d(t,"RingGeometry",function(){return Ho}),n.d(t,"RingBufferGeometry",function(){return Uo}),n.d(t,"PlaneGeometry",function(){return ui}),n.d(t,"PlaneBufferGeometry",function(){return ci}),n.d(t,"LatheGeometry",function(){return Go}),n.d(t,"LatheBufferGeometry",function(){return Wo}),n.d(t,"ShapeGeometry",function(){return $o}),n.d(t,"ShapeBufferGeometry",function(){return qo}),n.d(t,"ExtrudeGeometry",function(){return Ro}),n.d(t,"ExtrudeBufferGeometry",function(){return Lo}),n.d(t,"EdgesGeometry",function(){return Zo}),n.d(t,"ConeGeometry",function(){return Qo}),n.d(t,"ConeBufferGeometry",function(){return Jo}),n.d(t,"CylinderGeometry",function(){return Ko}),n.d(t,"CylinderBufferGeometry",function(){return Xo}),n.d(t,"CircleGeometry",function(){return ea}),n.d(t,"CircleBufferGeometry",function(){return ta}),n.d(t,"BoxGeometry",function(){return ai}),n.d(t,"BoxBufferGeometry",function(){return li}),n.d(t,"ShadowMaterial",function(){return ia}),n.d(t,"SpriteMaterial",function(){return Is}),n.d(t,"RawShaderMaterial",function(){return ra}),n.d(t,"ShaderMaterial",function(){return Ei}),n.d(t,"PointsMaterial",function(){return Vs}),n.d(t,"MeshPhysicalMaterial",function(){return oa}),n.d(t,"MeshStandardMaterial",function(){return sa}),n.d(t,"MeshPhongMaterial",function(){return aa}),n.d(t,"MeshToonMaterial",function(){return la}),n.d(t,"MeshNormalMaterial",function(){return ua}),n.d(t,"MeshLambertMaterial",function(){return ca}),n.d(t,"MeshDepthMaterial",function(){return ts}),n.d(t,"MeshDistanceMaterial",function(){return ns}),n.d(t,"MeshBasicMaterial",function(){return Ii}),n.d(t,"MeshMatcapMaterial",function(){return ha}),n.d(t,"LineDashedMaterial",function(){return da}),n.d(t,"LineBasicMaterial",function(){return Rs}),n.d(t,"Material",function(){return Si}),n.d(t,"Float64BufferAttribute",function(){return ni}),n.d(t,"Float32BufferAttribute",function(){return ti}),n.d(t,"Uint32BufferAttribute",function(){return ei}),n.d(t,"Int32BufferAttribute",function(){return Jn}),n.d(t,"Uint16BufferAttribute",function(){return Qn}),n.d(t,"Int16BufferAttribute",function(){return Xn}),n.d(t,"Uint8ClampedBufferAttribute",function(){return Kn}),n.d(t,"Uint8BufferAttribute",function(){return Zn}),n.d(t,"Int8BufferAttribute",function(){return Yn}),n.d(t,"BufferAttribute",function(){return qn}),n.d(t,"ArcCurve",function(){return Ha}),n.d(t,"CatmullRomCurve3",function(){return Ya}),n.d(t,"CubicBezierCurve",function(){return Qa}),n.d(t,"CubicBezierCurve3",function(){return Ja}),n.d(t,"EllipseCurve",function(){return za}),n.d(t,"LineCurve",function(){return el}),n.d(t,"LineCurve3",function(){return tl}),n.d(t,"QuadraticBezierCurve",function(){return nl}),n.d(t,"QuadraticBezierCurve3",function(){return il}),n.d(t,"SplineCurve",function(){return rl}),n.d(t,"REVISION",function(){return m}),n.d(t,"MOUSE",function(){return v}),n.d(t,"CullFaceNone",function(){return y}),n.d(t,"CullFaceBack",function(){return _}),n.d(t,"CullFaceFront",function(){return b}),n.d(t,"CullFaceFrontBack",function(){return w}),n.d(t,"FrontFaceDirectionCW",function(){return x}),n.d(t,"FrontFaceDirectionCCW",function(){return C}),n.d(t,"BasicShadowMap",function(){return S}),n.d(t,"PCFShadowMap",function(){return E}),n.d(t,"PCFSoftShadowMap",function(){return T}),n.d(t,"FrontSide",function(){return M}),n.d(t,"BackSide",function(){return I}),n.d(t,"DoubleSide",function(){return O}),n.d(t,"FlatShading",function(){return A}),n.d(t,"SmoothShading",function(){return D}),n.d(t,"NoColors",function(){return k}),n.d(t,"FaceColors",function(){return P}),n.d(t,"VertexColors",function(){return R}),n.d(t,"NoBlending",function(){return L}),n.d(t,"NormalBlending",function(){return N}),n.d(t,"AdditiveBlending",function(){return F}),n.d(t,"SubtractiveBlending",function(){return V}),n.d(t,"MultiplyBlending",function(){return j}),n.d(t,"CustomBlending",function(){return B}),n.d(t,"AddEquation",function(){return z}),n.d(t,"SubtractEquation",function(){return H}),n.d(t,"ReverseSubtractEquation",function(){return U}),n.d(t,"MinEquation",function(){return G}),n.d(t,"MaxEquation",function(){return W}),n.d(t,"ZeroFactor",function(){return $}),n.d(t,"OneFactor",function(){return q}),n.d(t,"SrcColorFactor",function(){return Y}),n.d(t,"OneMinusSrcColorFactor",function(){return Z}),n.d(t,"SrcAlphaFactor",function(){return K}),n.d(t,"OneMinusSrcAlphaFactor",function(){return X}),n.d(t,"DstAlphaFactor",function(){return Q}),n.d(t,"OneMinusDstAlphaFactor",function(){return J}),n.d(t,"DstColorFactor",function(){return ee}),n.d(t,"OneMinusDstColorFactor",function(){return te}),n.d(t,"SrcAlphaSaturateFactor",function(){return ne}),n.d(t,"NeverDepth",function(){return ie}),n.d(t,"AlwaysDepth",function(){return re}),n.d(t,"LessDepth",function(){return se}),n.d(t,"LessEqualDepth",function(){return oe}),n.d(t,"EqualDepth",function(){return ae}),n.d(t,"GreaterEqualDepth",function(){return le}),n.d(t,"GreaterDepth",function(){return ue}),n.d(t,"NotEqualDepth",function(){return ce}),n.d(t,"MultiplyOperation",function(){return he}),n.d(t,"MixOperation",function(){return de}),n.d(t,"AddOperation",function(){return pe}),n.d(t,"NoToneMapping",function(){return fe}),n.d(t,"LinearToneMapping",function(){return ge}),n.d(t,"ReinhardToneMapping",function(){return me}),n.d(t,"Uncharted2ToneMapping",function(){return ve}),n.d(t,"CineonToneMapping",function(){return ye}),n.d(t,"ACESFilmicToneMapping",function(){return _e}),n.d(t,"UVMapping",function(){return be}),n.d(t,"CubeReflectionMapping",function(){return we}),n.d(t,"CubeRefractionMapping",function(){return xe}),n.d(t,"EquirectangularReflectionMapping",function(){return Ce}),n.d(t,"EquirectangularRefractionMapping",function(){return Se}),n.d(t,"SphericalReflectionMapping",function(){return Ee}),n.d(t,"CubeUVReflectionMapping",function(){return Te}),n.d(t,"CubeUVRefractionMapping",function(){return Me}),n.d(t,"RepeatWrapping",function(){return Ie}),n.d(t,"ClampToEdgeWrapping",function(){return Oe}),n.d(t,"MirroredRepeatWrapping",function(){return Ae}),n.d(t,"NearestFilter",function(){return De}),n.d(t,"NearestMipMapNearestFilter",function(){return ke}),n.d(t,"NearestMipMapLinearFilter",function(){return Pe}),n.d(t,"LinearFilter",function(){return Re}),n.d(t,"LinearMipMapNearestFilter",function(){return Le}),n.d(t,"LinearMipMapLinearFilter",function(){return Ne}),n.d(t,"UnsignedByteType",function(){return Fe}),n.d(t,"ByteType",function(){return Ve}),n.d(t,"ShortType",function(){return je}),n.d(t,"UnsignedShortType",function(){return Be}),n.d(t,"IntType",function(){return ze}),n.d(t,"UnsignedIntType",function(){return He}),n.d(t,"FloatType",function(){return Ue}),n.d(t,"HalfFloatType",function(){return Ge}),n.d(t,"UnsignedShort4444Type",function(){return We}),n.d(t,"UnsignedShort5551Type",function(){return $e}),n.d(t,"UnsignedShort565Type",function(){return qe}),n.d(t,"UnsignedInt248Type",function(){return Ye}),n.d(t,"AlphaFormat",function(){return Ze}),n.d(t,"RGBFormat",function(){return Ke}),n.d(t,"RGBAFormat",function(){return Xe}),n.d(t,"LuminanceFormat",function(){return Qe}),n.d(t,"LuminanceAlphaFormat",function(){return Je}),n.d(t,"RGBEFormat",function(){return et}),n.d(t,"DepthFormat",function(){return tt}),n.d(t,"DepthStencilFormat",function(){return nt}),n.d(t,"RedFormat",function(){return it}),n.d(t,"RGB_S3TC_DXT1_Format",function(){return rt}),n.d(t,"RGBA_S3TC_DXT1_Format",function(){return st}),n.d(t,"RGBA_S3TC_DXT3_Format",function(){return ot}),n.d(t,"RGBA_S3TC_DXT5_Format",function(){return at}),n.d(t,"RGB_PVRTC_4BPPV1_Format",function(){return lt}),n.d(t,"RGB_PVRTC_2BPPV1_Format",function(){return ut}),n.d(t,"RGBA_PVRTC_4BPPV1_Format",function(){return ct}),n.d(t,"RGBA_PVRTC_2BPPV1_Format",function(){return ht}),n.d(t,"RGB_ETC1_Format",function(){return dt}),n.d(t,"RGBA_ASTC_4x4_Format",function(){return pt}),n.d(t,"RGBA_ASTC_5x4_Format",function(){return ft}),n.d(t,"RGBA_ASTC_5x5_Format",function(){return gt}),n.d(t,"RGBA_ASTC_6x5_Format",function(){return mt}),n.d(t,"RGBA_ASTC_6x6_Format",function(){return vt}),n.d(t,"RGBA_ASTC_8x5_Format",function(){return yt}),n.d(t,"RGBA_ASTC_8x6_Format",function(){return _t}),n.d(t,"RGBA_ASTC_8x8_Format",function(){return bt}),n.d(t,"RGBA_ASTC_10x5_Format",function(){return wt}),n.d(t,"RGBA_ASTC_10x6_Format",function(){return xt}),n.d(t,"RGBA_ASTC_10x8_Format",function(){return Ct}),n.d(t,"RGBA_ASTC_10x10_Format",function(){return St}),n.d(t,"RGBA_ASTC_12x10_Format",function(){return Et}),n.d(t,"RGBA_ASTC_12x12_Format",function(){return Tt}),n.d(t,"LoopOnce",function(){return Mt}),n.d(t,"LoopRepeat",function(){return It}),n.d(t,"LoopPingPong",function(){return Ot}),n.d(t,"InterpolateDiscrete",function(){return At}),n.d(t,"InterpolateLinear",function(){return Dt}),n.d(t,"InterpolateSmooth",function(){return kt}),n.d(t,"ZeroCurvatureEnding",function(){return Pt}),n.d(t,"ZeroSlopeEnding",function(){return Rt}),n.d(t,"WrapAroundEnding",function(){return Lt}),n.d(t,"TrianglesDrawMode",function(){return Nt}),n.d(t,"TriangleStripDrawMode",function(){return Ft}),n.d(t,"TriangleFanDrawMode",function(){return Vt}),n.d(t,"LinearEncoding",function(){return jt}),n.d(t,"sRGBEncoding",function(){return Bt}),n.d(t,"GammaEncoding",function(){return zt}),n.d(t,"RGBEEncoding",function(){return Ht}),n.d(t,"LogLuvEncoding",function(){return Ut}),n.d(t,"RGBM7Encoding",function(){return Gt}),n.d(t,"RGBM16Encoding",function(){return Wt}),n.d(t,"RGBDEncoding",function(){return $t}),n.d(t,"BasicDepthPacking",function(){return qt}),n.d(t,"RGBADepthPacking",function(){return Yt}),n.d(t,"TangentSpaceNormalMap",function(){return Zt}),n.d(t,"ObjectSpaceNormalMap",function(){return Kt}),n.d(t,"CubeGeometry",function(){return ai}),n.d(t,"Face4",function(){return Ju}),n.d(t,"LineStrip",function(){return ec}),n.d(t,"LinePieces",function(){return tc}),n.d(t,"MeshFaceMaterial",function(){return nc}),n.d(t,"MultiMaterial",function(){return ic}),n.d(t,"PointCloud",function(){return rc}),n.d(t,"Particle",function(){return sc}),n.d(t,"ParticleSystem",function(){return oc}),n.d(t,"PointCloudMaterial",function(){return ac}),n.d(t,"ParticleBasicMaterial",function(){return lc}),n.d(t,"ParticleSystemMaterial",function(){return uc}),n.d(t,"Vertex",function(){return cc}),n.d(t,"DynamicBufferAttribute",function(){return hc}),n.d(t,"Int8Attribute",function(){return dc}),n.d(t,"Uint8Attribute",function(){return pc}),n.d(t,"Uint8ClampedAttribute",function(){return fc}),n.d(t,"Int16Attribute",function(){return gc}),n.d(t,"Uint16Attribute",function(){return mc}),n.d(t,"Int32Attribute",function(){return vc}),n.d(t,"Uint32Attribute",function(){return yc}),n.d(t,"Float32Attribute",function(){return _c}),n.d(t,"Float64Attribute",function(){return bc}),n.d(t,"ClosedSplineCurve3",function(){return wc}),n.d(t,"SplineCurve3",function(){return xc}),n.d(t,"Spline",function(){return Cc}),n.d(t,"AxisHelper",function(){return Sc}),n.d(t,"BoundingBoxHelper",function(){return Ec}),n.d(t,"EdgesHelper",function(){return Tc}),n.d(t,"WireframeHelper",function(){return Mc}),n.d(t,"XHRLoader",function(){return Ic}),n.d(t,"BinaryTextureLoader",function(){return Oc}),n.d(t,"GeometryUtils",function(){return Ac}),n.d(t,"Projector",function(){return Dc}),n.d(t,"CanvasRenderer",function(){return kc}),n.d(t,"JSONLoader",function(){return Pc}),n.d(t,"SceneUtils",function(){return Rc}),n.d(t,"LensFlare",function(){return Lc}),void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}),void 0===Math.sign&&(Math.sign=function(e){return e<0?-1:e>0?1:+e}),"name"in Function.prototype==0&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}),Object.assign(i.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)},removeEventListener:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var i=n.indexOf(t);-1!==i&&n.splice(i,1)}}},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),i=0,r=n.length;i<r;i++)n[i].call(this,e)}}}});var r,s,o,a,l,u,c,h,d,p,f,g,m="100",v={LEFT:0,MIDDLE:1,RIGHT:2},y=0,_=1,b=2,w=3,x=0,C=1,S=0,E=1,T=2,M=0,I=1,O=2,A=1,D=2,k=0,P=1,R=2,L=0,N=1,F=2,V=3,j=4,B=5,z=100,H=101,U=102,G=103,W=104,$=200,q=201,Y=202,Z=203,K=204,X=205,Q=206,J=207,ee=208,te=209,ne=210,ie=0,re=1,se=2,oe=3,ae=4,le=5,ue=6,ce=7,he=0,de=1,pe=2,fe=0,ge=1,me=2,ve=3,ye=4,_e=5,be=300,we=301,xe=302,Ce=303,Se=304,Ee=305,Te=306,Me=307,Ie=1e3,Oe=1001,Ae=1002,De=1003,ke=1004,Pe=1005,Re=1006,Le=1007,Ne=1008,Fe=1009,Ve=1010,je=1011,Be=1012,ze=1013,He=1014,Ue=1015,Ge=1016,We=1017,$e=1018,qe=1019,Ye=1020,Ze=1021,Ke=1022,Xe=1023,Qe=1024,Je=1025,et=Xe,tt=1026,nt=1027,it=1028,rt=33776,st=33777,ot=33778,at=33779,lt=35840,ut=35841,ct=35842,ht=35843,dt=36196,pt=37808,ft=37809,gt=37810,mt=37811,vt=37812,yt=37813,_t=37814,bt=37815,wt=37816,xt=37817,Ct=37818,St=37819,Et=37820,Tt=37821,Mt=2200,It=2201,Ot=2202,At=2300,Dt=2301,kt=2302,Pt=2400,Rt=2401,Lt=2402,Nt=0,Ft=1,Vt=2,jt=3e3,Bt=3001,zt=3007,Ht=3002,Ut=3003,Gt=3004,Wt=3005,$t=3006,qt=3200,Yt=3201,Zt=0,Kt=1,Xt={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){for(var e=[],t=0;t<256;t++)e[t]=(t<16?"0":"")+t.toString(16);return function(){var t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(e[255&t]+e[t>>8&255]+e[t>>16&255]+e[t>>24&255]+"-"+e[255&n]+e[n>>8&255]+"-"+e[n>>16&15|64]+e[n>>24&255]+"-"+e[63&i|128]+e[i>>8&255]+"-"+e[i>>16&255]+e[i>>24&255]+e[255&r]+e[r>>8&255]+e[r>>16&255]+e[r>>24&255]).toUpperCase()}}(),clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,i,r){return i+(e-t)*(r-i)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*Xt.DEG2RAD},radToDeg:function(e){return e*Xt.RAD2DEG},isPowerOfTwo:function(e){return 0==(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}};function Qt(e,t){this.x=e||0,this.y=t||0}function Jt(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function en(e,t,n,i){this._x=e||0,this._y=t||0,this._z=n||0,this._w=void 0!==i?i:1}function tn(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0}function nn(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}Object.defineProperties(Qt.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}}),Object.assign(Qt.prototype,{isVector2:!0,set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},applyMatrix3:function(e){var t=this.x,n=this.y,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6],this.y=i[1]*t+i[4]*n+i[7],this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:(r=new Qt,s=new Qt,function(e,t){return r.set(e,e),s.set(t,t),this.clamp(r,s)}),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},cross:function(e){return this.x*e.y-this.y*e.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var e=Math.atan2(this.y,this.x);return e<0&&(e+=2*Math.PI),e},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){var n=Math.cos(t),i=Math.sin(t),r=this.x-e.x,s=this.y-e.y;return this.x=r*n-s*i+e.x,this.y=r*i+s*n+e.y,this}}),Object.assign(Jt.prototype,{isMatrix4:!0,set:function(e,t,n,i,r,s,o,a,l,u,c,h,d,p,f,g){var m=this.elements;return m[0]=e,m[4]=t,m[8]=n,m[12]=i,m[1]=r,m[5]=s,m[9]=o,m[13]=a,m[2]=l,m[6]=u,m[10]=c,m[14]=h,m[3]=d,m[7]=p,m[11]=f,m[15]=g,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new Jt).fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this},copyPosition:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this},extractBasis:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this},extractRotation:(p=new tn,function(e){var t=this.elements,n=e.elements,i=1/p.setFromMatrixColumn(e,0).length(),r=1/p.setFromMatrixColumn(e,1).length(),s=1/p.setFromMatrixColumn(e,2).length();return t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i,t[3]=0,t[4]=n[4]*r,t[5]=n[5]*r,t[6]=n[6]*r,t[7]=0,t[8]=n[8]*s,t[9]=n[9]*s,t[10]=n[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}),makeRotationFromEuler:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,n=e.x,i=e.y,r=e.z,s=Math.cos(n),o=Math.sin(n),a=Math.cos(i),l=Math.sin(i),u=Math.cos(r),c=Math.sin(r);if("XYZ"===e.order){var h=s*u,d=s*c,p=o*u,f=o*c;t[0]=a*u,t[4]=-a*c,t[8]=l,t[1]=d+p*l,t[5]=h-f*l,t[9]=-o*a,t[2]=f-h*l,t[6]=p+d*l,t[10]=s*a}else if("YXZ"===e.order){var g=a*c,m=l*u;t[0]=(v=a*u)+(y=l*c)*o,t[4]=m*o-g,t[8]=s*l,t[1]=s*c,t[5]=s*u,t[9]=-o,t[2]=g*o-m,t[6]=y+v*o,t[10]=s*a}else if("ZXY"===e.order){var v,y;g=a*c,m=l*u,t[0]=(v=a*u)-(y=l*c)*o,t[4]=-s*c,t[8]=m+g*o,t[1]=g+m*o,t[5]=s*u,t[9]=y-v*o,t[2]=-s*l,t[6]=o,t[10]=s*a}else if("ZYX"===e.order)h=s*u,d=s*c,p=o*u,f=o*c,t[0]=a*u,t[4]=p*l-d,t[8]=h*l+f,t[1]=a*c,t[5]=f*l+h,t[9]=d*l-p,t[2]=-l,t[6]=o*a,t[10]=s*a;else if("YZX"===e.order){var _=s*a,b=s*l,w=o*a,x=o*l;t[0]=a*u,t[4]=x-_*c,t[8]=w*c+b,t[1]=c,t[5]=s*u,t[9]=-o*u,t[2]=-l*u,t[6]=b*c+w,t[10]=_-x*c}else"XZY"===e.order&&(_=s*a,b=s*l,w=o*a,x=o*l,t[0]=a*u,t[4]=-c,t[8]=l*u,t[1]=_*c+x,t[5]=s*u,t[9]=b*c-w,t[2]=w*c-b,t[6]=o*u,t[10]=x*c+_);return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:(h=new tn(0,0,0),d=new tn(1,1,1),function(e){return this.compose(h,e,d)}),lookAt:(l=new tn,u=new tn,c=new tn,function(e,t,n){var i=this.elements;return c.subVectors(e,t),0===c.lengthSq()&&(c.z=1),c.normalize(),l.crossVectors(n,c),0===l.lengthSq()&&(1===Math.abs(n.z)?c.x+=1e-4:c.z+=1e-4,c.normalize(),l.crossVectors(n,c)),l.normalize(),u.crossVectors(c,l),i[0]=l.x,i[4]=u.x,i[8]=c.x,i[1]=l.y,i[5]=u.y,i[9]=c.y,i[2]=l.z,i[6]=u.z,i[10]=c.z,this}),multiply:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,i=t.elements,r=this.elements,s=n[0],o=n[4],a=n[8],l=n[12],u=n[1],c=n[5],h=n[9],d=n[13],p=n[2],f=n[6],g=n[10],m=n[14],v=n[3],y=n[7],_=n[11],b=n[15],w=i[0],x=i[4],C=i[8],S=i[12],E=i[1],T=i[5],M=i[9],I=i[13],O=i[2],A=i[6],D=i[10],k=i[14],P=i[3],R=i[7],L=i[11],N=i[15];return r[0]=s*w+o*E+a*O+l*P,r[4]=s*x+o*T+a*A+l*R,r[8]=s*C+o*M+a*D+l*L,r[12]=s*S+o*I+a*k+l*N,r[1]=u*w+c*E+h*O+d*P,r[5]=u*x+c*T+h*A+d*R,r[9]=u*C+c*M+h*D+d*L,r[13]=u*S+c*I+h*k+d*N,r[2]=p*w+f*E+g*O+m*P,r[6]=p*x+f*T+g*A+m*R,r[10]=p*C+f*M+g*D+m*L,r[14]=p*S+f*I+g*k+m*N,r[3]=v*w+y*E+_*O+b*P,r[7]=v*x+y*T+_*A+b*R,r[11]=v*C+y*M+_*D+b*L,r[15]=v*S+y*I+_*k+b*N,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},applyToBufferAttribute:function(){var e=new tn;return function(t){for(var n=0,i=t.count;n<i;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.applyMatrix4(this),t.setXYZ(n,e.x,e.y,e.z);return t}}(),determinant:function(){var e=this.elements,t=e[0],n=e[4],i=e[8],r=e[12],s=e[1],o=e[5],a=e[9],l=e[13],u=e[2],c=e[6],h=e[10],d=e[14];return e[3]*(+r*a*c-i*l*c-r*o*h+n*l*h+i*o*d-n*a*d)+e[7]*(+t*a*d-t*l*h+r*s*h-i*s*d+i*l*u-r*a*u)+e[11]*(+t*l*c-t*o*d-r*s*c+n*s*d+r*o*u-n*l*u)+e[15]*(-i*o*u-t*a*c+t*o*h+i*s*c-n*s*h+n*a*u)},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},setPosition:function(e){var t=this.elements;return t[12]=e.x,t[13]=e.y,t[14]=e.z,this},getInverse:function(e,t){var n=this.elements,i=e.elements,r=i[0],s=i[1],o=i[2],a=i[3],l=i[4],u=i[5],c=i[6],h=i[7],d=i[8],p=i[9],f=i[10],g=i[11],m=i[12],v=i[13],y=i[14],_=i[15],b=p*y*h-v*f*h+v*c*g-u*y*g-p*c*_+u*f*_,w=m*f*h-d*y*h-m*c*g+l*y*g+d*c*_-l*f*_,x=d*v*h-m*p*h+m*u*g-l*v*g-d*u*_+l*p*_,C=m*p*c-d*v*c-m*u*f+l*v*f+d*u*y-l*p*y,S=r*b+s*w+o*x+a*C;if(0===S){var E="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(E);return console.warn(E),this.identity()}var T=1/S;return n[0]=b*T,n[1]=(v*f*a-p*y*a-v*o*g+s*y*g+p*o*_-s*f*_)*T,n[2]=(u*y*a-v*c*a+v*o*h-s*y*h-u*o*_+s*c*_)*T,n[3]=(p*c*a-u*f*a-p*o*h+s*f*h+u*o*g-s*c*g)*T,n[4]=w*T,n[5]=(d*y*a-m*f*a+m*o*g-r*y*g-d*o*_+r*f*_)*T,n[6]=(m*c*a-l*y*a-m*o*h+r*y*h+l*o*_-r*c*_)*T,n[7]=(l*f*a-d*c*a+d*o*h-r*f*h-l*o*g+r*c*g)*T,n[8]=x*T,n[9]=(m*p*a-d*v*a-m*s*g+r*v*g+d*s*_-r*p*_)*T,n[10]=(l*v*a-m*u*a+m*s*h-r*v*h-l*s*_+r*u*_)*T,n[11]=(d*u*a-l*p*a-d*s*h+r*p*h+l*s*g-r*u*g)*T,n[12]=C*T,n[13]=(d*v*o-m*p*o+m*s*f-r*v*f-d*s*y+r*p*y)*T,n[14]=(m*u*o-l*v*o-m*s*c+r*v*c+l*s*y-r*u*y)*T,n[15]=(l*p*o-d*u*o+d*s*c-r*p*c-l*s*f+r*u*f)*T,this},scale:function(e){var t=this.elements,n=e.x,i=e.y,r=e.z;return t[0]*=n,t[4]*=i,t[8]*=r,t[1]*=n,t[5]*=i,t[9]*=r,t[2]*=n,t[6]*=i,t[10]*=r,t[3]*=n,t[7]*=i,t[11]*=r,this},getMaxScaleOnAxis:function(){var e=this.elements;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1]+e[2]*e[2],e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10]))},makeTranslation:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var n=Math.cos(t),i=Math.sin(t),r=1-n,s=e.x,o=e.y,a=e.z,l=r*s,u=r*o;return this.set(l*s+n,l*o-i*a,l*a+i*o,0,l*o+i*a,u*o+n,u*a-i*s,0,l*a-i*o,u*a+i*s,r*a*a+n,0,0,0,0,1),this},makeScale:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,n){var i=this.elements,r=t._x,s=t._y,o=t._z,a=t._w,l=r+r,u=s+s,c=o+o,h=r*l,d=r*u,p=r*c,f=s*u,g=s*c,m=o*c,v=a*l,y=a*u,_=a*c,b=n.x,w=n.y,x=n.z;return i[0]=(1-(f+m))*b,i[1]=(d+_)*b,i[2]=(p-y)*b,i[3]=0,i[4]=(d-_)*w,i[5]=(1-(h+m))*w,i[6]=(g+v)*w,i[7]=0,i[8]=(p+y)*x,i[9]=(g-v)*x,i[10]=(1-(h+f))*x,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this},decompose:(o=new tn,a=new Jt,function(e,t,n){var i=this.elements,r=o.set(i[0],i[1],i[2]).length(),s=o.set(i[4],i[5],i[6]).length(),l=o.set(i[8],i[9],i[10]).length();this.determinant()<0&&(r=-r),e.x=i[12],e.y=i[13],e.z=i[14],a.copy(this);var u=1/r,c=1/s,h=1/l;return a.elements[0]*=u,a.elements[1]*=u,a.elements[2]*=u,a.elements[4]*=c,a.elements[5]*=c,a.elements[6]*=c,a.elements[8]*=h,a.elements[9]*=h,a.elements[10]*=h,t.setFromRotationMatrix(a),n.x=r,n.y=s,n.z=l,this}),makePerspective:function(e,t,n,i,r,s){void 0===s&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var o=this.elements,a=2*r/(n-i),l=(t+e)/(t-e),u=(n+i)/(n-i),c=-(s+r)/(s-r),h=-2*s*r/(s-r);return o[0]=2*r/(t-e),o[4]=0,o[8]=l,o[12]=0,o[1]=0,o[5]=a,o[9]=u,o[13]=0,o[2]=0,o[6]=0,o[10]=c,o[14]=h,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this},makeOrthographic:function(e,t,n,i,r,s){var o=this.elements,a=1/(t-e),l=1/(n-i),u=1/(s-r),c=(t+e)*a,h=(n+i)*l,d=(s+r)*u;return o[0]=2*a,o[4]=0,o[8]=0,o[12]=-c,o[1]=0,o[5]=2*l,o[9]=0,o[13]=-h,o[2]=0,o[6]=0,o[10]=-2*u,o[14]=-d,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this},equals:function(e){for(var t=this.elements,n=e.elements,i=0;i<16;i++)if(t[i]!==n[i])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<16;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}),Object.assign(en,{slerp:function(e,t,n,i){return n.copy(e).slerp(t,i)},slerpFlat:function(e,t,n,i,r,s,o){var a=n[i+0],l=n[i+1],u=n[i+2],c=n[i+3],h=r[s+0],d=r[s+1],p=r[s+2],f=r[s+3];if(c!==f||a!==h||l!==d||u!==p){var g=1-o,m=a*h+l*d+u*p+c*f,v=m>=0?1:-1,y=1-m*m;if(y>Number.EPSILON){var _=Math.sqrt(y),b=Math.atan2(_,m*v);g=Math.sin(g*b)/_,o=Math.sin(o*b)/_}var w=o*v;if(a=a*g+h*w,l=l*g+d*w,u=u*g+p*w,c=c*g+f*w,g===1-o){var x=1/Math.sqrt(a*a+l*l+u*u+c*c);a*=x,l*=x,u*=x,c*=x}}e[t]=a,e[t+1]=l,e[t+2]=u,e[t+3]=c}}),Object.defineProperties(en.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e,this.onChangeCallback()}}}),Object.assign(en.prototype,{isQuaternion:!0,set:function(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._w=i,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this.onChangeCallback(),this},setFromEuler:function(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=e._x,i=e._y,r=e._z,s=e.order,o=Math.cos,a=Math.sin,l=o(n/2),u=o(i/2),c=o(r/2),h=a(n/2),d=a(i/2),p=a(r/2);return"XYZ"===s?(this._x=h*u*c+l*d*p,this._y=l*d*c-h*u*p,this._z=l*u*p+h*d*c,this._w=l*u*c-h*d*p):"YXZ"===s?(this._x=h*u*c+l*d*p,this._y=l*d*c-h*u*p,this._z=l*u*p-h*d*c,this._w=l*u*c+h*d*p):"ZXY"===s?(this._x=h*u*c-l*d*p,this._y=l*d*c+h*u*p,this._z=l*u*p+h*d*c,this._w=l*u*c-h*d*p):"ZYX"===s?(this._x=h*u*c-l*d*p,this._y=l*d*c+h*u*p,this._z=l*u*p-h*d*c,this._w=l*u*c+h*d*p):"YZX"===s?(this._x=h*u*c+l*d*p,this._y=l*d*c+h*u*p,this._z=l*u*p-h*d*c,this._w=l*u*c-h*d*p):"XZY"===s&&(this._x=h*u*c-l*d*p,this._y=l*d*c-h*u*p,this._z=l*u*p+h*d*c,this._w=l*u*c+h*d*p),!1!==t&&this.onChangeCallback(),this},setFromAxisAngle:function(e,t){var n=t/2,i=Math.sin(n);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(n),this.onChangeCallback(),this},setFromRotationMatrix:function(e){var t,n=e.elements,i=n[0],r=n[4],s=n[8],o=n[1],a=n[5],l=n[9],u=n[2],c=n[6],h=n[10],d=i+a+h;return d>0?(t=.5/Math.sqrt(d+1),this._w=.25/t,this._x=(c-l)*t,this._y=(s-u)*t,this._z=(o-r)*t):i>a&&i>h?(t=2*Math.sqrt(1+i-a-h),this._w=(c-l)/t,this._x=.25*t,this._y=(r+o)/t,this._z=(s+u)/t):a>h?(t=2*Math.sqrt(1+a-i-h),this._w=(s-u)/t,this._x=(r+o)/t,this._y=.25*t,this._z=(l+c)/t):(t=2*Math.sqrt(1+h-i-a),this._w=(o-r)/t,this._x=(s+u)/t,this._y=(l+c)/t,this._z=.25*t),this.onChangeCallback(),this},setFromUnitVectors:function(){var e,t=new tn;return function(n,i){return void 0===t&&(t=new tn),(e=n.dot(i)+1)<1e-6?(e=0,Math.abs(n.x)>Math.abs(n.z)?t.set(-n.y,n.x,0):t.set(0,-n.z,n.y)):t.crossVectors(n,i),this._x=t.x,this._y=t.y,this._z=t.z,this._w=e,this.normalize()}}(),angleTo:function(e){return 2*Math.acos(Math.abs(Xt.clamp(this.dot(e),-1,1)))},rotateTowards:function(e,t){var n=this.angleTo(e);if(0===n)return this;var i=Math.min(1,t/n);return this.slerp(e,i),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(this._x=this._x*(e=1/e),this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this.onChangeCallback(),this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){var n=e._x,i=e._y,r=e._z,s=e._w,o=t._x,a=t._y,l=t._z,u=t._w;return this._x=n*u+s*o+i*l-r*a,this._y=i*u+s*a+r*o-n*l,this._z=r*u+s*l+n*a-i*o,this._w=s*u-n*o-i*a-r*l,this.onChangeCallback(),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,i=this._y,r=this._z,s=this._w,o=s*e._w+n*e._x+i*e._y+r*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=s,this._x=n,this._y=i,this._z=r,this;var a=1-o*o;if(a<=Number.EPSILON){var l=1-t;return this._w=l*s+t*this._w,this._x=l*n+t*this._x,this._y=l*i+t*this._y,this._z=l*r+t*this._z,this.normalize()}var u=Math.sqrt(a),c=Math.atan2(u,o),h=Math.sin((1-t)*c)/u,d=Math.sin(t*c)/u;return this._w=s*h+this._w*d,this._x=n*h+this._x*d,this._y=i*h+this._y*d,this._z=r*h+this._z*d,this.onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}}),Object.assign(tn.prototype,{isVector3:!0,set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:(f=new en,function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(f.setFromEuler(e))}),applyAxisAngle:function(){var e=new en;return function(t,n){return this.applyQuaternion(e.setFromAxisAngle(t,n))}}(),applyMatrix3:function(e){var t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6]*i,this.y=r[1]*t+r[4]*n+r[7]*i,this.z=r[2]*t+r[5]*n+r[8]*i,this},applyMatrix4:function(e){var t=this.x,n=this.y,i=this.z,r=e.elements,s=1/(r[3]*t+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*t+r[4]*n+r[8]*i+r[12])*s,this.y=(r[1]*t+r[5]*n+r[9]*i+r[13])*s,this.z=(r[2]*t+r[6]*n+r[10]*i+r[14])*s,this},applyQuaternion:function(e){var t=this.x,n=this.y,i=this.z,r=e.x,s=e.y,o=e.z,a=e.w,l=a*t+s*i-o*n,u=a*n+o*t-r*i,c=a*i+r*n-s*t,h=-r*t-s*n-o*i;return this.x=l*a+h*-r+u*-o-c*-s,this.y=u*a+h*-s+c*-r-l*-o,this.z=c*a+h*-o+l*-s-u*-r,this},project:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)},unproject:function(){var e=new Jt;return function(t){return this.applyMatrix4(e.getInverse(t.projectionMatrix)).applyMatrix4(t.matrixWorld)}}(),transformDirection:function(e){var t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[4]*n+r[8]*i,this.y=r[1]*t+r[5]*n+r[9]*i,this.z=r[2]*t+r[6]*n+r[10]*i,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:function(){var e=new tn,t=new tn;return function(n,i){return e.set(n,n,n),t.set(i,i,i),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},cross:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)},crossVectors:function(e,t){var n=e.x,i=e.y,r=e.z,s=t.x,o=t.y,a=t.z;return this.x=i*a-r*o,this.y=r*s-n*a,this.z=n*o-i*s,this},projectOnVector:function(e){var t=e.dot(this)/e.lengthSq();return this.copy(e).multiplyScalar(t)},projectOnPlane:function(){var e=new tn;return function(t){return e.copy(this).projectOnVector(t),this.sub(e)}}(),reflect:function(){var e=new tn;return function(t){return this.sub(e.copy(t).multiplyScalar(2*this.dot(t)))}}(),angleTo:function(e){var t=this.dot(e)/Math.sqrt(this.lengthSq()*e.lengthSq());return Math.acos(Xt.clamp(t,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y,i=this.z-e.z;return t*t+n*n+i*i},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)},setFromSphericalCoords:function(e,t,n){var i=Math.sin(t)*e;return this.x=i*Math.sin(n),this.y=Math.cos(t)*e,this.z=i*Math.cos(n),this},setFromCylindrical:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)},setFromCylindricalCoords:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this},setFromMatrixPosition:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this},setFromMatrixScale:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=i,this},setFromMatrixColumn:function(e,t){return this.fromArray(e.elements,4*t)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}}),Object.assign(nn.prototype,{isMatrix3:!0,set:function(e,t,n,i,r,s,o,a,l){var u=this.elements;return u[0]=e,u[1]=i,u[2]=o,u[3]=t,u[4]=r,u[5]=a,u[6]=n,u[7]=s,u[8]=l,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this},setFromMatrix4:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},applyToBufferAttribute:function(){var e=new tn;return function(t){for(var n=0,i=t.count;n<i;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.applyMatrix3(this),t.setXYZ(n,e.x,e.y,e.z);return t}}(),multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,i=t.elements,r=this.elements,s=n[0],o=n[3],a=n[6],l=n[1],u=n[4],c=n[7],h=n[2],d=n[5],p=n[8],f=i[0],g=i[3],m=i[6],v=i[1],y=i[4],_=i[7],b=i[2],w=i[5],x=i[8];return r[0]=s*f+o*v+a*b,r[3]=s*g+o*y+a*w,r[6]=s*m+o*_+a*x,r[1]=l*f+u*v+c*b,r[4]=l*g+u*y+c*w,r[7]=l*m+u*_+c*x,r[2]=h*f+d*v+p*b,r[5]=h*g+d*y+p*w,r[8]=h*m+d*_+p*x,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],s=e[4],o=e[5],a=e[6],l=e[7],u=e[8];return t*s*u-t*o*l-n*r*u+n*o*a+i*r*l-i*s*a},getInverse:function(e,t){e&&e.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var n=e.elements,i=this.elements,r=n[0],s=n[1],o=n[2],a=n[3],l=n[4],u=n[5],c=n[6],h=n[7],d=n[8],p=d*l-u*h,f=u*c-d*a,g=h*a-l*c,m=r*p+s*f+o*g;if(0===m){var v="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(v);return console.warn(v),this.identity()}var y=1/m;return i[0]=p*y,i[1]=(o*h-d*s)*y,i[2]=(u*s-o*l)*y,i[3]=f*y,i[4]=(d*r-o*c)*y,i[5]=(o*a-u*r)*y,i[6]=g*y,i[7]=(s*c-h*r)*y,i[8]=(l*r-s*a)*y,this},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},setUvTransform:function(e,t,n,i,r,s,o){var a=Math.cos(r),l=Math.sin(r);this.set(n*a,n*l,-n*(a*s+l*o)+s+e,-i*l,i*a,-i*(-l*s+a*o)+o+t,0,0,1)},scale:function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this},rotate:function(e){var t=Math.cos(e),n=Math.sin(e),i=this.elements,r=i[0],s=i[3],o=i[6],a=i[1],l=i[4],u=i[7];return i[0]=t*r+n*a,i[3]=t*s+n*l,i[6]=t*o+n*u,i[1]=-n*r+t*a,i[4]=-n*s+t*l,i[7]=-n*o+t*u,this},translate:function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this},equals:function(e){for(var t=this.elements,n=e.elements,i=0;i<9;i++)if(t[i]!==n[i])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<9;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}});var rn,sn,on,an,ln,un={getDataURL:function(e){var t;if("undefined"==typeof HTMLCanvasElement)return e.src;if(e instanceof HTMLCanvasElement)t=e;else{void 0===g&&(g=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),g.width=e.width,g.height=e.height;var n=g.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=g}return t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}},cn=0;function hn(e,t,n,i,r,s,o,a,l,u){Object.defineProperty(this,"id",{value:cn++}),this.uuid=Xt.generateUUID(),this.name="",this.image=void 0!==e?e:hn.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==t?t:hn.DEFAULT_MAPPING,this.wrapS=void 0!==n?n:Oe,this.wrapT=void 0!==i?i:Oe,this.magFilter=void 0!==r?r:Re,this.minFilter=void 0!==s?s:Ne,this.anisotropy=void 0!==l?l:1,this.format=void 0!==o?o:Xe,this.type=void 0!==a?a:Fe,this.offset=new Qt(0,0),this.repeat=new Qt(1,1),this.center=new Qt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new nn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==u?u:jt,this.version=0,this.onUpdate=null}function dn(e,t,n,i){this.x=e||0,this.y=t||0,this.z=n||0,this.w=void 0!==i?i:1}function pn(e,t,n){this.width=e,this.height=t,this.scissor=new dn(0,0,e,t),this.scissorTest=!1,this.viewport=new dn(0,0,e,t),this.texture=new hn(void 0,void 0,(n=n||{}).wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:Re,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function fn(e,t,n){pn.call(this,e,t,n),this.activeCubeFace=0,this.activeMipMapLevel=0}function gn(e,t,n,i,r,s,o,a,l,u,c,h){hn.call(this,null,s,o,a,l,u,i,r,c,h),this.image={data:e,width:t,height:n},this.magFilter=void 0!==l?l:De,this.minFilter=void 0!==u?u:De,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function mn(e,t){this.min=void 0!==e?e:new tn(1/0,1/0,1/0),this.max=void 0!==t?t:new tn(-1/0,-1/0,-1/0)}function vn(e,t){this.center=void 0!==e?e:new tn,this.radius=void 0!==t?t:0}function yn(e,t){this.normal=void 0!==e?e:new tn(1,0,0),this.constant=void 0!==t?t:0}function _n(e,t,n,i,r,s){this.planes=[void 0!==e?e:new yn,void 0!==t?t:new yn,void 0!==n?n:new yn,void 0!==i?i:new yn,void 0!==r?r:new yn,void 0!==s?s:new yn]}hn.DEFAULT_IMAGE=void 0,hn.DEFAULT_MAPPING=be,hn.prototype=Object.assign(Object.create(i.prototype),{constructor:hn,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){var t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var i=this.image;if(void 0===i.uuid&&(i.uuid=Xt.generateUUID()),!t&&void 0===e.images[i.uuid]){var r;if(Array.isArray(i)){r=[];for(var s=0,o=i.length;s<o;s++)r.push(un.getDataURL(i[s]))}else r=un.getDataURL(i);e.images[i.uuid]={uuid:i.uuid,url:r}}n.image=i.uuid}return t||(e.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(this.mapping!==be)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Ie:e.x=e.x-Math.floor(e.x);break;case Oe:e.x=e.x<0?0:1;break;case Ae:e.x=1===Math.abs(Math.floor(e.x)%2)?Math.ceil(e.x)-e.x:e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case Ie:e.y=e.y-Math.floor(e.y);break;case Oe:e.y=e.y<0?0:1;break;case Ae:e.y=1===Math.abs(Math.floor(e.y)%2)?Math.ceil(e.y)-e.y:e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}}),Object.defineProperty(hn.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(dn.prototype,{isVector4:!0,set:function(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){var t=this.x,n=this.y,i=this.z,r=this.w,s=e.elements;return this.x=s[0]*t+s[4]*n+s[8]*i+s[12]*r,this.y=s[1]*t+s[5]*n+s[9]*i+s[13]*r,this.z=s[2]*t+s[6]*n+s[10]*i+s[14]*r,this.w=s[3]*t+s[7]*n+s[11]*i+s[15]*r,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t,n,i,r,s=e.elements,o=s[0],a=s[4],l=s[8],u=s[1],c=s[5],h=s[9],d=s[2],p=s[6],f=s[10];if(Math.abs(a-u)<.01&&Math.abs(l-d)<.01&&Math.abs(h-p)<.01){if(Math.abs(a+u)<.1&&Math.abs(l+d)<.1&&Math.abs(h+p)<.1&&Math.abs(o+c+f-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;var g=(o+1)/2,m=(c+1)/2,v=(f+1)/2,y=(a+u)/4,_=(l+d)/4,b=(h+p)/4;return g>m&&g>v?g<.01?(n=0,i=.707106781,r=.707106781):(i=y/(n=Math.sqrt(g)),r=_/n):m>v?m<.01?(n=.707106781,i=0,r=.707106781):(n=y/(i=Math.sqrt(m)),r=b/i):v<.01?(n=.707106781,i=.707106781,r=0):(n=_/(r=Math.sqrt(v)),i=b/r),this.set(n,i,r,t),this}var w=Math.sqrt((p-h)*(p-h)+(l-d)*(l-d)+(u-a)*(u-a));return Math.abs(w)<.001&&(w=1),this.x=(p-h)/w,this.y=(l-d)/w,this.z=(u-a)/w,this.w=Math.acos((o+c+f-1)/2),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(){var e,t;return function(n,i){return void 0===e&&(e=new dn,t=new dn),e.set(n,n,n,n),t.set(i,i,i,i),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}}),pn.prototype=Object.assign(Object.create(i.prototype),{constructor:pn,isWebGLRenderTarget:!0,setSize:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),(fn.prototype=Object.create(pn.prototype)).constructor=fn,fn.prototype.isWebGLRenderTargetCube=!0,(gn.prototype=Object.create(hn.prototype)).constructor=gn,gn.prototype.isDataTexture=!0,Object.assign(mn.prototype,{isBox3:!0,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){for(var t=1/0,n=1/0,i=1/0,r=-1/0,s=-1/0,o=-1/0,a=0,l=e.length;a<l;a+=3){var u=e[a],c=e[a+1],h=e[a+2];u<t&&(t=u),c<n&&(n=c),h<i&&(i=h),u>r&&(r=u),c>s&&(s=c),h>o&&(o=h)}return this.min.set(t,n,i),this.max.set(r,s,o),this},setFromBufferAttribute:function(e){for(var t=1/0,n=1/0,i=1/0,r=-1/0,s=-1/0,o=-1/0,a=0,l=e.count;a<l;a++){var u=e.getX(a),c=e.getY(a),h=e.getZ(a);u<t&&(t=u),c<n&&(n=c),h<i&&(i=h),u>r&&(r=u),c>s&&(s=c),h>o&&(o=h)}return this.min.set(t,n,i),this.max.set(r,s,o),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new tn;return function(t,n){var i=e.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}}(),setFromObject:function(e){return this.makeEmpty(),this.expandByObject(e)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new tn),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new tn),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(){var e,t,n,i=new tn;function r(r){var s=r.geometry;if(void 0!==s)if(s.isGeometry){var o=s.vertices;for(t=0,n=o.length;t<n;t++)i.copy(o[t]),i.applyMatrix4(r.matrixWorld),e.expandByPoint(i)}else if(s.isBufferGeometry){var a=s.attributes.position;if(void 0!==a)for(t=0,n=a.count;t<n;t++)i.fromBufferAttribute(a,t).applyMatrix4(r.matrixWorld),e.expandByPoint(i)}}return function(t){return e=this,t.updateMatrixWorld(!0),t.traverse(r),this}}(),containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .getParameter() target is now required"),t=new tn),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:(sn=new tn,function(e){return this.clampPoint(e.center,sn),sn.distanceToSquared(e.center)<=e.radius*e.radius}),intersectsPlane:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant},intersectsTriangle:function(){var e=new tn,t=new tn,n=new tn,i=new tn,r=new tn,s=new tn,o=new tn,a=new tn,l=new tn,u=new tn;function c(i){var r,s;for(r=0,s=i.length-3;r<=s;r+=3){o.fromArray(i,r);var a=l.x*Math.abs(o.x)+l.y*Math.abs(o.y)+l.z*Math.abs(o.z),u=e.dot(o),c=t.dot(o),h=n.dot(o);if(Math.max(-Math.max(u,c,h),Math.min(u,c,h))>a)return!1}return!0}return function(o){if(this.isEmpty())return!1;this.getCenter(a),l.subVectors(this.max,a),e.subVectors(o.a,a),t.subVectors(o.b,a),n.subVectors(o.c,a),i.subVectors(t,e),r.subVectors(n,t),s.subVectors(e,n);var h=[0,-i.z,i.y,0,-r.z,r.y,0,-s.z,s.y,i.z,0,-i.x,r.z,0,-r.x,s.z,0,-s.x,-i.y,i.x,0,-r.y,r.x,0,-s.y,s.x,0];return!!c(h)&&!!c(h=[1,0,0,0,1,0,0,0,1])&&(u.crossVectors(i,r),c(h=[u.x,u.y,u.z]))}}(),clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .clampPoint() target is now required"),t=new tn),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new tn;return function(t){return e.copy(t).clamp(this.min,this.max).sub(t).length()}}(),getBoundingSphere:function(){var e=new tn;return function(t){return void 0===t&&(console.warn("THREE.Box3: .getBoundingSphere() target is now required"),t=new vn),this.getCenter(t.center),t.radius=.5*this.getSize(e).length(),t}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:(rn=[new tn,new tn,new tn,new tn,new tn,new tn,new tn,new tn],function(e){return this.isEmpty()?this:(rn[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),rn[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),rn[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),rn[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),rn[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),rn[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),rn[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),rn[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(rn),this)}),translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}),Object.assign(vn.prototype,{set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:(on=new mn,function(e,t){var n=this.center;void 0!==t?n.copy(t):on.setFromPoints(e).getCenter(n);for(var i=0,r=0,s=e.length;r<s;r++)i=Math.max(i,n.distanceToSquared(e[r]));return this.radius=Math.sqrt(i),this}),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},empty:function(){return this.radius<=0},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,t){var n=this.center.distanceToSquared(e);return void 0===t&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),t=new tn),t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t},getBoundingBox:function(e){return void 0===e&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new mn),e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}}),Object.assign(yn.prototype,{set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,n,i){return this.normal.set(e,t,n),this.constant=i,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(){var e=new tn,t=new tn;return function(n,i,r){var s=e.subVectors(r,i).cross(t.subVectors(n,i)).normalize();return this.setFromNormalAndCoplanarPoint(s,n),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return void 0===t&&(console.warn("THREE.Plane: .projectPoint() target is now required"),t=new tn),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:function(){var e=new tn;return function(t,n){void 0===n&&(console.warn("THREE.Plane: .intersectLine() target is now required"),n=new tn);var i=t.delta(e),r=this.normal.dot(i);if(0===r)return 0===this.distanceToPoint(t.start)?n.copy(t.start):void 0;var s=-(t.start.dot(this.normal)+this.constant)/r;return s<0||s>1?void 0:n.copy(i).multiplyScalar(s).add(t.start)}}(),intersectsLine:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return void 0===e&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new tn),e.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var e=new tn,t=new nn;return function(n,i){var r=i||t.getNormalMatrix(n),s=this.coplanarPoint(e).applyMatrix4(n),o=this.normal.applyMatrix3(r).normalize();return this.constant=-s.dot(o),this}}(),translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}}),Object.assign(_n.prototype,{set:function(e,t,n,i,r,s){var o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(i),o[4].copy(r),o[5].copy(s),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this},setFromMatrix:function(e){var t=this.planes,n=e.elements,i=n[0],r=n[1],s=n[2],o=n[3],a=n[4],l=n[5],u=n[6],c=n[7],h=n[8],d=n[9],p=n[10],f=n[11],g=n[12],m=n[13],v=n[14],y=n[15];return t[0].setComponents(o-i,c-a,f-h,y-g).normalize(),t[1].setComponents(o+i,c+a,f+h,y+g).normalize(),t[2].setComponents(o+r,c+l,f+d,y+m).normalize(),t[3].setComponents(o-r,c-l,f-d,y-m).normalize(),t[4].setComponents(o-s,c-u,f-p,y-v).normalize(),t[5].setComponents(o+s,c+u,f+p,y+v).normalize(),this},intersectsObject:(ln=new vn,function(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),ln.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(ln)}),intersectsSprite:function(){var e=new vn;return function(t){return e.center.set(0,0,0),e.radius=.7071067811865476,e.applyMatrix4(t.matrixWorld),this.intersectsSphere(e)}}(),intersectsSphere:function(e){for(var t=this.planes,n=e.center,i=-e.radius,r=0;r<6;r++)if(t[r].distanceToPoint(n)<i)return!1;return!0},intersectsBox:(an=new tn,function(e){for(var t=this.planes,n=0;n<6;n++){var i=t[n];if(an.x=i.normal.x>0?e.max.x:e.min.x,an.y=i.normal.y>0?e.max.y:e.min.y,an.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(an)<0)return!1}return!0}),containsPoint:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}});var bn={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );",bsdfs:"float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvarying vec3 vViewPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_pars_fragment:"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent ));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif",lights_pars_begin:"uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearCoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), maxMipLevel );\n\t#ifndef STANDARD\n\t\tclearCoatRadiance += getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\tgl_Position.z *= gl_Position.w;\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#ifdef USE_MAP\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif",map_particle_pars_fragment:"#ifdef USE_MAP\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n#endif",normal_fragment_maps:"#ifdef USE_NORMALMAP\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t#ifdef FLIP_SIDED\n\t\t\tnormal = - normal;\n\t\t#endif\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\tnormal = normalize( normalMatrix * normal );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tuniform mat3 normalMatrix;\n\t#else\n\t\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\t\tvec2 st0 = dFdx( vUv.st );\n\t\t\tvec2 st1 = dFdy( vUv.st );\n\t\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\t\tvec3 N = normalize( surf_norm );\n\t\t\tmat3 tsn = mat3( S, T, N );\n\t\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t\tmapN.xy *= normalScale;\n\t\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\treturn normalize( tsn * mapN );\n\t\t}\n\t#endif\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#if defined( DITHERING )\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n\t#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );\n}",uv_pars_fragment:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}",shadow_vert:"#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"};function wn(e){var t={};for(var n in e)for(var i in t[n]={},e[n]){var r=e[n][i];t[n][i]=r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture)?r.clone():Array.isArray(r)?r.slice():r}return t}function xn(e){for(var t={},n=0;n<e.length;n++){var i=wn(e[n]);for(var r in i)t[r]=i[r]}return t}var Cn,Sn,En,Tn={clone:wn,merge:xn},Mn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function In(e,t,n){return void 0===t&&void 0===n?this.set(e):this.setRGB(e,t,n)}Object.assign(In.prototype,{isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this},setScalar:function(e){return this.r=e,this.g=e,this.b=e,this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},setRGB:function(e,t,n){return this.r=e,this.g=t,this.b=n,this},setHSL:function(){function e(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}return function(t,n,i){if(t=Xt.euclideanModulo(t,1),n=Xt.clamp(n,0,1),i=Xt.clamp(i,0,1),0===n)this.r=this.g=this.b=i;else{var r=i<=.5?i*(1+n):i+n-i*n,s=2*i-r;this.r=e(s,r,t+1/3),this.g=e(s,r,t),this.b=e(s,r,t-1/3)}return this}}(),setStyle:function(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var i,r=n[2];switch(n[1]){case"rgb":case"rgba":if(i=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(r))return this.r=Math.min(255,parseInt(i[1],10))/255,this.g=Math.min(255,parseInt(i[2],10))/255,this.b=Math.min(255,parseInt(i[3],10))/255,t(i[5]),this;if(i=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(r))return this.r=Math.min(100,parseInt(i[1],10))/100,this.g=Math.min(100,parseInt(i[2],10))/100,this.b=Math.min(100,parseInt(i[3],10))/100,t(i[5]),this;break;case"hsl":case"hsla":if(i=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(r)){var s=parseFloat(i[1])/360,o=parseInt(i[2],10)/100,a=parseInt(i[3],10)/100;return t(i[5]),this.setHSL(s,o,a)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(e)){var l,u=(l=n[1]).length;if(3===u)return this.r=parseInt(l.charAt(0)+l.charAt(0),16)/255,this.g=parseInt(l.charAt(1)+l.charAt(1),16)/255,this.b=parseInt(l.charAt(2)+l.charAt(2),16)/255,this;if(6===u)return this.r=parseInt(l.charAt(0)+l.charAt(1),16)/255,this.g=parseInt(l.charAt(2)+l.charAt(3),16)/255,this.b=parseInt(l.charAt(4)+l.charAt(5),16)/255,this}return e&&e.length>0&&(void 0!==(l=Mn[e])?this.setHex(l):console.warn("THREE.Color: Unknown color "+e)),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return void 0===t&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){void 0===t&&(t=2);var n=t>0?1/t:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this},convertGammaToLinear:function(e){return this.copyGammaToLinear(this,e),this},convertLinearToGamma:function(e){return this.copyLinearToGamma(this,e),this},copySRGBToLinear:function(){function e(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}return function(t){return this.r=e(t.r),this.g=e(t.g),this.b=e(t.b),this}}(),copyLinearToSRGB:function(){function e(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}return function(t){return this.r=e(t.r),this.g=e(t.g),this.b=e(t.b),this}}(),convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){void 0===e&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});var t,n,i=this.r,r=this.g,s=this.b,o=Math.max(i,r,s),a=Math.min(i,r,s),l=(a+o)/2;if(a===o)t=0,n=0;else{var u=o-a;switch(n=l<=.5?u/(o+a):u/(2-o-a),o){case i:t=(r-s)/u+(r<s?6:0);break;case r:t=(s-i)/u+2;break;case s:t=(i-r)/u+4}t/=6}return e.h=t,e.s=n,e.l=l,e},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:(En={},function(e,t,n){return this.getHSL(En),En.h+=e,En.s+=t,En.l+=n,this.setHSL(En.h,En.s,En.l),this}),add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},lerpHSL:(Cn={h:0,s:0,l:0},Sn={h:0,s:0,l:0},function(e,t){this.getHSL(Cn),e.getHSL(Sn);var n=Xt.lerp(Cn.h,Sn.h,t),i=Xt.lerp(Cn.s,Sn.s,t),r=Xt.lerp(Cn.l,Sn.l,t);return this.setHSL(n,i,r),this}),equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},toJSON:function(){return this.getHex()}});var On,An={common:{diffuse:{value:new In(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new nn},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Qt(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new In(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new In(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new nn}},sprite:{diffuse:{value:new In(15658734)},opacity:{value:1},center:{value:new Qt(.5,.5)},rotation:{value:0},map:{value:null},uvTransform:{value:new nn}}},Dn={basic:{uniforms:xn([An.common,An.specularmap,An.envmap,An.aomap,An.lightmap,An.fog]),vertexShader:bn.meshbasic_vert,fragmentShader:bn.meshbasic_frag},lambert:{uniforms:xn([An.common,An.specularmap,An.envmap,An.aomap,An.lightmap,An.emissivemap,An.fog,An.lights,{emissive:{value:new In(0)}}]),vertexShader:bn.meshlambert_vert,fragmentShader:bn.meshlambert_frag},phong:{uniforms:xn([An.common,An.specularmap,An.envmap,An.aomap,An.lightmap,An.emissivemap,An.bumpmap,An.normalmap,An.displacementmap,An.gradientmap,An.fog,An.lights,{emissive:{value:new In(0)},specular:{value:new In(1118481)},shininess:{value:30}}]),vertexShader:bn.meshphong_vert,fragmentShader:bn.meshphong_frag},standard:{uniforms:xn([An.common,An.envmap,An.aomap,An.lightmap,An.emissivemap,An.bumpmap,An.normalmap,An.displacementmap,An.roughnessmap,An.metalnessmap,An.fog,An.lights,{emissive:{value:new In(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:bn.meshphysical_vert,fragmentShader:bn.meshphysical_frag},matcap:{uniforms:xn([An.common,An.bumpmap,An.normalmap,An.displacementmap,An.fog,{matcap:{value:null}}]),vertexShader:bn.meshmatcap_vert,fragmentShader:bn.meshmatcap_frag},points:{uniforms:xn([An.points,An.fog]),vertexShader:bn.points_vert,fragmentShader:bn.points_frag},dashed:{uniforms:xn([An.common,An.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:bn.linedashed_vert,fragmentShader:bn.linedashed_frag},depth:{uniforms:xn([An.common,An.displacementmap]),vertexShader:bn.depth_vert,fragmentShader:bn.depth_frag},normal:{uniforms:xn([An.common,An.bumpmap,An.normalmap,An.displacementmap,{opacity:{value:1}}]),vertexShader:bn.normal_vert,fragmentShader:bn.normal_frag},sprite:{uniforms:xn([An.sprite,An.fog]),vertexShader:bn.sprite_vert,fragmentShader:bn.sprite_frag},background:{uniforms:{uvTransform:{value:new nn},t2D:{value:null}},vertexShader:bn.background_vert,fragmentShader:bn.background_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:bn.cube_vert,fragmentShader:bn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:bn.equirect_vert,fragmentShader:bn.equirect_frag},distanceRGBA:{uniforms:xn([An.common,An.displacementmap,{referencePosition:{value:new tn},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:bn.distanceRGBA_vert,fragmentShader:bn.distanceRGBA_frag},shadow:{uniforms:xn([An.lights,An.fog,{color:{value:new In(0)},opacity:{value:1}}]),vertexShader:bn.shadow_vert,fragmentShader:bn.shadow_frag}};function kn(){var e=null,t=!1,n=null;function i(r,s){!1!==t&&(n(r,s),e.requestAnimationFrame(i))}return{start:function(){!0!==t&&null!==n&&(e.requestAnimationFrame(i),t=!0)},stop:function(){t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function Pn(e){var t=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),t.get(e)},remove:function(n){n.isInterleavedBufferAttribute&&(n=n.data);var i=t.get(n);i&&(e.deleteBuffer(i.buffer),t.delete(n))},update:function(n,i){n.isInterleavedBufferAttribute&&(n=n.data);var r=t.get(n);void 0===r?t.set(n,function(t,n){var i=t.array,r=t.dynamic?35048:35044,s=e.createBuffer();e.bindBuffer(n,s),e.bufferData(n,i,r),t.onUploadCallback();var o=5126;return i instanceof Float32Array?o=5126:i instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):i instanceof Uint16Array?o=5123:i instanceof Int16Array?o=5122:i instanceof Uint32Array?o=5125:i instanceof Int32Array?o=5124:i instanceof Int8Array?o=5120:i instanceof Uint8Array&&(o=5121),{buffer:s,type:o,bytesPerElement:i.BYTES_PER_ELEMENT,version:t.version}}(n,i)):r.version<n.version&&(function(t,n,i){var s=n.array,o=n.updateRange;e.bindBuffer(i,r.buffer),!1===n.dynamic?e.bufferData(i,s,35044):-1===o.count?e.bufferSubData(i,0,s):0===o.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(e.bufferSubData(i,o.offset*s.BYTES_PER_ELEMENT,s.subarray(o.offset,o.offset+o.count)),o.count=-1)}(0,n,i),r.version=n.version)}}}function Rn(e,t,n,i,r,s){this.a=e,this.b=t,this.c=n,this.normal=i&&i.isVector3?i:new tn,this.vertexNormals=Array.isArray(i)?i:[],this.color=r&&r.isColor?r:new In,this.vertexColors=Array.isArray(r)?r:[],this.materialIndex=void 0!==s?s:0}function Ln(e,t,n,i){this._x=e||0,this._y=t||0,this._z=n||0,this._order=i||Ln.DefaultOrder}function Nn(){this.mask=1}Dn.physical={uniforms:xn([Dn.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:bn.meshphysical_vert,fragmentShader:bn.meshphysical_frag},Object.assign(Rn.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(t=0,n=e.vertexColors.length;t<n;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}}),Ln.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],Ln.DefaultOrder="XYZ",Object.defineProperties(Ln.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e,this.onChangeCallback()}}}),Object.assign(Ln.prototype,{isEuler:!0,set:function(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._order=i||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this.onChangeCallback(),this},setFromRotationMatrix:function(e,t,n){var i=Xt.clamp,r=e.elements,s=r[0],o=r[4],a=r[8],l=r[1],u=r[5],c=r[9],h=r[2],d=r[6],p=r[10];return"XYZ"===(t=t||this._order)?(this._y=Math.asin(i(a,-1,1)),Math.abs(a)<.99999?(this._x=Math.atan2(-c,p),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(d,u),this._z=0)):"YXZ"===t?(this._x=Math.asin(-i(c,-1,1)),Math.abs(c)<.99999?(this._y=Math.atan2(a,p),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-h,s),this._z=0)):"ZXY"===t?(this._x=Math.asin(i(d,-1,1)),Math.abs(d)<.99999?(this._y=Math.atan2(-h,p),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,s))):"ZYX"===t?(this._y=Math.asin(-i(h,-1,1)),Math.abs(h)<.99999?(this._x=Math.atan2(d,p),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,u))):"YZX"===t?(this._z=Math.asin(i(l,-1,1)),Math.abs(l)<.99999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(a,p))):"XZY"===t?(this._z=Math.asin(-i(o,-1,1)),Math.abs(o)<.99999?(this._x=Math.atan2(d,u),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-c,p),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+t),this._order=t,!1!==n&&this.onChangeCallback(),this},setFromQuaternion:function(){var e=new Jt;return function(t,n,i){return e.makeRotationFromQuaternion(t),this.setFromRotationMatrix(e,n,i)}}(),setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:(On=new en,function(e){return On.setFromEuler(this),this.setFromQuaternion(On,e)}),equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new tn(this._x,this._y,this._z)},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}}),Object.assign(Nn.prototype,{set:function(e){this.mask=1<<e|0},enable:function(e){this.mask|=1<<e|0},toggle:function(e){this.mask^=1<<e|0},disable:function(e){this.mask&=~(1<<e|0)},test:function(e){return 0!=(this.mask&e.mask)}});var Fn,Vn,jn,Bn,zn=0;function Hn(){Object.defineProperty(this,"id",{value:zn++}),this.uuid=Xt.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Hn.DefaultUp.clone();var e=new tn,t=new Ln,n=new en,i=new tn(1,1,1);t.onChange(function(){n.setFromEuler(t,!1)}),n.onChange(function(){t.setFromQuaternion(n,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Jt},normalMatrix:{value:new nn}}),this.matrix=new Jt,this.matrixWorld=new Jt,this.matrixAutoUpdate=Hn.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Nn,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}Hn.DefaultUp=new tn(0,1,0),Hn.DefaultMatrixAutoUpdate=!0,Hn.prototype=Object.assign(Object.create(i.prototype),{constructor:Hn,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(e){this.matrix.multiplyMatrices(e,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:(Bn=new en,function(e,t){return Bn.setFromAxisAngle(e,t),this.quaternion.multiply(Bn),this}),rotateOnWorldAxis:function(){var e=new en;return function(t,n){return e.setFromAxisAngle(t,n),this.quaternion.premultiply(e),this}}(),rotateX:function(){var e=new tn(1,0,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateY:function(){var e=new tn(0,1,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateZ:function(){var e=new tn(0,0,1);return function(t){return this.rotateOnAxis(e,t)}}(),translateOnAxis:function(){var e=new tn;return function(t,n){return e.copy(t).applyQuaternion(this.quaternion),this.position.add(e.multiplyScalar(n)),this}}(),translateX:function(){var e=new tn(1,0,0);return function(t){return this.translateOnAxis(e,t)}}(),translateY:function(){var e=new tn(0,1,0);return function(t){return this.translateOnAxis(e,t)}}(),translateZ:function(){var e=new tn(0,0,1);return function(t){return this.translateOnAxis(e,t)}}(),localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:(jn=new Jt,function(e){return e.applyMatrix4(jn.getInverse(this.matrixWorld))}),lookAt:function(){var e=new en,t=new Jt,n=new tn,i=new tn;return function(r,s,o){r.isVector3?n.copy(r):n.set(r,s,o);var a=this.parent;this.updateWorldMatrix(!0,!1),i.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?t.lookAt(i,n,this.up):t.lookAt(n,i,this.up),this.quaternion.setFromRotationMatrix(t),a&&(t.extractRotation(a.matrixWorld),e.setFromRotationMatrix(t),this.quaternion.premultiply(e.inverse()))}}(),add:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,e.dispatchEvent({type:"added"}),this.children.push(e)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,e.dispatchEvent({type:"removed"}),this.children.splice(n,1)),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var n=0,i=this.children.length;n<i;n++){var r=this.children[n].getObjectByProperty(e,t);if(void 0!==r)return r}},getWorldPosition:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new tn),this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:(Fn=new tn,Vn=new tn,function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),e=new en),this.updateMatrixWorld(!0),this.matrixWorld.decompose(Fn,e,Vn),e}),getWorldScale:function(){var e=new tn,t=new en;return function(n){return void 0===n&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),n=new tn),this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,t,n),n}}(),getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new tn),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},raycast:function(){},traverse:function(e){e(this);for(var t=this.children,n=0,i=t.length;n<i;n++)t[n].traverse(e)},traverseVisible:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,i=t.length;n<i;n++)t[n].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,i=t.length;n<i;n++)t[n].updateMatrixWorld(e)},updateWorldMatrix:function(e,t){var n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var i=this.children,r=0,s=i.length;r<s;r++)i[r].updateWorldMatrix(!1,!0)},toJSON:function(e){var t=void 0===e||"string"==typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var i={};function r(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),!0===this.castShadow&&(i.castShadow=!0),!0===this.receiveShadow&&(i.receiveShadow=!0),!1===this.visible&&(i.visible=!1),!1===this.frustumCulled&&(i.frustumCulled=!1),0!==this.renderOrder&&(i.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(i.matrixAutoUpdate=!1),this.isMesh||this.isLine||this.isPoints){i.geometry=r(e.geometries,this.geometry);var s=this.geometry.parameters;if(void 0!==s&&void 0!==s.shapes){var o=s.shapes;if(Array.isArray(o))for(var a=0,l=o.length;a<l;a++)r(e.shapes,o[a]);else r(e.shapes,o)}}if(void 0!==this.material)if(Array.isArray(this.material)){var u=[];for(a=0,l=this.material.length;a<l;a++)u.push(r(e.materials,this.material[a]));i.material=u}else i.material=r(e.materials,this.material);if(this.children.length>0)for(i.children=[],a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object);if(t){var c=f(e.geometries),h=f(e.materials),d=f(e.textures),p=f(e.images);o=f(e.shapes),c.length>0&&(n.geometries=c),h.length>0&&(n.materials=h),d.length>0&&(n.textures=d),p.length>0&&(n.images=p),o.length>0&&(n.shapes=o)}return n.object=i,n;function f(e){var t=[];for(var n in e){var i=e[n];delete i.metadata,t.push(i)}return t}},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t){if(void 0===t&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++)this.add(e.children[n].clone());return this}});var Un,Gn,Wn=0;function $n(){Object.defineProperty(this,"id",{value:Wn+=2}),this.uuid=Xt.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function qn(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===n,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function Yn(e,t,n){qn.call(this,new Int8Array(e),t,n)}function Zn(e,t,n){qn.call(this,new Uint8Array(e),t,n)}function Kn(e,t,n){qn.call(this,new Uint8ClampedArray(e),t,n)}function Xn(e,t,n){qn.call(this,new Int16Array(e),t,n)}function Qn(e,t,n){qn.call(this,new Uint16Array(e),t,n)}function Jn(e,t,n){qn.call(this,new Int32Array(e),t,n)}function ei(e,t,n){qn.call(this,new Uint32Array(e),t,n)}function ti(e,t,n){qn.call(this,new Float32Array(e),t,n)}function ni(e,t,n){qn.call(this,new Float64Array(e),t,n)}function ii(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function ri(e){if(0===e.length)return-1/0;for(var t=e[0],n=1,i=e.length;n<i;++n)e[n]>t&&(t=e[n]);return t}$n.prototype=Object.assign(Object.create(i.prototype),{constructor:$n,isGeometry:!0,applyMatrix:function(e){for(var t=(new nn).getNormalMatrix(e),n=0,i=this.vertices.length;n<i;n++)this.vertices[n].applyMatrix4(e);for(n=0,i=this.faces.length;n<i;n++){var r=this.faces[n];r.normal.applyMatrix3(t).normalize();for(var s=0,o=r.vertexNormals.length;s<o;s++)r.vertexNormals[s].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var e=new Jt;return function(t){return e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e=new Jt;return function(t){return e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e=new Jt;return function(t){return e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e=new Jt;return function(t,n,i){return e.makeTranslation(t,n,i),this.applyMatrix(e),this}}(),scale:function(){var e=new Jt;return function(t,n,i){return e.makeScale(t,n,i),this.applyMatrix(e),this}}(),lookAt:(Gn=new Hn,function(e){Gn.lookAt(e),Gn.updateMatrix(),this.applyMatrix(Gn.matrix)}),fromBufferGeometry:function(e){var t=this,n=null!==e.index?e.index.array:void 0,i=e.attributes,r=i.position.array,s=void 0!==i.normal?i.normal.array:void 0,o=void 0!==i.color?i.color.array:void 0,a=void 0!==i.uv?i.uv.array:void 0,l=void 0!==i.uv2?i.uv2.array:void 0;void 0!==l&&(this.faceVertexUvs[1]=[]);for(var u=0,c=0;u<r.length;u+=3,c+=2)t.vertices.push((new tn).fromArray(r,u)),void 0!==o&&t.colors.push((new In).fromArray(o,u));function h(e,n,i,r){var u=void 0===o?[]:[t.colors[e].clone(),t.colors[n].clone(),t.colors[i].clone()],c=new Rn(e,n,i,void 0===s?[]:[(new tn).fromArray(s,3*e),(new tn).fromArray(s,3*n),(new tn).fromArray(s,3*i)],u,r);t.faces.push(c),void 0!==a&&t.faceVertexUvs[0].push([(new Qt).fromArray(a,2*e),(new Qt).fromArray(a,2*n),(new Qt).fromArray(a,2*i)]),void 0!==l&&t.faceVertexUvs[1].push([(new Qt).fromArray(l,2*e),(new Qt).fromArray(l,2*n),(new Qt).fromArray(l,2*i)])}var d=e.groups;if(d.length>0)for(u=0;u<d.length;u++)for(var p=d[u],f=p.start,g=(c=f,f+p.count);c<g;c+=3)void 0!==n?h(n[c],n[c+1],n[c+2],p.materialIndex):h(c,c+1,c+2,p.materialIndex);else if(void 0!==n)for(u=0;u<n.length;u+=3)h(n[u],n[u+1],n[u+2]);else for(u=0;u<r.length/3;u+=3)h(u,u+1,u+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:(Un=new tn,function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Un).negate(),this.translate(Un.x,Un.y,Un.z),this}),normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius,n=0===t?1:1/t,i=new Jt;return i.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1),this.applyMatrix(i),this},computeFaceNormals:function(){for(var e=new tn,t=new tn,n=0,i=this.faces.length;n<i;n++){var r=this.faces[n],s=this.vertices[r.a],o=this.vertices[r.b];e.subVectors(this.vertices[r.c],o),t.subVectors(s,o),e.cross(t),e.normalize(),r.normal.copy(e)}},computeVertexNormals:function(e){var t,n,i,r,s,o;for(void 0===e&&(e=!0),o=new Array(this.vertices.length),t=0,n=this.vertices.length;t<n;t++)o[t]=new tn;if(e){var a,l,u=new tn,c=new tn;for(i=0,r=this.faces.length;i<r;i++)a=this.vertices[(s=this.faces[i]).a],u.subVectors(this.vertices[s.c],l=this.vertices[s.b]),c.subVectors(a,l),u.cross(c),o[s.a].add(u),o[s.b].add(u),o[s.c].add(u)}else for(this.computeFaceNormals(),i=0,r=this.faces.length;i<r;i++)o[(s=this.faces[i]).a].add(s.normal),o[s.b].add(s.normal),o[s.c].add(s.normal);for(t=0,n=this.vertices.length;t<n;t++)o[t].normalize();for(i=0,r=this.faces.length;i<r;i++){var h=(s=this.faces[i]).vertexNormals;3===h.length?(h[0].copy(o[s.a]),h[1].copy(o[s.b]),h[2].copy(o[s.c])):(h[0]=o[s.a].clone(),h[1]=o[s.b].clone(),h[2]=o[s.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var e,t,n;for(this.computeFaceNormals(),e=0,t=this.faces.length;e<t;e++){var i=(n=this.faces[e]).vertexNormals;3===i.length?(i[0].copy(n.normal),i[1].copy(n.normal),i[2].copy(n.normal)):(i[0]=n.normal.clone(),i[1]=n.normal.clone(),i[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var e,t,n,i,r;for(n=0,i=this.faces.length;n<i;n++)for((r=this.faces[n]).__originalFaceNormal?r.__originalFaceNormal.copy(r.normal):r.__originalFaceNormal=r.normal.clone(),r.__originalVertexNormals||(r.__originalVertexNormals=[]),e=0,t=r.vertexNormals.length;e<t;e++)r.__originalVertexNormals[e]?r.__originalVertexNormals[e].copy(r.vertexNormals[e]):r.__originalVertexNormals[e]=r.vertexNormals[e].clone();var s=new $n;for(s.faces=this.faces,e=0,t=this.morphTargets.length;e<t;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];var o=this.morphNormals[e].faceNormals,a=this.morphNormals[e].vertexNormals;for(n=0,i=this.faces.length;n<i;n++)l=new tn,u={a:new tn,b:new tn,c:new tn},o.push(l),a.push(u)}var l,u,c=this.morphNormals[e];for(s.vertices=this.morphTargets[e].vertices,s.computeFaceNormals(),s.computeVertexNormals(),n=0,i=this.faces.length;n<i;n++)u=c.vertexNormals[n],(l=c.faceNormals[n]).copy((r=this.faces[n]).normal),u.a.copy(r.vertexNormals[0]),u.b.copy(r.vertexNormals[1]),u.c.copy(r.vertexNormals[2])}for(n=0,i=this.faces.length;n<i;n++)(r=this.faces[n]).normal=r.__originalFaceNormal,r.vertexNormals=r.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new mn),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new vn),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,n){if(e&&e.isGeometry){var i,r=this.vertices.length,s=this.vertices,o=e.vertices,a=this.faces,l=e.faces,u=this.faceVertexUvs[0],c=e.faceVertexUvs[0],h=this.colors,d=e.colors;void 0===n&&(n=0),void 0!==t&&(i=(new nn).getNormalMatrix(t));for(var p=0,f=o.length;p<f;p++){var g=o[p].clone();void 0!==t&&g.applyMatrix4(t),s.push(g)}for(p=0,f=d.length;p<f;p++)h.push(d[p].clone());for(p=0,f=l.length;p<f;p++){var m,v,y=l[p],_=y.vertexNormals,b=y.vertexColors;(m=new Rn(y.a+r,y.b+r,y.c+r)).normal.copy(y.normal),void 0!==i&&m.normal.applyMatrix3(i).normalize();for(var w=0,x=_.length;w<x;w++)v=_[w].clone(),void 0!==i&&v.applyMatrix3(i).normalize(),m.vertexNormals.push(v);for(m.color.copy(y.color),w=0,x=b.length;w<x;w++)m.vertexColors.push(b[w].clone());m.materialIndex=y.materialIndex+n,a.push(m)}for(p=0,f=c.length;p<f;p++){var C=c[p],S=[];if(void 0!==C){for(w=0,x=C.length;w<x;w++)S.push(C[w].clone());u.push(S)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e)},mergeMesh:function(e){e&&e.isMesh?(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e)},mergeVertices:function(){var e,t,n,i,r,s,o,a,l={},u=[],c=[],h=Math.pow(10,4);for(n=0,i=this.vertices.length;n<i;n++)e=this.vertices[n],void 0===l[t=Math.round(e.x*h)+"_"+Math.round(e.y*h)+"_"+Math.round(e.z*h)]?(l[t]=n,u.push(this.vertices[n]),c[n]=u.length-1):c[n]=c[l[t]];var d=[];for(n=0,i=this.faces.length;n<i;n++){(r=this.faces[n]).a=c[r.a],r.b=c[r.b],r.c=c[r.c],s=[r.a,r.b,r.c];for(var p=0;p<3;p++)if(s[p]===s[(p+1)%3]){d.push(n);break}}for(n=d.length-1;n>=0;n--){var f=d[n];for(this.faces.splice(f,1),o=0,a=this.faceVertexUvs.length;o<a;o++)this.faceVertexUvs[o].splice(f,1)}var g=this.vertices.length-u.length;return this.vertices=u,g},setFromPoints:function(e){this.vertices=[];for(var t=0,n=e.length;t<n;t++){var i=e[t];this.vertices.push(new tn(i.x,i.y,i.z||0))}return this},sortFacesByMaterialIndex:function(){for(var e=this.faces,t=e.length,n=0;n<t;n++)e[n]._id=n;e.sort(function(e,t){return e.materialIndex-t.materialIndex});var i,r,s=this.faceVertexUvs[0],o=this.faceVertexUvs[1];for(s&&s.length===t&&(i=[]),o&&o.length===t&&(r=[]),n=0;n<t;n++){var a=e[n]._id;i&&i.push(s[a]),r&&r.push(o[a])}i&&(this.faceVertexUvs[0]=i),r&&(this.faceVertexUvs[1]=r)},toJSON:function(){var e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}for(var i=[],r=0;r<this.vertices.length;r++){var s=this.vertices[r];i.push(s.x,s.y,s.z)}var o=[],a=[],l={},u=[],c={},h=[],d={};for(r=0;r<this.faces.length;r++){var p=this.faces[r],f=void 0!==this.faceVertexUvs[0][r],g=p.normal.length()>0,m=p.vertexNormals.length>0,v=1!==p.color.r||1!==p.color.g||1!==p.color.b,y=p.vertexColors.length>0,_=0;if(_=C(_,0,0),_=C(_,1,!0),_=C(_,2,!1),_=C(_,3,f),_=C(_,4,g),_=C(_,5,m),_=C(_,6,v),_=C(_,7,y),o.push(_),o.push(p.a,p.b,p.c),o.push(p.materialIndex),f){var b=this.faceVertexUvs[0][r];o.push(T(b[0]),T(b[1]),T(b[2]))}if(g&&o.push(S(p.normal)),m){var w=p.vertexNormals;o.push(S(w[0]),S(w[1]),S(w[2]))}if(v&&o.push(E(p.color)),y){var x=p.vertexColors;o.push(E(x[0]),E(x[1]),E(x[2]))}}function C(e,t,n){return n?e|1<<t:e&~(1<<t)}function S(e){var t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==l[t]?l[t]:(l[t]=a.length/3,a.push(e.x,e.y,e.z),l[t])}function E(e){var t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==c[t]?c[t]:(c[t]=u.length,u.push(e.getHex()),c[t])}function T(e){var t=e.x.toString()+e.y.toString();return void 0!==d[t]?d[t]:(d[t]=h.length/2,h.push(e.x,e.y),d[t])}return e.data={},e.data.vertices=i,e.data.normals=a,u.length>0&&(e.data.colors=u),h.length>0&&(e.data.uvs=[h]),e.data.faces=o,e},clone:function(){return(new $n).copy(this)},copy:function(e){var t,n,i,r,s,o;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var a=e.vertices;for(t=0,n=a.length;t<n;t++)this.vertices.push(a[t].clone());var l=e.colors;for(t=0,n=l.length;t<n;t++)this.colors.push(l[t].clone());var u=e.faces;for(t=0,n=u.length;t<n;t++)this.faces.push(u[t].clone());for(t=0,n=e.faceVertexUvs.length;t<n;t++){var c=e.faceVertexUvs[t];for(void 0===this.faceVertexUvs[t]&&(this.faceVertexUvs[t]=[]),i=0,r=c.length;i<r;i++){var h=c[i],d=[];for(s=0,o=h.length;s<o;s++)d.push(h[s].clone());this.faceVertexUvs[t].push(d)}}var p=e.morphTargets;for(t=0,n=p.length;t<n;t++){var f={};if(f.name=p[t].name,void 0!==p[t].vertices)for(f.vertices=[],i=0,r=p[t].vertices.length;i<r;i++)f.vertices.push(p[t].vertices[i].clone());if(void 0!==p[t].normals)for(f.normals=[],i=0,r=p[t].normals.length;i<r;i++)f.normals.push(p[t].normals[i].clone());this.morphTargets.push(f)}var g=e.morphNormals;for(t=0,n=g.length;t<n;t++){var m={};if(void 0!==g[t].vertexNormals)for(m.vertexNormals=[],i=0,r=g[t].vertexNormals.length;i<r;i++){var v=g[t].vertexNormals[i],y={};y.a=v.a.clone(),y.b=v.b.clone(),y.c=v.c.clone(),m.vertexNormals.push(y)}if(void 0!==g[t].faceNormals)for(m.faceNormals=[],i=0,r=g[t].faceNormals.length;i<r;i++)m.faceNormals.push(g[t].faceNormals[i].clone());this.morphNormals.push(m)}var _=e.skinWeights;for(t=0,n=_.length;t<n;t++)this.skinWeights.push(_[t].clone());var b=e.skinIndices;for(t=0,n=b.length;t<n;t++)this.skinIndices.push(b[t].clone());var w=e.lineDistances;for(t=0,n=w.length;t<n;t++)this.lineDistances.push(w[t]);var x=e.boundingBox;null!==x&&(this.boundingBox=x.clone());var C=e.boundingSphere;return null!==C&&(this.boundingSphere=C.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(qn.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(qn.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setArray:function(e){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==e?e.length/this.itemSize:0,this.array=e,this},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var i=0,r=this.itemSize;i<r;i++)this.array[e+i]=t.array[n+i];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,n=0,i=0,r=e.length;i<r;i++){var s=e[i];void 0===s&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),s=new In),t[n++]=s.r,t[n++]=s.g,t[n++]=s.b}return this},copyVector2sArray:function(e){for(var t=this.array,n=0,i=0,r=e.length;i<r;i++){var s=e[i];void 0===s&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),s=new Qt),t[n++]=s.x,t[n++]=s.y}return this},copyVector3sArray:function(e){for(var t=this.array,n=0,i=0,r=e.length;i<r;i++){var s=e[i];void 0===s&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),s=new tn),t[n++]=s.x,t[n++]=s.y,t[n++]=s.z}return this},copyVector4sArray:function(e){for(var t=this.array,n=0,i=0,r=e.length;i<r;i++){var s=e[i];void 0===s&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),s=new dn),t[n++]=s.x,t[n++]=s.y,t[n++]=s.z,t[n++]=s.w}return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return this.array[0+(e*=this.itemSize)]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,i){return this.array[0+(e*=this.itemSize)]=t,this.array[e+1]=n,this.array[e+2]=i,this},setXYZW:function(e,t,n,i,r){return this.array[0+(e*=this.itemSize)]=t,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=r,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}}),(Yn.prototype=Object.create(qn.prototype)).constructor=Yn,(Zn.prototype=Object.create(qn.prototype)).constructor=Zn,(Kn.prototype=Object.create(qn.prototype)).constructor=Kn,(Xn.prototype=Object.create(qn.prototype)).constructor=Xn,(Qn.prototype=Object.create(qn.prototype)).constructor=Qn,(Jn.prototype=Object.create(qn.prototype)).constructor=Jn,(ei.prototype=Object.create(qn.prototype)).constructor=ei,(ti.prototype=Object.create(qn.prototype)).constructor=ti,(ni.prototype=Object.create(qn.prototype)).constructor=ni,Object.assign(ii.prototype,{computeGroups:function(e){for(var t,n=[],i=void 0,r=e.faces,s=0;s<r.length;s++){var o=r[s];o.materialIndex!==i&&(i=o.materialIndex,void 0!==t&&(t.count=3*s-t.start,n.push(t)),t={start:3*s,materialIndex:i})}void 0!==t&&(t.count=3*s-t.start,n.push(t)),this.groups=n},fromGeometry:function(e){var t,n=e.faces,i=e.vertices,r=e.faceVertexUvs,s=r[0]&&r[0].length>0,o=r[1]&&r[1].length>0,a=e.morphTargets,l=a.length;if(l>0){t=[];for(var u=0;u<l;u++)t[u]={name:a[u].name,data:[]};this.morphTargets.position=t}var c,h=e.morphNormals,d=h.length;if(d>0){for(c=[],u=0;u<d;u++)c[u]={name:h[u].name,data:[]};this.morphTargets.normal=c}var p=e.skinIndices,f=e.skinWeights,g=p.length===i.length,m=f.length===i.length;for(i.length>0&&0===n.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported."),u=0;u<n.length;u++){var v=n[u];this.vertices.push(i[v.a],i[v.b],i[v.c]);var y=v.vertexNormals;if(3===y.length)this.normals.push(y[0],y[1],y[2]);else{var _=v.normal;this.normals.push(_,_,_)}var b,w=v.vertexColors;if(3===w.length)this.colors.push(w[0],w[1],w[2]);else{var x=v.color;this.colors.push(x,x,x)}!0===s&&(void 0!==(b=r[0][u])?this.uvs.push(b[0],b[1],b[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",u),this.uvs.push(new Qt,new Qt,new Qt))),!0===o&&(void 0!==(b=r[1][u])?this.uvs2.push(b[0],b[1],b[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",u),this.uvs2.push(new Qt,new Qt,new Qt)));for(var C=0;C<l;C++){var S=a[C].vertices;t[C].data.push(S[v.a],S[v.b],S[v.c])}for(C=0;C<d;C++){var E=h[C].vertexNormals[u];c[C].data.push(E.a,E.b,E.c)}g&&this.skinIndices.push(p[v.a],p[v.b],p[v.c]),m&&this.skinWeights.push(f[v.a],f[v.b],f[v.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this}});var si=1;function oi(){Object.defineProperty(this,"id",{value:si+=2}),this.uuid=Xt.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}function ai(e,t,n,i,r,s){$n.call(this),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:i,heightSegments:r,depthSegments:s},this.fromBufferGeometry(new li(e,t,n,i,r,s)),this.mergeVertices()}function li(e,t,n,i,r,s){oi.call(this),this.type="BoxBufferGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:i,heightSegments:r,depthSegments:s};var o=this;e=e||1,t=t||1,n=n||1,i=Math.floor(i)||1,r=Math.floor(r)||1,s=Math.floor(s)||1;var a=[],l=[],u=[],c=[],h=0,d=0;function p(e,t,n,i,r,s,p,f,g,m,v){var y,_,b=s/g,w=p/m,x=s/2,C=p/2,S=f/2,E=g+1,T=m+1,M=0,I=0,O=new tn;for(_=0;_<T;_++){var A=_*w-C;for(y=0;y<E;y++)O[e]=(y*b-x)*i,O[t]=A*r,O[n]=S,l.push(O.x,O.y,O.z),O[e]=0,O[t]=0,O[n]=f>0?1:-1,u.push(O.x,O.y,O.z),c.push(y/g),c.push(1-_/m),M+=1}for(_=0;_<m;_++)for(y=0;y<g;y++){var D=h+y+E*(_+1),k=h+(y+1)+E*(_+1),P=h+(y+1)+E*_;a.push(h+y+E*_,D,P),a.push(D,k,P),I+=6}o.addGroup(d,I,v),d+=I,h+=M}p("z","y","x",-1,-1,n,t,e,s,r,0),p("z","y","x",1,-1,n,t,-e,s,r,1),p("x","z","y",1,1,e,n,t,i,s,2),p("x","z","y",1,-1,e,n,-t,i,s,3),p("x","y","z",1,-1,e,t,n,i,r,4),p("x","y","z",-1,-1,e,t,-n,i,r,5),this.setIndex(a),this.addAttribute("position",new ti(l,3)),this.addAttribute("normal",new ti(u,3)),this.addAttribute("uv",new ti(c,2))}function ui(e,t,n,i){$n.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i},this.fromBufferGeometry(new ci(e,t,n,i)),this.mergeVertices()}function ci(e,t,n,i){oi.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i};var r,s,o=(e=e||1)/2,a=(t=t||1)/2,l=Math.floor(n)||1,u=Math.floor(i)||1,c=l+1,h=u+1,d=e/l,p=t/u,f=[],g=[],m=[],v=[];for(s=0;s<h;s++){var y=s*p-a;for(r=0;r<c;r++)g.push(r*d-o,-y,0),m.push(0,0,1),v.push(r/l),v.push(1-s/u)}for(s=0;s<u;s++)for(r=0;r<l;r++){var _=r+c*(s+1),b=r+1+c*(s+1),w=r+1+c*s;f.push(r+c*s,_,w),f.push(_,b,w)}this.setIndex(f),this.addAttribute("position",new ti(g,3)),this.addAttribute("normal",new ti(m,3)),this.addAttribute("uv",new ti(v,2))}oi.prototype=Object.assign(Object.create(i.prototype),{constructor:oi,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){this.index=Array.isArray(e)?new(ri(e)>65535?ei:Qn)(e,1):e},addAttribute:function(e,t){return t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):(this.attributes[e]=t,this):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.addAttribute(e,new qn(arguments[1],arguments[2])))},getAttribute:function(e){return this.attributes[e]},removeAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,n){this.groups.push({start:e,count:t,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix:function(e){var t=this.attributes.position;void 0!==t&&(e.applyToBufferAttribute(t),t.needsUpdate=!0);var n=this.attributes.normal;return void 0!==n&&((new nn).getNormalMatrix(e).applyToBufferAttribute(n),n.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var e=new Jt;return function(t){return e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e=new Jt;return function(t){return e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e=new Jt;return function(t){return e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e=new Jt;return function(t,n,i){return e.makeTranslation(t,n,i),this.applyMatrix(e),this}}(),scale:function(){var e=new Jt;return function(t,n,i){return e.makeScale(t,n,i),this.applyMatrix(e),this}}(),lookAt:function(){var e=new Hn;return function(t){e.lookAt(t),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),center:function(){var e=new tn;return function(){return this.computeBoundingBox(),this.boundingBox.getCenter(e).negate(),this.translate(e.x,e.y,e.z),this}}(),setFromObject:function(e){var t=e.geometry;if(e.isPoints||e.isLine){var n=new ti(3*t.vertices.length,3),i=new ti(3*t.colors.length,3);if(this.addAttribute("position",n.copyVector3sArray(t.vertices)),this.addAttribute("color",i.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){var r=new ti(t.lineDistances.length,1);this.addAttribute("lineDistance",r.copyArray(t.lineDistances))}null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){for(var t=[],n=0,i=e.length;n<i;n++){var r=e[n];t.push(r.x,r.y,r.z||0)}return this.addAttribute("position",new ti(t,3)),this},updateFromObject:function(e){var t,n=e.geometry;if(e.isMesh){var i=n.__directGeometry;if(!0===n.elementsNeedUpdate&&(i=void 0,n.elementsNeedUpdate=!1),void 0===i)return this.fromGeometry(n);i.verticesNeedUpdate=n.verticesNeedUpdate,i.normalsNeedUpdate=n.normalsNeedUpdate,i.colorsNeedUpdate=n.colorsNeedUpdate,i.uvsNeedUpdate=n.uvsNeedUpdate,i.groupsNeedUpdate=n.groupsNeedUpdate,n.verticesNeedUpdate=!1,n.normalsNeedUpdate=!1,n.colorsNeedUpdate=!1,n.uvsNeedUpdate=!1,n.groupsNeedUpdate=!1,n=i}return!0===n.verticesNeedUpdate&&(void 0!==(t=this.attributes.position)&&(t.copyVector3sArray(n.vertices),t.needsUpdate=!0),n.verticesNeedUpdate=!1),!0===n.normalsNeedUpdate&&(void 0!==(t=this.attributes.normal)&&(t.copyVector3sArray(n.normals),t.needsUpdate=!0),n.normalsNeedUpdate=!1),!0===n.colorsNeedUpdate&&(void 0!==(t=this.attributes.color)&&(t.copyColorsArray(n.colors),t.needsUpdate=!0),n.colorsNeedUpdate=!1),n.uvsNeedUpdate&&(void 0!==(t=this.attributes.uv)&&(t.copyVector2sArray(n.uvs),t.needsUpdate=!0),n.uvsNeedUpdate=!1),n.lineDistancesNeedUpdate&&(void 0!==(t=this.attributes.lineDistance)&&(t.copyArray(n.lineDistances),t.needsUpdate=!0),n.lineDistancesNeedUpdate=!1),n.groupsNeedUpdate&&(n.computeGroups(e.geometry),this.groups=n.groups,n.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new ii).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(3*e.vertices.length);if(this.addAttribute("position",new qn(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){var n=new Float32Array(3*e.normals.length);this.addAttribute("normal",new qn(n,3).copyVector3sArray(e.normals))}if(e.colors.length>0){var i=new Float32Array(3*e.colors.length);this.addAttribute("color",new qn(i,3).copyColorsArray(e.colors))}if(e.uvs.length>0){var r=new Float32Array(2*e.uvs.length);this.addAttribute("uv",new qn(r,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){var s=new Float32Array(2*e.uvs2.length);this.addAttribute("uv2",new qn(s,2).copyVector2sArray(e.uvs2))}for(var o in this.groups=e.groups,e.morphTargets){for(var a=[],l=e.morphTargets[o],u=0,c=l.length;u<c;u++){var h=l[u],d=new ti(3*h.data.length,3);d.name=h.name,a.push(d.copyVector3sArray(h.data))}this.morphAttributes[o]=a}if(e.skinIndices.length>0){var p=new ti(4*e.skinIndices.length,4);this.addAttribute("skinIndex",p.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){var f=new ti(4*e.skinWeights.length,4);this.addAttribute("skinWeight",f.copyVector4sArray(e.skinWeights))}return null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new mn);var e=this.attributes.position;void 0!==e?this.boundingBox.setFromBufferAttribute(e):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var e=new mn,t=new tn;return function(){null===this.boundingSphere&&(this.boundingSphere=new vn);var n=this.attributes.position;if(n){var i=this.boundingSphere.center;e.setFromBufferAttribute(n),e.getCenter(i);for(var r=0,s=0,o=n.count;s<o;s++)t.x=n.getX(s),t.y=n.getY(s),t.z=n.getZ(s),r=Math.max(r,i.distanceToSquared(t));this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.attributes;if(t.position){var n=t.position.array;if(void 0===t.normal)this.addAttribute("normal",new qn(new Float32Array(n.length),3));else for(var i=t.normal.array,r=0,s=i.length;r<s;r++)i[r]=0;var o,a,l,u=t.normal.array,c=new tn,h=new tn,d=new tn,p=new tn,f=new tn;if(e){var g=e.array;for(r=0,s=e.count;r<s;r+=3)a=3*g[r+1],l=3*g[r+2],c.fromArray(n,o=3*g[r+0]),h.fromArray(n,a),d.fromArray(n,l),p.subVectors(d,h),f.subVectors(c,h),p.cross(f),u[o]+=p.x,u[o+1]+=p.y,u[o+2]+=p.z,u[a]+=p.x,u[a+1]+=p.y,u[a+2]+=p.z,u[l]+=p.x,u[l+1]+=p.y,u[l+2]+=p.z}else for(r=0,s=n.length;r<s;r+=9)c.fromArray(n,r),h.fromArray(n,r+3),d.fromArray(n,r+6),p.subVectors(d,h),f.subVectors(c,h),p.cross(f),u[r]=p.x,u[r+1]=p.y,u[r+2]=p.z,u[r+3]=p.x,u[r+4]=p.y,u[r+5]=p.z,u[r+6]=p.x,u[r+7]=p.y,u[r+8]=p.z;this.normalizeNormals(),t.normal.needsUpdate=!0}},merge:function(e,t){if(e&&e.isBufferGeometry){void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var n=this.attributes;for(var i in n)if(void 0!==e.attributes[i])for(var r=n[i].array,s=e.attributes[i],o=s.array,a=0,l=s.itemSize*t;a<o.length;a++,l++)r[l]=o[a];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e)},normalizeNormals:function(){var e=new tn;return function(){for(var t=this.attributes.normal,n=0,i=t.count;n<i;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.normalize(),t.setXYZ(n,e.x,e.y,e.z)}}(),toNonIndexed:function(){if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var e=new oi,t=this.index.array,n=this.attributes;for(var i in n){for(var r=n[i],s=r.array,o=r.itemSize,a=new s.constructor(t.length*o),l=0,u=0,c=0,h=t.length;c<h;c++){l=t[c]*o;for(var d=0;d<o;d++)a[u++]=s[l++]}e.addAttribute(i,new qn(a,o))}var p=this.groups;for(c=0,h=p.length;c<h;c++){var f=p[c];e.addGroup(f.start,f.count,f.materialIndex)}return e},toJSON:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var i=this.index;if(null!==i){var r=Array.prototype.slice.call(i.array);e.data.index={type:i.array.constructor.name,array:r}}var s=this.attributes;for(var n in s){var o=s[n];r=Array.prototype.slice.call(o.array),e.data.attributes[n]={itemSize:o.itemSize,type:o.array.constructor.name,array:r,normalized:o.normalized}}var a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));var l=this.boundingSphere;return null!==l&&(e.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),e},clone:function(){return(new oi).copy(this)},copy:function(e){var t,n,i;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var r=e.index;null!==r&&this.setIndex(r.clone());var s=e.attributes;for(t in s)this.addAttribute(t,s[t].clone());var o=e.morphAttributes;for(t in o){var a=[],l=o[t];for(n=0,i=l.length;n<i;n++)a.push(l[n].clone());this.morphAttributes[t]=a}var u=e.groups;for(n=0,i=u.length;n<i;n++){var c=u[n];this.addGroup(c.start,c.count,c.materialIndex)}var h=e.boundingBox;null!==h&&(this.boundingBox=h.clone());var d=e.boundingSphere;return null!==d&&(this.boundingSphere=d.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),(ai.prototype=Object.create($n.prototype)).constructor=ai,(li.prototype=Object.create(oi.prototype)).constructor=li,(ui.prototype=Object.create($n.prototype)).constructor=ui,(ci.prototype=Object.create(oi.prototype)).constructor=ci;var hi,di,pi,fi,gi,mi,vi,yi,_i,bi,wi,xi,Ci=0;function Si(){Object.defineProperty(this,"id",{value:Ci++}),this.uuid=Xt.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=N,this.side=M,this.flatShading=!1,this.vertexColors=k,this.opacity=1,this.transparent=!1,this.blendSrc=K,this.blendDst=X,this.blendEquation=z,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=oe,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.userData={},this.needsUpdate=!0}function Ei(e){Si.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}function Ti(e,t){this.origin=void 0!==e?e:new tn,this.direction=void 0!==t?t:new tn}function Mi(e,t,n){this.a=void 0!==e?e:new tn,this.b=void 0!==t?t:new tn,this.c=void 0!==n?n:new tn}function Ii(e){Si.call(this),this.type="MeshBasicMaterial",this.color=new In(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=he,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(e)}function Oi(e,t){Hn.call(this),this.type="Mesh",this.geometry=void 0!==e?e:new oi,this.material=void 0!==t?t:new Ii({color:16777215*Math.random()}),this.drawMode=Nt,this.updateMorphTargets()}function Ai(e,t,n,i){var r,s,o=new In(0),a=0,l=null,u=0;function c(e,n){t.buffers.color.setClear(e.r,e.g,e.b,n,i)}return{getClearColor:function(){return o},setClearColor:function(e,t){o.set(e),c(o,a=void 0!==t?t:1)},getClearAlpha:function(){return a},setClearAlpha:function(e){c(o,a=e)},render:function(t,i,h,d){var p=i.background;if(null===p?(c(o,a),l=null,u=0):p&&p.isColor&&(c(p,1),d=!0,l=null,u=0),(e.autoClear||d)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),p&&(p.isCubeTexture||p.isWebGLRenderTargetCube)){void 0===s&&((s=new Oi(new li(1,1,1),new Ei({type:"BackgroundCubeMaterial",uniforms:wn(Dn.cube.uniforms),vertexShader:Dn.cube.vertexShader,fragmentShader:Dn.cube.fragmentShader,side:I,depthTest:!0,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),s.geometry.removeAttribute("uv"),s.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(s.material,"map",{get:function(){return this.uniforms.tCube.value}}),n.update(s));var f=p.isWebGLRenderTargetCube?p.texture:p;s.material.uniforms.tCube.value=f,s.material.uniforms.tFlip.value=p.isWebGLRenderTargetCube?1:-1,l===p&&u===f.version||(s.material.needsUpdate=!0,l=p,u=f.version),t.unshift(s,s.geometry,s.material,0,null)}else p&&p.isTexture&&(void 0===r&&((r=new Oi(new ci(2,2),new Ei({type:"BackgroundMaterial",uniforms:wn(Dn.background.uniforms),vertexShader:Dn.background.vertexShader,fragmentShader:Dn.background.fragmentShader,side:M,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),Object.defineProperty(r.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(r)),r.material.uniforms.t2D.value=p,!0===p.matrixAutoUpdate&&p.updateMatrix(),r.material.uniforms.uvTransform.value.copy(p.matrix),l===p&&u===p.version||(r.material.needsUpdate=!0,l=p,u=p.version),t.unshift(r,r.geometry,r.material,0,null))}}}function Di(e,t,n,i){var r;this.setMode=function(e){r=e},this.render=function(t,i){e.drawArrays(r,t,i),n.update(i,r)},this.renderInstances=function(s,o,a){var l;if(i.isWebGL2)l=e;else if(null===(l=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[i.isWebGL2?"drawArraysInstanced":"drawArraysInstancedANGLE"](r,o,a,s.maxInstancedCount),n.update(a,r,s.maxInstancedCount)}}function ki(e,t,n){var i;function r(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var s="undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext,o=void 0!==n.precision?n.precision:"highp",a=r(o);a!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",a,"instead."),o=a);var l=!0===n.logarithmicDepthBuffer,u=e.getParameter(34930),c=e.getParameter(35660),h=e.getParameter(3379),d=e.getParameter(34076),p=e.getParameter(34921),f=e.getParameter(36347),g=e.getParameter(36348),m=e.getParameter(36349),v=c>0,y=s||!!t.get("OES_texture_float");return{isWebGL2:s,getMaxAnisotropy:function(){if(void 0!==i)return i;var n=t.get("EXT_texture_filter_anisotropic");return i=null!==n?e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:r,precision:o,logarithmicDepthBuffer:l,maxTextures:u,maxVertexTextures:c,maxTextureSize:h,maxCubemapSize:d,maxAttributes:p,maxVertexUniforms:f,maxVaryings:g,maxFragmentUniforms:m,vertexTextures:v,floatFragmentTextures:y,floatVertexTextures:v&&y}}function Pi(){var e=this,t=null,n=0,i=!1,r=!1,s=new yn,o=new nn,a={value:null,needsUpdate:!1};function l(){a.value!==t&&(a.value=t,a.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function u(t,n,i,r){var l=null!==t?t.length:0,u=null;if(0!==l){if(u=a.value,!0!==r||null===u){var c=i+4*l,h=n.matrixWorldInverse;o.getNormalMatrix(h),(null===u||u.length<c)&&(u=new Float32Array(c));for(var d=0,p=i;d!==l;++d,p+=4)s.copy(t[d]).applyMatrix4(h,o),s.normal.toArray(u,p),u[p+3]=s.constant}a.value=u,a.needsUpdate=!0}return e.numPlanes=l,u}this.uniform=a,this.numPlanes=0,this.numIntersection=0,this.init=function(e,r,s){var o=0!==e.length||r||0!==n||i;return i=r,t=u(e,s,0),n=e.length,o},this.beginShadows=function(){r=!0,u(null)},this.endShadows=function(){r=!1,l()},this.setState=function(e,s,o,c,h,d){if(!i||null===e||0===e.length||r&&!o)r?u(null):l();else{var p=r?0:n,f=4*p,g=h.clippingState||null;a.value=g,g=u(e,c,f,d);for(var m=0;m!==f;++m)g[m]=t[m];h.clippingState=g,this.numIntersection=s?this.numPlanes:0,this.numPlanes+=p}}}function Ri(e){var t={};return{get:function(n){if(void 0!==t[n])return t[n];var i;switch(n){case"WEBGL_depth_texture":i=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=e.getExtension(n)}return null===i&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),t[n]=i,i}}}function Li(e,t,n){var i={},r={};function s(e){var o=e.target,a=i[o.id];for(var l in null!==a.index&&t.remove(a.index),a.attributes)t.remove(a.attributes[l]);o.removeEventListener("dispose",s),delete i[o.id];var u=r[a.id];u&&(t.remove(u),delete r[a.id]),n.memory.geometries--}return{get:function(e,t){var r=i[t.id];return r||(t.addEventListener("dispose",s),t.isBufferGeometry?r=t:t.isGeometry&&(void 0===t._bufferGeometry&&(t._bufferGeometry=(new oi).setFromObject(e)),r=t._bufferGeometry),i[t.id]=r,n.memory.geometries++,r)},update:function(e){var n=e.index,i=e.attributes;for(var r in null!==n&&t.update(n,34963),i)t.update(i[r],34962);var s=e.morphAttributes;for(var r in s)for(var o=s[r],a=0,l=o.length;a<l;a++)t.update(o[a],34962)},getWireframeAttribute:function(e){var n=r[e.id];if(n)return n;var i,s=[],o=e.index,a=e.attributes;if(null!==o)for(var l=0,u=(i=o.array).length;l<u;l+=3)s.push(c=i[l+0],h=i[l+1],h,d=i[l+2],d,c);else for(l=0,u=(i=a.position.array).length/3-1;l<u;l+=3){var c,h,d;s.push(c=l+0,h=l+1,h,d=l+2,d,c)}return n=new(ri(s)>65535?ei:Qn)(s,1),t.update(n,34963),r[e.id]=n,n}}}function Ni(e,t,n,i){var r,s,o;this.setMode=function(e){r=e},this.setIndex=function(e){s=e.type,o=e.bytesPerElement},this.render=function(t,i){e.drawElements(r,i,s,t*o),n.update(i,r)},this.renderInstances=function(a,l,u){var c;if(i.isWebGL2)c=e;else if(null===(c=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");c[i.isWebGL2?"drawElementsInstanced":"drawElementsInstancedANGLE"](r,u,s,l*o,a.maxInstancedCount),n.update(u,r,a.maxInstancedCount)}}function Fi(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,n,i){switch(i=i||1,t.calls++,n){case 4:t.triangles+=i*(e/3);break;case 5:case 6:t.triangles+=i*(e-2);break;case 1:t.lines+=i*(e/2);break;case 3:t.lines+=i*(e-1);break;case 2:t.lines+=i*e;break;case 0:t.points+=i*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function Vi(e,t){return Math.abs(t[1])-Math.abs(e[1])}function ji(e){var t={},n=new Float32Array(8);return{update:function(i,r,s,o){var a=i.morphTargetInfluences,l=a.length,u=t[r.id];if(void 0===u){u=[];for(var c=0;c<l;c++)u[c]=[c,0];t[r.id]=u}var h=s.morphTargets&&r.morphAttributes.position,d=s.morphNormals&&r.morphAttributes.normal;for(c=0;c<l;c++)0!==(p=u[c])[1]&&(h&&r.removeAttribute("morphTarget"+c),d&&r.removeAttribute("morphNormal"+c));for(c=0;c<l;c++)(p=u[c])[0]=c,p[1]=a[c];for(u.sort(Vi),c=0;c<8;c++){var p;if(p=u[c]){var f=p[0],g=p[1];if(g){h&&r.addAttribute("morphTarget"+c,h[f]),d&&r.addAttribute("morphNormal"+c,d[f]),n[c]=g;continue}}n[c]=0}o.getUniforms().setValue(e,"morphTargetInfluences",n)}}}function Bi(e,t){var n={};return{update:function(i){var r=t.render.frame,s=i.geometry,o=e.get(i,s);return n[o.id]!==r&&(s.isGeometry&&o.updateFromObject(i),e.update(o),n[o.id]=r),o},dispose:function(){n={}}}}function zi(e,t,n,i,r,s,o,a,l,u){hn.call(this,e=void 0!==e?e:[],t=void 0!==t?t:we,n,i,r,s,o,a,l,u),this.flipY=!1}function Hi(e,t,n,i){hn.call(this,null),this.image={data:e,width:t,height:n,depth:i},this.magFilter=De,this.minFilter=De,this.generateMipmaps=!1,this.flipY=!1}Si.prototype=Object.assign(Object.create(i.prototype),{constructor:Si,isMaterial:!0,onBeforeCompile:function(){},setValues:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n)if("shading"!==t){var i=this[t];void 0!==i?i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[t]=n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===A;else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}},toJSON:function(e){var t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function i(e){var t=[];for(var n in e){var i=e[n];delete i.metadata,t.push(i)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearCoat&&(n.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(n.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,n.reflectivity=this.reflectivity,void 0!==this.combine&&(n.combine=this.combine),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==N&&(n.blending=this.blending),!0===this.flatShading&&(n.flatShading=this.flatShading),this.side!==M&&(n.side=this.side),this.vertexColors!==k&&(n.vertexColors=this.vertexColors),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(n.morphTargets=!0),!0===this.skinning&&(n.skinning=!0),!1===this.visible&&(n.visible=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t){var r=i(e.textures),s=i(e.images);r.length>0&&(n.textures=r),s.length>0&&(n.images=s)}return n},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.lights=e.lights,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.userData=JSON.parse(JSON.stringify(e.userData)),this.clipShadows=e.clipShadows,this.clipIntersection=e.clipIntersection;var t=e.clippingPlanes,n=null;if(null!==t){var i=t.length;n=new Array(i);for(var r=0;r!==i;++r)n[r]=t[r].clone()}return this.clippingPlanes=n,this.shadowSide=e.shadowSide,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),(Ei.prototype=Object.create(Si.prototype)).constructor=Ei,Ei.prototype.isShaderMaterial=!0,Ei.prototype.copy=function(e){return Si.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=wn(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=e.extensions,this},Ei.prototype.toJSON=function(e){var t=Si.prototype.toJSON.call(this,e);for(var n in t.uniforms={},this.uniforms){var i=this.uniforms[n].value;t.uniforms[n]=i&&i.isTexture?{type:"t",value:i.toJSON(e).uuid}:i&&i.isColor?{type:"c",value:i.getHex()}:i&&i.isVector2?{type:"v2",value:i.toArray()}:i&&i.isVector3?{type:"v3",value:i.toArray()}:i&&i.isVector4?{type:"v4",value:i.toArray()}:i&&i.isMatrix4?{type:"m4",value:i.toArray()}:{value:i}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;var r={};for(var s in this.extensions)!0===this.extensions[s]&&(r[s]=!0);return Object.keys(r).length>0&&(t.extensions=r),t},Object.assign(Ti.prototype,{set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return void 0===t&&(console.warn("THREE.Ray: .at() target is now required"),t=new tn),t.copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(){var e=new tn;return function(t){return this.origin.copy(this.at(t,e)),this}}(),closestPointToPoint:function(e,t){void 0===t&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),t=new tn),t.subVectors(e,this.origin);var n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(){var e=new tn;return function(t){var n=e.subVectors(t,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(t):(e.copy(this.direction).multiplyScalar(n).add(this.origin),e.distanceToSquared(t))}}(),distanceSqToSegment:(di=new tn,pi=new tn,fi=new tn,function(e,t,n,i){di.copy(e).add(t).multiplyScalar(.5),pi.copy(t).sub(e).normalize(),fi.copy(this.origin).sub(di);var r,s,o,a,l=.5*e.distanceTo(t),u=-this.direction.dot(pi),c=fi.dot(this.direction),h=-fi.dot(pi),d=fi.lengthSq(),p=Math.abs(1-u*u);if(p>0)if(s=u*c-h,a=l*p,(r=u*h-c)>=0)if(s>=-a)if(s<=a){var f=1/p;o=(r*=f)*(r+u*(s*=f)+2*c)+s*(u*r+s+2*h)+d}else s=l,o=-(r=Math.max(0,-(u*s+c)))*r+s*(s+2*h)+d;else s=-l,o=-(r=Math.max(0,-(u*s+c)))*r+s*(s+2*h)+d;else s<=-a?o=-(r=Math.max(0,-(-u*l+c)))*r+(s=r>0?-l:Math.min(Math.max(-l,-h),l))*(s+2*h)+d:s<=a?(r=0,o=(s=Math.min(Math.max(-l,-h),l))*(s+2*h)+d):o=-(r=Math.max(0,-(u*l+c)))*r+(s=r>0?l:Math.min(Math.max(-l,-h),l))*(s+2*h)+d;else s=u>0?-l:l,o=-(r=Math.max(0,-(u*s+c)))*r+s*(s+2*h)+d;return n&&n.copy(this.direction).multiplyScalar(r).add(this.origin),i&&i.copy(pi).multiplyScalar(s).add(di),o}),intersectSphere:function(){var e=new tn;return function(t,n){e.subVectors(t.center,this.origin);var i=e.dot(this.direction),r=e.dot(e)-i*i,s=t.radius*t.radius;if(r>s)return null;var o=Math.sqrt(s-r),a=i-o,l=i+o;return a<0&&l<0?null:this.at(a<0?l:a,n)}}(),intersectsSphere:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius},distanceToPlane:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null},intersectPlane:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)},intersectsPlane:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0},intersectBox:function(e,t){var n,i,r,s,o,a,l=1/this.direction.x,u=1/this.direction.y,c=1/this.direction.z,h=this.origin;return l>=0?(n=(e.min.x-h.x)*l,i=(e.max.x-h.x)*l):(n=(e.max.x-h.x)*l,i=(e.min.x-h.x)*l),u>=0?(r=(e.min.y-h.y)*u,s=(e.max.y-h.y)*u):(r=(e.max.y-h.y)*u,s=(e.min.y-h.y)*u),n>s||r>i?null:((r>n||n!=n)&&(n=r),(s<i||i!=i)&&(i=s),c>=0?(o=(e.min.z-h.z)*c,a=(e.max.z-h.z)*c):(o=(e.max.z-h.z)*c,a=(e.min.z-h.z)*c),n>a||o>i?null:((o>n||n!=n)&&(n=o),(a<i||i!=i)&&(i=a),i<0?null:this.at(n>=0?n:i,t)))},intersectsBox:(hi=new tn,function(e){return null!==this.intersectBox(e,hi)}),intersectTriangle:function(){var e=new tn,t=new tn,n=new tn,i=new tn;return function(r,s,o,a,l){t.subVectors(s,r),n.subVectors(o,r),i.crossVectors(t,n);var u,c=this.direction.dot(i);if(c>0){if(a)return null;u=1}else{if(!(c<0))return null;u=-1,c=-c}e.subVectors(this.origin,r);var h=u*this.direction.dot(n.crossVectors(e,n));if(h<0)return null;var d=u*this.direction.dot(t.cross(e));if(d<0)return null;if(h+d>c)return null;var p=-u*e.dot(i);return p<0?null:this.at(p/c,l)}}(),applyMatrix4:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}}),Object.assign(Mi,{getNormal:(mi=new tn,function(e,t,n,i){void 0===i&&(console.warn("THREE.Triangle: .getNormal() target is now required"),i=new tn),i.subVectors(n,t),mi.subVectors(e,t),i.cross(mi);var r=i.lengthSq();return r>0?i.multiplyScalar(1/Math.sqrt(r)):i.set(0,0,0)}),getBarycoord:function(){var e=new tn,t=new tn,n=new tn;return function(i,r,s,o,a){e.subVectors(o,r),t.subVectors(s,r),n.subVectors(i,r);var l=e.dot(e),u=e.dot(t),c=e.dot(n),h=t.dot(t),d=t.dot(n),p=l*h-u*u;if(void 0===a&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),a=new tn),0===p)return a.set(-2,-1,-1);var f=1/p,g=(h*c-u*d)*f,m=(l*d-u*c)*f;return a.set(1-g-m,m,g)}}(),containsPoint:function(){var e=new tn;return function(t,n,i,r){return Mi.getBarycoord(t,n,i,r,e),e.x>=0&&e.y>=0&&e.x+e.y<=1}}(),getUV:(gi=new tn,function(e,t,n,i,r,s,o,a){return this.getBarycoord(e,t,n,i,gi),a.set(0,0),a.addScaledVector(r,gi.x),a.addScaledVector(s,gi.y),a.addScaledVector(o,gi.z),a})}),Object.assign(Mi.prototype,{set:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this},setFromPointsAndIndices:function(e,t,n,i){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[i]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},getArea:function(){var e=new tn,t=new tn;return function(){return e.subVectors(this.c,this.b),t.subVectors(this.a,this.b),.5*e.cross(t).length()}}(),getMidpoint:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new tn),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(e){return Mi.getNormal(this.a,this.b,this.c,e)},getPlane:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new tn),e.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(e,t){return Mi.getBarycoord(e,this.a,this.b,this.c,t)},containsPoint:function(e){return Mi.containsPoint(e,this.a,this.b,this.c)},getUV:function(e,t,n,i,r){return Mi.getUV(e,this.a,this.b,this.c,t,n,i,r)},intersectsBox:function(e){return e.intersectsTriangle(this)},closestPointToPoint:(vi=new tn,yi=new tn,_i=new tn,bi=new tn,wi=new tn,xi=new tn,function(e,t){void 0===t&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),t=new tn);var n,i,r=this.a,s=this.b,o=this.c;vi.subVectors(s,r),yi.subVectors(o,r),bi.subVectors(e,r);var a=vi.dot(bi),l=yi.dot(bi);if(a<=0&&l<=0)return t.copy(r);wi.subVectors(e,s);var u=vi.dot(wi),c=yi.dot(wi);if(u>=0&&c<=u)return t.copy(s);var h=a*c-u*l;if(h<=0&&a>=0&&u<=0)return n=a/(a-u),t.copy(r).addScaledVector(vi,n);xi.subVectors(e,o);var d=vi.dot(xi),p=yi.dot(xi);if(p>=0&&d<=p)return t.copy(o);var f=d*l-a*p;if(f<=0&&l>=0&&p<=0)return i=l/(l-p),t.copy(r).addScaledVector(yi,i);var g=u*p-d*c;if(g<=0&&c-u>=0&&d-p>=0)return _i.subVectors(o,s),i=(c-u)/(c-u+(d-p)),t.copy(s).addScaledVector(_i,i);var m=1/(g+f+h);return n=f*m,i=h*m,t.copy(r).addScaledVector(vi,n).addScaledVector(yi,i)}),equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}),(Ii.prototype=Object.create(Si.prototype)).constructor=Ii,Ii.prototype.isMeshBasicMaterial=!0,Ii.prototype.copy=function(e){return Si.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this},Oi.prototype=Object.assign(Object.create(Hn.prototype),{constructor:Oi,isMesh:!0,setDrawMode:function(e){this.drawMode=e},copy:function(e){return Hn.prototype.copy.call(this,e),this.drawMode=e.drawMode,void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this},updateMorphTargets:function(){var e,t,n,i=this.geometry;if(i.isBufferGeometry){var r=i.morphAttributes,s=Object.keys(r);if(s.length>0){var o=r[s[0]];if(void 0!==o)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=o.length;e<t;e++)n=o[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}else{var a=i.morphTargets;void 0!==a&&a.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(){var e=new Jt,t=new Ti,n=new vn,i=new tn,r=new tn,s=new tn,o=new tn,a=new tn,l=new tn,u=new Qt,c=new Qt,h=new Qt,d=new tn,p=new tn;function f(e,t,n,i,r,s,o,a){if(null===(t.side===I?i.intersectTriangle(o,s,r,!0,a):i.intersectTriangle(r,s,o,t.side!==O,a)))return null;p.copy(a),p.applyMatrix4(e.matrixWorld);var l=n.ray.origin.distanceTo(p);return l<n.near||l>n.far?null:{distance:l,point:p.clone(),object:e}}function g(e,t,n,o,a,l,p,g,m){i.fromBufferAttribute(a,p),r.fromBufferAttribute(a,g),s.fromBufferAttribute(a,m);var v=f(e,t,n,o,i,r,s,d);if(v){l&&(u.fromBufferAttribute(l,p),c.fromBufferAttribute(l,g),h.fromBufferAttribute(l,m),v.uv=Mi.getUV(d,i,r,s,u,c,h,new Qt));var y=new Rn(p,g,m);Mi.getNormal(i,r,s,y.normal),v.face=y}return v}return function(p,m){var v,y=this.geometry,_=this.material,b=this.matrixWorld;if(void 0!==_&&(null===y.boundingSphere&&y.computeBoundingSphere(),n.copy(y.boundingSphere),n.applyMatrix4(b),!1!==p.ray.intersectsSphere(n)&&(e.getInverse(b),t.copy(p.ray).applyMatrix4(e),null===y.boundingBox||!1!==t.intersectsBox(y.boundingBox))))if(y.isBufferGeometry){var w,x,C,S,E,T,M,I,O,A=y.index,D=y.attributes.position,k=y.attributes.uv,P=y.groups,R=y.drawRange;if(null!==A)if(Array.isArray(_))for(S=0,T=P.length;S<T;S++)for(O=_[(I=P[S]).materialIndex],E=Math.max(I.start,R.start),M=Math.min(I.start+I.count,R.start+R.count);E<M;E+=3)w=A.getX(E),x=A.getX(E+1),C=A.getX(E+2),(v=g(this,O,p,t,D,k,w,x,C))&&(v.faceIndex=Math.floor(E/3),m.push(v));else for(S=Math.max(0,R.start),T=Math.min(A.count,R.start+R.count);S<T;S+=3)w=A.getX(S),x=A.getX(S+1),C=A.getX(S+2),(v=g(this,_,p,t,D,k,w,x,C))&&(v.faceIndex=Math.floor(S/3),m.push(v));else if(void 0!==D)if(Array.isArray(_))for(S=0,T=P.length;S<T;S++)for(O=_[(I=P[S]).materialIndex],E=Math.max(I.start,R.start),M=Math.min(I.start+I.count,R.start+R.count);E<M;E+=3)(v=g(this,O,p,t,D,k,w=E,x=E+1,C=E+2))&&(v.faceIndex=Math.floor(E/3),m.push(v));else for(S=Math.max(0,R.start),T=Math.min(D.count,R.start+R.count);S<T;S+=3)(v=g(this,_,p,t,D,k,w=S,x=S+1,C=S+2))&&(v.faceIndex=Math.floor(S/3),m.push(v))}else if(y.isGeometry){var L,N,F,V,j=Array.isArray(_),B=y.vertices,z=y.faces,H=y.faceVertexUvs[0];H.length>0&&(V=H);for(var U=0,G=z.length;U<G;U++){var W=z[U],$=j?_[W.materialIndex]:_;if(void 0!==$){if(L=B[W.a],N=B[W.b],F=B[W.c],!0===$.morphTargets){var q=y.morphTargets,Y=this.morphTargetInfluences;i.set(0,0,0),r.set(0,0,0),s.set(0,0,0);for(var Z=0,K=q.length;Z<K;Z++){var X=Y[Z];if(0!==X){var Q=q[Z].vertices;i.addScaledVector(o.subVectors(Q[W.a],L),X),r.addScaledVector(a.subVectors(Q[W.b],N),X),s.addScaledVector(l.subVectors(Q[W.c],F),X)}}i.add(L),r.add(N),s.add(F),L=i,N=r,F=s}if(v=f(this,$,p,t,L,N,F,d)){if(V&&V[U]){var J=V[U];u.copy(J[0]),c.copy(J[1]),h.copy(J[2]),v.uv=Mi.getUV(d,L,N,F,u,c,h,new Qt)}v.face=W,v.faceIndex=U,m.push(v)}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),(zi.prototype=Object.create(hn.prototype)).constructor=zi,zi.prototype.isCubeTexture=!0,Object.defineProperty(zi.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}}),(Hi.prototype=Object.create(hn.prototype)).constructor=Hi,Hi.prototype.isDataTexture3D=!0;var Ui=new hn,Gi=new Hi,Wi=new zi;function $i(){this.seq=[],this.map={}}var qi=[],Yi=[],Zi=new Float32Array(16),Ki=new Float32Array(9),Xi=new Float32Array(4);function Qi(e,t,n){var i=e[0];if(i<=0||i>0)return e;var r=t*n,s=qi[r];if(void 0===s&&(s=new Float32Array(r),qi[r]=s),0!==t){i.toArray(s,0);for(var o=1,a=0;o!==t;++o)e[o].toArray(s,a+=n)}return s}function Ji(e,t){if(e.length!==t.length)return!1;for(var n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0}function er(e,t){for(var n=0,i=t.length;n<i;n++)e[n]=t[n]}function tr(e,t){var n=Yi[t];void 0===n&&(n=new Int32Array(t),Yi[t]=n);for(var i=0;i!==t;++i)n[i]=e.allocTextureUnit();return n}function nr(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function ir(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function rr(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Ji(n,t))return;e.uniform2fv(this.addr,t),er(n,t)}}function sr(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(Ji(n,t))return;e.uniform3fv(this.addr,t),er(n,t)}}function or(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Ji(n,t))return;e.uniform4fv(this.addr,t),er(n,t)}}function ar(e,t){var n=this.cache,i=t.elements;if(void 0===i){if(Ji(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),er(n,t)}else{if(Ji(n,i))return;Xi.set(i),e.uniformMatrix2fv(this.addr,!1,Xi),er(n,i)}}function lr(e,t){var n=this.cache,i=t.elements;if(void 0===i){if(Ji(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),er(n,t)}else{if(Ji(n,i))return;Ki.set(i),e.uniformMatrix3fv(this.addr,!1,Ki),er(n,i)}}function ur(e,t){var n=this.cache,i=t.elements;if(void 0===i){if(Ji(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),er(n,t)}else{if(Ji(n,i))return;Zi.set(i),e.uniformMatrix4fv(this.addr,!1,Zi),er(n,i)}}function cr(e,t,n){var i=this.cache,r=n.allocTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture2D(t||Ui,r)}function hr(e,t,n){var i=this.cache,r=n.allocTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(t||Gi,r)}function dr(e,t,n){var i=this.cache,r=n.allocTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTextureCube(t||Wi,r)}function pr(e,t){var n=this.cache;Ji(n,t)||(e.uniform2iv(this.addr,t),er(n,t))}function fr(e,t){var n=this.cache;Ji(n,t)||(e.uniform3iv(this.addr,t),er(n,t))}function gr(e,t){var n=this.cache;Ji(n,t)||(e.uniform4iv(this.addr,t),er(n,t))}function mr(e,t){var n=this.cache;Ji(n,t)||(e.uniform1fv(this.addr,t),er(n,t))}function vr(e,t){var n=this.cache;Ji(n,t)||(e.uniform1iv(this.addr,t),er(n,t))}function yr(e,t){var n=this.cache,i=Qi(t,this.size,2);Ji(n,i)||(e.uniform2fv(this.addr,i),this.updateCache(i))}function _r(e,t){var n=this.cache,i=Qi(t,this.size,3);Ji(n,i)||(e.uniform3fv(this.addr,i),this.updateCache(i))}function br(e,t){var n=this.cache,i=Qi(t,this.size,4);Ji(n,i)||(e.uniform4fv(this.addr,i),this.updateCache(i))}function wr(e,t){var n=this.cache,i=Qi(t,this.size,4);Ji(n,i)||(e.uniformMatrix2fv(this.addr,!1,i),this.updateCache(i))}function xr(e,t){var n=this.cache,i=Qi(t,this.size,9);Ji(n,i)||(e.uniformMatrix3fv(this.addr,!1,i),this.updateCache(i))}function Cr(e,t){var n=this.cache,i=Qi(t,this.size,16);Ji(n,i)||(e.uniformMatrix4fv(this.addr,!1,i),this.updateCache(i))}function Sr(e,t,n){var i=this.cache,r=t.length,s=tr(n,r);!1===Ji(i,s)&&(e.uniform1iv(this.addr,s),er(i,s));for(var o=0;o!==r;++o)n.setTexture2D(t[o]||Ui,s[o])}function Er(e,t,n){var i=this.cache,r=t.length,s=tr(n,r);!1===Ji(i,s)&&(e.uniform1iv(this.addr,s),er(i,s));for(var o=0;o!==r;++o)n.setTextureCube(t[o]||Wi,s[o])}function Tr(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=function(e){switch(t.type){case 5126:return nr;case 35664:return rr;case 35665:return sr;case 35666:return or;case 35674:return ar;case 35675:return lr;case 35676:return ur;case 35678:case 36198:return cr;case 35679:return hr;case 35680:return dr;case 5124:case 35670:return ir;case 35667:case 35671:return pr;case 35668:case 35672:return fr;case 35669:case 35673:return gr}}()}function Mr(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=function(e){switch(t.type){case 5126:return mr;case 35664:return yr;case 35665:return _r;case 35666:return br;case 35674:return wr;case 35675:return xr;case 35676:return Cr;case 35678:return Sr;case 35680:return Er;case 5124:case 35670:return vr;case 35667:case 35671:return pr;case 35668:case 35672:return fr;case 35669:case 35673:return gr}}()}function Ir(e){this.id=e,$i.call(this)}Mr.prototype.updateCache=function(e){var t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),er(t,e)},Ir.prototype.setValue=function(e,t,n){for(var i=this.seq,r=0,s=i.length;r!==s;++r){var o=i[r];o.setValue(e,t[o.id],n)}};var Or=/([\w\d_]+)(\])?(\[|\.)?/g;function Ar(e,t){e.seq.push(t),e.map[t.id]=t}function Dr(e,t,n){var i=e.name,r=i.length;for(Or.lastIndex=0;;){var s=Or.exec(i),o=s[1],a=s[3];if("]"===s[2]&&(o|=0),void 0===a||"["===a&&Or.lastIndex+2===r){Ar(n,void 0===a?new Tr(o,e,t):new Mr(o,e,t));break}var l=n.map[o];void 0===l&&Ar(n,l=new Ir(o)),n=l}}function kr(e,t,n){$i.call(this),this.renderer=n;for(var i=e.getProgramParameter(t,35718),r=0;r<i;++r){var s=e.getActiveUniform(t,r);Dr(s,e.getUniformLocation(t,s.name),this)}}function Pr(e,t,n){var i=e.createShader(t);return e.shaderSource(i,n),e.compileShader(i),!1===e.getShaderParameter(i,35713)&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==e.getShaderInfoLog(i)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",35633===t?"vertex":"fragment",e.getShaderInfoLog(i),function(e){for(var t=e.split("\n"),n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join("\n")}(n)),i}kr.prototype.setValue=function(e,t,n){var i=this.map[t];void 0!==i&&i.setValue(e,n,this.renderer)},kr.prototype.setOptional=function(e,t,n){var i=t[n];void 0!==i&&this.setValue(e,n,i)},kr.upload=function(e,t,n,i){for(var r=0,s=t.length;r!==s;++r){var o=t[r],a=n[o.id];!1!==a.needsUpdate&&o.setValue(e,a.value,i)}},kr.seqWithValue=function(e,t){for(var n=[],i=0,r=e.length;i!==r;++i){var s=e[i];s.id in t&&n.push(s)}return n};var Rr=0;function Lr(e){switch(e){case jt:return["Linear","( value )"];case Bt:return["sRGB","( value )"];case Ht:return["RGBE","( value )"];case Gt:return["RGBM","( value, 7.0 )"];case Wt:return["RGBM","( value, 16.0 )"];case $t:return["RGBD","( value, 256.0 )"];case zt:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+e)}}function Nr(e,t){var n=Lr(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function Fr(e,t){var n;switch(t){case ge:n="Linear";break;case me:n="Reinhard";break;case ve:n="Uncharted2";break;case ye:n="OptimizedCineon";break;case _e:n="ACESFilmic";break;default:throw new Error("unsupported toneMapping: "+t)}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Vr(e){return""!==e}function jr(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights)}function Br(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}function zr(e){return e.replace(/^[ \t]*#include +<([\w\d.\/]+)>/gm,function(e,t){var n=bn[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return zr(n)})}function Hr(e){return e.replace(/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,function(e,t,n,i){for(var r="",s=parseInt(t);s<parseInt(n);s++)r+=i.replace(/\[ i \]/g,"[ "+s+" ]");return r})}function Ur(e,t,n,i,r,s,o){var a=e.context,l=i.defines,u=r.vertexShader,c=r.fragmentShader,h="SHADOWMAP_TYPE_BASIC";s.shadowMapType===E?h="SHADOWMAP_TYPE_PCF":s.shadowMapType===T&&(h="SHADOWMAP_TYPE_PCF_SOFT");var d="ENVMAP_TYPE_CUBE",p="ENVMAP_MODE_REFLECTION",f="ENVMAP_BLENDING_MULTIPLY";if(s.envMap){switch(i.envMap.mapping){case we:case xe:d="ENVMAP_TYPE_CUBE";break;case Te:case Me:d="ENVMAP_TYPE_CUBE_UV";break;case Ce:case Se:d="ENVMAP_TYPE_EQUIREC";break;case Ee:d="ENVMAP_TYPE_SPHERE"}switch(i.envMap.mapping){case xe:case Se:p="ENVMAP_MODE_REFRACTION"}switch(i.combine){case he:f="ENVMAP_BLENDING_MULTIPLY";break;case de:f="ENVMAP_BLENDING_MIX";break;case pe:f="ENVMAP_BLENDING_ADD"}}var g,m,v,y,_=e.gammaFactor>0?e.gammaFactor:1,b=o.isWebGL2?"":function(e,t,n){return[(e=e||{}).derivatives||t.envMapCubeUV||t.bumpMap||t.normalMap&&!t.objectSpaceNormalMap||t.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(e.fragDepth||t.logarithmicDepthBuffer)&&n.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",e.drawBuffers&&n.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(e.shaderTextureLOD||t.envMap)&&n.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Vr).join("\n")}(i.extensions,s,t),w=function(e){var t=[];for(var n in e){var i=e[n];!1!==i&&t.push("#define "+n+" "+i)}return t.join("\n")}(l),x=a.createProgram();if(i.isRawShaderMaterial?((g=[w].filter(Vr).join("\n")).length>0&&(g+="\n"),(m=[b,w].filter(Vr).join("\n")).length>0&&(m+="\n")):(g=["precision "+s.precision+" float;","precision "+s.precision+" int;","#define SHADER_NAME "+r.name,w,s.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+_,"#define MAX_BONES "+s.maxBones,s.useFog&&s.fog?"#define USE_FOG":"",s.useFog&&s.fogExp?"#define FOG_EXP2":"",s.map?"#define USE_MAP":"",s.envMap?"#define USE_ENVMAP":"",s.envMap?"#define "+p:"",s.lightMap?"#define USE_LIGHTMAP":"",s.aoMap?"#define USE_AOMAP":"",s.emissiveMap?"#define USE_EMISSIVEMAP":"",s.bumpMap?"#define USE_BUMPMAP":"",s.normalMap?"#define USE_NORMALMAP":"",s.normalMap&&s.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",s.displacementMap&&s.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",s.specularMap?"#define USE_SPECULARMAP":"",s.roughnessMap?"#define USE_ROUGHNESSMAP":"",s.metalnessMap?"#define USE_METALNESSMAP":"",s.alphaMap?"#define USE_ALPHAMAP":"",s.vertexColors?"#define USE_COLOR":"",s.flatShading?"#define FLAT_SHADED":"",s.skinning?"#define USE_SKINNING":"",s.useVertexTexture?"#define BONE_TEXTURE":"",s.morphTargets?"#define USE_MORPHTARGETS":"",s.morphNormals&&!1===s.flatShading?"#define USE_MORPHNORMALS":"",s.doubleSided?"#define DOUBLE_SIDED":"",s.flipSided?"#define FLIP_SIDED":"",s.shadowMapEnabled?"#define USE_SHADOWMAP":"",s.shadowMapEnabled?"#define "+h:"",s.sizeAttenuation?"#define USE_SIZEATTENUATION":"",s.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",s.logarithmicDepthBuffer&&(o.isWebGL2||t.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Vr).join("\n"),m=[b,"precision "+s.precision+" float;","precision "+s.precision+" int;","#define SHADER_NAME "+r.name,w,s.alphaTest?"#define ALPHATEST "+s.alphaTest+(s.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+_,s.useFog&&s.fog?"#define USE_FOG":"",s.useFog&&s.fogExp?"#define FOG_EXP2":"",s.map?"#define USE_MAP":"",s.matcap?"#define USE_MATCAP":"",s.envMap?"#define USE_ENVMAP":"",s.envMap?"#define "+d:"",s.envMap?"#define "+p:"",s.envMap?"#define "+f:"",s.lightMap?"#define USE_LIGHTMAP":"",s.aoMap?"#define USE_AOMAP":"",s.emissiveMap?"#define USE_EMISSIVEMAP":"",s.bumpMap?"#define USE_BUMPMAP":"",s.normalMap?"#define USE_NORMALMAP":"",s.normalMap&&s.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",s.specularMap?"#define USE_SPECULARMAP":"",s.roughnessMap?"#define USE_ROUGHNESSMAP":"",s.metalnessMap?"#define USE_METALNESSMAP":"",s.alphaMap?"#define USE_ALPHAMAP":"",s.vertexColors?"#define USE_COLOR":"",s.gradientMap?"#define USE_GRADIENTMAP":"",s.flatShading?"#define FLAT_SHADED":"",s.doubleSided?"#define DOUBLE_SIDED":"",s.flipSided?"#define FLIP_SIDED":"",s.shadowMapEnabled?"#define USE_SHADOWMAP":"",s.shadowMapEnabled?"#define "+h:"",s.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",s.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",s.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",s.logarithmicDepthBuffer&&(o.isWebGL2||t.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"",s.envMap&&(o.isWebGL2||t.get("EXT_shader_texture_lod"))?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",s.toneMapping!==fe?"#define TONE_MAPPING":"",s.toneMapping!==fe?bn.tonemapping_pars_fragment:"",s.toneMapping!==fe?Fr("toneMapping",s.toneMapping):"",s.dithering?"#define DITHERING":"",s.outputEncoding||s.mapEncoding||s.matcapEncoding||s.envMapEncoding||s.emissiveMapEncoding?bn.encodings_pars_fragment:"",s.mapEncoding?Nr("mapTexelToLinear",s.mapEncoding):"",s.matcapEncoding?Nr("matcapTexelToLinear",s.matcapEncoding):"",s.envMapEncoding?Nr("envMapTexelToLinear",s.envMapEncoding):"",s.emissiveMapEncoding?Nr("emissiveMapTexelToLinear",s.emissiveMapEncoding):"",s.outputEncoding?(v=s.outputEncoding,y=Lr(v),"vec4 linearToOutputTexel( vec4 value ) { return LinearTo"+y[0]+y[1]+"; }"):"",s.depthPacking?"#define DEPTH_PACKING "+i.depthPacking:"","\n"].filter(Vr).join("\n")),u=Br(u=jr(u=zr(u),s),s),c=Br(c=jr(c=zr(c),s),s),u=Hr(u),c=Hr(c),o.isWebGL2&&!i.isRawShaderMaterial){var C=!1,S=/^\s*#version\s+300\s+es\s*\n/;i.isShaderMaterial&&null!==u.match(S)&&null!==c.match(S)&&(C=!0,u=u.replace(S,""),c=c.replace(S,"")),g=["#version 300 es\n","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+g,m=["#version 300 es\n","#define varying in",C?"":"out highp vec4 pc_fragColor;",C?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+m}var M=m+c,I=Pr(a,35633,g+u),O=Pr(a,35632,M);a.attachShader(x,I),a.attachShader(x,O),void 0!==i.index0AttributeName?a.bindAttribLocation(x,0,i.index0AttributeName):!0===s.morphTargets&&a.bindAttribLocation(x,0,"position"),a.linkProgram(x);var A,D,k=a.getProgramInfoLog(x).trim(),P=a.getShaderInfoLog(I).trim(),R=a.getShaderInfoLog(O).trim(),L=!0,N=!0;return!1===a.getProgramParameter(x,35714)?(L=!1,console.error("THREE.WebGLProgram: shader error: ",a.getError(),"35715",a.getProgramParameter(x,35715),"gl.getProgramInfoLog",k,P,R)):""!==k?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",k):""!==P&&""!==R||(N=!1),N&&(this.diagnostics={runnable:L,material:i,programLog:k,vertexShader:{log:P,prefix:g},fragmentShader:{log:R,prefix:m}}),a.deleteShader(I),a.deleteShader(O),this.getUniforms=function(){return void 0===A&&(A=new kr(a,x,e)),A},this.getAttributes=function(){return void 0===D&&(D=function(e,t){for(var n={},i=e.getProgramParameter(t,35721),r=0;r<i;r++){var s=e.getActiveAttrib(t,r).name;n[s]=e.getAttribLocation(t,s)}return n}(a,x)),D},this.destroy=function(){a.deleteProgram(x),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.name=r.name,this.id=Rr++,this.code=n,this.usedTimes=1,this.program=x,this.vertexShader=I,this.fragmentShader=O,this}function Gr(e,t,n){var i=[],r={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},s=["precision","supportsVertexTextures","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering"];function o(e,t){var n;return e?e.isTexture?n=e.encoding:e.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),n=e.texture.encoding):n=jt,n===jt&&t&&(n=zt),n}this.getParameters=function(t,i,s,a,l,u,c){var h=r[t.type],d=c.isSkinnedMesh?function(e){var t=e.skeleton.bones;if(n.floatVertexTextures)return 1024;var i=Math.floor((n.maxVertexUniforms-20)/4),r=Math.min(i,t.length);return r<t.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+t.length+" bones. This GPU supports "+r+"."),0):r}(c):0,p=n.precision;null!==t.precision&&(p=n.getMaxPrecision(t.precision))!==t.precision&&console.warn("THREE.WebGLProgram.getParameters:",t.precision,"not supported, using",p,"instead.");var f=e.getRenderTarget();return{shaderID:h,precision:p,supportsVertexTextures:n.vertexTextures,outputEncoding:o(f?f.texture:null,e.gammaOutput),map:!!t.map,mapEncoding:o(t.map,e.gammaInput),matcap:!!t.matcap,matcapEncoding:o(t.matcap,e.gammaInput),envMap:!!t.envMap,envMapMode:t.envMap&&t.envMap.mapping,envMapEncoding:o(t.envMap,e.gammaInput),envMapCubeUV:!!t.envMap&&(t.envMap.mapping===Te||t.envMap.mapping===Me),lightMap:!!t.lightMap,aoMap:!!t.aoMap,emissiveMap:!!t.emissiveMap,emissiveMapEncoding:o(t.emissiveMap,e.gammaInput),bumpMap:!!t.bumpMap,normalMap:!!t.normalMap,objectSpaceNormalMap:t.normalMapType===Kt,displacementMap:!!t.displacementMap,roughnessMap:!!t.roughnessMap,metalnessMap:!!t.metalnessMap,specularMap:!!t.specularMap,alphaMap:!!t.alphaMap,gradientMap:!!t.gradientMap,combine:t.combine,vertexColors:t.vertexColors,fog:!!a,useFog:t.fog,fogExp:a&&a.isFogExp2,flatShading:t.flatShading,sizeAttenuation:t.sizeAttenuation,logarithmicDepthBuffer:n.logarithmicDepthBuffer,skinning:t.skinning&&d>0,maxBones:d,useVertexTexture:n.floatVertexTextures,morphTargets:t.morphTargets,morphNormals:t.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:i.directional.length,numPointLights:i.point.length,numSpotLights:i.spot.length,numRectAreaLights:i.rectArea.length,numHemiLights:i.hemi.length,numClippingPlanes:l,numClipIntersection:u,dithering:t.dithering,shadowMapEnabled:e.shadowMap.enabled&&c.receiveShadow&&s.length>0,shadowMapType:e.shadowMap.type,toneMapping:e.toneMapping,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:t.premultipliedAlpha,alphaTest:t.alphaTest,doubleSided:t.side===O,flipSided:t.side===I,depthPacking:void 0!==t.depthPacking&&t.depthPacking}},this.getProgramCode=function(t,n){var i=[];if(n.shaderID?i.push(n.shaderID):(i.push(t.fragmentShader),i.push(t.vertexShader)),void 0!==t.defines)for(var r in t.defines)i.push(r),i.push(t.defines[r]);for(var o=0;o<s.length;o++)i.push(n[s[o]]);return i.push(t.onBeforeCompile.toString()),i.push(e.gammaOutput),i.push(e.gammaFactor),i.join()},this.acquireProgram=function(r,s,o,a){for(var l,u=0,c=i.length;u<c;u++){var h=i[u];if(h.code===a){++(l=h).usedTimes;break}}return void 0===l&&(l=new Ur(e,t,a,r,s,o,n),i.push(l)),l},this.releaseProgram=function(e){if(0==--e.usedTimes){var t=i.indexOf(e);i[t]=i[i.length-1],i.pop(),e.destroy()}},this.programs=i}function Wr(){var e=new WeakMap;return{get:function(t){var n=e.get(t);return void 0===n&&e.set(t,n={}),n},remove:function(t){e.delete(t)},update:function(t,n,i){e.get(t)[n]=i},dispose:function(){e=new WeakMap}}}function $r(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program&&t.program&&e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function qr(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Yr(){var e=[],t=0,n=[],i=[];function r(n,i,r,s,o){var a=e[t];return void 0===a?e[t]=a={id:n.id,object:n,geometry:i,material:r,program:r.program,renderOrder:n.renderOrder,z:s,group:o}:(a.id=n.id,a.object=n,a.geometry=i,a.material=r,a.program=r.program,a.renderOrder=n.renderOrder,a.z=s,a.group=o),t++,a}return{opaque:n,transparent:i,init:function(){t=0,n.length=0,i.length=0},push:function(e,t,s,o,a){var l=r(e,t,s,o,a);(!0===s.transparent?i:n).push(l)},unshift:function(e,t,s,o,a){var l=r(e,t,s,o,a);(!0===s.transparent?i:n).unshift(l)},sort:function(){n.length>1&&n.sort($r),i.length>1&&i.sort(qr)}}}function Zr(){var e={};return{get:function(t,n){var i,r=e[t.id];return void 0===r?(i=new Yr,e[t.id]={},e[t.id][n.id]=i):void 0===(i=r[n.id])&&(i=new Yr,r[n.id]=i),i},dispose:function(){e={}}}}function Kr(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new tn,color:new In,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Qt};break;case"SpotLight":n={position:new tn,direction:new tn,color:new In,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Qt};break;case"PointLight":n={position:new tn,color:new In,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Qt,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":n={direction:new tn,skyColor:new In,groundColor:new In};break;case"RectAreaLight":n={color:new In,position:new tn,halfWidth:new tn,halfHeight:new tn}}return e[t.id]=n,n}}}var Xr=0;function Qr(){var e=new Kr,t={id:Xr++,hash:{stateID:-1,directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,shadowsLength:-1},ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},n=new tn,i=new Jt,r=new Jt;return{setup:function(s,o,a){for(var l=0,u=0,c=0,h=0,d=0,p=0,f=0,g=0,m=a.matrixWorldInverse,v=0,y=s.length;v<y;v++){var _=s[v],b=_.color,w=_.intensity,x=_.distance,C=_.shadow&&_.shadow.map?_.shadow.map.texture:null;if(_.isAmbientLight)l+=b.r*w,u+=b.g*w,c+=b.b*w;else if(_.isDirectionalLight)(E=e.get(_)).color.copy(_.color).multiplyScalar(_.intensity),E.direction.setFromMatrixPosition(_.matrixWorld),n.setFromMatrixPosition(_.target.matrixWorld),E.direction.sub(n),E.direction.transformDirection(m),E.shadow=_.castShadow,_.castShadow&&(E.shadowBias=(S=_.shadow).bias,E.shadowRadius=S.radius,E.shadowMapSize=S.mapSize),t.directionalShadowMap[h]=C,t.directionalShadowMatrix[h]=_.shadow.matrix,t.directional[h]=E,h++;else if(_.isSpotLight)(E=e.get(_)).position.setFromMatrixPosition(_.matrixWorld),E.position.applyMatrix4(m),E.color.copy(b).multiplyScalar(w),E.distance=x,E.direction.setFromMatrixPosition(_.matrixWorld),n.setFromMatrixPosition(_.target.matrixWorld),E.direction.sub(n),E.direction.transformDirection(m),E.coneCos=Math.cos(_.angle),E.penumbraCos=Math.cos(_.angle*(1-_.penumbra)),E.decay=_.decay,E.shadow=_.castShadow,_.castShadow&&(E.shadowBias=(S=_.shadow).bias,E.shadowRadius=S.radius,E.shadowMapSize=S.mapSize),t.spotShadowMap[p]=C,t.spotShadowMatrix[p]=_.shadow.matrix,t.spot[p]=E,p++;else if(_.isRectAreaLight)(E=e.get(_)).color.copy(b).multiplyScalar(w),E.position.setFromMatrixPosition(_.matrixWorld),E.position.applyMatrix4(m),r.identity(),i.copy(_.matrixWorld),i.premultiply(m),r.extractRotation(i),E.halfWidth.set(.5*_.width,0,0),E.halfHeight.set(0,.5*_.height,0),E.halfWidth.applyMatrix4(r),E.halfHeight.applyMatrix4(r),t.rectArea[f]=E,f++;else if(_.isPointLight){var S;(E=e.get(_)).position.setFromMatrixPosition(_.matrixWorld),E.position.applyMatrix4(m),E.color.copy(_.color).multiplyScalar(_.intensity),E.distance=_.distance,E.decay=_.decay,E.shadow=_.castShadow,_.castShadow&&(E.shadowBias=(S=_.shadow).bias,E.shadowRadius=S.radius,E.shadowMapSize=S.mapSize,E.shadowCameraNear=S.camera.near,E.shadowCameraFar=S.camera.far),t.pointShadowMap[d]=C,t.pointShadowMatrix[d]=_.shadow.matrix,t.point[d]=E,d++}else if(_.isHemisphereLight){var E;(E=e.get(_)).direction.setFromMatrixPosition(_.matrixWorld),E.direction.transformDirection(m),E.direction.normalize(),E.skyColor.copy(_.color).multiplyScalar(w),E.groundColor.copy(_.groundColor).multiplyScalar(w),t.hemi[g]=E,g++}}t.ambient[0]=l,t.ambient[1]=u,t.ambient[2]=c,t.directional.length=h,t.spot.length=p,t.rectArea.length=f,t.point.length=d,t.hemi.length=g,t.hash.stateID=t.id,t.hash.directionalLength=h,t.hash.pointLength=d,t.hash.spotLength=p,t.hash.rectAreaLength=f,t.hash.hemiLength=g,t.hash.shadowsLength=o.length},state:t}}function Jr(){var e=new Qr,t=[],n=[];return{init:function(){t.length=0,n.length=0},state:{lightsArray:t,shadowsArray:n,lights:e},setupLights:function(i){e.setup(t,n,i)},pushLight:function(e){t.push(e)},pushShadow:function(e){n.push(e)}}}function es(){var e={};return{get:function(t,n){var i;return void 0===e[t.id]?(i=new Jr,e[t.id]={},e[t.id][n.id]=i):void 0===e[t.id][n.id]?(i=new Jr,e[t.id][n.id]=i):i=e[t.id][n.id],i},dispose:function(){e={}}}}function ts(e){Si.call(this),this.type="MeshDepthMaterial",this.depthPacking=qt,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(e)}function ns(e){Si.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new tn,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.lights=!1,this.setValues(e)}function is(e,t,n){for(var i=new _n,r=new Jt,s=new Qt,o=new Qt(n,n),a=new tn,l=new tn,u=1,c=2,h=1+(u|c),d=new Array(h),p=new Array(h),f={},g={0:I,1:M,2:O},m=[new tn(1,0,0),new tn(-1,0,0),new tn(0,0,1),new tn(0,0,-1),new tn(0,1,0),new tn(0,-1,0)],v=[new tn(0,1,0),new tn(0,1,0),new tn(0,1,0),new tn(0,1,0),new tn(0,0,1),new tn(0,0,-1)],y=[new dn,new dn,new dn,new dn,new dn,new dn],_=0;_!==h;++_){var b=0!=(_&u),w=0!=(_&c),x=new ts({depthPacking:Yt,morphTargets:b,skinning:w});d[_]=x;var C=new ns({morphTargets:b,skinning:w});p[_]=C}var S=this;function T(t,n,i,r,s,o){var a=t.geometry,l=null,h=d,m=t.customDepthMaterial;if(i&&(h=p,m=t.customDistanceMaterial),m)l=m;else{var v=!1;n.morphTargets&&(a&&a.isBufferGeometry?v=a.morphAttributes&&a.morphAttributes.position&&a.morphAttributes.position.length>0:a&&a.isGeometry&&(v=a.morphTargets&&a.morphTargets.length>0)),t.isSkinnedMesh&&!1===n.skinning&&console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",t);var y=0;v&&(y|=u),t.isSkinnedMesh&&n.skinning&&(y|=c),l=h[y]}if(e.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length){var _=l.uuid,b=n.uuid,w=f[_];void 0===w&&(f[_]=w={});var x=w[b];void 0===x&&(x=l.clone(),w[b]=x),l=x}return l.visible=n.visible,l.wireframe=n.wireframe,l.side=null!=n.shadowSide?n.shadowSide:g[n.side],l.clipShadows=n.clipShadows,l.clippingPlanes=n.clippingPlanes,l.clipIntersection=n.clipIntersection,l.wireframeLinewidth=n.wireframeLinewidth,l.linewidth=n.linewidth,i&&l.isMeshDistanceMaterial&&(l.referencePosition.copy(r),l.nearDistance=s,l.farDistance=o),l}function A(n,r,s,o){if(!1!==n.visible){if(n.layers.test(r.layers)&&(n.isMesh||n.isLine||n.isPoints)&&n.castShadow&&(!n.frustumCulled||i.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(s.matrixWorldInverse,n.matrixWorld);var a=t.update(n),u=n.material;if(Array.isArray(u))for(var c=a.groups,h=0,d=c.length;h<d;h++){var p=c[h],f=u[p.materialIndex];if(f&&f.visible){var g=T(n,f,o,l,s.near,s.far);e.renderBufferDirect(s,null,a,g,n,p)}}else u.visible&&(g=T(n,u,o,l,s.near,s.far),e.renderBufferDirect(s,null,a,g,n,null))}for(var m=n.children,v=0,y=m.length;v<y;v++)A(m[v],r,s,o)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=E,this.render=function(t,n,u){if(!1!==S.enabled&&(!1!==S.autoUpdate||!1!==S.needsUpdate)&&0!==t.length){var c,h=e.state;h.disable(3042),h.buffers.color.setClear(1,1,1,1),h.buffers.depth.setTest(!0),h.setScissorTest(!1);for(var d=0,p=t.length;d<p;d++){var f=t[d],g=f.shadow,_=f&&f.isPointLight;if(void 0!==g){var b=g.camera;if(s.copy(g.mapSize),s.min(o),_){var w=s.x,x=s.y;y[0].set(2*w,x,w,x),y[1].set(0,x,w,x),y[2].set(3*w,x,w,x),y[3].set(w,x,w,x),y[4].set(3*w,0,w,x),y[5].set(w,0,w,x),s.x*=4,s.y*=2}null===g.map&&(g.map=new pn(s.x,s.y,{minFilter:De,magFilter:De,format:Xe}),g.map.texture.name=f.name+".shadowMap",b.updateProjectionMatrix()),g.isSpotLightShadow&&g.update(f);var C=g.map,E=g.matrix;l.setFromMatrixPosition(f.matrixWorld),b.position.copy(l),_?(c=6,E.makeTranslation(-l.x,-l.y,-l.z)):(c=1,a.setFromMatrixPosition(f.target.matrixWorld),b.lookAt(a),b.updateMatrixWorld(),E.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),E.multiply(b.projectionMatrix),E.multiply(b.matrixWorldInverse)),e.setRenderTarget(C),e.clear();for(var T=0;T<c;T++)_&&(a.copy(b.position),a.add(m[T]),b.up.copy(v[T]),b.lookAt(a),b.updateMatrixWorld(),h.viewport(y[T])),r.multiplyMatrices(b.projectionMatrix,b.matrixWorldInverse),i.setFromMatrix(r),A(n,u,b,_)}else console.warn("THREE.WebGLShadowMap:",f,"has no shadow.")}S.needsUpdate=!1}}}function rs(e,t,n,i){var r=new function(){var t=!1,n=new dn,i=null,r=new dn(0,0,0,0);return{setMask:function(n){i===n||t||(e.colorMask(n,n,n,n),i=n)},setLocked:function(e){t=e},setClear:function(t,i,s,o,a){!0===a&&(t*=o,i*=o,s*=o),n.set(t,i,s,o),!1===r.equals(n)&&(e.clearColor(t,i,s,o),r.copy(n))},reset:function(){t=!1,i=null,r.set(-1,0,0,0)}}},s=new function(){var t=!1,n=null,i=null,r=null;return{setTest:function(e){e?X(2929):Q(2929)},setMask:function(i){n===i||t||(e.depthMask(i),n=i)},setFunc:function(t){if(i!==t){if(t)switch(t){case ie:e.depthFunc(512);break;case re:e.depthFunc(519);break;case se:e.depthFunc(513);break;case oe:e.depthFunc(515);break;case ae:e.depthFunc(514);break;case le:e.depthFunc(518);break;case ue:e.depthFunc(516);break;case ce:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);i=t}},setLocked:function(e){t=e},setClear:function(t){r!==t&&(e.clearDepth(t),r=t)},reset:function(){t=!1,n=null,i=null,r=null}}},o=new function(){var t=!1,n=null,i=null,r=null,s=null,o=null,a=null,l=null,u=null;return{setTest:function(e){e?X(2960):Q(2960)},setMask:function(i){n===i||t||(e.stencilMask(i),n=i)},setFunc:function(t,n,o){i===t&&r===n&&s===o||(e.stencilFunc(t,n,o),i=t,r=n,s=o)},setOp:function(t,n,i){o===t&&a===n&&l===i||(e.stencilOp(t,n,i),o=t,a=n,l=i)},setLocked:function(e){t=e},setClear:function(t){u!==t&&(e.clearStencil(t),u=t)},reset:function(){t=!1,n=null,i=null,r=null,s=null,o=null,a=null,l=null,u=null}}},a=e.getParameter(34921),l=new Uint8Array(a),u=new Uint8Array(a),c=new Uint8Array(a),h={},d=null,p=null,f=null,g=null,m=null,v=null,w=null,x=null,C=null,S=null,E=!1,T=null,M=null,A=null,D=null,k=null,P=e.getParameter(35661),R=!1,H=0,U=e.getParameter(7938);-1!==U.indexOf("WebGL")?(H=parseFloat(/^WebGL\ ([0-9])/.exec(U)[1]),R=H>=1):-1!==U.indexOf("OpenGL ES")&&(H=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(U)[1]),R=H>=2);var G=null,W={},$=new dn,q=new dn;function Y(t,n,i){var r=new Uint8Array(4),s=e.createTexture();e.bindTexture(t,s),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(var o=0;o<i;o++)e.texImage2D(n+o,0,6408,1,1,0,6408,5121,r);return s}var Z={};function K(n,r){l[n]=1,0===u[n]&&(e.enableVertexAttribArray(n),u[n]=1),c[n]!==r&&((i.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,r),c[n]=r)}function X(t){!0!==h[t]&&(e.enable(t),h[t]=!0)}function Q(t){!1!==h[t]&&(e.disable(t),h[t]=!1)}function J(t,i,r,s,o,a,l,u){if(t!==L){if(f||(X(3042),f=!0),t===B)o=o||i,a=a||r,l=l||s,i===m&&o===x||(e.blendEquationSeparate(n.convert(i),n.convert(o)),m=i,x=o),r===v&&s===w&&a===C&&l===S||(e.blendFuncSeparate(n.convert(r),n.convert(s),n.convert(a),n.convert(l)),v=r,w=s,C=a,S=l),g=t,E=null;else if(t!==g||u!==E){if(m===z&&x===z||(e.blendEquation(32774),m=z,x=z),u)switch(t){case N:e.blendFuncSeparate(1,771,1,771);break;case F:e.blendFunc(1,1);break;case V:e.blendFuncSeparate(0,0,769,771);break;case j:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case N:e.blendFuncSeparate(770,771,1,771);break;case F:e.blendFunc(770,1);break;case V:e.blendFunc(0,769);break;case j:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}v=null,w=null,C=null,S=null,g=t,E=u}}else f&&(Q(3042),f=!1)}function ee(t){T!==t&&(e.frontFace(t?2304:2305),T=t)}function te(t){t!==y?(X(2884),t!==M&&e.cullFace(t===_?1029:t===b?1028:1032)):Q(2884),M=t}function ne(t,n,i){t?(X(32823),D===n&&k===i||(e.polygonOffset(n,i),D=n,k=i)):Q(32823)}function he(t){void 0===t&&(t=33984+P-1),G!==t&&(e.activeTexture(t),G=t)}return Z[3553]=Y(3553,3553,1),Z[34067]=Y(34067,34069,6),r.setClear(0,0,0,1),s.setClear(1),o.setClear(0),X(2929),s.setFunc(oe),ee(!1),te(_),X(2884),J(L),{buffers:{color:r,depth:s,stencil:o},initAttributes:function(){for(var e=0,t=l.length;e<t;e++)l[e]=0},enableAttribute:function(e){K(e,0)},enableAttributeAndDivisor:K,disableUnusedAttributes:function(){for(var t=0,n=u.length;t!==n;++t)u[t]!==l[t]&&(e.disableVertexAttribArray(t),u[t]=0)},enable:X,disable:Q,getCompressedTextureFormats:function(){if(null===d&&(d=[],t.get("WEBGL_compressed_texture_pvrtc")||t.get("WEBGL_compressed_texture_s3tc")||t.get("WEBGL_compressed_texture_etc1")||t.get("WEBGL_compressed_texture_astc")))for(var n=e.getParameter(34467),i=0;i<n.length;i++)d.push(n[i]);return d},useProgram:function(t){return p!==t&&(e.useProgram(t),p=t,!0)},setBlending:J,setMaterial:function(e,t){e.side===O?Q(2884):X(2884);var n=e.side===I;t&&(n=!n),ee(n),e.blending===N&&!1===e.transparent?J(L):J(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),s.setFunc(e.depthFunc),s.setTest(e.depthTest),s.setMask(e.depthWrite),r.setMask(e.colorWrite),ne(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)},setFlipSided:ee,setCullFace:te,setLineWidth:function(t){t!==A&&(R&&e.lineWidth(t),A=t)},setPolygonOffset:ne,setScissorTest:function(e){e?X(3089):Q(3089)},activeTexture:he,bindTexture:function(t,n){null===G&&he();var i=W[G];void 0===i&&(W[G]=i={type:void 0,texture:void 0}),i.type===t&&i.texture===n||(e.bindTexture(t,n||Z[t]),i.type=t,i.texture=n)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(t){!1===$.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),$.copy(t))},viewport:function(t){!1===q.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),q.copy(t))},reset:function(){for(var t=0;t<u.length;t++)1===u[t]&&(e.disableVertexAttribArray(t),u[t]=0);h={},d=null,G=null,W={},p=null,g=null,T=null,M=null,r.reset(),s.reset(),o.reset()}}}function ss(e,t,n,i,r,s,o){var a,l={};function u(e,t){if(e.width>t||e.height>t){if("data"in e)return void console.warn("THREE.WebGLRenderer: image in DataTexture is too big ("+e.width+"x"+e.height+").");var n=t/Math.max(e.width,e.height),i=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return i.width=Math.floor(e.width*n),i.height=Math.floor(e.height*n),i.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,i.width,i.height),console.warn("THREE.WebGLRenderer: image is too big ("+e.width+"x"+e.height+"). Resized to "+i.width+"x"+i.height),i}return e}function c(e){return Xt.isPowerOfTwo(e.width)&&Xt.isPowerOfTwo(e.height)}function h(e,t){return e.generateMipmaps&&t&&e.minFilter!==De&&e.minFilter!==Re}function d(t,n,r,s){e.generateMipmap(t),i.get(n).__maxMipLevel=Math.log(Math.max(r,s))*Math.LOG2E}function p(e,t){if(!r.isWebGL2)return e;if(6403===e){if(5126===t)return 33326;if(5131===t)return 33325;if(5121===t)return 33321}if(6407===e){if(5126===t)return 34837;if(5131===t)return 34843;if(5121===t)return 32849}if(6408===e){if(5126===t)return 34836;if(5131===t)return 34842;if(5121===t)return 32856}return e}function f(e){return e===De||e===ke||e===Pe?9728:9729}function g(t){var n=t.target;n.removeEventListener("dispose",g),function(t){var n=i.get(t);if(t.image&&n.__image__webglTextureCube)e.deleteTexture(n.__image__webglTextureCube);else{if(void 0===n.__webglInit)return;e.deleteTexture(n.__webglTexture)}i.remove(t)}(n),n.isVideoTexture&&delete l[n.id],o.memory.textures--}function m(t){var n=t.target;n.removeEventListener("dispose",m),function(t){var n=i.get(t),r=i.get(t.texture);if(t){if(void 0!==r.__webglTexture&&e.deleteTexture(r.__webglTexture),t.depthTexture&&t.depthTexture.dispose(),t.isWebGLRenderTargetCube)for(var s=0;s<6;s++)e.deleteFramebuffer(n.__webglFramebuffer[s]),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[s]);else e.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer);i.remove(t.texture),i.remove(t)}}(n),o.memory.textures--}function v(e,t){var r=i.get(e);if(e.isVideoTexture&&function(e){var t=e.id,n=o.render.frame;l[t]!==n&&(l[t]=n,e.update())}(e),e.version>0&&r.__version!==e.version){var s=e.image;if(void 0===s)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==s.complete)return void _(r,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(33984+t),n.bindTexture(3553,r.__webglTexture)}function y(n,o,a){var l;if(a?(e.texParameteri(n,10242,s.convert(o.wrapS)),e.texParameteri(n,10243,s.convert(o.wrapT)),e.texParameteri(n,10240,s.convert(o.magFilter)),e.texParameteri(n,10241,s.convert(o.minFilter))):(e.texParameteri(n,10242,33071),e.texParameteri(n,10243,33071),o.wrapS===Oe&&o.wrapT===Oe||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,10240,f(o.magFilter)),e.texParameteri(n,10241,f(o.minFilter)),o.minFilter!==De&&o.minFilter!==Re&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),l=t.get("EXT_texture_filter_anisotropic")){if(o.type===Ue&&null===t.get("OES_texture_float_linear"))return;if(o.type===Ge&&null===(r.isWebGL2||t.get("OES_texture_half_float_linear")))return;(o.anisotropy>1||i.get(o).__currentAnisotropy)&&(e.texParameterf(n,l.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,r.getMaxAnisotropy())),i.get(o).__currentAnisotropy=o.anisotropy)}}function _(t,i,l){var f;f=i.isDataTexture3D?32879:3553,void 0===t.__webglInit&&(t.__webglInit=!0,i.addEventListener("dispose",g),t.__webglTexture=e.createTexture(),o.memory.textures++),n.activeTexture(33984+l),n.bindTexture(f,t.__webglTexture),e.pixelStorei(37440,i.flipY),e.pixelStorei(37441,i.premultiplyAlpha),e.pixelStorei(3317,i.unpackAlignment);var m=u(i.image,r.maxTextureSize);(function(e){return!r.isWebGL2&&(e.wrapS!==Oe||e.wrapT!==Oe||e.minFilter!==De&&e.minFilter!==Re)})(i)&&!1===c(m)&&(m=function(e){return e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof ImageBitmap?(void 0===a&&(a=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),a.width=Xt.floorPowerOfTwo(e.width),a.height=Xt.floorPowerOfTwo(e.height),a.getContext("2d").drawImage(e,0,0,a.width,a.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+e.width+"x"+e.height+"). Resized to "+a.width+"x"+a.height),a):e}(m));var v=c(m),_=s.convert(i.format),b=s.convert(i.type),w=p(_,b);y(f,i,v);var x,C=i.mipmaps;if(i.isDepthTexture){if(w=6402,i.type===Ue){if(!r.isWebGL2)throw new Error("Float Depth Texture only supported in WebGL2.0");w=36012}else r.isWebGL2&&(w=33189);i.format===tt&&6402===w&&i.type!==Be&&i.type!==He&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),i.type=Be,b=s.convert(i.type)),i.format===nt&&(w=34041,i.type!==Ye&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),i.type=Ye,b=s.convert(i.type))),n.texImage2D(3553,0,w,m.width,m.height,0,_,b,null)}else if(i.isDataTexture)if(C.length>0&&v){for(var S=0,E=C.length;S<E;S++)n.texImage2D(3553,S,w,(x=C[S]).width,x.height,0,_,b,x.data);i.generateMipmaps=!1,t.__maxMipLevel=C.length-1}else n.texImage2D(3553,0,w,m.width,m.height,0,_,b,m.data),t.__maxMipLevel=0;else if(i.isCompressedTexture){for(S=0,E=C.length;S<E;S++)x=C[S],i.format!==Xe&&i.format!==Ke?n.getCompressedTextureFormats().indexOf(_)>-1?n.compressedTexImage2D(3553,S,w,x.width,x.height,0,x.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,S,w,x.width,x.height,0,_,b,x.data);t.__maxMipLevel=C.length-1}else if(i.isDataTexture3D)n.texImage3D(32879,0,w,m.width,m.height,m.depth,0,_,b,m.data),t.__maxMipLevel=0;else if(C.length>0&&v){for(S=0,E=C.length;S<E;S++)n.texImage2D(3553,S,w,_,b,x=C[S]);i.generateMipmaps=!1,t.__maxMipLevel=C.length-1}else n.texImage2D(3553,0,w,_,b,m),t.__maxMipLevel=0;h(i,v)&&d(3553,i,m.width,m.height),t.__version=i.version,i.onUpdate&&i.onUpdate(i)}function b(t,r,o,a){var l=s.convert(r.texture.format),u=s.convert(r.texture.type),c=p(l,u);n.texImage2D(a,0,c,r.width,r.height,0,l,u,null),e.bindFramebuffer(36160,t),e.framebufferTexture2D(36160,o,a,i.get(r.texture).__webglTexture,0),e.bindFramebuffer(36160,null)}function w(t,n){e.bindRenderbuffer(36161,t),n.depthBuffer&&!n.stencilBuffer?(e.renderbufferStorage(36161,33189,n.width,n.height),e.framebufferRenderbuffer(36160,36096,36161,t)):n.depthBuffer&&n.stencilBuffer?(e.renderbufferStorage(36161,34041,n.width,n.height),e.framebufferRenderbuffer(36160,33306,36161,t)):e.renderbufferStorage(36161,32854,n.width,n.height),e.bindRenderbuffer(36161,null)}this.setTexture2D=v,this.setTexture3D=function(e,t){var r=i.get(e);e.version>0&&r.__version!==e.version?_(r,e,t):(n.activeTexture(33984+t),n.bindTexture(32879,r.__webglTexture))},this.setTextureCube=function(t,a){var l=i.get(t);if(6===t.image.length)if(t.version>0&&l.__version!==t.version){l.__image__webglTextureCube||(t.addEventListener("dispose",g),l.__image__webglTextureCube=e.createTexture(),o.memory.textures++),n.activeTexture(33984+a),n.bindTexture(34067,l.__image__webglTextureCube),e.pixelStorei(37440,t.flipY);for(var f=t&&t.isCompressedTexture,m=t.image[0]&&t.image[0].isDataTexture,v=[],_=0;_<6;_++)v[_]=f||m?m?t.image[_].image:t.image[_]:u(t.image[_],r.maxCubemapSize);var b=v[0],w=c(b),x=s.convert(t.format),C=s.convert(t.type),S=p(x,C);for(y(34067,t,w),_=0;_<6;_++)if(f)for(var E,T=v[_].mipmaps,M=0,I=T.length;M<I;M++)E=T[M],t.format!==Xe&&t.format!==Ke?n.getCompressedTextureFormats().indexOf(x)>-1?n.compressedTexImage2D(34069+_,M,S,E.width,E.height,0,E.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+_,M,S,E.width,E.height,0,x,C,E.data);else m?n.texImage2D(34069+_,0,S,v[_].width,v[_].height,0,x,C,v[_].data):n.texImage2D(34069+_,0,S,x,C,v[_]);l.__maxMipLevel=f?T.length-1:0,h(t,w)&&d(34067,t,b.width,b.height),l.__version=t.version,t.onUpdate&&t.onUpdate(t)}else n.activeTexture(33984+a),n.bindTexture(34067,l.__image__webglTextureCube)},this.setTextureCubeDynamic=function(e,t){n.activeTexture(33984+t),n.bindTexture(34067,i.get(e).__webglTexture)},this.setupRenderTarget=function(t){var r=i.get(t),s=i.get(t.texture);t.addEventListener("dispose",m),s.__webglTexture=e.createTexture(),o.memory.textures++;var a=!0===t.isWebGLRenderTargetCube,l=c(t);if(a){r.__webglFramebuffer=[];for(var u=0;u<6;u++)r.__webglFramebuffer[u]=e.createFramebuffer()}else r.__webglFramebuffer=e.createFramebuffer();if(a){for(n.bindTexture(34067,s.__webglTexture),y(34067,t.texture,l),u=0;u<6;u++)b(r.__webglFramebuffer[u],t,36064,34069+u);h(t.texture,l)&&d(34067,t.texture,t.width,t.height),n.bindTexture(34067,null)}else n.bindTexture(3553,s.__webglTexture),y(3553,t.texture,l),b(r.__webglFramebuffer,t,36064,3553),h(t.texture,l)&&d(3553,t.texture,t.width,t.height),n.bindTexture(3553,null);t.depthBuffer&&function(t){var n=i.get(t),r=!0===t.isWebGLRenderTargetCube;if(t.depthTexture){if(r)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,n){if(n&&n.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(36160,t),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");i.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),v(n.depthTexture,0);var r=i.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===tt)e.framebufferTexture2D(36160,36096,3553,r,0);else{if(n.depthTexture.format!==nt)throw new Error("Unknown depthTexture format");e.framebufferTexture2D(36160,33306,3553,r,0)}}(n.__webglFramebuffer,t)}else if(r){n.__webglDepthbuffer=[];for(var s=0;s<6;s++)e.bindFramebuffer(36160,n.__webglFramebuffer[s]),n.__webglDepthbuffer[s]=e.createRenderbuffer(),w(n.__webglDepthbuffer[s],t)}else e.bindFramebuffer(36160,n.__webglFramebuffer),n.__webglDepthbuffer=e.createRenderbuffer(),w(n.__webglDepthbuffer,t);e.bindFramebuffer(36160,null)}(t)},this.updateRenderTargetMipmap=function(e){var t=e.texture;if(h(t,c(e))){var r=e.isWebGLRenderTargetCube?34067:3553,s=i.get(t).__webglTexture;n.bindTexture(r,s),d(r,t,e.width,e.height),n.bindTexture(r,null)}}}function os(e,t,n){return{convert:function(e){var i;if(e===Ie)return 10497;if(e===Oe)return 33071;if(e===Ae)return 33648;if(e===De)return 9728;if(e===ke)return 9984;if(e===Pe)return 9986;if(e===Re)return 9729;if(e===Le)return 9985;if(e===Ne)return 9987;if(e===Fe)return 5121;if(e===We)return 32819;if(e===$e)return 32820;if(e===qe)return 33635;if(e===Ve)return 5120;if(e===je)return 5122;if(e===Be)return 5123;if(e===ze)return 5124;if(e===He)return 5125;if(e===Ue)return 5126;if(e===Ge){if(n.isWebGL2)return 5131;if(null!==(i=t.get("OES_texture_half_float")))return i.HALF_FLOAT_OES}if(e===Ze)return 6406;if(e===Ke)return 6407;if(e===Xe)return 6408;if(e===Qe)return 6409;if(e===Je)return 6410;if(e===tt)return 6402;if(e===nt)return 34041;if(e===it)return 6403;if(e===z)return 32774;if(e===H)return 32778;if(e===U)return 32779;if(e===$)return 0;if(e===q)return 1;if(e===Y)return 768;if(e===Z)return 769;if(e===K)return 770;if(e===X)return 771;if(e===Q)return 772;if(e===J)return 773;if(e===ee)return 774;if(e===te)return 775;if(e===ne)return 776;if((e===rt||e===st||e===ot||e===at)&&null!==(i=t.get("WEBGL_compressed_texture_s3tc"))){if(e===rt)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===st)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===ot)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===at)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((e===lt||e===ut||e===ct||e===ht)&&null!==(i=t.get("WEBGL_compressed_texture_pvrtc"))){if(e===lt)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===ut)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===ct)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===ht)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(e===dt&&null!==(i=t.get("WEBGL_compressed_texture_etc1")))return i.COMPRESSED_RGB_ETC1_WEBGL;if((e===pt||e===ft||e===gt||e===mt||e===vt||e===yt||e===_t||e===bt||e===wt||e===xt||e===Ct||e===St||e===Et||e===Tt)&&null!==(i=t.get("WEBGL_compressed_texture_astc")))return e;if(e===G||e===W){if(n.isWebGL2){if(e===G)return 32775;if(e===W)return 32776}if(null!==(i=t.get("EXT_blend_minmax"))){if(e===G)return i.MIN_EXT;if(e===W)return i.MAX_EXT}}if(e===Ye){if(n.isWebGL2)return 34042;if(null!==(i=t.get("WEBGL_depth_texture")))return i.UNSIGNED_INT_24_8_WEBGL}return 0}}}function as(){Hn.call(this),this.type="Group"}function ls(){Hn.call(this),this.type="Camera",this.matrixWorldInverse=new Jt,this.projectionMatrix=new Jt,this.projectionMatrixInverse=new Jt}function us(e,t,n,i){ls.call(this),this.type="PerspectiveCamera",this.fov=void 0!==e?e:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==i?i:2e3,this.focus=10,this.aspect=void 0!==t?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function cs(e){us.call(this),this.cameras=e||[]}(ts.prototype=Object.create(Si.prototype)).constructor=ts,ts.prototype.isMeshDepthMaterial=!0,ts.prototype.copy=function(e){return Si.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},(ns.prototype=Object.create(Si.prototype)).constructor=ns,ns.prototype.isMeshDistanceMaterial=!0,ns.prototype.copy=function(e){return Si.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this},as.prototype=Object.assign(Object.create(Hn.prototype),{constructor:as,isGroup:!0}),ls.prototype=Object.assign(Object.create(Hn.prototype),{constructor:ls,isCamera:!0,copy:function(e,t){return Hn.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new tn),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},updateMatrixWorld:function(e){Hn.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),us.prototype=Object.assign(Object.create(ls.prototype),{constructor:us,isPerspectiveCamera:!0,copy:function(e,t){return ls.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*Xt.RAD2DEG*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(.5*Xt.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*Xt.RAD2DEG*Math.atan(Math.tan(.5*Xt.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,n,i,r,s){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=s,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,t=e*Math.tan(.5*Xt.DEG2RAD*this.fov)/this.zoom,n=2*t,i=this.aspect*n,r=-.5*i,s=this.view;if(null!==this.view&&this.view.enabled){var o=s.fullWidth,a=s.fullHeight;r+=s.offsetX*i/o,t-=s.offsetY*n/a,i*=s.width/o,n*=s.height/a}var l=this.filmOffset;0!==l&&(r+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,t,t-n,e,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=Hn.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}),cs.prototype=Object.assign(Object.create(us.prototype),{constructor:cs,isArrayCamera:!0});var hs,ds,ps,fs,gs,ms,vs=new tn,ys=new tn;function _s(e,t,n){vs.setFromMatrixPosition(t.matrixWorld),ys.setFromMatrixPosition(n.matrixWorld);var i=vs.distanceTo(ys),r=t.projectionMatrix.elements,s=n.projectionMatrix.elements,o=r[14]/(r[10]-1),a=r[14]/(r[10]+1),l=(r[9]+1)/r[5],u=(r[9]-1)/r[5],c=(r[8]-1)/r[0],h=(s[8]+1)/s[0],d=o*c,p=o*h,f=i/(-c+h),g=f*-c;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(g),e.translateZ(f),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.getInverse(e.matrixWorld);var m=o+f,v=a+f;e.projectionMatrix.makePerspective(d-g,p+(i-g),l*a/v*m,u*a/v*m,m,v)}function bs(e){var t=this,n=null,i=null,r=null,s=[],o=new Jt,a=new Jt,l=1,u="stage";"undefined"!=typeof window&&"VRFrameData"in window&&(i=new window.VRFrameData,window.addEventListener("vrdisplaypresentchange",_,!1));var c=new Jt,h=new en,d=new tn,p=new us;p.bounds=new dn(0,0,.5,1),p.layers.enable(1);var f=new us;f.bounds=new dn(.5,0,.5,1),f.layers.enable(2);var g,m,v=new cs([p,f]);function y(){return null!==n&&!0===n.isPresenting}function _(){if(y()){var i=n.getEyeParameters("left"),r=i.renderWidth*l,s=i.renderHeight*l;m=e.getPixelRatio(),g=e.getSize(),e.setDrawingBufferSize(2*r,s,1),x.start()}else t.enabled&&e.setDrawingBufferSize(g.width,g.height,m),x.stop()}v.layers.enable(1),v.layers.enable(2);var b=[];function w(e){for(var t=navigator.getGamepads&&navigator.getGamepads(),n=0,i=0,r=t.length;n<r;n++){var s=t[n];if(s&&("Daydream Controller"===s.id||"Gear VR Controller"===s.id||"Oculus Go Controller"===s.id||"OpenVR Gamepad"===s.id||s.id.startsWith("Oculus Touch")||s.id.startsWith("Spatial Controller"))){if(i===e)return s;i++}}}this.enabled=!1,this.getController=function(e){var t=s[e];return void 0===t&&((t=new as).matrixAutoUpdate=!1,t.visible=!1,s[e]=t),t},this.getDevice=function(){return n},this.setDevice=function(e){void 0!==e&&(n=e),x.setContext(e)},this.setFramebufferScaleFactor=function(e){l=e},this.setFrameOfReferenceType=function(e){u=e},this.setPoseTarget=function(e){void 0!==e&&(r=e)},this.getCamera=function(e){var t="stage"===u?1.6:0;if(null===n)return e.position.set(0,t,0),e;if(n.depthNear=e.near,n.depthFar=e.far,n.getFrameData(i),"stage"===u){var l=n.stageParameters;l?o.fromArray(l.sittingToStandingTransform):o.makeTranslation(0,t,0)}var g=i.pose,m=null!==r?r:e;if(m.matrix.copy(o),m.matrix.decompose(m.position,m.quaternion,m.scale),null!==g.orientation&&(h.fromArray(g.orientation),m.quaternion.multiply(h)),null!==g.position&&(h.setFromRotationMatrix(o),d.fromArray(g.position),d.applyQuaternion(h),m.position.add(d)),m.updateMatrixWorld(),!1===n.isPresenting)return e;p.near=e.near,f.near=e.near,p.far=e.far,f.far=e.far,p.matrixWorldInverse.fromArray(i.leftViewMatrix),f.matrixWorldInverse.fromArray(i.rightViewMatrix),a.getInverse(o),"stage"===u&&(p.matrixWorldInverse.multiply(a),f.matrixWorldInverse.multiply(a));var y=m.parent;null!==y&&(c.getInverse(y.matrixWorld),p.matrixWorldInverse.multiply(c),f.matrixWorldInverse.multiply(c)),p.matrixWorld.getInverse(p.matrixWorldInverse),f.matrixWorld.getInverse(f.matrixWorldInverse),p.projectionMatrix.fromArray(i.leftProjectionMatrix),f.projectionMatrix.fromArray(i.rightProjectionMatrix),_s(v,p,f);var _=n.getLayers();if(_.length){var x=_[0];null!==x.leftBounds&&4===x.leftBounds.length&&p.bounds.fromArray(x.leftBounds),null!==x.rightBounds&&4===x.rightBounds.length&&f.bounds.fromArray(x.rightBounds)}return function(){for(var e=0;e<s.length;e++){var t=s[e],n=w(e);if(void 0!==n&&void 0!==n.pose){if(null===n.pose)return;var i=n.pose;!1===i.hasPosition&&t.position.set(.2,-.6,-.05),null!==i.position&&t.position.fromArray(i.position),null!==i.orientation&&t.quaternion.fromArray(i.orientation),t.matrix.compose(t.position,t.quaternion,t.scale),t.matrix.premultiply(o),t.matrix.decompose(t.position,t.quaternion,t.scale),t.matrixWorldNeedsUpdate=!0,t.visible=!0;var r="Daydream Controller"===n.id?0:1;b[e]!==n.buttons[r].pressed&&(b[e]=n.buttons[r].pressed,!0===b[e]?t.dispatchEvent({type:"selectstart"}):(t.dispatchEvent({type:"selectend"}),t.dispatchEvent({type:"select"})))}else t.visible=!1}}(),v},this.getStandingMatrix=function(){return o},this.isPresenting=y;var x=new kn;this.setAnimationLoop=function(e){x.setAnimationLoop(e)},this.submitFrame=function(){y()&&n.submitFrame()},this.dispose=function(){"undefined"!=typeof window&&window.removeEventListener("vrdisplaypresentchange",_)}}function ws(e){var t=e.context,n=null,i=null,r=1,s=null,o="stage",a=null,l=[],u=[];function c(){return null!==i&&null!==s}var h=new us;h.layers.enable(1),h.viewport=new dn;var d=new us;d.layers.enable(2),d.viewport=new dn;var p=new cs([h,d]);function f(e){var t=l[u.indexOf(e.inputSource)];t&&t.dispatchEvent({type:e.type})}function g(){e.setFramebuffer(null),y.stop()}function m(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.getInverse(e.matrixWorld)}p.layers.enable(1),p.layers.enable(2),this.enabled=!1,this.getController=function(e){var t=l[e];return void 0===t&&((t=new as).matrixAutoUpdate=!1,t.visible=!1,l[e]=t),t},this.getDevice=function(){return n},this.setDevice=function(e){void 0!==e&&(n=e),e instanceof XRDevice&&t.setCompatibleXRDevice(e)},this.setFramebufferScaleFactor=function(e){r=e},this.setFrameOfReferenceType=function(e){o=e},this.setSession=function(n){null!==(i=n)&&(i.addEventListener("select",f),i.addEventListener("selectstart",f),i.addEventListener("selectend",f),i.addEventListener("end",g),i.baseLayer=new XRWebGLLayer(i,t,{framebufferScaleFactor:r}),i.requestFrameOfReference(o).then(function(t){s=t,e.setFramebuffer(i.baseLayer.framebuffer),y.setContext(i),y.start()}),u=i.getInputSources(),i.addEventListener("inputsourceschange",function(){u=i.getInputSources(),console.log(u);for(var e=0;e<l.length;e++)l[e].userData.inputSource=u[e]}))},this.getCamera=function(e){if(c()){var t=e.parent,n=p.cameras;m(p,t);for(var i=0;i<n.length;i++)m(n[i],t);e.matrixWorld.copy(p.matrixWorld);for(var r=e.children,s=(i=0,r.length);i<s;i++)r[i].updateMatrixWorld(!0);return _s(p,h,d),p}return e},this.isPresenting=c;var v=null,y=new kn;y.setAnimationLoop(function(e,t){if(null!==(a=t.getDevicePose(s)))for(var n=i.baseLayer,r=t.views,o=0;o<r.length;o++){var c=r[o],h=n.getViewport(c),d=a.getViewMatrix(c),f=p.cameras[o];f.matrix.fromArray(d).getInverse(f.matrix),f.projectionMatrix.fromArray(c.projectionMatrix),f.viewport.set(h.x,h.y,h.width,h.height),0===o&&p.matrix.copy(f.matrix)}for(o=0;o<l.length;o++){var g=l[o],m=u[o];if(m){var y=t.getInputPose(m,s);if(null!==y){"targetRay"in y?g.matrix.elements=y.targetRay.transformMatrix:"pointerMatrix"in y&&(g.matrix.elements=y.pointerMatrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.visible=!0;continue}}g.visible=!1}v&&v(e)}),this.setAnimationLoop=function(e){v=e},this.dispose=function(){},this.getStandingMatrix=function(){return console.warn("THREE.WebXRManager: getStandingMatrix() is no longer needed."),new THREE.Matrix4},this.submitFrame=function(){}}function xs(e){console.log("THREE.WebGLRenderer",m);var t=void 0!==(e=e||{}).canvas?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),n=void 0!==e.context?e.context:null,i=void 0!==e.alpha&&e.alpha,r=void 0===e.depth||e.depth,s=void 0===e.stencil||e.stencil,o=void 0!==e.antialias&&e.antialias,a=void 0===e.premultipliedAlpha||e.premultipliedAlpha,l=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,u=void 0!==e.powerPreference?e.powerPreference:"default",c=null,h=null;this.domElement=t,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=ge,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var d,p,f,g,v,y,_,b,w,x,C,S,E,T,M,O,A,D,k=this,P=!1,R=null,L=null,N=null,F=-1,V={geometry:null,program:null,wireframe:!1},j=null,B=null,z=new dn,H=new dn,U=null,G=0,W=t.width,$=t.height,q=1,Y=new dn(0,0,W,$),Z=new dn(0,0,W,$),K=!1,X=new _n,Q=new Pi,J=!1,ee=!1,te=new Jt,ne=new tn;function ie(){return null===L?q:1}try{var re={alpha:i,depth:r,stencil:s,antialias:o,premultipliedAlpha:a,preserveDrawingBuffer:l,powerPreference:u};if(t.addEventListener("webglcontextlost",le,!1),t.addEventListener("webglcontextrestored",ue,!1),null===(d=n||t.getContext("webgl",re)||t.getContext("experimental-webgl",re)))throw null!==t.getContext("webgl")?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");void 0===d.getShaderPrecisionFormat&&(d.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Ce){console.error("THREE.WebGLRenderer: "+Ce.message)}function se(){p=new Ri(d),(f=new ki(d,p,e)).isWebGL2||(p.get("WEBGL_depth_texture"),p.get("OES_texture_float"),p.get("OES_texture_half_float"),p.get("OES_texture_half_float_linear"),p.get("OES_standard_derivatives"),p.get("OES_element_index_uint"),p.get("ANGLE_instanced_arrays")),p.get("OES_texture_float_linear"),D=new os(d,p,f),(g=new rs(d,p,D,f)).scissor(H.copy(Z).multiplyScalar(q)),g.viewport(z.copy(Y).multiplyScalar(q)),v=new Fi(d),y=new Wr,_=new ss(d,p,g,y,f,D,v),b=new Pn(d),w=new Li(d,b,v),x=new Bi(w,v),M=new ji(d),C=new Gr(k,p,f),S=new Zr,E=new es,T=new Ai(k,g,x,a),O=new Di(d,p,v,f),A=new Ni(d,p,v,f),v.programs=C.programs,k.context=d,k.capabilities=f,k.extensions=p,k.properties=y,k.renderLists=S,k.state=g,k.info=v}se();var oe=null;"undefined"!=typeof navigator&&(oe="xr"in navigator?new ws(k):new bs(k)),this.vr=oe;var ae=new is(k,x,f.maxTextureSize);function le(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),P=!0}function ue(){console.log("THREE.WebGLRenderer: Context Restored."),P=!1,se()}function ce(e){var t=e.target;t.removeEventListener("dispose",ce),function(e){he(e),y.remove(e)}(t)}function he(e){var t=y.get(e).program;e.program=void 0,void 0!==t&&C.releaseProgram(t)}this.shadowMap=ae,this.getContext=function(){return d},this.getContextAttributes=function(){return d.getContextAttributes()},this.forceContextLoss=function(){var e=p.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=p.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return q},this.setPixelRatio=function(e){void 0!==e&&(q=e,this.setSize(W,$,!1))},this.getSize=function(){return{width:W,height:$}},this.setSize=function(e,n,i){oe.isPresenting()?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(W=e,$=n,t.width=e*q,t.height=n*q,!1!==i&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(){return{width:W*q,height:$*q}},this.setDrawingBufferSize=function(e,n,i){W=e,$=n,q=i,t.width=e*i,t.height=n*i,this.setViewport(0,0,e,n)},this.getCurrentViewport=function(){return z},this.setViewport=function(e,t,n,i){Y.set(e,$-t-i,n,i),g.viewport(z.copy(Y).multiplyScalar(q))},this.setScissor=function(e,t,n,i){Z.set(e,$-t-i,n,i),g.scissor(H.copy(Z).multiplyScalar(q))},this.setScissorTest=function(e){g.setScissorTest(K=e)},this.getClearColor=function(){return T.getClearColor()},this.setClearColor=function(){T.setClearColor.apply(T,arguments)},this.getClearAlpha=function(){return T.getClearAlpha()},this.setClearAlpha=function(){T.setClearAlpha.apply(T,arguments)},this.clear=function(e,t,n){var i=0;(void 0===e||e)&&(i|=16384),(void 0===t||t)&&(i|=256),(void 0===n||n)&&(i|=1024),d.clear(i)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",le,!1),t.removeEventListener("webglcontextrestored",ue,!1),S.dispose(),E.dispose(),y.dispose(),x.dispose(),oe.dispose(),fe.stop()},this.renderBufferImmediate=function(e,t){g.initAttributes();var n=y.get(e);e.hasPositions&&!n.position&&(n.position=d.createBuffer()),e.hasNormals&&!n.normal&&(n.normal=d.createBuffer()),e.hasUvs&&!n.uv&&(n.uv=d.createBuffer()),e.hasColors&&!n.color&&(n.color=d.createBuffer());var i=t.getAttributes();e.hasPositions&&(d.bindBuffer(34962,n.position),d.bufferData(34962,e.positionArray,35048),g.enableAttribute(i.position),d.vertexAttribPointer(i.position,3,5126,!1,0,0)),e.hasNormals&&(d.bindBuffer(34962,n.normal),d.bufferData(34962,e.normalArray,35048),g.enableAttribute(i.normal),d.vertexAttribPointer(i.normal,3,5126,!1,0,0)),e.hasUvs&&(d.bindBuffer(34962,n.uv),d.bufferData(34962,e.uvArray,35048),g.enableAttribute(i.uv),d.vertexAttribPointer(i.uv,2,5126,!1,0,0)),e.hasColors&&(d.bindBuffer(34962,n.color),d.bufferData(34962,e.colorArray,35048),g.enableAttribute(i.color),d.vertexAttribPointer(i.color,3,5126,!1,0,0)),g.disableUnusedAttributes(),d.drawArrays(4,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,n,i,r,s){var o=r.isMesh&&r.normalMatrix.determinant()<0;g.setMaterial(i,o);var a=_e(e,t,i,r),l=!1;V.geometry===n.id&&V.program===a.id&&V.wireframe===(!0===i.wireframe)||(V.geometry=n.id,V.program=a.id,V.wireframe=!0===i.wireframe,l=!0),r.morphTargetInfluences&&(M.update(r,n,i,a),l=!0);var u,c=n.index,h=n.attributes.position,m=1;!0===i.wireframe&&(c=w.getWireframeAttribute(n),m=2);var v=O;null!==c&&(u=b.get(c),(v=A).setIndex(u)),l&&(function(e,t,n){if(n&&n.isInstancedBufferGeometry&!f.isWebGL2&&null===p.get("ANGLE_instanced_arrays"))console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");else{g.initAttributes();var i=n.attributes,r=t.getAttributes(),s=e.defaultAttributeValues;for(var o in r){var a=r[o];if(a>=0){var l=i[o];if(void 0!==l){var u=l.normalized,c=l.itemSize,h=b.get(l);if(void 0===h)continue;var m=h.buffer,v=h.type,y=h.bytesPerElement;if(l.isInterleavedBufferAttribute){var _=l.data,w=_.stride,x=l.offset;_&&_.isInstancedInterleavedBuffer?(g.enableAttributeAndDivisor(a,_.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=_.meshPerAttribute*_.count)):g.enableAttribute(a),d.bindBuffer(34962,m),d.vertexAttribPointer(a,c,v,u,w*y,x*y)}else l.isInstancedBufferAttribute?(g.enableAttributeAndDivisor(a,l.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=l.meshPerAttribute*l.count)):g.enableAttribute(a),d.bindBuffer(34962,m),d.vertexAttribPointer(a,c,v,u,0,0)}else if(void 0!==s){var C=s[o];if(void 0!==C)switch(C.length){case 2:d.vertexAttrib2fv(a,C);break;case 3:d.vertexAttrib3fv(a,C);break;case 4:d.vertexAttrib4fv(a,C);break;default:d.vertexAttrib1fv(a,C)}}}}g.disableUnusedAttributes()}}(i,a,n),null!==c&&d.bindBuffer(34963,u.buffer));var y=1/0;null!==c?y=c.count:void 0!==h&&(y=h.count);var _=n.drawRange.start*m,x=n.drawRange.count*m,C=null!==s?s.start*m:0,S=null!==s?s.count*m:1/0,E=Math.max(_,C),T=Math.min(y,_+x,C+S)-1,I=Math.max(0,T-E+1);if(0!==I){if(r.isMesh)if(!0===i.wireframe)g.setLineWidth(i.wireframeLinewidth*ie()),v.setMode(1);else switch(r.drawMode){case Nt:v.setMode(4);break;case Ft:v.setMode(5);break;case Vt:v.setMode(6)}else if(r.isLine){var D=i.linewidth;void 0===D&&(D=1),g.setLineWidth(D*ie()),v.setMode(r.isLineSegments?1:r.isLineLoop?2:3)}else r.isPoints?v.setMode(0):r.isSprite&&v.setMode(4);n&&n.isInstancedBufferGeometry?n.maxInstancedCount>0&&v.renderInstances(n,E,I):v.render(E,I)}},this.compile=function(e,t){(h=E.get(e,t)).init(),e.traverse(function(e){e.isLight&&(h.pushLight(e),e.castShadow&&h.pushShadow(e))}),h.setupLights(t),e.traverse(function(t){if(t.material)if(Array.isArray(t.material))for(var n=0;n<t.material.length;n++)ye(t.material[n],e.fog,t);else ye(t.material,e.fog,t)})};var de,pe=null,fe=new kn;function me(e,t,n,i){for(var r=0,s=e.length;r<s;r++){var o=e[r],a=o.object,l=o.geometry,u=void 0===i?o.material:i,c=o.group;if(n.isArrayCamera){B=n;for(var d=n.cameras,p=0,f=d.length;p<f;p++){var m=d[p];if(a.layers.test(m.layers)){if("viewport"in m)g.viewport(z.copy(m.viewport));else{var v=m.bounds;g.viewport(z.set(v.x*W,v.y*$,v.z*W,v.w*$).multiplyScalar(q))}h.setupLights(m),ve(a,t,m,l,u,c)}}}else B=null,ve(a,t,n,l,u,c)}}function ve(e,t,n,i,r,s){if(e.onBeforeRender(k,t,n,i,r,s),h=E.get(t,B||n),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){g.setMaterial(r);var o=_e(n,t.fog,r,e);V.geometry=null,V.program=null,V.wireframe=!1,function(e,t){e.render(function(e){k.renderBufferImmediate(e,t)})}(e,o)}else k.renderBufferDirect(n,t.fog,i,r,e,s);e.onAfterRender(k,t,n,i,r,s),h=E.get(t,B||n)}function ye(e,t,n){var i=y.get(e),r=h.state.lights,s=i.lightsHash,o=r.state.hash,a=C.getParameters(e,r.state,h.state.shadowsArray,t,Q.numPlanes,Q.numIntersection,n),l=C.getProgramCode(e,a),u=i.program,c=!0;if(void 0===u)e.addEventListener("dispose",ce);else if(u.code!==l)he(e);else if(s.stateID!==o.stateID||s.directionalLength!==o.directionalLength||s.pointLength!==o.pointLength||s.spotLength!==o.spotLength||s.rectAreaLength!==o.rectAreaLength||s.hemiLength!==o.hemiLength||s.shadowsLength!==o.shadowsLength)s.stateID=o.stateID,s.directionalLength=o.directionalLength,s.pointLength=o.pointLength,s.spotLength=o.spotLength,s.rectAreaLength=o.rectAreaLength,s.hemiLength=o.hemiLength,s.shadowsLength=o.shadowsLength,c=!1;else{if(void 0!==a.shaderID)return;c=!1}if(c){if(a.shaderID){var d=Dn[a.shaderID];i.shader={name:e.type,uniforms:wn(d.uniforms),vertexShader:d.vertexShader,fragmentShader:d.fragmentShader}}else i.shader={name:e.type,uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader};e.onBeforeCompile(i.shader,k),l=C.getProgramCode(e,a),u=C.acquireProgram(e,i.shader,a,l),i.program=u,e.program=u}var p=u.getAttributes();if(e.morphTargets){e.numSupportedMorphTargets=0;for(var f=0;f<k.maxMorphTargets;f++)p["morphTarget"+f]>=0&&e.numSupportedMorphTargets++}if(e.morphNormals)for(e.numSupportedMorphNormals=0,f=0;f<k.maxMorphNormals;f++)p["morphNormal"+f]>=0&&e.numSupportedMorphNormals++;var g=i.shader.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(i.numClippingPlanes=Q.numPlanes,i.numIntersection=Q.numIntersection,g.clippingPlanes=Q.uniform),i.fog=t,void 0===s&&(i.lightsHash=s={}),s.stateID=o.stateID,s.directionalLength=o.directionalLength,s.pointLength=o.pointLength,s.spotLength=o.spotLength,s.rectAreaLength=o.rectAreaLength,s.hemiLength=o.hemiLength,s.shadowsLength=o.shadowsLength,e.lights&&(g.ambientLightColor.value=r.state.ambient,g.directionalLights.value=r.state.directional,g.spotLights.value=r.state.spot,g.rectAreaLights.value=r.state.rectArea,g.pointLights.value=r.state.point,g.hemisphereLights.value=r.state.hemi,g.directionalShadowMap.value=r.state.directionalShadowMap,g.directionalShadowMatrix.value=r.state.directionalShadowMatrix,g.spotShadowMap.value=r.state.spotShadowMap,g.spotShadowMatrix.value=r.state.spotShadowMatrix,g.pointShadowMap.value=r.state.pointShadowMap,g.pointShadowMatrix.value=r.state.pointShadowMatrix);var m=i.program.getUniforms(),v=kr.seqWithValue(m.seq,g);i.uniformsList=v}function _e(e,t,n,i){G=0;var r=y.get(n),s=r.lightsHash,o=h.state.lights.state.hash;J&&(ee||e!==j)&&Q.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,e,r,e===j&&n.id===F),!1===n.needsUpdate&&(void 0===r.program?n.needsUpdate=!0:n.fog&&r.fog!==t?n.needsUpdate=!0:(!n.lights||s.stateID===o.stateID&&s.directionalLength===o.directionalLength&&s.pointLength===o.pointLength&&s.spotLength===o.spotLength&&s.rectAreaLength===o.rectAreaLength&&s.hemiLength===o.hemiLength&&s.shadowsLength===o.shadowsLength)&&(void 0===r.numClippingPlanes||r.numClippingPlanes===Q.numPlanes&&r.numIntersection===Q.numIntersection)||(n.needsUpdate=!0)),n.needsUpdate&&(ye(n,t,i),n.needsUpdate=!1);var a,l,u=!1,c=!1,p=!1,m=r.program,v=m.getUniforms(),_=r.shader.uniforms;if(g.useProgram(m.program)&&(u=!0,c=!0,p=!0),n.id!==F&&(F=n.id,c=!0),u||j!==e){if(v.setValue(d,"projectionMatrix",e.projectionMatrix),f.logarithmicDepthBuffer&&v.setValue(d,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),j!==e&&(j=e,c=!0,p=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.envMap){var b=v.map.cameraPosition;void 0!==b&&b.setValue(d,ne.setFromMatrixPosition(e.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning)&&v.setValue(d,"viewMatrix",e.matrixWorldInverse)}if(n.skinning){v.setOptional(d,i,"bindMatrix"),v.setOptional(d,i,"bindMatrixInverse");var w=i.skeleton;if(w)if(f.floatVertexTextures){if(void 0===w.boneTexture){var x=Math.sqrt(4*w.bones.length);x=Xt.ceilPowerOfTwo(x),x=Math.max(x,4);var C=new Float32Array(x*x*4);C.set(w.boneMatrices);var S=new gn(C,x,x,Xe,Ue);S.needsUpdate=!0,w.boneMatrices=C,w.boneTexture=S,w.boneTextureSize=x}v.setValue(d,"boneTexture",w.boneTexture),v.setValue(d,"boneTextureSize",w.boneTextureSize)}else v.setOptional(d,w,"boneMatrices")}return c&&(v.setValue(d,"toneMappingExposure",k.toneMappingExposure),v.setValue(d,"toneMappingWhitePoint",k.toneMappingWhitePoint),n.lights&&((a=_).ambientLightColor.needsUpdate=l=p,a.directionalLights.needsUpdate=l,a.pointLights.needsUpdate=l,a.spotLights.needsUpdate=l,a.rectAreaLights.needsUpdate=l,a.hemisphereLights.needsUpdate=l),t&&n.fog&&function(e,t){e.fogColor.value=t.color,t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)}(_,t),n.isMeshBasicMaterial?be(_,n):n.isMeshLambertMaterial?(be(_,n),function(e,t){t.emissiveMap&&(_.emissiveMap.value=t.emissiveMap)}(0,n)):n.isMeshPhongMaterial?(be(_,n),n.isMeshToonMaterial?function(e,t){we(e,t),t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(_,n):we(_,n)):n.isMeshStandardMaterial?(be(_,n),n.isMeshPhysicalMaterial?function(e,t){xe(e,t),e.reflectivity.value=t.reflectivity,e.clearCoat.value=t.clearCoat,e.clearCoatRoughness.value=t.clearCoatRoughness}(_,n):xe(_,n)):n.isMeshMatcapMaterial?(be(_,n),function(e,t){t.matcap&&(e.matcap.value=t.matcap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===I&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===I&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(_,n)):n.isMeshDepthMaterial?(be(_,n),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(_,n)):n.isMeshDistanceMaterial?(be(_,n),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(_,n)):n.isMeshNormalMaterial?(be(_,n),function(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===I&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===I&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(_,n)):n.isLineBasicMaterial?(function(e,t){e.diffuse.value=t.color,e.opacity.value=t.opacity}(_,n),n.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(_,n)):n.isPointsMaterial?function(e,t){e.diffuse.value=t.color,e.opacity.value=t.opacity,e.size.value=t.size*q,e.scale.value=.5*$,e.map.value=t.map,null!==t.map&&(!0===t.map.matrixAutoUpdate&&t.map.updateMatrix(),e.uvTransform.value.copy(t.map.matrix))}(_,n):n.isSpriteMaterial?function(e,t){e.diffuse.value=t.color,e.opacity.value=t.opacity,e.rotation.value=t.rotation,e.map.value=t.map,null!==t.map&&(!0===t.map.matrixAutoUpdate&&t.map.updateMatrix(),e.uvTransform.value.copy(t.map.matrix))}(_,n):n.isShadowMaterial&&(_.color.value=n.color,_.opacity.value=n.opacity),void 0!==_.ltc_1&&(_.ltc_1.value=An.LTC_1),void 0!==_.ltc_2&&(_.ltc_2.value=An.LTC_2),kr.upload(d,r.uniformsList,_,k)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(kr.upload(d,r.uniformsList,_,k),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&v.setValue(d,"center",i.center),v.setValue(d,"modelViewMatrix",i.modelViewMatrix),v.setValue(d,"normalMatrix",i.normalMatrix),v.setValue(d,"modelMatrix",i.matrixWorld),m}function be(e,t){var n;e.opacity.value=t.opacity,t.color&&(e.diffuse.value=t.color),t.emissive&&e.emissive.value.copy(t.emissive).multiplyScalar(t.emissiveIntensity),t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.specularMap&&(e.specularMap.value=t.specularMap),t.envMap&&(e.envMap.value=t.envMap,e.flipEnvMap.value=t.envMap.isCubeTexture?-1:1,e.reflectivity.value=t.reflectivity,e.refractionRatio.value=t.refractionRatio,e.maxMipLevel.value=y.get(t.envMap).__maxMipLevel),t.lightMap&&(e.lightMap.value=t.lightMap,e.lightMapIntensity.value=t.lightMapIntensity),t.aoMap&&(e.aoMap.value=t.aoMap,e.aoMapIntensity.value=t.aoMapIntensity),t.map?n=t.map:t.specularMap?n=t.specularMap:t.displacementMap?n=t.displacementMap:t.normalMap?n=t.normalMap:t.bumpMap?n=t.bumpMap:t.roughnessMap?n=t.roughnessMap:t.metalnessMap?n=t.metalnessMap:t.alphaMap?n=t.alphaMap:t.emissiveMap&&(n=t.emissiveMap),void 0!==n&&(n.isWebGLRenderTarget&&(n=n.texture),!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}function we(e,t){e.specular.value=t.specular,e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===I&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===I&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function xe(e,t){e.roughness.value=t.roughness,e.metalness.value=t.metalness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap),t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===I&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===I&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}fe.setAnimationLoop(function(e){oe.isPresenting()||pe&&pe(e)}),"undefined"!=typeof window&&fe.setContext(window),this.setAnimationLoop=function(e){pe=e,oe.setAnimationLoop(e),fe.start()},this.render=function(e,t,n,i){if(t&&t.isCamera){if(!P){V.geometry=null,V.program=null,V.wireframe=!1,F=-1,j=null,!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),oe.enabled&&(t=oe.getCamera(t)),(h=E.get(e,t)).init(),e.onBeforeRender(k,e,t,n),te.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),X.setFromMatrix(te),J=Q.init(this.clippingPlanes,ee=this.localClippingEnabled,t),(c=S.get(e,t)).init(),function e(t,n,i){if(!1!==t.visible){if(t.layers.test(n.layers))if(t.isLight)h.pushLight(t),t.castShadow&&h.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||X.intersectsSprite(t)){i&&ne.setFromMatrixPosition(t.matrixWorld).applyMatrix4(te);var r=x.update(t);c.push(t,r,s=t.material,ne.z,null)}}else if(t.isImmediateRenderObject)i&&ne.setFromMatrixPosition(t.matrixWorld).applyMatrix4(te),c.push(t,null,t.material,ne.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.update(),!t.frustumCulled||X.intersectsObject(t))){i&&ne.setFromMatrixPosition(t.matrixWorld).applyMatrix4(te),r=x.update(t);var s=t.material;if(Array.isArray(s))for(var o=r.groups,a=0,l=o.length;a<l;a++){var u=o[a],d=s[u.materialIndex];d&&d.visible&&c.push(t,r,d,ne.z,u)}else s.visible&&c.push(t,r,s,ne.z,null)}var p=t.children;for(a=0,l=p.length;a<l;a++)e(p[a],n,i)}}(e,t,k.sortObjects),!0===k.sortObjects&&c.sort(),J&&Q.beginShadows(),ae.render(h.state.shadowsArray,e,t),h.setupLights(t),J&&Q.endShadows(),this.info.autoReset&&this.info.reset(),void 0===n&&(n=null),this.setRenderTarget(n),T.render(c,e,t,i);var r=c.opaque,s=c.transparent;if(e.overrideMaterial){var o=e.overrideMaterial;r.length&&me(r,e,t,o),s.length&&me(s,e,t,o)}else r.length&&me(r,e,t),s.length&&me(s,e,t);n&&_.updateRenderTargetMipmap(n),g.buffers.depth.setTest(!0),g.buffers.depth.setMask(!0),g.buffers.color.setMask(!0),g.setPolygonOffset(!1),e.onAfterRender(k,e,t),oe.enabled&&oe.submitFrame(),c=null,h=null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.allocTextureUnit=function(){var e=G;return e>=f.maxTextures&&console.warn("THREE.WebGLRenderer: Trying to use "+e+" texture units while this GPU supports only "+f.maxTextures),G+=1,e},this.setTexture2D=(de=!1,function(e,t){e&&e.isWebGLRenderTarget&&(de||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),de=!0),e=e.texture),_.setTexture2D(e,t)}),this.setTexture3D=function(e,t){_.setTexture3D(e,t)},this.setTexture=function(){var e=!1;return function(t,n){e||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),e=!0),_.setTexture2D(t,n)}}(),this.setTextureCube=function(){var e=!1;return function(t,n){t&&t.isWebGLRenderTargetCube&&(e||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),e=!0),t=t.texture),t&&t.isCubeTexture||Array.isArray(t.image)&&6===t.image.length?_.setTextureCube(t,n):_.setTextureCubeDynamic(t,n)}}(),this.setFramebuffer=function(e){R=e},this.getRenderTarget=function(){return L},this.setRenderTarget=function(e){L=e,e&&void 0===y.get(e).__webglFramebuffer&&_.setupRenderTarget(e);var t=R,n=!1;if(e){var i=y.get(e).__webglFramebuffer;e.isWebGLRenderTargetCube?(t=i[e.activeCubeFace],n=!0):t=i,z.copy(e.viewport),H.copy(e.scissor),U=e.scissorTest}else z.copy(Y).multiplyScalar(q),H.copy(Z).multiplyScalar(q),U=K;if(N!==t&&(d.bindFramebuffer(36160,t),N=t),g.viewport(z),g.scissor(H),g.setScissorTest(U),n){var r=y.get(e.texture);d.framebufferTexture2D(36160,36064,34069+e.activeCubeFace,r.__webglTexture,e.activeMipMapLevel)}},this.readRenderTargetPixels=function(e,t,n,i,r,s){if(e&&e.isWebGLRenderTarget){var o=y.get(e).__webglFramebuffer;if(o){var a=!1;o!==N&&(d.bindFramebuffer(36160,o),a=!0);try{var l=e.texture,u=l.format,c=l.type;if(u!==Xe&&D.convert(u)!==d.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(c===Fe||D.convert(c)===d.getParameter(35738)||c===Ue&&(f.isWebGL2||p.get("OES_texture_float")||p.get("WEBGL_color_buffer_float"))||c===Ge&&p.get(f.isWebGL2?"EXT_color_buffer_float":"EXT_color_buffer_half_float")))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===d.checkFramebufferStatus(36160)?t>=0&&t<=e.width-i&&n>=0&&n<=e.height-r&&d.readPixels(t,n,i,r,D.convert(u),D.convert(c),s):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{a&&d.bindFramebuffer(36160,N)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t,n){var i=t.image.width,r=t.image.height,s=D.convert(t.format);this.setTexture2D(t,0),d.copyTexImage2D(3553,n||0,s,e.x,e.y,i,r,0)},this.copyTextureToTexture=function(e,t,n,i){var r=t.image.width,s=t.image.height,o=D.convert(n.format),a=D.convert(n.type);this.setTexture2D(n,0),t.isDataTexture?d.texSubImage2D(3553,i||0,e.x,e.y,r,s,o,a,t.image.data):d.texSubImage2D(3553,i||0,e.x,e.y,o,a,t.image)}}function Cs(e,t){this.name="",this.color=new In(e),this.density=void 0!==t?t:25e-5}function Ss(e,t,n){this.name="",this.color=new In(e),this.near=void 0!==t?t:1,this.far=void 0!==n?n:1e3}function Es(){Hn.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function Ts(e,t){this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function Ms(e,t,n,i){this.data=e,this.itemSize=t,this.offset=n,this.normalized=!0===i}function Is(e){Si.call(this),this.type="SpriteMaterial",this.color=new In(16777215),this.map=null,this.rotation=0,this.sizeAttenuation=!0,this.lights=!1,this.transparent=!0,this.setValues(e)}function Os(e){if(Hn.call(this),this.type="Sprite",void 0===hs){hs=new oi;var t=new Ts(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);hs.setIndex([0,1,2,0,2,3]),hs.addAttribute("position",new Ms(t,3,0,!1)),hs.addAttribute("uv",new Ms(t,2,3,!1))}this.geometry=hs,this.material=void 0!==e?e:new Is,this.center=new Qt(.5,.5)}function As(){Hn.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function Ds(e,t){e&&e.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),Oi.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Jt,this.bindMatrixInverse=new Jt}function ks(e,t){if(this.bones=(e=e||[]).slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var n=0,i=this.bones.length;n<i;n++)this.boneInverses.push(new Jt)}}function Ps(){Hn.call(this),this.type="Bone"}function Rs(e){Si.call(this),this.type="LineBasicMaterial",this.color=new In(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(e)}function Ls(e,t,n){1===n&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),Hn.call(this),this.type="Line",this.geometry=void 0!==e?e:new oi,this.material=void 0!==t?t:new Rs({color:16777215*Math.random()})}function Ns(e,t){Ls.call(this,e,t),this.type="LineSegments"}function Fs(e,t){Ls.call(this,e,t),this.type="LineLoop"}function Vs(e){Si.call(this),this.type="PointsMaterial",this.color=new In(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.lights=!1,this.setValues(e)}function js(e,t){Hn.call(this),this.type="Points",this.geometry=void 0!==e?e:new oi,this.material=void 0!==t?t:new Vs({color:16777215*Math.random()})}function Bs(e,t,n,i,r,s,o,a,l){hn.call(this,e,t,n,i,r,s,o,a,l),this.format=void 0!==o?o:Ke,this.minFilter=void 0!==s?s:Re,this.magFilter=void 0!==r?r:Re,this.generateMipmaps=!1}function zs(e,t,n,i,r,s,o,a,l,u,c,h){hn.call(this,null,s,o,a,l,u,i,r,c,h),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}function Hs(e,t,n,i,r,s,o,a,l){hn.call(this,e,t,n,i,r,s,o,a,l),this.needsUpdate=!0}function Us(e,t,n,i,r,s,o,a,l,u){if((u=void 0!==u?u:tt)!==tt&&u!==nt)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&u===tt&&(n=Be),void 0===n&&u===nt&&(n=Ye),hn.call(this,null,i,r,s,o,a,u,n,l),this.image={width:e,height:t},this.magFilter=void 0!==o?o:De,this.minFilter=void 0!==a?a:De,this.flipY=!1,this.generateMipmaps=!1}function Gs(e){oi.call(this),this.type="WireframeGeometry";var t,n,i,r,s,o,a,l,u,c,h=[],d=[0,0],p={},f=["a","b","c"];if(e&&e.isGeometry){var g=e.faces;for(t=0,i=g.length;t<i;t++){var m=g[t];for(n=0;n<3;n++)a=m[f[n]],l=m[f[(n+1)%3]],d[0]=Math.min(a,l),d[1]=Math.max(a,l),void 0===p[u=d[0]+","+d[1]]&&(p[u]={index1:d[0],index2:d[1]})}for(u in p)h.push((c=e.vertices[(o=p[u]).index1]).x,c.y,c.z),h.push((c=e.vertices[o.index2]).x,c.y,c.z)}else if(e&&e.isBufferGeometry){var v,y,_,b,w;if(c=new tn,null!==e.index){for(v=e.attributes.position,y=e.index,0===(_=e.groups).length&&(_=[{start:0,count:y.count,materialIndex:0}]),r=0,s=_.length;r<s;++r)for(t=w=(b=_[r]).start,i=w+b.count;t<i;t+=3)for(n=0;n<3;n++)a=y.getX(t+n),l=y.getX(t+(n+1)%3),d[0]=Math.min(a,l),d[1]=Math.max(a,l),void 0===p[u=d[0]+","+d[1]]&&(p[u]={index1:d[0],index2:d[1]});for(u in p)c.fromBufferAttribute(v,(o=p[u]).index1),h.push(c.x,c.y,c.z),c.fromBufferAttribute(v,o.index2),h.push(c.x,c.y,c.z)}else for(t=0,i=(v=e.attributes.position).count/3;t<i;t++)for(n=0;n<3;n++)c.fromBufferAttribute(v,3*t+n),h.push(c.x,c.y,c.z),c.fromBufferAttribute(v,3*t+(n+1)%3),h.push(c.x,c.y,c.z)}this.addAttribute("position",new ti(h,3))}function Ws(e,t,n){$n.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n},this.fromBufferGeometry(new $s(e,t,n)),this.mergeVertices()}function $s(e,t,n){oi.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:n};var i,r,s=[],o=[],a=[],l=[],u=new tn,c=new tn,h=new tn,d=new tn,p=new tn;e.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");var f=t+1;for(i=0;i<=n;i++){var g=i/n;for(r=0;r<=t;r++){var m=r/t;e(m,g,c),o.push(c.x,c.y,c.z),m-1e-5>=0?(e(m-1e-5,g,h),d.subVectors(c,h)):(e(m+1e-5,g,h),d.subVectors(h,c)),g-1e-5>=0?(e(m,g-1e-5,h),p.subVectors(c,h)):(e(m,g+1e-5,h),p.subVectors(h,c)),u.crossVectors(d,p).normalize(),a.push(u.x,u.y,u.z),l.push(m,g)}}for(i=0;i<n;i++)for(r=0;r<t;r++){var v=i*f+r+1,y=(i+1)*f+r+1,_=(i+1)*f+r;s.push(i*f+r,v,_),s.push(v,y,_)}this.setIndex(s),this.addAttribute("position",new ti(o,3)),this.addAttribute("normal",new ti(a,3)),this.addAttribute("uv",new ti(l,2))}function qs(e,t,n,i){$n.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:i},this.fromBufferGeometry(new Ys(e,t,n,i)),this.mergeVertices()}function Ys(e,t,n,i){oi.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:i},n=n||1;var r=[],s=[];function o(e,t,n,i){var r,s,o=Math.pow(2,i),l=[];for(r=0;r<=o;r++){l[r]=[];var u=e.clone().lerp(n,r/o),c=t.clone().lerp(n,r/o),h=o-r;for(s=0;s<=h;s++)l[r][s]=0===s&&r===o?u:u.clone().lerp(c,s/h)}for(r=0;r<o;r++)for(s=0;s<2*(o-r)-1;s++){var d=Math.floor(s/2);s%2==0?(a(l[r][d+1]),a(l[r+1][d]),a(l[r][d])):(a(l[r][d+1]),a(l[r+1][d+1]),a(l[r+1][d]))}}function a(e){r.push(e.x,e.y,e.z)}function l(t,n){var i=3*t;n.x=e[i+0],n.y=e[i+1],n.z=e[i+2]}function u(e,t,n,i){i<0&&1===e.x&&(s[t]=e.x-1),0===n.x&&0===n.z&&(s[t]=i/2/Math.PI+.5)}function c(e){return Math.atan2(e.z,-e.x)}!function(e){for(var n=new tn,i=new tn,r=new tn,s=0;s<t.length;s+=3)l(t[s+0],n),l(t[s+1],i),l(t[s+2],r),o(n,i,r,e)}(i=i||0),function(e){for(var t=new tn,n=0;n<r.length;n+=3)t.x=r[n+0],t.y=r[n+1],t.z=r[n+2],t.normalize().multiplyScalar(e),r[n+0]=t.x,r[n+1]=t.y,r[n+2]=t.z}(n),function(){for(var e=new tn,t=0;t<r.length;t+=3){e.x=r[t+0],e.y=r[t+1],e.z=r[t+2];var n=c(e)/2/Math.PI+.5,i=(o=e,Math.atan2(-o.y,Math.sqrt(o.x*o.x+o.z*o.z))/Math.PI+.5);s.push(n,1-i)}var o;(function(){for(var e=new tn,t=new tn,n=new tn,i=new tn,o=new Qt,a=new Qt,l=new Qt,h=0,d=0;h<r.length;h+=9,d+=6){e.set(r[h+0],r[h+1],r[h+2]),t.set(r[h+3],r[h+4],r[h+5]),n.set(r[h+6],r[h+7],r[h+8]),o.set(s[d+0],s[d+1]),a.set(s[d+2],s[d+3]),l.set(s[d+4],s[d+5]),i.copy(e).add(t).add(n).divideScalar(3);var p=c(i);u(o,d+0,e,p),u(a,d+2,t,p),u(l,d+4,n,p)}})(),function(){for(var e=0;e<s.length;e+=6){var t=s[e+0],n=s[e+2],i=s[e+4],r=Math.max(t,n,i),o=Math.min(t,n,i);r>.9&&o<.1&&(t<.2&&(s[e+0]+=1),n<.2&&(s[e+2]+=1),i<.2&&(s[e+4]+=1))}}()}(),this.addAttribute("position",new ti(r,3)),this.addAttribute("normal",new ti(r.slice(),3)),this.addAttribute("uv",new ti(s,2)),0===i?this.computeVertexNormals():this.normalizeNormals()}function Zs(e,t){$n.call(this),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Ks(e,t)),this.mergeVertices()}function Ks(e,t){Ys.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Xs(e,t){$n.call(this),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Qs(e,t)),this.mergeVertices()}function Qs(e,t){Ys.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Js(e,t){$n.call(this),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new eo(e,t)),this.mergeVertices()}function eo(e,t){var n=(1+Math.sqrt(5))/2;Ys.call(this,[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronBufferGeometry",this.parameters={radius:e,detail:t}}function to(e,t){$n.call(this),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new no(e,t)),this.mergeVertices()}function no(e,t){var n=(1+Math.sqrt(5))/2,i=1/n;Ys.call(this,[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-n,0,-i,n,0,i,-n,0,i,n,-i,-n,0,-i,n,0,i,-n,0,i,n,0,-n,0,-i,n,0,-i,-n,0,i,n,0,i],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronBufferGeometry",this.parameters={radius:e,detail:t}}function io(e,t,n,i,r,s){$n.call(this),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:i,closed:r},void 0!==s&&console.warn("THREE.TubeGeometry: taper has been removed.");var o=new ro(e,t,n,i,r);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals,this.fromBufferGeometry(o),this.mergeVertices()}function ro(e,t,n,i,r){oi.call(this),this.type="TubeBufferGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:i,closed:r},n=n||1,i=i||8;var s=e.computeFrenetFrames(t=t||64,r=r||!1);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;var o,a,l=new tn,u=new tn,c=new Qt,h=new tn,d=[],p=[],f=[],g=[];function m(r){h=e.getPointAt(r/t,h);var o=s.normals[r],c=s.binormals[r];for(a=0;a<=i;a++){var f=a/i*Math.PI*2,g=Math.sin(f),m=-Math.cos(f);u.x=m*o.x+g*c.x,u.y=m*o.y+g*c.y,u.z=m*o.z+g*c.z,u.normalize(),p.push(u.x,u.y,u.z),l.x=h.x+n*u.x,l.y=h.y+n*u.y,l.z=h.z+n*u.z,d.push(l.x,l.y,l.z)}}!function(){for(o=0;o<t;o++)m(o);m(!1===r?t:0),function(){for(o=0;o<=t;o++)for(a=0;a<=i;a++)c.x=o/t,c.y=a/i,f.push(c.x,c.y)}(),function(){for(a=1;a<=t;a++)for(o=1;o<=i;o++){var e=(i+1)*a+(o-1),n=(i+1)*a+o,r=(i+1)*(a-1)+o;g.push((i+1)*(a-1)+(o-1),e,r),g.push(e,n,r)}}()}(),this.setIndex(g),this.addAttribute("position",new ti(d,3)),this.addAttribute("normal",new ti(p,3)),this.addAttribute("uv",new ti(f,2))}function so(e,t,n,i,r,s,o){$n.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:i,p:r,q:s},void 0!==o&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new oo(e,t,n,i,r,s)),this.mergeVertices()}function oo(e,t,n,i,r,s){oi.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:i,p:r,q:s},e=e||1,t=t||.4,n=Math.floor(n)||64,i=Math.floor(i)||8,r=r||2,s=s||3;var o,a,l=[],u=[],c=[],h=[],d=new tn,p=new tn,f=new tn,g=new tn,m=new tn,v=new tn,y=new tn;for(o=0;o<=n;++o){var _=o/n*r*Math.PI*2;for(T(_,r,s,e,f),T(_+.01,r,s,e,g),v.subVectors(g,f),y.addVectors(g,f),m.crossVectors(v,y),y.crossVectors(m,v),m.normalize(),y.normalize(),a=0;a<=i;++a){var b=a/i*Math.PI*2,w=-t*Math.cos(b),x=t*Math.sin(b);d.x=f.x+(w*y.x+x*m.x),d.y=f.y+(w*y.y+x*m.y),d.z=f.z+(w*y.z+x*m.z),u.push(d.x,d.y,d.z),p.subVectors(d,f).normalize(),c.push(p.x,p.y,p.z),h.push(o/n),h.push(a/i)}}for(a=1;a<=n;a++)for(o=1;o<=i;o++){var C=(i+1)*a+(o-1),S=(i+1)*a+o,E=(i+1)*(a-1)+o;l.push((i+1)*(a-1)+(o-1),C,E),l.push(C,S,E)}function T(e,t,n,i,r){var s=Math.cos(e),o=Math.sin(e),a=n/t*e,l=Math.cos(a);r.x=i*(2+l)*.5*s,r.y=i*(2+l)*o*.5,r.z=i*Math.sin(a)*.5}this.setIndex(l),this.addAttribute("position",new ti(u,3)),this.addAttribute("normal",new ti(c,3)),this.addAttribute("uv",new ti(h,2))}function ao(e,t,n,i,r){$n.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:i,arc:r},this.fromBufferGeometry(new lo(e,t,n,i,r)),this.mergeVertices()}function lo(e,t,n,i,r){oi.call(this),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:i,arc:r},e=e||1,t=t||.4,n=Math.floor(n)||8,i=Math.floor(i)||6,r=r||2*Math.PI;var s,o,a=[],l=[],u=[],c=[],h=new tn,d=new tn,p=new tn;for(s=0;s<=n;s++)for(o=0;o<=i;o++){var f=o/i*r,g=s/n*Math.PI*2;d.x=(e+t*Math.cos(g))*Math.cos(f),d.y=(e+t*Math.cos(g))*Math.sin(f),d.z=t*Math.sin(g),l.push(d.x,d.y,d.z),h.x=e*Math.cos(f),h.y=e*Math.sin(f),p.subVectors(d,h).normalize(),u.push(p.x,p.y,p.z),c.push(o/i),c.push(s/n)}for(s=1;s<=n;s++)for(o=1;o<=i;o++){var m=(i+1)*(s-1)+o-1,v=(i+1)*(s-1)+o,y=(i+1)*s+o;a.push((i+1)*s+o-1,m,y),a.push(m,v,y)}this.setIndex(a),this.addAttribute("position",new ti(l,3)),this.addAttribute("normal",new ti(u,3)),this.addAttribute("uv",new ti(c,2))}function uo(e,t,n,i,r){var s,o;if(r===function(e,t,n,i){for(var r=0,s=t,o=n-i;s<n;s+=i)r+=(e[o]-e[s])*(e[s+1]+e[o+1]),o=s;return r}(e,t,n,i)>0)for(s=t;s<n;s+=i)o=Io(s,e[s],e[s+1],o);else for(s=n-i;s>=t;s-=i)o=Io(s,e[s],e[s+1],o);return o&&So(o,o.next)&&(Oo(o),o=o.next),o}function co(e,t){if(!e)return e;t||(t=e);var n,i=e;do{if(n=!1,i.steiner||!So(i,i.next)&&0!==Co(i.prev,i,i.next))i=i.next;else{if(Oo(i),(i=t=i.prev)===i.next)break;n=!0}}while(n||i!==t);return t}function ho(e,t,n,i,r,s,o){if(e){!o&&s&&function(e,t,n,i){var r=e;do{null===r.z&&(r.z=_o(r.x,r.y,t,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==e);r.prevZ.nextZ=null,r.prevZ=null,function(e){var t,n,i,r,s,o,a,l,u=1;do{for(n=e,e=null,s=null,o=0;n;){for(o++,i=n,a=0,t=0;t<u&&(a++,i=i.nextZ);t++);for(l=u;a>0||l>0&&i;)0!==a&&(0===l||!i||n.z<=i.z)?(r=n,n=n.nextZ,a--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:e=r,r.prevZ=s,s=r;n=i}s.nextZ=null,u*=2}while(o>1)}(r)}(e,i,r,s);for(var a,l,u=e;e.prev!==e.next;)if(a=e.prev,l=e.next,s?fo(e,i,r,s):po(e))t.push(a.i/n),t.push(e.i/n),t.push(l.i/n),Oo(e),e=l.next,u=l.next;else if((e=l)===u){o?1===o?ho(e=go(e,t,n),t,n,i,r,s,2):2===o&&mo(e,t,n,i,r,s):ho(co(e),t,n,i,r,s,1);break}}}function po(e){var t=e.prev,n=e,i=e.next;if(Co(t,n,i)>=0)return!1;for(var r=e.next.next;r!==e.prev;){if(wo(t.x,t.y,n.x,n.y,i.x,i.y,r.x,r.y)&&Co(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function fo(e,t,n,i){var r=e.prev,s=e,o=e.next;if(Co(r,s,o)>=0)return!1;for(var a=r.x>s.x?r.x>o.x?r.x:o.x:s.x>o.x?s.x:o.x,l=r.y>s.y?r.y>o.y?r.y:o.y:s.y>o.y?s.y:o.y,u=_o(r.x<s.x?r.x<o.x?r.x:o.x:s.x<o.x?s.x:o.x,r.y<s.y?r.y<o.y?r.y:o.y:s.y<o.y?s.y:o.y,t,n,i),c=_o(a,l,t,n,i),h=e.nextZ;h&&h.z<=c;){if(h!==e.prev&&h!==e.next&&wo(r.x,r.y,s.x,s.y,o.x,o.y,h.x,h.y)&&Co(h.prev,h,h.next)>=0)return!1;h=h.nextZ}for(h=e.prevZ;h&&h.z>=u;){if(h!==e.prev&&h!==e.next&&wo(r.x,r.y,s.x,s.y,o.x,o.y,h.x,h.y)&&Co(h.prev,h,h.next)>=0)return!1;h=h.prevZ}return!0}function go(e,t,n){var i=e;do{var r=i.prev,s=i.next.next;!So(r,s)&&Eo(r,i,i.next,s)&&To(r,s)&&To(s,r)&&(t.push(r.i/n),t.push(i.i/n),t.push(s.i/n),Oo(i),Oo(i.next),i=e=s),i=i.next}while(i!==e);return i}function mo(e,t,n,i,r,s){var o=e;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&xo(o,a)){var l=Mo(o,a);return o=co(o,o.next),l=co(l,l.next),ho(o,t,n,i,r,s),void ho(l,t,n,i,r,s)}a=a.next}o=o.next}while(o!==e)}function vo(e,t){return e.x-t.x}function yo(e,t){if(t=function(e,t){var n,i=t,r=e.x,s=e.y,o=-1/0;do{if(s<=i.y&&s>=i.next.y&&i.next.y!==i.y){var a=i.x+(s-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(a<=r&&a>o){if(o=a,a===r){if(s===i.y)return i;if(s===i.next.y)return i.next}n=i.x<i.next.x?i:i.next}}i=i.next}while(i!==t);if(!n)return null;if(r===o)return n.prev;var l,u=n,c=n.x,h=n.y,d=1/0;for(i=n.next;i!==u;)r>=i.x&&i.x>=c&&r!==i.x&&wo(s<h?r:o,s,c,h,s<h?o:r,s,i.x,i.y)&&((l=Math.abs(s-i.y)/(r-i.x))<d||l===d&&i.x>n.x)&&To(i,e)&&(n=i,d=l),i=i.next;return n}(e,t)){var n=Mo(t,e);co(n,n.next)}}function _o(e,t,n,i,r){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*r)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*r)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function bo(e){var t=e,n=e;do{t.x<n.x&&(n=t),t=t.next}while(t!==e);return n}function wo(e,t,n,i,r,s,o,a){return(r-o)*(t-a)-(e-o)*(s-a)>=0&&(e-o)*(i-a)-(n-o)*(t-a)>=0&&(n-o)*(s-a)-(r-o)*(i-a)>=0}function xo(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Eo(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&To(e,t)&&To(t,e)&&function(e,t){var n=e,i=!1,r=(e.x+t.x)/2,s=(e.y+t.y)/2;do{n.y>s!=n.next.y>s&&n.next.y!==n.y&&r<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==e);return i}(e,t)}function Co(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function So(e,t){return e.x===t.x&&e.y===t.y}function Eo(e,t,n,i){return!!(So(e,t)&&So(n,i)||So(e,i)&&So(n,t))||Co(e,t,n)>0!=Co(e,t,i)>0&&Co(n,i,e)>0!=Co(n,i,t)>0}function To(e,t){return Co(e.prev,e,e.next)<0?Co(e,t,e.next)>=0&&Co(e,e.prev,t)>=0:Co(e,t,e.prev)<0||Co(e,e.next,t)<0}function Mo(e,t){var n=new Ao(e.i,e.x,e.y),i=new Ao(t.i,t.x,t.y),r=e.next,s=t.prev;return e.next=t,t.prev=e,n.next=r,r.prev=n,i.next=n,n.prev=i,s.next=i,i.prev=s,i}function Io(e,t,n,i){var r=new Ao(e,t,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Oo(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Ao(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}Cs.prototype.isFogExp2=!0,Cs.prototype.clone=function(){return new Cs(this.color,this.density)},Cs.prototype.toJSON=function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}},Ss.prototype.isFog=!0,Ss.prototype.clone=function(){return new Ss(this.color,this.near,this.far)},Ss.prototype.toJSON=function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}},Es.prototype=Object.assign(Object.create(Hn.prototype),{constructor:Es,copy:function(e,t){return Hn.prototype.copy.call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},toJSON:function(e){var t=Hn.prototype.toJSON.call(this,e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t}}),Object.defineProperty(Ts.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(Ts.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setArray:function(e){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==e?e.length/this.stride:0,this.array=e,this},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(var i=0,r=this.stride;i<r;i++)this.array[e+i]=t.array[n+i];return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(e){return this.onUploadCallback=e,this}}),Object.defineProperties(Ms.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(Ms.prototype,{isInterleavedBufferAttribute:!0,setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return this.data.array[(e=e*this.data.stride+this.offset)+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,i){return this.data.array[(e=e*this.data.stride+this.offset)+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this},setXYZW:function(e,t,n,i,r){return this.data.array[(e=e*this.data.stride+this.offset)+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this.data.array[e+3]=r,this}}),(Is.prototype=Object.create(Si.prototype)).constructor=Is,Is.prototype.isSpriteMaterial=!0,Is.prototype.copy=function(e){return Si.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this},Os.prototype=Object.assign(Object.create(Hn.prototype),{constructor:Os,isSprite:!0,raycast:function(){var e=new tn,t=new tn,n=new tn,i=new Qt,r=new Qt,s=new Jt,o=new tn,a=new tn,l=new tn,u=new Qt,c=new Qt,h=new Qt;function d(e,t,n,o,a,l){i.subVectors(e,n).addScalar(.5).multiply(o),void 0!==a?(r.x=l*i.x-a*i.y,r.y=a*i.x+l*i.y):r.copy(i),e.copy(t),e.x+=r.x,e.y+=r.y,e.applyMatrix4(s)}return function(i,r){t.setFromMatrixScale(this.matrixWorld),s.getInverse(this.modelViewMatrix).premultiply(this.matrixWorld),n.setFromMatrixPosition(this.modelViewMatrix);var p,f,g=this.material.rotation;0!==g&&(f=Math.cos(g),p=Math.sin(g));var m=this.center;d(o.set(-.5,-.5,0),n,m,t,p,f),d(a.set(.5,-.5,0),n,m,t,p,f),d(l.set(.5,.5,0),n,m,t,p,f),u.set(0,0),c.set(1,0),h.set(1,1);var v=i.ray.intersectTriangle(o,a,l,!1,e);if(null!==v||(d(a.set(-.5,.5,0),n,m,t,p,f),c.set(0,1),null!==(v=i.ray.intersectTriangle(o,l,a,!1,e)))){var y=i.ray.origin.distanceTo(e);y<i.near||y>i.far||r.push({distance:y,point:e.clone(),uv:Mi.getUV(e,o,a,l,u,c,h,new Qt),face:null,object:this})}}}(),clone:function(){return new this.constructor(this.material).copy(this)},copy:function(e){return Hn.prototype.copy.call(this,e),void 0!==e.center&&this.center.copy(e.center),this}}),As.prototype=Object.assign(Object.create(Hn.prototype),{constructor:As,copy:function(e){Hn.prototype.copy.call(this,e,!1);for(var t=e.levels,n=0,i=t.length;n<i;n++){var r=t[n];this.addLevel(r.object.clone(),r.distance)}return this},addLevel:function(e,t){void 0===t&&(t=0),t=Math.abs(t);for(var n=this.levels,i=0;i<n.length&&!(t<n[i].distance);i++);n.splice(i,0,{distance:t,object:e}),this.add(e)},getObjectForDistance:function(e){for(var t=this.levels,n=1,i=t.length;n<i&&!(e<t[n].distance);n++);return t[n-1].object},raycast:(ds=new tn,function(e,t){ds.setFromMatrixPosition(this.matrixWorld);var n=e.ray.origin.distanceTo(ds);this.getObjectForDistance(n).raycast(e,t)}),update:function(){var e=new tn,t=new tn;return function(n){var i=this.levels;if(i.length>1){e.setFromMatrixPosition(n.matrixWorld),t.setFromMatrixPosition(this.matrixWorld);var r=e.distanceTo(t);i[0].object.visible=!0;for(var s=1,o=i.length;s<o&&r>=i[s].distance;s++)i[s-1].object.visible=!1,i[s].object.visible=!0;for(;s<o;s++)i[s].object.visible=!1}}}(),toJSON:function(e){var t=Hn.prototype.toJSON.call(this,e);t.object.levels=[];for(var n=this.levels,i=0,r=n.length;i<r;i++){var s=n[i];t.object.levels.push({object:s.object.uuid,distance:s.distance})}return t}}),Ds.prototype=Object.assign(Object.create(Oi.prototype),{constructor:Ds,isSkinnedMesh:!0,bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var e=new dn,t=this.geometry.attributes.skinWeight,n=0,i=t.count;n<i;n++){e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.w=t.getW(n);var r=1/e.manhattanLength();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}},updateMatrixWorld:function(e){Oi.prototype.updateMatrixWorld.call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Object.assign(ks.prototype,{calculateInverses:function(){this.boneInverses=[];for(var e=0,t=this.bones.length;e<t;e++){var n=new Jt;this.bones[e]&&n.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(n)}},pose:function(){var e,t,n;for(t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&e.matrixWorld.getInverse(this.boneInverses[t]);for(t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&(e.parent&&e.parent.isBone?(e.matrix.getInverse(e.parent.matrixWorld),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))},update:(ps=new Jt,fs=new Jt,function(){for(var e=this.bones,t=this.boneInverses,n=this.boneMatrices,i=this.boneTexture,r=0,s=e.length;r<s;r++)ps.multiplyMatrices(e[r]?e[r].matrixWorld:fs,t[r]),ps.toArray(n,16*r);void 0!==i&&(i.needsUpdate=!0)}),clone:function(){return new ks(this.bones,this.boneInverses)},getBoneByName:function(e){for(var t=0,n=this.bones.length;t<n;t++){var i=this.bones[t];if(i.name===e)return i}}}),Ps.prototype=Object.assign(Object.create(Hn.prototype),{constructor:Ps,isBone:!0}),(Rs.prototype=Object.create(Si.prototype)).constructor=Rs,Rs.prototype.isLineBasicMaterial=!0,Rs.prototype.copy=function(e){return Si.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this},Ls.prototype=Object.assign(Object.create(Hn.prototype),{constructor:Ls,isLine:!0,computeLineDistances:(gs=new tn,ms=new tn,function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[0],i=1,r=t.count;i<r;i++)gs.fromBufferAttribute(t,i-1),ms.fromBufferAttribute(t,i),n[i]=n[i-1],n[i]+=gs.distanceTo(ms);e.addAttribute("lineDistance",new ti(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){var s=e.vertices;for((n=e.lineDistances)[0]=0,i=1,r=s.length;i<r;i++)n[i]=n[i-1],n[i]+=s[i-1].distanceTo(s[i])}return this}),raycast:function(){var e=new Jt,t=new Ti,n=new vn;return function(i,r){var s=i.linePrecision,o=this.geometry,a=this.matrixWorld;if(null===o.boundingSphere&&o.computeBoundingSphere(),n.copy(o.boundingSphere),n.applyMatrix4(a),n.radius+=s,!1!==i.ray.intersectsSphere(n)){e.getInverse(a),t.copy(i.ray).applyMatrix4(e);var l=s/((this.scale.x+this.scale.y+this.scale.z)/3),u=l*l,c=new tn,h=new tn,d=new tn,p=new tn,f=this&&this.isLineSegments?2:1;if(o.isBufferGeometry){var g=o.index,m=o.attributes.position.array;if(null!==g)for(var v=g.array,y=0,_=v.length-1;y<_;y+=f){var b=v[y+1];c.fromArray(m,3*v[y]),h.fromArray(m,3*b),t.distanceSqToSegment(c,h,p,d)>u||(p.applyMatrix4(this.matrixWorld),(C=i.ray.origin.distanceTo(p))<i.near||C>i.far||r.push({distance:C,point:d.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this}))}else for(y=0,_=m.length/3-1;y<_;y+=f)c.fromArray(m,3*y),h.fromArray(m,3*y+3),t.distanceSqToSegment(c,h,p,d)>u||(p.applyMatrix4(this.matrixWorld),(C=i.ray.origin.distanceTo(p))<i.near||C>i.far||r.push({distance:C,point:d.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this}))}else if(o.isGeometry){var w=o.vertices,x=w.length;for(y=0;y<x-1;y+=f){var C;t.distanceSqToSegment(w[y],w[y+1],p,d)>u||(p.applyMatrix4(this.matrixWorld),(C=i.ray.origin.distanceTo(p))<i.near||C>i.far||r.push({distance:C,point:d.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this}))}}}}}(),copy:function(e){return Hn.prototype.copy.call(this,e),this.geometry.copy(e.geometry),this.material.copy(e.material),this},clone:function(){return(new this.constructor).copy(this)}}),Ns.prototype=Object.assign(Object.create(Ls.prototype),{constructor:Ns,isLineSegments:!0,computeLineDistances:function(){var e=new tn,t=new tn;return function(){var n=this.geometry;if(n.isBufferGeometry)if(null===n.index){for(var i=n.attributes.position,r=[],s=0,o=i.count;s<o;s+=2)e.fromBufferAttribute(i,s),t.fromBufferAttribute(i,s+1),r[s]=0===s?0:r[s-1],r[s+1]=r[s]+e.distanceTo(t);n.addAttribute("lineDistance",new ti(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(n.isGeometry){var a=n.vertices;for(r=n.lineDistances,s=0,o=a.length;s<o;s+=2)e.copy(a[s]),t.copy(a[s+1]),r[s]=0===s?0:r[s-1],r[s+1]=r[s]+e.distanceTo(t)}return this}}()}),Fs.prototype=Object.assign(Object.create(Ls.prototype),{constructor:Fs,isLineLoop:!0}),(Vs.prototype=Object.create(Si.prototype)).constructor=Vs,Vs.prototype.isPointsMaterial=!0,Vs.prototype.copy=function(e){return Si.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this},js.prototype=Object.assign(Object.create(Hn.prototype),{constructor:js,isPoints:!0,raycast:function(){var e=new Jt,t=new Ti,n=new vn;return function(i,r){var s=this,o=this.geometry,a=this.matrixWorld,l=i.params.Points.threshold;if(null===o.boundingSphere&&o.computeBoundingSphere(),n.copy(o.boundingSphere),n.applyMatrix4(a),n.radius+=l,!1!==i.ray.intersectsSphere(n)){e.getInverse(a),t.copy(i.ray).applyMatrix4(e);var u=l/((this.scale.x+this.scale.y+this.scale.z)/3),c=u*u,h=new tn,d=new tn;if(o.isBufferGeometry){var p=o.index,f=o.attributes.position.array;if(null!==p)for(var g=p.array,m=0,v=g.length;m<v;m++){var y=g[m];h.fromArray(f,3*y),w(h,y)}else{m=0;for(var _=f.length/3;m<_;m++)h.fromArray(f,3*m),w(h,m)}}else{var b=o.vertices;for(m=0,_=b.length;m<_;m++)w(b[m],m)}}function w(e,n){var o=t.distanceSqToPoint(e);if(o<c){t.closestPointToPoint(e,d),d.applyMatrix4(a);var l=i.ray.origin.distanceTo(d);if(l<i.near||l>i.far)return;r.push({distance:l,distanceToRay:Math.sqrt(o),point:d.clone(),index:n,face:null,object:s})}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Bs.prototype=Object.assign(Object.create(hn.prototype),{constructor:Bs,isVideoTexture:!0,update:function(){var e=this.image;e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),(zs.prototype=Object.create(hn.prototype)).constructor=zs,zs.prototype.isCompressedTexture=!0,(Hs.prototype=Object.create(hn.prototype)).constructor=Hs,Hs.prototype.isCanvasTexture=!0,(Us.prototype=Object.create(hn.prototype)).constructor=Us,Us.prototype.isDepthTexture=!0,(Gs.prototype=Object.create(oi.prototype)).constructor=Gs,(Ws.prototype=Object.create($n.prototype)).constructor=Ws,($s.prototype=Object.create(oi.prototype)).constructor=$s,(qs.prototype=Object.create($n.prototype)).constructor=qs,(Ys.prototype=Object.create(oi.prototype)).constructor=Ys,(Zs.prototype=Object.create($n.prototype)).constructor=Zs,(Ks.prototype=Object.create(Ys.prototype)).constructor=Ks,(Xs.prototype=Object.create($n.prototype)).constructor=Xs,(Qs.prototype=Object.create(Ys.prototype)).constructor=Qs,(Js.prototype=Object.create($n.prototype)).constructor=Js,(eo.prototype=Object.create(Ys.prototype)).constructor=eo,(to.prototype=Object.create($n.prototype)).constructor=to,(no.prototype=Object.create(Ys.prototype)).constructor=no,(io.prototype=Object.create($n.prototype)).constructor=io,(ro.prototype=Object.create(oi.prototype)).constructor=ro,(so.prototype=Object.create($n.prototype)).constructor=so,(oo.prototype=Object.create(oi.prototype)).constructor=oo,(ao.prototype=Object.create($n.prototype)).constructor=ao,(lo.prototype=Object.create(oi.prototype)).constructor=lo;var Do={area:function(e){for(var t=e.length,n=0,i=t-1,r=0;r<t;i=r++)n+=e[i].x*e[r].y-e[r].x*e[i].y;return.5*n},isClockWise:function(e){return Do.area(e)<0},triangulateShape:function(e,t){var n=[],i=[],r=[];ko(e),Po(n,e);var s=e.length;t.forEach(ko);for(var o=0;o<t.length;o++)i.push(s),s+=t[o].length,Po(n,t[o]);var a=function(e,t,n){n=n||2;var i,r,s,o,a,l,u,c=t&&t.length,h=c?t[0]*n:e.length,d=uo(e,0,h,n,!0),p=[];if(!d)return p;if(c&&(d=function(e,t,n,i){var r,s,o,a=[];for(r=0,s=t.length;r<s;r++)(o=uo(e,t[r]*i,r<s-1?t[r+1]*i:e.length,i,!1))===o.next&&(o.steiner=!0),a.push(bo(o));for(a.sort(vo),r=0;r<a.length;r++)yo(a[r],n),n=co(n,n.next);return n}(e,t,d,n)),e.length>80*n){i=s=e[0],r=o=e[1];for(var f=n;f<h;f+=n)(a=e[f])<i&&(i=a),(l=e[f+1])<r&&(r=l),a>s&&(s=a),l>o&&(o=l);u=0!==(u=Math.max(s-i,o-r))?1/u:0}return ho(d,p,n,i,r,u),p}(n,i);for(o=0;o<a.length;o+=3)r.push(a.slice(o,o+3));return r}};function ko(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function Po(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}function Ro(e,t){$n.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},this.fromBufferGeometry(new Lo(e,t)),this.mergeVertices()}function Lo(e,t){oi.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];for(var n=this,i=[],r=[],s=0,o=e.length;s<o;s++)a(e[s]);function a(e){var s=[],o=void 0!==t.curveSegments?t.curveSegments:12,a=void 0!==t.steps?t.steps:1,l=void 0!==t.depth?t.depth:100,u=void 0===t.bevelEnabled||t.bevelEnabled,c=void 0!==t.bevelThickness?t.bevelThickness:6,h=void 0!==t.bevelSize?t.bevelSize:c-2,d=void 0!==t.bevelSegments?t.bevelSegments:3,p=t.extrudePath,f=void 0!==t.UVGenerator?t.UVGenerator:No;void 0!==t.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),l=t.amount);var g,m,v,y,_,b,w,x,C=!1;p&&(g=p.getSpacedPoints(a),C=!0,u=!1,m=p.computeFrenetFrames(a,!1),v=new tn,y=new tn,_=new tn),u||(d=0,c=0,h=0);var S=e.extractPoints(o),E=S.shape,T=S.holes;if(!Do.isClockWise(E))for(E=E.reverse(),w=0,x=T.length;w<x;w++)Do.isClockWise(b=T[w])&&(T[w]=b.reverse());var M=Do.triangulateShape(E,T),I=E;for(w=0,x=T.length;w<x;w++)E=E.concat(b=T[w]);function O(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}var A,D,k,P,R,L,N=E.length,F=M.length;function V(e,t,n){var i,r,s,o=e.x-t.x,a=e.y-t.y,l=n.x-e.x,u=n.y-e.y,c=o*o+a*a;if(Math.abs(o*u-a*l)>Number.EPSILON){var h=Math.sqrt(c),d=Math.sqrt(l*l+u*u),p=t.x-a/h,f=t.y+o/h,g=((n.x-u/d-p)*u-(n.y+l/d-f)*l)/(o*u-a*l),m=(i=p+o*g-e.x)*i+(r=f+a*g-e.y)*r;if(m<=2)return new Qt(i,r);s=Math.sqrt(m/2)}else{var v=!1;o>Number.EPSILON?l>Number.EPSILON&&(v=!0):o<-Number.EPSILON?l<-Number.EPSILON&&(v=!0):Math.sign(a)===Math.sign(u)&&(v=!0),v?(i=-a,r=o,s=Math.sqrt(c)):(i=o,r=a,s=Math.sqrt(c/2))}return new Qt(i/s,r/s)}for(var j=[],B=0,z=I.length,H=z-1,U=B+1;B<z;B++,H++,U++)H===z&&(H=0),U===z&&(U=0),j[B]=V(I[B],I[H],I[U]);var G,W,$=[],q=j.concat();for(w=0,x=T.length;w<x;w++){for(G=[],H=(z=(b=T[w]).length)-1,U=1+(B=0);B<z;B++,H++,U++)H===z&&(H=0),U===z&&(U=0),G[B]=V(b[B],b[H],b[U]);$.push(G),q=q.concat(G)}for(A=0;A<d;A++){for(k=A/d,P=c*Math.cos(k*Math.PI/2),D=h*Math.sin(k*Math.PI/2),B=0,z=I.length;B<z;B++)Z((R=O(I[B],j[B],D)).x,R.y,-P);for(w=0,x=T.length;w<x;w++)for(G=$[w],B=0,z=(b=T[w]).length;B<z;B++)Z((R=O(b[B],G[B],D)).x,R.y,-P)}for(D=h,B=0;B<N;B++)R=u?O(E[B],q[B],D):E[B],C?(y.copy(m.normals[0]).multiplyScalar(R.x),v.copy(m.binormals[0]).multiplyScalar(R.y),_.copy(g[0]).add(y).add(v),Z(_.x,_.y,_.z)):Z(R.x,R.y,0);for(W=1;W<=a;W++)for(B=0;B<N;B++)R=u?O(E[B],q[B],D):E[B],C?(y.copy(m.normals[W]).multiplyScalar(R.x),v.copy(m.binormals[W]).multiplyScalar(R.y),_.copy(g[W]).add(y).add(v),Z(_.x,_.y,_.z)):Z(R.x,R.y,l/a*W);for(A=d-1;A>=0;A--){for(k=A/d,P=c*Math.cos(k*Math.PI/2),D=h*Math.sin(k*Math.PI/2),B=0,z=I.length;B<z;B++)Z((R=O(I[B],j[B],D)).x,R.y,l+P);for(w=0,x=T.length;w<x;w++)for(G=$[w],B=0,z=(b=T[w]).length;B<z;B++)R=O(b[B],G[B],D),C?Z(R.x,R.y+g[a-1].y,g[a-1].x+P):Z(R.x,R.y,l+P)}function Y(e,t){var n,i;for(B=e.length;--B>=0;){n=B,(i=B-1)<0&&(i=e.length-1);var r=0,s=a+2*d;for(r=0;r<s;r++){var o=N*r,l=N*(r+1);X(t+n+o,t+i+o,t+i+l,t+n+l)}}}function Z(e,t,n){s.push(e),s.push(t),s.push(n)}function K(e,t,r){Q(e),Q(t),Q(r);var s=i.length/3,o=f.generateTopUV(n,i,s-3,s-2,s-1);J(o[0]),J(o[1]),J(o[2])}function X(e,t,r,s){Q(e),Q(t),Q(s),Q(t),Q(r),Q(s);var o=i.length/3,a=f.generateSideWallUV(n,i,o-6,o-3,o-2,o-1);J(a[0]),J(a[1]),J(a[3]),J(a[1]),J(a[2]),J(a[3])}function Q(e){i.push(s[3*e+0]),i.push(s[3*e+1]),i.push(s[3*e+2])}function J(e){r.push(e.x),r.push(e.y)}!function(){var e=i.length/3;if(u){var t=0,r=N*t;for(B=0;B<F;B++)K((L=M[B])[2]+r,L[1]+r,L[0]+r);for(r=N*(t=a+2*d),B=0;B<F;B++)K((L=M[B])[0]+r,L[1]+r,L[2]+r)}else{for(B=0;B<F;B++)K((L=M[B])[2],L[1],L[0]);for(B=0;B<F;B++)K((L=M[B])[0]+N*a,L[1]+N*a,L[2]+N*a)}n.addGroup(e,i.length/3-e,0)}(),function(){var e=i.length/3,t=0;for(Y(I,t),t+=I.length,w=0,x=T.length;w<x;w++)Y(b=T[w],t),t+=b.length;n.addGroup(e,i.length/3-e,1)}()}this.addAttribute("position",new ti(i,3)),this.addAttribute("uv",new ti(r,2)),this.computeVertexNormals()}(Ro.prototype=Object.create($n.prototype)).constructor=Ro,Ro.prototype.toJSON=function(){var e=$n.prototype.toJSON.call(this);return Fo(this.parameters.shapes,this.parameters.options,e)},(Lo.prototype=Object.create(oi.prototype)).constructor=Lo,Lo.prototype.toJSON=function(){var e=oi.prototype.toJSON.call(this);return Fo(this.parameters.shapes,this.parameters.options,e)};var No={generateTopUV:function(e,t,n,i,r){var s=t[3*i],o=t[3*i+1],a=t[3*r],l=t[3*r+1];return[new Qt(t[3*n],t[3*n+1]),new Qt(s,o),new Qt(a,l)]},generateSideWallUV:function(e,t,n,i,r,s){var o=t[3*n],a=t[3*n+1],l=t[3*n+2],u=t[3*i],c=t[3*i+1],h=t[3*i+2],d=t[3*r],p=t[3*r+1],f=t[3*r+2],g=t[3*s],m=t[3*s+1],v=t[3*s+2];return Math.abs(a-c)<.01?[new Qt(o,1-l),new Qt(u,1-h),new Qt(d,1-f),new Qt(g,1-v)]:[new Qt(a,1-l),new Qt(c,1-h),new Qt(p,1-f),new Qt(m,1-v)]}};function Fo(e,t,n){if(n.shapes=[],Array.isArray(e))for(var i=0,r=e.length;i<r;i++)n.shapes.push(e[i].uuid);else n.shapes.push(e.uuid);return void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON()),n}function Vo(e,t){$n.call(this),this.type="TextGeometry",this.parameters={text:e,parameters:t},this.fromBufferGeometry(new jo(e,t)),this.mergeVertices()}function jo(e,t){var n=(t=t||{}).font;if(!n||!n.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new $n;var i=n.generateShapes(e,t.size);t.depth=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),Lo.call(this,i,t),this.type="TextBufferGeometry"}function Bo(e,t,n,i,r,s,o){$n.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:r,thetaStart:s,thetaLength:o},this.fromBufferGeometry(new zo(e,t,n,i,r,s,o)),this.mergeVertices()}function zo(e,t,n,i,r,s,o){oi.call(this),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:r,thetaStart:s,thetaLength:o},e=e||1,t=Math.max(3,Math.floor(t)||8),n=Math.max(2,Math.floor(n)||6),i=void 0!==i?i:0,r=void 0!==r?r:2*Math.PI;var a,l,u=(s=void 0!==s?s:0)+(o=void 0!==o?o:Math.PI),c=0,h=[],d=new tn,p=new tn,f=[],g=[],m=[],v=[];for(l=0;l<=n;l++){var y=[],_=l/n;for(a=0;a<=t;a++){var b=a/t;d.x=-e*Math.cos(i+b*r)*Math.sin(s+_*o),d.y=e*Math.cos(s+_*o),d.z=e*Math.sin(i+b*r)*Math.sin(s+_*o),g.push(d.x,d.y,d.z),p.set(d.x,d.y,d.z).normalize(),m.push(p.x,p.y,p.z),v.push(b,1-_),y.push(c++)}h.push(y)}for(l=0;l<n;l++)for(a=0;a<t;a++){var w=h[l][a],x=h[l+1][a],C=h[l+1][a+1];(0!==l||s>0)&&f.push(h[l][a+1],w,C),(l!==n-1||u<Math.PI)&&f.push(w,x,C)}this.setIndex(f),this.addAttribute("position",new ti(g,3)),this.addAttribute("normal",new ti(m,3)),this.addAttribute("uv",new ti(v,2))}function Ho(e,t,n,i,r,s){$n.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:i,thetaStart:r,thetaLength:s},this.fromBufferGeometry(new Uo(e,t,n,i,r,s)),this.mergeVertices()}function Uo(e,t,n,i,r,s){oi.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:i,thetaStart:r,thetaLength:s},e=e||.5,t=t||1,r=void 0!==r?r:0,s=void 0!==s?s:2*Math.PI,n=void 0!==n?Math.max(3,n):8;var o,a,l,u=[],c=[],h=[],d=[],p=e,f=(t-e)/(i=void 0!==i?Math.max(1,i):1),g=new tn,m=new Qt;for(a=0;a<=i;a++){for(l=0;l<=n;l++)o=r+l/n*s,g.x=p*Math.cos(o),g.y=p*Math.sin(o),c.push(g.x,g.y,g.z),h.push(0,0,1),m.x=(g.x/t+1)/2,m.y=(g.y/t+1)/2,d.push(m.x,m.y);p+=f}for(a=0;a<i;a++){var v=a*(n+1);for(l=0;l<n;l++){var y=(o=l+v)+n+1,_=o+n+2,b=o+1;u.push(o,y,b),u.push(y,_,b)}}this.setIndex(u),this.addAttribute("position",new ti(c,3)),this.addAttribute("normal",new ti(h,3)),this.addAttribute("uv",new ti(d,2))}function Go(e,t,n,i){$n.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:i},this.fromBufferGeometry(new Wo(e,t,n,i)),this.mergeVertices()}function Wo(e,t,n,i){oi.call(this),this.type="LatheBufferGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:i},t=Math.floor(t)||12,n=n||0,i=i||2*Math.PI,i=Xt.clamp(i,0,2*Math.PI);var r,s,o,a=[],l=[],u=[],c=1/t,h=new tn,d=new Qt;for(s=0;s<=t;s++){var p=n+s*c*i,f=Math.sin(p),g=Math.cos(p);for(o=0;o<=e.length-1;o++)h.x=e[o].x*f,h.y=e[o].y,h.z=e[o].x*g,l.push(h.x,h.y,h.z),d.x=s/t,d.y=o/(e.length-1),u.push(d.x,d.y)}for(s=0;s<t;s++)for(o=0;o<e.length-1;o++){var m=(r=o+s*e.length)+e.length,v=r+e.length+1,y=r+1;a.push(r,m,y),a.push(m,v,y)}if(this.setIndex(a),this.addAttribute("position",new ti(l,3)),this.addAttribute("uv",new ti(u,2)),this.computeVertexNormals(),i===2*Math.PI){var _=this.attributes.normal.array,b=new tn,w=new tn,x=new tn;for(r=t*e.length*3,s=0,o=0;s<e.length;s++,o+=3)b.x=_[o+0],b.y=_[o+1],b.z=_[o+2],w.x=_[r+o+0],w.y=_[r+o+1],w.z=_[r+o+2],x.addVectors(b,w).normalize(),_[o+0]=_[r+o+0]=x.x,_[o+1]=_[r+o+1]=x.y,_[o+2]=_[r+o+2]=x.z}}function $o(e,t){$n.call(this),this.type="ShapeGeometry","object"==typeof t&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),t=t.curveSegments),this.parameters={shapes:e,curveSegments:t},this.fromBufferGeometry(new qo(e,t)),this.mergeVertices()}function qo(e,t){oi.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:e,curveSegments:t},t=t||12;var n=[],i=[],r=[],s=[],o=0,a=0;if(!1===Array.isArray(e))u(e);else for(var l=0;l<e.length;l++)u(e[l]),this.addGroup(o,a,l),o+=a,a=0;function u(e){var o,l,u,c=i.length/3,h=e.extractPoints(t),d=h.shape,p=h.holes;for(!1===Do.isClockWise(d)&&(d=d.reverse()),o=0,l=p.length;o<l;o++)!0===Do.isClockWise(u=p[o])&&(p[o]=u.reverse());var f=Do.triangulateShape(d,p);for(o=0,l=p.length;o<l;o++)d=d.concat(u=p[o]);for(o=0,l=d.length;o<l;o++){var g=d[o];i.push(g.x,g.y,0),r.push(0,0,1),s.push(g.x,g.y)}for(o=0,l=f.length;o<l;o++){var m=f[o];n.push(m[0]+c,m[1]+c,m[2]+c),a+=3}}this.setIndex(n),this.addAttribute("position",new ti(i,3)),this.addAttribute("normal",new ti(r,3)),this.addAttribute("uv",new ti(s,2))}function Yo(e,t){if(t.shapes=[],Array.isArray(e))for(var n=0,i=e.length;n<i;n++)t.shapes.push(e[n].uuid);else t.shapes.push(e.uuid);return t}function Zo(e,t){oi.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:t},t=void 0!==t?t:1;var n,i,r,s,o=[],a=Math.cos(Xt.DEG2RAD*t),l=[0,0],u={},c=["a","b","c"];e.isBufferGeometry?(s=new $n).fromBufferGeometry(e):s=e.clone(),s.mergeVertices(),s.computeFaceNormals();for(var h=s.vertices,d=s.faces,p=0,f=d.length;p<f;p++)for(var g=d[p],m=0;m<3;m++)n=g[c[m]],i=g[c[(m+1)%3]],l[0]=Math.min(n,i),l[1]=Math.max(n,i),void 0===u[r=l[0]+","+l[1]]?u[r]={index1:l[0],index2:l[1],face1:p,face2:void 0}:u[r].face2=p;for(r in u){var v=u[r];if(void 0===v.face2||d[v.face1].normal.dot(d[v.face2].normal)<=a){var y=h[v.index1];o.push(y.x,y.y,y.z),o.push((y=h[v.index2]).x,y.y,y.z)}}this.addAttribute("position",new ti(o,3))}function Ko(e,t,n,i,r,s,o,a){$n.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a},this.fromBufferGeometry(new Xo(e,t,n,i,r,s,o,a)),this.mergeVertices()}function Xo(e,t,n,i,r,s,o,a){oi.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a};var l=this;e=void 0!==e?e:1,t=void 0!==t?t:1,n=n||1,i=Math.floor(i)||8,r=Math.floor(r)||1,s=void 0!==s&&s,o=void 0!==o?o:0,a=void 0!==a?a:2*Math.PI;var u=[],c=[],h=[],d=[],p=0,f=[],g=n/2,m=0;function v(n){var r,s,f,v=new Qt,y=new tn,_=0,b=!0===n?e:t,w=!0===n?1:-1;for(s=p,r=1;r<=i;r++)c.push(0,g*w,0),h.push(0,w,0),d.push(.5,.5),p++;for(f=p,r=0;r<=i;r++){var x=r/i*a+o,C=Math.cos(x),S=Math.sin(x);y.x=b*S,y.y=g*w,y.z=b*C,c.push(y.x,y.y,y.z),h.push(0,w,0),v.x=.5*C+.5,v.y=.5*S*w+.5,d.push(v.x,v.y),p++}for(r=0;r<i;r++){var E=s+r,T=f+r;!0===n?u.push(T,T+1,E):u.push(T+1,T,E),_+=3}l.addGroup(m,_,!0===n?1:2),m+=_}!function(){var s,v,y=new tn,_=new tn,b=0,w=(t-e)/n;for(v=0;v<=r;v++){var x=[],C=v/r,S=C*(t-e)+e;for(s=0;s<=i;s++){var E=s/i,T=E*a+o,M=Math.sin(T),I=Math.cos(T);_.x=S*M,_.y=-C*n+g,_.z=S*I,c.push(_.x,_.y,_.z),y.set(M,w,I).normalize(),h.push(y.x,y.y,y.z),d.push(E,1-C),x.push(p++)}f.push(x)}for(s=0;s<i;s++)for(v=0;v<r;v++){var O=f[v+1][s],A=f[v+1][s+1],D=f[v][s+1];u.push(f[v][s],O,D),u.push(O,A,D),b+=6}l.addGroup(m,b,0),m+=b}(),!1===s&&(e>0&&v(!0),t>0&&v(!1)),this.setIndex(u),this.addAttribute("position",new ti(c,3)),this.addAttribute("normal",new ti(h,3)),this.addAttribute("uv",new ti(d,2))}function Qo(e,t,n,i,r,s,o){Ko.call(this,0,e,t,n,i,r,s,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:s,thetaLength:o}}function Jo(e,t,n,i,r,s,o){Xo.call(this,0,e,t,n,i,r,s,o),this.type="ConeBufferGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:s,thetaLength:o}}function ea(e,t,n,i){$n.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i},this.fromBufferGeometry(new ta(e,t,n,i)),this.mergeVertices()}function ta(e,t,n,i){oi.call(this),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i},e=e||1,t=void 0!==t?Math.max(3,t):8,n=void 0!==n?n:0,i=void 0!==i?i:2*Math.PI;var r,s,o=[],a=[],l=[],u=[],c=new tn,h=new Qt;for(a.push(0,0,0),l.push(0,0,1),u.push(.5,.5),s=0,r=3;s<=t;s++,r+=3){var d=n+s/t*i;c.x=e*Math.cos(d),c.y=e*Math.sin(d),a.push(c.x,c.y,c.z),l.push(0,0,1),h.x=(a[r]/e+1)/2,h.y=(a[r+1]/e+1)/2,u.push(h.x,h.y)}for(r=1;r<=t;r++)o.push(r,r+1,0);this.setIndex(o),this.addAttribute("position",new ti(a,3)),this.addAttribute("normal",new ti(l,3)),this.addAttribute("uv",new ti(u,2))}(Vo.prototype=Object.create($n.prototype)).constructor=Vo,(jo.prototype=Object.create(Lo.prototype)).constructor=jo,(Bo.prototype=Object.create($n.prototype)).constructor=Bo,(zo.prototype=Object.create(oi.prototype)).constructor=zo,(Ho.prototype=Object.create($n.prototype)).constructor=Ho,(Uo.prototype=Object.create(oi.prototype)).constructor=Uo,(Go.prototype=Object.create($n.prototype)).constructor=Go,(Wo.prototype=Object.create(oi.prototype)).constructor=Wo,($o.prototype=Object.create($n.prototype)).constructor=$o,$o.prototype.toJSON=function(){var e=$n.prototype.toJSON.call(this);return Yo(this.parameters.shapes,e)},(qo.prototype=Object.create(oi.prototype)).constructor=qo,qo.prototype.toJSON=function(){var e=oi.prototype.toJSON.call(this);return Yo(this.parameters.shapes,e)},(Zo.prototype=Object.create(oi.prototype)).constructor=Zo,(Ko.prototype=Object.create($n.prototype)).constructor=Ko,(Xo.prototype=Object.create(oi.prototype)).constructor=Xo,(Qo.prototype=Object.create(Ko.prototype)).constructor=Qo,(Jo.prototype=Object.create(Xo.prototype)).constructor=Jo,(ea.prototype=Object.create($n.prototype)).constructor=ea,(ta.prototype=Object.create(oi.prototype)).constructor=ta;var na=Object.freeze({WireframeGeometry:Gs,ParametricGeometry:Ws,ParametricBufferGeometry:$s,TetrahedronGeometry:Zs,TetrahedronBufferGeometry:Ks,OctahedronGeometry:Xs,OctahedronBufferGeometry:Qs,IcosahedronGeometry:Js,IcosahedronBufferGeometry:eo,DodecahedronGeometry:to,DodecahedronBufferGeometry:no,PolyhedronGeometry:qs,PolyhedronBufferGeometry:Ys,TubeGeometry:io,TubeBufferGeometry:ro,TorusKnotGeometry:so,TorusKnotBufferGeometry:oo,TorusGeometry:ao,TorusBufferGeometry:lo,TextGeometry:Vo,TextBufferGeometry:jo,SphereGeometry:Bo,SphereBufferGeometry:zo,RingGeometry:Ho,RingBufferGeometry:Uo,PlaneGeometry:ui,PlaneBufferGeometry:ci,LatheGeometry:Go,LatheBufferGeometry:Wo,ShapeGeometry:$o,ShapeBufferGeometry:qo,ExtrudeGeometry:Ro,ExtrudeBufferGeometry:Lo,EdgesGeometry:Zo,ConeGeometry:Qo,ConeBufferGeometry:Jo,CylinderGeometry:Ko,CylinderBufferGeometry:Xo,CircleGeometry:ea,CircleBufferGeometry:ta,BoxGeometry:ai,BoxBufferGeometry:li});function ia(e){Si.call(this),this.type="ShadowMaterial",this.color=new In(0),this.transparent=!0,this.setValues(e)}function ra(e){Ei.call(this,e),this.type="RawShaderMaterial"}function sa(e){Si.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new In(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new In(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Zt,this.normalScale=new Qt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function oa(e){sa.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(e)}function aa(e){Si.call(this),this.type="MeshPhongMaterial",this.color=new In(16777215),this.specular=new In(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new In(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Zt,this.normalScale=new Qt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=he,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function la(e){aa.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(e)}function ua(e){Si.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Zt,this.normalScale=new Qt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function ca(e){Si.call(this),this.type="MeshLambertMaterial",this.color=new In(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new In(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=he,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function ha(e){Si.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new In(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Zt,this.normalScale=new Qt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.lights=!1,this.setValues(e)}function da(e){Rs.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}(ia.prototype=Object.create(Si.prototype)).constructor=ia,ia.prototype.isShadowMaterial=!0,ia.prototype.copy=function(e){return Si.prototype.copy.call(this,e),this.color.copy(e.color),this},(ra.prototype=Object.create(Ei.prototype)).constructor=ra,ra.prototype.isRawShaderMaterial=!0,(sa.prototype=Object.create(Si.prototype)).constructor=sa,sa.prototype.isMeshStandardMaterial=!0,sa.prototype.copy=function(e){return Si.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},(oa.prototype=Object.create(sa.prototype)).constructor=oa,oa.prototype.isMeshPhysicalMaterial=!0,oa.prototype.copy=function(e){return sa.prototype.copy.call(this,e),this.defines={PHYSICAL:""},this.reflectivity=e.reflectivity,this.clearCoat=e.clearCoat,this.clearCoatRoughness=e.clearCoatRoughness,this},(aa.prototype=Object.create(Si.prototype)).constructor=aa,aa.prototype.isMeshPhongMaterial=!0,aa.prototype.copy=function(e){return Si.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},(la.prototype=Object.create(aa.prototype)).constructor=la,la.prototype.isMeshToonMaterial=!0,la.prototype.copy=function(e){return aa.prototype.copy.call(this,e),this.gradientMap=e.gradientMap,this},(ua.prototype=Object.create(Si.prototype)).constructor=ua,ua.prototype.isMeshNormalMaterial=!0,ua.prototype.copy=function(e){return Si.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},(ca.prototype=Object.create(Si.prototype)).constructor=ca,ca.prototype.isMeshLambertMaterial=!0,ca.prototype.copy=function(e){return Si.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},(ha.prototype=Object.create(Si.prototype)).constructor=ha,ha.prototype.isMeshMatcapMaterial=!0,ha.prototype.copy=function(e){return Si.prototype.copy.call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},(da.prototype=Object.create(Rs.prototype)).constructor=da,da.prototype.isLineDashedMaterial=!0,da.prototype.copy=function(e){return Rs.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var pa=Object.freeze({ShadowMaterial:ia,SpriteMaterial:Is,RawShaderMaterial:ra,ShaderMaterial:Ei,PointsMaterial:Vs,MeshPhysicalMaterial:oa,MeshStandardMaterial:sa,MeshPhongMaterial:aa,MeshToonMaterial:la,MeshNormalMaterial:ua,MeshLambertMaterial:ca,MeshDepthMaterial:ts,MeshDistanceMaterial:ns,MeshBasicMaterial:Ii,MeshMatcapMaterial:ha,LineDashedMaterial:da,LineBasicMaterial:Rs,Material:Si}),fa={arraySlice:function(e,t,n){return fa.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){for(var t=e.length,n=new Array(t),i=0;i!==t;++i)n[i]=i;return n.sort(function(t,n){return e[t]-e[n]}),n},sortedArray:function(e,t,n){for(var i=e.length,r=new e.constructor(i),s=0,o=0;o!==i;++s)for(var a=n[s]*t,l=0;l!==t;++l)r[o++]=e[a+l];return r},flattenJSON:function(e,t,n,i){for(var r=1,s=e[0];void 0!==s&&void 0===s[i];)s=e[r++];if(void 0!==s){var o=s[i];if(void 0!==o)if(Array.isArray(o))do{void 0!==(o=s[i])&&(t.push(s.time),n.push.apply(n,o)),s=e[r++]}while(void 0!==s);else if(void 0!==o.toArray)do{void 0!==(o=s[i])&&(t.push(s.time),o.toArray(n,n.length)),s=e[r++]}while(void 0!==s);else do{void 0!==(o=s[i])&&(t.push(s.time),n.push(o)),s=e[r++]}while(void 0!==s)}}};function ga(e,t,n,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new t.constructor(n),this.sampleValues=t,this.valueSize=n}function ma(e,t,n,i){ga.call(this,e,t,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function va(e,t,n,i){ga.call(this,e,t,n,i)}function ya(e,t,n,i){ga.call(this,e,t,n,i)}function _a(e,t,n,i){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=fa.convertArray(t,this.TimeBufferType),this.values=fa.convertArray(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}function ba(e,t,n){_a.call(this,e,t,n)}function wa(e,t,n,i){_a.call(this,e,t,n,i)}function xa(e,t,n,i){_a.call(this,e,t,n,i)}function Ca(e,t,n,i){ga.call(this,e,t,n,i)}function Sa(e,t,n,i){_a.call(this,e,t,n,i)}function Ea(e,t,n,i){_a.call(this,e,t,n,i)}function Ta(e,t,n,i){_a.call(this,e,t,n,i)}function Ma(e,t,n){this.name=e,this.tracks=n,this.duration=void 0!==t?t:-1,this.uuid=Xt.generateUUID(),this.duration<0&&this.resetDuration()}function Ia(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return xa;case"vector":case"vector2":case"vector3":case"vector4":return Ta;case"color":return wa;case"quaternion":return Sa;case"bool":case"boolean":return ba;case"string":return Ea}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){var n=[],i=[];fa.flattenJSON(e.keys,n,i,"value"),e.times=n,e.values=i}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}Object.assign(ga.prototype,{evaluate:function(e){var t=this.parameterPositions,n=this._cachedIndex,i=t[n],r=t[n-1];e:{t:{var s;n:{i:if(!(e<i)){for(var o=n+2;;){if(void 0===i){if(e<r)break i;return this._cachedIndex=n=t.length,this.afterEnd_(n-1,e,r)}if(n===o)break;if(r=i,e<(i=t[++n]))break t}s=t.length;break n}if(e>=r)break e;var a=t[1];for(e<a&&(n=2,r=a),o=n-2;;){if(void 0===r)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(n===o)break;if(i=r,e>=(r=t[--n-1]))break t}s=n,n=0}for(;n<s;){var l=n+s>>>1;e<t[l]?s=l:n=l+1}if(i=t[n],void 0===(r=t[n-1]))return this._cachedIndex=0,this.beforeStart_(0,e,i);if(void 0===i)return this._cachedIndex=n=t.length,this.afterEnd_(n-1,r,e)}this._cachedIndex=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,e,i)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){for(var t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=e*i,s=0;s!==i;++s)t[s]=n[r+s];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(ga.prototype,{beforeStart_:ga.prototype.copySampleValue_,afterEnd_:ga.prototype.copySampleValue_}),ma.prototype=Object.assign(Object.create(ga.prototype),{constructor:ma,DefaultSettings_:{endingStart:Pt,endingEnd:Pt},intervalChanged_:function(e,t,n){var i=this.parameterPositions,r=e-2,s=e+1,o=i[r],a=i[s];if(void 0===o)switch(this.getSettings_().endingStart){case Rt:r=e,o=2*t-n;break;case Lt:o=t+i[r=i.length-2]-i[r+1];break;default:r=e,o=n}if(void 0===a)switch(this.getSettings_().endingEnd){case Rt:s=e,a=2*n-t;break;case Lt:s=1,a=n+i[1]-i[0];break;default:s=e-1,a=t}var l=.5*(n-t),u=this.valueSize;this._weightPrev=l/(t-o),this._weightNext=l/(a-n),this._offsetPrev=r*u,this._offsetNext=s*u},interpolate_:function(e,t,n,i){for(var r=this.resultBuffer,s=this.sampleValues,o=this.valueSize,a=e*o,l=a-o,u=this._offsetPrev,c=this._offsetNext,h=this._weightPrev,d=this._weightNext,p=(n-t)/(i-t),f=p*p,g=f*p,m=-h*g+2*h*f-h*p,v=(1+h)*g+(-1.5-2*h)*f+(-.5+h)*p+1,y=(-1-d)*g+(1.5+d)*f+.5*p,_=d*g-d*f,b=0;b!==o;++b)r[b]=m*s[u+b]+v*s[l+b]+y*s[a+b]+_*s[c+b];return r}}),va.prototype=Object.assign(Object.create(ga.prototype),{constructor:va,interpolate_:function(e,t,n,i){for(var r=this.resultBuffer,s=this.sampleValues,o=this.valueSize,a=e*o,l=a-o,u=(n-t)/(i-t),c=1-u,h=0;h!==o;++h)r[h]=s[l+h]*c+s[a+h]*u;return r}}),ya.prototype=Object.assign(Object.create(ga.prototype),{constructor:ya,interpolate_:function(e){return this.copySampleValue_(e-1)}}),Object.assign(_a,{toJSON:function(e){var t,n=e.constructor;if(void 0!==n.toJSON)t=n.toJSON(e);else{t={name:e.name,times:fa.convertArray(e.times,Array),values:fa.convertArray(e.values,Array)};var i=e.getInterpolation();i!==e.DefaultInterpolation&&(t.interpolation=i)}return t.type=e.ValueTypeName,t}}),Object.assign(_a.prototype,{constructor:_a,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:Dt,InterpolantFactoryMethodDiscrete:function(e){return new ya(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new va(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new ma(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var t;switch(e){case At:t=this.InterpolantFactoryMethodDiscrete;break;case Dt:t=this.InterpolantFactoryMethodLinear;break;case kt:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return At;case this.InterpolantFactoryMethodLinear:return Dt;case this.InterpolantFactoryMethodSmooth:return kt}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e)for(var t=this.times,n=0,i=t.length;n!==i;++n)t[n]+=e;return this},scale:function(e){if(1!==e)for(var t=this.times,n=0,i=t.length;n!==i;++n)t[n]*=e;return this},trim:function(e,t){for(var n=this.times,i=n.length,r=0,s=i-1;r!==i&&n[r]<e;)++r;for(;-1!==s&&n[s]>t;)--s;if(++s,0!==r||s!==i){r>=s&&(r=(s=Math.max(s,1))-1);var o=this.getValueSize();this.times=fa.arraySlice(n,r,s),this.values=fa.arraySlice(this.values,r*o,s*o)}return this},validate:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var n=this.times,i=this.values,r=n.length;0===r&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var s=null,o=0;o!==r;o++){var a=n[o];if("number"==typeof a&&isNaN(a)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,a),e=!1;break}if(null!==s&&s>a){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,a,s),e=!1;break}s=a}if(void 0!==i&&fa.isTypedArray(i)){o=0;for(var l=i.length;o!==l;++o){var u=i[o];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,u),e=!1;break}}}return e},optimize:function(){for(var e=this.times,t=this.values,n=this.getValueSize(),i=this.getInterpolation()===kt,r=1,s=e.length-1,o=1;o<s;++o){var a=!1,l=e[o];if(l!==e[o+1]&&(1!==o||l!==l[0]))if(i)a=!0;else for(var u=o*n,c=u-n,h=u+n,d=0;d!==n;++d){var p=t[u+d];if(p!==t[c+d]||p!==t[h+d]){a=!0;break}}if(a){if(o!==r){e[r]=e[o];var f=o*n,g=r*n;for(d=0;d!==n;++d)t[g+d]=t[f+d]}++r}}if(s>0){for(e[r]=e[s],f=s*n,g=r*n,d=0;d!==n;++d)t[g+d]=t[f+d];++r}return r!==e.length&&(this.times=fa.arraySlice(e,0,r),this.values=fa.arraySlice(t,0,r*n)),this}}),ba.prototype=Object.assign(Object.create(_a.prototype),{constructor:ba,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:At,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),wa.prototype=Object.assign(Object.create(_a.prototype),{constructor:wa,ValueTypeName:"color"}),xa.prototype=Object.assign(Object.create(_a.prototype),{constructor:xa,ValueTypeName:"number"}),Ca.prototype=Object.assign(Object.create(ga.prototype),{constructor:Ca,interpolate_:function(e,t,n,i){for(var r=this.resultBuffer,s=this.sampleValues,o=this.valueSize,a=e*o,l=(n-t)/(i-t),u=a+o;a!==u;a+=4)en.slerpFlat(r,0,s,a-o,s,a,l);return r}}),Sa.prototype=Object.assign(Object.create(_a.prototype),{constructor:Sa,ValueTypeName:"quaternion",DefaultInterpolation:Dt,InterpolantFactoryMethodLinear:function(e){return new Ca(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),Ea.prototype=Object.assign(Object.create(_a.prototype),{constructor:Ea,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:At,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Ta.prototype=Object.assign(Object.create(_a.prototype),{constructor:Ta,ValueTypeName:"vector"}),Object.assign(Ma,{parse:function(e){for(var t=[],n=e.tracks,i=1/(e.fps||1),r=0,s=n.length;r!==s;++r)t.push(Ia(n[r]).scale(i));return new Ma(e.name,e.duration,t)},toJSON:function(e){for(var t=[],n=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid},r=0,s=n.length;r!==s;++r)t.push(_a.toJSON(n[r]));return i},CreateFromMorphTargetSequence:function(e,t,n,i){for(var r=t.length,s=[],o=0;o<r;o++){var a=[],l=[];a.push((o+r-1)%r,o,(o+1)%r),l.push(0,1,0);var u=fa.getKeyframeOrder(a);a=fa.sortedArray(a,1,u),l=fa.sortedArray(l,1,u),i||0!==a[0]||(a.push(r),l.push(l[0])),s.push(new xa(".morphTargetInfluences["+t[o].name+"]",a,l).scale(1/n))}return new Ma(e,-1,s)},findByName:function(e,t){var n=e;Array.isArray(e)||(n=e.geometry&&e.geometry.animations||e.animations);for(var i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null},CreateClipsFromMorphTargetSequences:function(e,t,n){for(var i={},r=/^([\w-]*?)([\d]+)$/,s=0,o=e.length;s<o;s++){var a=e[s],l=a.name.match(r);if(l&&l.length>1){var u=i[h=l[1]];u||(i[h]=u=[]),u.push(a)}}var c=[];for(var h in i)c.push(Ma.CreateFromMorphTargetSequence(h,i[h],t,n));return c},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(e,t,n,i,r){if(0!==n.length){var s=[],o=[];fa.flattenJSON(n,s,o,i),0!==s.length&&r.push(new e(t,s,o))}},i=[],r=e.name||"default",s=e.length||-1,o=e.fps||30,a=e.hierarchy||[],l=0;l<a.length;l++){var u=a[l].keys;if(u&&0!==u.length)if(u[0].morphTargets){for(var c={},h=0;h<u.length;h++)if(u[h].morphTargets)for(var d=0;d<u[h].morphTargets.length;d++)c[u[h].morphTargets[d]]=-1;for(var p in c){var f=[],g=[];for(d=0;d!==u[h].morphTargets.length;++d){var m=u[h];f.push(m.time),g.push(m.morphTarget===p?1:0)}i.push(new xa(".morphTargetInfluence["+p+"]",f,g))}s=c.length*(o||1)}else{var v=".bones["+t[l].name+"]";n(Ta,v+".position",u,"pos",i),n(Sa,v+".quaternion",u,"rot",i),n(Ta,v+".scale",u,"scl",i)}}return 0===i.length?null:new Ma(r,s,i)}}),Object.assign(Ma.prototype,{resetDuration:function(){for(var e=0,t=0,n=this.tracks.length;t!==n;++t){var i=this.tracks[t];e=Math.max(e,i.times[i.times.length-1])}return this.duration=e,this},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},validate:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}});var Oa={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};function Aa(e,t,n){var i=this,r=!1,s=0,o=0,a=void 0;this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){o++,!1===r&&void 0!==i.onStart&&i.onStart(e,s,o),r=!0},this.itemEnd=function(e){s++,void 0!==i.onProgress&&i.onProgress(e,s,o),s===o&&(r=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(e){void 0!==i.onError&&i.onError(e)},this.resolveURL=function(e){return a?a(e):e},this.setURLModifier=function(e){return a=e,this}}var Da=new Aa,ka={};function Pa(e){this.manager=void 0!==e?e:Da}function Ra(e){this.manager=void 0!==e?e:Da}function La(e){this.manager=void 0!==e?e:Da,this._parser=null}function Na(e){this.manager=void 0!==e?e:Da,this._parser=null}function Fa(e){this.manager=void 0!==e?e:Da}function Va(e){this.manager=void 0!==e?e:Da}function ja(e){this.manager=void 0!==e?e:Da}function Ba(){this.type="Curve",this.arcLengthDivisions=200}function za(e,t,n,i,r,s,o,a){Ba.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=n||1,this.yRadius=i||1,this.aStartAngle=r||0,this.aEndAngle=s||2*Math.PI,this.aClockwise=o||!1,this.aRotation=a||0}function Ha(e,t,n,i,r,s){za.call(this,e,t,n,n,i,r,s),this.type="ArcCurve"}function Ua(){var e=0,t=0,n=0,i=0;function r(r,s,o,a){e=r,t=o,n=-3*r+3*s-2*o-a,i=2*r-2*s+o+a}return{initCatmullRom:function(e,t,n,i,s){r(t,n,s*(n-e),s*(i-t))},initNonuniformCatmullRom:function(e,t,n,i,s,o,a){var l=(t-e)/s-(n-e)/(s+o)+(n-t)/o,u=(n-t)/o-(i-t)/(o+a)+(i-n)/a;r(t,n,l*=o,u*=o)},calc:function(r){var s=r*r;return e+t*r+n*s+i*(s*r)}}}Object.assign(Pa.prototype,{load:function(e,t,n,i){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var r=this,s=Oa.get(e);if(void 0!==s)return r.manager.itemStart(e),setTimeout(function(){t&&t(s),r.manager.itemEnd(e)},0),s;if(void 0===ka[e]){var o=e.match(/^data:(.*?)(;base64)?,(.*)$/);if(o){var a=o[1],l=!!o[2],u=o[3];u=decodeURIComponent(u),l&&(u=atob(u));try{var c,h=(this.responseType||"").toLowerCase();switch(h){case"arraybuffer":case"blob":for(var d=new Uint8Array(u.length),p=0;p<u.length;p++)d[p]=u.charCodeAt(p);c="blob"===h?new Blob([d.buffer],{type:a}):d.buffer;break;case"document":var f=new DOMParser;c=f.parseFromString(u,a);break;case"json":c=JSON.parse(u);break;default:c=u}setTimeout(function(){t&&t(c),r.manager.itemEnd(e)},0)}catch(v){setTimeout(function(){i&&i(v),r.manager.itemError(e),r.manager.itemEnd(e)},0)}}else{ka[e]=[],ka[e].push({onLoad:t,onProgress:n,onError:i});var g=new XMLHttpRequest;for(var m in g.open("GET",e,!0),g.addEventListener("load",function(t){var n=this.response;Oa.add(e,n);var i=ka[e];if(delete ka[e],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received.");for(var s=0,o=i.length;s<o;s++)(a=i[s]).onLoad&&a.onLoad(n);r.manager.itemEnd(e)}else{for(s=0,o=i.length;s<o;s++){var a;(a=i[s]).onError&&a.onError(t)}r.manager.itemError(e),r.manager.itemEnd(e)}},!1),g.addEventListener("progress",function(t){for(var n=ka[e],i=0,r=n.length;i<r;i++){var s=n[i];s.onProgress&&s.onProgress(t)}},!1),g.addEventListener("error",function(t){var n=ka[e];delete ka[e];for(var i=0,s=n.length;i<s;i++){var o=n[i];o.onError&&o.onError(t)}r.manager.itemError(e),r.manager.itemEnd(e)},!1),g.addEventListener("abort",function(t){var n=ka[e];delete ka[e];for(var i=0,s=n.length;i<s;i++){var o=n[i];o.onError&&o.onError(t)}r.manager.itemError(e),r.manager.itemEnd(e)},!1),void 0!==this.responseType&&(g.responseType=this.responseType),void 0!==this.withCredentials&&(g.withCredentials=this.withCredentials),g.overrideMimeType&&g.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)g.setRequestHeader(m,this.requestHeader[m]);g.send(null)}return r.manager.itemStart(e),g}ka[e].push({onLoad:t,onProgress:n,onError:i})},setPath:function(e){return this.path=e,this},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}}),Object.assign(Ra.prototype,{load:function(e,t,n,i){var r=this,s=new Pa(r.manager);s.setPath(r.path),s.load(e,function(e){t(r.parse(JSON.parse(e)))},n,i)},parse:function(e,t){for(var n=[],i=0;i<e.length;i++){var r=Ma.parse(e[i]);n.push(r)}t(n)},setPath:function(e){return this.path=e,this}}),Object.assign(La.prototype,{load:function(e,t,n,i){var r=this,s=[],o=new zs;o.image=s;var a=new Pa(this.manager);function l(l){a.load(e[l],function(e){var n=r._parser(e,!0);s[l]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(u+=1)&&(1===n.mipmapCount&&(o.minFilter=Re),o.format=n.format,o.needsUpdate=!0,t&&t(o))},n,i)}if(a.setPath(this.path),a.setResponseType("arraybuffer"),Array.isArray(e))for(var u=0,c=0,h=e.length;c<h;++c)l(c);else a.load(e,function(e){var n=r._parser(e,!0);if(n.isCubemap)for(var i=n.mipmaps.length/n.mipmapCount,a=0;a<i;a++){s[a]={mipmaps:[]};for(var l=0;l<n.mipmapCount;l++)s[a].mipmaps.push(n.mipmaps[a*n.mipmapCount+l]),s[a].format=n.format,s[a].width=n.width,s[a].height=n.height}else o.image.width=n.width,o.image.height=n.height,o.mipmaps=n.mipmaps;1===n.mipmapCount&&(o.minFilter=Re),o.format=n.format,o.needsUpdate=!0,t&&t(o)},n,i);return o},setPath:function(e){return this.path=e,this}}),Object.assign(Na.prototype,{load:function(e,t,n,i){var r=this,s=new gn,o=new Pa(this.manager);return o.setResponseType("arraybuffer"),o.setPath(this.path),o.load(e,function(e){var n=r._parser(e);n&&(void 0!==n.image?s.image=n.image:void 0!==n.data&&(s.image.width=n.width,s.image.height=n.height,s.image.data=n.data),s.wrapS=void 0!==n.wrapS?n.wrapS:Oe,s.wrapT=void 0!==n.wrapT?n.wrapT:Oe,s.magFilter=void 0!==n.magFilter?n.magFilter:Re,s.minFilter=void 0!==n.minFilter?n.minFilter:Ne,s.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(s.format=n.format),void 0!==n.type&&(s.type=n.type),void 0!==n.mipmaps&&(s.mipmaps=n.mipmaps),1===n.mipmapCount&&(s.minFilter=Re),s.needsUpdate=!0,t&&t(s,n))},n,i),s},setPath:function(e){return this.path=e,this}}),Object.assign(Fa.prototype,{crossOrigin:"anonymous",load:function(e,t,n,i){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var r=this,s=Oa.get(e);if(void 0!==s)return r.manager.itemStart(e),setTimeout(function(){t&&t(s),r.manager.itemEnd(e)},0),s;var o=document.createElementNS("http://www.w3.org/1999/xhtml","img");function a(){o.removeEventListener("load",a,!1),o.removeEventListener("error",l,!1),Oa.add(e,this),t&&t(this),r.manager.itemEnd(e)}function l(t){o.removeEventListener("load",a,!1),o.removeEventListener("error",l,!1),i&&i(t),r.manager.itemError(e),r.manager.itemEnd(e)}return o.addEventListener("load",a,!1),o.addEventListener("error",l,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),r.manager.itemStart(e),o.src=e,o},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(Va.prototype,{crossOrigin:"anonymous",load:function(e,t,n,i){var r=new zi,s=new Fa(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);var o=0;function a(n){s.load(e[n],function(e){r.images[n]=e,6==++o&&(r.needsUpdate=!0,t&&t(r))},void 0,i)}for(var l=0;l<e.length;++l)a(l);return r},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(ja.prototype,{crossOrigin:"anonymous",load:function(e,t,n,i){var r=new hn,s=new Fa(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(n){r.image=n;var i=e.search(/\.jpe?g($|\?)/i)>0||0===e.search(/^data\:image\/jpeg/);r.format=i?Ke:Xe,r.needsUpdate=!0,void 0!==t&&t(r)},n,i),r},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(Ba.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)},getPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t},getSpacedPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n,i=[],r=this.getPoint(0),s=0;for(i.push(0),n=1;n<=e;n++)s+=(t=this.getPoint(n/e)).distanceTo(r),i.push(s),r=t;return this.cacheArcLengths=i,i},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){var n,i=this.getLengths(),r=0,s=i.length;n=t||e*i[s-1];for(var o,a=0,l=s-1;a<=l;)if((o=i[r=Math.floor(a+(l-a)/2)]-n)<0)a=r+1;else{if(!(o>0)){l=r;break}l=r-1}if(i[r=l]===n)return r/(s-1);var u=i[r];return(r+(n-u)/(i[r+1]-u))/(s-1)},getTangent:function(e){var t=e-1e-4,n=e+1e-4;t<0&&(t=0),n>1&&(n=1);var i=this.getPoint(t);return this.getPoint(n).clone().sub(i).normalize()},getTangentAt:function(e){var t=this.getUtoTmapping(e);return this.getTangent(t)},computeFrenetFrames:function(e,t){var n,i,r=new tn,s=[],o=[],a=[],l=new tn,u=new Jt;for(n=0;n<=e;n++)s[n]=this.getTangentAt(n/e),s[n].normalize();o[0]=new tn,a[0]=new tn;var c=Number.MAX_VALUE,h=Math.abs(s[0].x),d=Math.abs(s[0].y),p=Math.abs(s[0].z);for(h<=c&&(c=h,r.set(1,0,0)),d<=c&&(c=d,r.set(0,1,0)),p<=c&&r.set(0,0,1),l.crossVectors(s[0],r).normalize(),o[0].crossVectors(s[0],l),a[0].crossVectors(s[0],o[0]),n=1;n<=e;n++)o[n]=o[n-1].clone(),a[n]=a[n-1].clone(),l.crossVectors(s[n-1],s[n]),l.length()>Number.EPSILON&&(l.normalize(),i=Math.acos(Xt.clamp(s[n-1].dot(s[n]),-1,1)),o[n].applyMatrix4(u.makeRotationAxis(l,i))),a[n].crossVectors(s[n],o[n]);if(!0===t)for(i=Math.acos(Xt.clamp(o[0].dot(o[e]),-1,1)),i/=e,s[0].dot(l.crossVectors(o[0],o[e]))>0&&(i=-i),n=1;n<=e;n++)o[n].applyMatrix4(u.makeRotationAxis(s[n],i*n)),a[n].crossVectors(s[n],o[n]);return{tangents:s,normals:o,binormals:a}},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}),(za.prototype=Object.create(Ba.prototype)).constructor=za,za.prototype.isEllipseCurve=!0,za.prototype.getPoint=function(e,t){for(var n=t||new Qt,i=2*Math.PI,r=this.aEndAngle-this.aStartAngle,s=Math.abs(r)<Number.EPSILON;r<0;)r+=i;for(;r>i;)r-=i;r<Number.EPSILON&&(r=s?0:i),!0!==this.aClockwise||s||(r===i?r=-i:r-=i);var o=this.aStartAngle+e*r,a=this.aX+this.xRadius*Math.cos(o),l=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var u=Math.cos(this.aRotation),c=Math.sin(this.aRotation),h=a-this.aX,d=l-this.aY;a=h*u-d*c+this.aX,l=h*c+d*u+this.aY}return n.set(a,l)},za.prototype.copy=function(e){return Ba.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},za.prototype.toJSON=function(){var e=Ba.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e},za.prototype.fromJSON=function(e){return Ba.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},(Ha.prototype=Object.create(za.prototype)).constructor=Ha,Ha.prototype.isArcCurve=!0;var Ga=new tn,Wa=new Ua,$a=new Ua,qa=new Ua;function Ya(e,t,n,i){Ba.call(this),this.type="CatmullRomCurve3",this.points=e||[],this.closed=t||!1,this.curveType=n||"centripetal",this.tension=i||.5}function Za(e,t,n,i,r){var s=.5*(i-t),o=.5*(r-n),a=e*e;return(2*n-2*i+s+o)*(e*a)+(-3*n+3*i-2*s-o)*a+s*e+n}function Ka(e,t,n,i){return function(e,n){var i=1-e;return i*i*t}(e)+function(e,t){return 2*(1-e)*e*n}(e)+function(e,t){return e*e*i}(e)}function Xa(e,t,n,i,r){return function(e,n){var i=1-e;return i*i*i*t}(e)+function(e,t){var i=1-e;return 3*i*i*e*n}(e)+function(e,t){return 3*(1-e)*e*e*i}(e)+function(e,t){return e*e*e*r}(e)}function Qa(e,t,n,i){Ba.call(this),this.type="CubicBezierCurve",this.v0=e||new Qt,this.v1=t||new Qt,this.v2=n||new Qt,this.v3=i||new Qt}function Ja(e,t,n,i){Ba.call(this),this.type="CubicBezierCurve3",this.v0=e||new tn,this.v1=t||new tn,this.v2=n||new tn,this.v3=i||new tn}function el(e,t){Ba.call(this),this.type="LineCurve",this.v1=e||new Qt,this.v2=t||new Qt}function tl(e,t){Ba.call(this),this.type="LineCurve3",this.v1=e||new tn,this.v2=t||new tn}function nl(e,t,n){Ba.call(this),this.type="QuadraticBezierCurve",this.v0=e||new Qt,this.v1=t||new Qt,this.v2=n||new Qt}function il(e,t,n){Ba.call(this),this.type="QuadraticBezierCurve3",this.v0=e||new tn,this.v1=t||new tn,this.v2=n||new tn}function rl(e){Ba.call(this),this.type="SplineCurve",this.points=e||[]}(Ya.prototype=Object.create(Ba.prototype)).constructor=Ya,Ya.prototype.isCatmullRomCurve3=!0,Ya.prototype.getPoint=function(e,t){var n,i,r,s,o=t||new tn,a=this.points,l=a.length,u=(l-(this.closed?0:1))*e,c=Math.floor(u),h=u-c;if(this.closed?c+=c>0?0:(Math.floor(Math.abs(c)/l)+1)*l:0===h&&c===l-1&&(c=l-2,h=1),this.closed||c>0?n=a[(c-1)%l]:(Ga.subVectors(a[0],a[1]).add(a[0]),n=Ga),i=a[c%l],r=a[(c+1)%l],this.closed||c+2<l?s=a[(c+2)%l]:(Ga.subVectors(a[l-1],a[l-2]).add(a[l-1]),s=Ga),"centripetal"===this.curveType||"chordal"===this.curveType){var d="chordal"===this.curveType?.5:.25,p=Math.pow(n.distanceToSquared(i),d),f=Math.pow(i.distanceToSquared(r),d),g=Math.pow(r.distanceToSquared(s),d);f<1e-4&&(f=1),p<1e-4&&(p=f),g<1e-4&&(g=f),Wa.initNonuniformCatmullRom(n.x,i.x,r.x,s.x,p,f,g),$a.initNonuniformCatmullRom(n.y,i.y,r.y,s.y,p,f,g),qa.initNonuniformCatmullRom(n.z,i.z,r.z,s.z,p,f,g)}else"catmullrom"===this.curveType&&(Wa.initCatmullRom(n.x,i.x,r.x,s.x,this.tension),$a.initCatmullRom(n.y,i.y,r.y,s.y,this.tension),qa.initCatmullRom(n.z,i.z,r.z,s.z,this.tension));return o.set(Wa.calc(h),$a.calc(h),qa.calc(h)),o},Ya.prototype.copy=function(e){Ba.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++)this.points.push(e.points[t].clone());return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},Ya.prototype.toJSON=function(){var e=Ba.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++)e.points.push(this.points[t].toArray());return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e},Ya.prototype.fromJSON=function(e){Ba.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var i=e.points[t];this.points.push((new tn).fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},(Qa.prototype=Object.create(Ba.prototype)).constructor=Qa,Qa.prototype.isCubicBezierCurve=!0,Qa.prototype.getPoint=function(e,t){var n=t||new Qt,i=this.v0,r=this.v1,s=this.v2,o=this.v3;return n.set(Xa(e,i.x,r.x,s.x,o.x),Xa(e,i.y,r.y,s.y,o.y)),n},Qa.prototype.copy=function(e){return Ba.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},Qa.prototype.toJSON=function(){var e=Ba.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},Qa.prototype.fromJSON=function(e){return Ba.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},(Ja.prototype=Object.create(Ba.prototype)).constructor=Ja,Ja.prototype.isCubicBezierCurve3=!0,Ja.prototype.getPoint=function(e,t){var n=t||new tn,i=this.v0,r=this.v1,s=this.v2,o=this.v3;return n.set(Xa(e,i.x,r.x,s.x,o.x),Xa(e,i.y,r.y,s.y,o.y),Xa(e,i.z,r.z,s.z,o.z)),n},Ja.prototype.copy=function(e){return Ba.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},Ja.prototype.toJSON=function(){var e=Ba.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},Ja.prototype.fromJSON=function(e){return Ba.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},(el.prototype=Object.create(Ba.prototype)).constructor=el,el.prototype.isLineCurve=!0,el.prototype.getPoint=function(e,t){var n=t||new Qt;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},el.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},el.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()},el.prototype.copy=function(e){return Ba.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},el.prototype.toJSON=function(){var e=Ba.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},el.prototype.fromJSON=function(e){return Ba.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},(tl.prototype=Object.create(Ba.prototype)).constructor=tl,tl.prototype.isLineCurve3=!0,tl.prototype.getPoint=function(e,t){var n=t||new tn;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},tl.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},tl.prototype.copy=function(e){return Ba.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},tl.prototype.toJSON=function(){var e=Ba.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},tl.prototype.fromJSON=function(e){return Ba.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},(nl.prototype=Object.create(Ba.prototype)).constructor=nl,nl.prototype.isQuadraticBezierCurve=!0,nl.prototype.getPoint=function(e,t){var n=t||new Qt,i=this.v0,r=this.v1,s=this.v2;return n.set(Ka(e,i.x,r.x,s.x),Ka(e,i.y,r.y,s.y)),n},nl.prototype.copy=function(e){return Ba.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},nl.prototype.toJSON=function(){var e=Ba.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},nl.prototype.fromJSON=function(e){return Ba.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},(il.prototype=Object.create(Ba.prototype)).constructor=il,il.prototype.isQuadraticBezierCurve3=!0,il.prototype.getPoint=function(e,t){var n=t||new tn,i=this.v0,r=this.v1,s=this.v2;return n.set(Ka(e,i.x,r.x,s.x),Ka(e,i.y,r.y,s.y),Ka(e,i.z,r.z,s.z)),n},il.prototype.copy=function(e){return Ba.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},il.prototype.toJSON=function(){var e=Ba.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},il.prototype.fromJSON=function(e){return Ba.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},(rl.prototype=Object.create(Ba.prototype)).constructor=rl,rl.prototype.isSplineCurve=!0,rl.prototype.getPoint=function(e,t){var n=t||new Qt,i=this.points,r=(i.length-1)*e,s=Math.floor(r),o=r-s,a=i[0===s?s:s-1],l=i[s],u=i[s>i.length-2?i.length-1:s+1],c=i[s>i.length-3?i.length-1:s+2];return n.set(Za(o,a.x,l.x,u.x,c.x),Za(o,a.y,l.y,u.y,c.y)),n},rl.prototype.copy=function(e){Ba.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++)this.points.push(e.points[t].clone());return this},rl.prototype.toJSON=function(){var e=Ba.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++)e.points.push(this.points[t].toArray());return e},rl.prototype.fromJSON=function(e){Ba.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var i=e.points[t];this.points.push((new Qt).fromArray(i))}return this};var sl=Object.freeze({ArcCurve:Ha,CatmullRomCurve3:Ya,CubicBezierCurve:Qa,CubicBezierCurve3:Ja,EllipseCurve:za,LineCurve:el,LineCurve3:tl,QuadraticBezierCurve:nl,QuadraticBezierCurve3:il,SplineCurve:rl});function ol(){Ba.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function al(e){ol.call(this),this.type="Path",this.currentPoint=new Qt,e&&this.setFromPoints(e)}function ll(e){al.call(this,e),this.uuid=Xt.generateUUID(),this.type="Shape",this.holes=[]}function ul(e,t){Hn.call(this),this.type="Light",this.color=new In(e),this.intensity=void 0!==t?t:1,this.receiveShadow=void 0}function cl(e,t,n){ul.call(this,e,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(Hn.DefaultUp),this.updateMatrix(),this.groundColor=new In(t)}function hl(e){this.camera=e,this.bias=0,this.radius=1,this.mapSize=new Qt(512,512),this.map=null,this.matrix=new Jt}function dl(){hl.call(this,new us(50,1,.5,500))}function pl(e,t,n,i,r,s){ul.call(this,e,t),this.type="SpotLight",this.position.copy(Hn.DefaultUp),this.updateMatrix(),this.target=new Hn,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==i?i:Math.PI/3,this.penumbra=void 0!==r?r:0,this.decay=void 0!==s?s:1,this.shadow=new dl}function fl(e,t,n,i){ul.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==i?i:1,this.shadow=new hl(new us(90,1,.5,500))}function gl(e,t,n,i,r,s){ls.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0!==e?e:-1,this.right=void 0!==t?t:1,this.top=void 0!==n?n:1,this.bottom=void 0!==i?i:-1,this.near=void 0!==r?r:.1,this.far=void 0!==s?s:2e3,this.updateProjectionMatrix()}function ml(){hl.call(this,new gl(-5,5,5,-5,.5,500))}function vl(e,t){ul.call(this,e,t),this.type="DirectionalLight",this.position.copy(Hn.DefaultUp),this.updateMatrix(),this.target=new Hn,this.shadow=new ml}function yl(e,t){ul.call(this,e,t),this.type="AmbientLight",this.castShadow=void 0}function _l(e,t,n,i){ul.call(this,e,t),this.type="RectAreaLight",this.width=void 0!==n?n:10,this.height=void 0!==i?i:10}function bl(e){this.manager=void 0!==e?e:Da,this.textures={}}ol.prototype=Object.assign(Object.create(Ba.prototype),{constructor:ol,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new el(t,e))},getPoint:function(e){for(var t=e*this.getLength(),n=this.getCurveLengths(),i=0;i<n.length;){if(n[i]>=t){var r=n[i]-t,s=this.curves[i],o=s.getLength();return s.getPointAt(0===o?0:1-r/o)}i++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,i=this.curves.length;n<i;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(e){void 0===e&&(e=40);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;for(var t,n=[],i=0,r=this.curves;i<r.length;i++)for(var s=r[i],o=s.getPoints(s&&s.isEllipseCurve?2*e:s&&(s.isLineCurve||s.isLineCurve3)?1:s&&s.isSplineCurve?e*s.points.length:e),a=0;a<o.length;a++){var l=o[a];t&&t.equals(l)||(n.push(l),t=l)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},copy:function(e){Ba.prototype.copy.call(this,e),this.curves=[];for(var t=0,n=e.curves.length;t<n;t++)this.curves.push(e.curves[t].clone());return this.autoClose=e.autoClose,this},toJSON:function(){var e=Ba.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,n=this.curves.length;t<n;t++)e.curves.push(this.curves[t].toJSON());return e},fromJSON:function(e){Ba.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var i=e.curves[t];this.curves.push((new sl[i.type]).fromJSON(i))}return this}}),al.prototype=Object.assign(Object.create(ol.prototype),{constructor:al,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y)},moveTo:function(e,t){this.currentPoint.set(e,t)},lineTo:function(e,t){var n=new el(this.currentPoint.clone(),new Qt(e,t));this.curves.push(n),this.currentPoint.set(e,t)},quadraticCurveTo:function(e,t,n,i){var r=new nl(this.currentPoint.clone(),new Qt(e,t),new Qt(n,i));this.curves.push(r),this.currentPoint.set(n,i)},bezierCurveTo:function(e,t,n,i,r,s){var o=new Qa(this.currentPoint.clone(),new Qt(e,t),new Qt(n,i),new Qt(r,s));this.curves.push(o),this.currentPoint.set(r,s)},splineThru:function(e){var t=new rl([this.currentPoint.clone()].concat(e));this.curves.push(t),this.currentPoint.copy(e[e.length-1])},arc:function(e,t,n,i,r,s){this.absarc(e+this.currentPoint.x,t+this.currentPoint.y,n,i,r,s)},absarc:function(e,t,n,i,r,s){this.absellipse(e,t,n,n,i,r,s)},ellipse:function(e,t,n,i,r,s,o,a){this.absellipse(e+this.currentPoint.x,t+this.currentPoint.y,n,i,r,s,o,a)},absellipse:function(e,t,n,i,r,s,o,a){var l=new za(e,t,n,i,r,s,o,a);if(this.curves.length>0){var u=l.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(l);var c=l.getPoint(1);this.currentPoint.copy(c)},copy:function(e){return ol.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){var e=ol.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return ol.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}),ll.prototype=Object.assign(Object.create(al.prototype),{constructor:ll,getPointsHoles:function(e){for(var t=[],n=0,i=this.holes.length;n<i;n++)t[n]=this.holes[n].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){al.prototype.copy.call(this,e),this.holes=[];for(var t=0,n=e.holes.length;t<n;t++)this.holes.push(e.holes[t].clone());return this},toJSON:function(){var e=al.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,n=this.holes.length;t<n;t++)e.holes.push(this.holes[t].toJSON());return e},fromJSON:function(e){al.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var i=e.holes[t];this.holes.push((new al).fromJSON(i))}return this}}),ul.prototype=Object.assign(Object.create(Hn.prototype),{constructor:ul,isLight:!0,copy:function(e){return Hn.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){var t=Hn.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}),cl.prototype=Object.assign(Object.create(ul.prototype),{constructor:cl,isHemisphereLight:!0,copy:function(e){return ul.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),Object.assign(hl.prototype,{copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}),dl.prototype=Object.assign(Object.create(hl.prototype),{constructor:dl,isSpotLightShadow:!0,update:function(e){var t=this.camera,n=2*Xt.RAD2DEG*e.angle,i=this.mapSize.width/this.mapSize.height,r=e.distance||t.far;n===t.fov&&i===t.aspect&&r===t.far||(t.fov=n,t.aspect=i,t.far=r,t.updateProjectionMatrix())}}),pl.prototype=Object.assign(Object.create(ul.prototype),{constructor:pl,isSpotLight:!0,copy:function(e){return ul.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),fl.prototype=Object.assign(Object.create(ul.prototype),{constructor:fl,isPointLight:!0,copy:function(e){return ul.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),gl.prototype=Object.assign(Object.create(ls.prototype),{constructor:gl,isOrthographicCamera:!0,copy:function(e,t){return ls.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this},setViewOffset:function(e,t,n,i,r,s){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=s,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2,r=n-e,s=n+e,o=i+t,a=i-t;if(null!==this.view&&this.view.enabled){var l=this.zoom/(this.view.width/this.view.fullWidth),u=this.zoom/(this.view.height/this.view.fullHeight),c=(this.right-this.left)/this.view.width,h=(this.top-this.bottom)/this.view.height;s=(r+=c*(this.view.offsetX/l))+c*(this.view.width/l),a=(o-=h*(this.view.offsetY/u))-h*(this.view.height/u)}this.projectionMatrix.makeOrthographic(r,s,o,a,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=Hn.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}),ml.prototype=Object.assign(Object.create(hl.prototype),{constructor:ml}),vl.prototype=Object.assign(Object.create(ul.prototype),{constructor:vl,isDirectionalLight:!0,copy:function(e){return ul.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),yl.prototype=Object.assign(Object.create(ul.prototype),{constructor:yl,isAmbientLight:!0}),_l.prototype=Object.assign(Object.create(ul.prototype),{constructor:_l,isRectAreaLight:!0,copy:function(e){return ul.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){var t=ul.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}}),Object.assign(bl.prototype,{load:function(e,t,n,i){var r=this,s=new Pa(r.manager);s.setPath(r.path),s.load(e,function(e){t(r.parse(JSON.parse(e)))},n,i)},parse:function(e){var t=this.textures;function n(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}var i=new pa[e.type];if(void 0!==e.uuid&&(i.uuid=e.uuid),void 0!==e.name&&(i.name=e.name),void 0!==e.color&&i.color.setHex(e.color),void 0!==e.roughness&&(i.roughness=e.roughness),void 0!==e.metalness&&(i.metalness=e.metalness),void 0!==e.emissive&&i.emissive.setHex(e.emissive),void 0!==e.specular&&i.specular.setHex(e.specular),void 0!==e.shininess&&(i.shininess=e.shininess),void 0!==e.clearCoat&&(i.clearCoat=e.clearCoat),void 0!==e.clearCoatRoughness&&(i.clearCoatRoughness=e.clearCoatRoughness),void 0!==e.vertexColors&&(i.vertexColors=e.vertexColors),void 0!==e.fog&&(i.fog=e.fog),void 0!==e.flatShading&&(i.flatShading=e.flatShading),void 0!==e.blending&&(i.blending=e.blending),void 0!==e.combine&&(i.combine=e.combine),void 0!==e.side&&(i.side=e.side),void 0!==e.opacity&&(i.opacity=e.opacity),void 0!==e.transparent&&(i.transparent=e.transparent),void 0!==e.alphaTest&&(i.alphaTest=e.alphaTest),void 0!==e.depthTest&&(i.depthTest=e.depthTest),void 0!==e.depthWrite&&(i.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(i.colorWrite=e.colorWrite),void 0!==e.wireframe&&(i.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(i.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(i.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(i.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(i.rotation=e.rotation),1!==e.linewidth&&(i.linewidth=e.linewidth),void 0!==e.dashSize&&(i.dashSize=e.dashSize),void 0!==e.gapSize&&(i.gapSize=e.gapSize),void 0!==e.scale&&(i.scale=e.scale),void 0!==e.polygonOffset&&(i.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(i.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(i.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.skinning&&(i.skinning=e.skinning),void 0!==e.morphTargets&&(i.morphTargets=e.morphTargets),void 0!==e.dithering&&(i.dithering=e.dithering),void 0!==e.visible&&(i.visible=e.visible),void 0!==e.userData&&(i.userData=e.userData),void 0!==e.uniforms)for(var r in e.uniforms){var s=e.uniforms[r];switch(i.uniforms[r]={},s.type){case"t":i.uniforms[r].value=n(s.value);break;case"c":i.uniforms[r].value=(new In).setHex(s.value);break;case"v2":i.uniforms[r].value=(new Qt).fromArray(s.value);break;case"v3":i.uniforms[r].value=(new tn).fromArray(s.value);break;case"v4":i.uniforms[r].value=(new dn).fromArray(s.value);break;case"m4":i.uniforms[r].value=(new Jt).fromArray(s.value);break;default:i.uniforms[r].value=s.value}}if(void 0!==e.defines&&(i.defines=e.defines),void 0!==e.vertexShader&&(i.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(i.fragmentShader=e.fragmentShader),void 0!==e.extensions)for(var o in e.extensions)i.extensions[o]=e.extensions[o];if(void 0!==e.shading&&(i.flatShading=1===e.shading),void 0!==e.size&&(i.size=e.size),void 0!==e.sizeAttenuation&&(i.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(i.map=n(e.map)),void 0!==e.alphaMap&&(i.alphaMap=n(e.alphaMap),i.transparent=!0),void 0!==e.bumpMap&&(i.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(i.bumpScale=e.bumpScale),void 0!==e.normalMap&&(i.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(i.normalMapType=e.normalMapType),void 0!==e.normalScale){var a=e.normalScale;!1===Array.isArray(a)&&(a=[a,a]),i.normalScale=(new Qt).fromArray(a)}return void 0!==e.displacementMap&&(i.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(i.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(i.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(i.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(i.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(i.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(i.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(i.specularMap=n(e.specularMap)),void 0!==e.envMap&&(i.envMap=n(e.envMap)),void 0!==e.envMapIntensity&&(i.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(i.reflectivity=e.reflectivity),void 0!==e.lightMap&&(i.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(i.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(i.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(i.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(i.gradientMap=n(e.gradientMap)),i},setPath:function(e){return this.path=e,this},setTextures:function(e){return this.textures=e,this}});var wl={decodeText:function(e){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",n=0,i=e.length;n<i;n++)t+=String.fromCharCode(e[n]);return decodeURIComponent(escape(t))},extractUrlBase:function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)}};function xl(e){this.manager=void 0!==e?e:Da}Object.assign(xl.prototype,{load:function(e,t,n,i){var r=this,s=new Pa(r.manager);s.setPath(r.path),s.load(e,function(e){t(r.parse(JSON.parse(e)))},n,i)},parse:function(e){var t=new oi,n=e.data.index;if(void 0!==n){var i=new Cl[n.type](n.array);t.setIndex(new qn(i,1))}var r=e.data.attributes;for(var s in r){var o=r[s];i=new Cl[o.type](o.array),t.addAttribute(s,new qn(i,o.itemSize,o.normalized))}var a=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==a)for(var l=0,u=a.length;l!==u;++l){var c=a[l];t.addGroup(c.start,c.count,c.materialIndex)}var h=e.data.boundingSphere;if(void 0!==h){var d=new tn;void 0!==h.center&&d.fromArray(h.center),t.boundingSphere=new vn(d,h.radius)}return e.name&&(t.name=e.name),e.userData&&(t.userData=e.userData),t},setPath:function(e){return this.path=e,this}});var Cl={Int8Array,Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Sl(e){this.manager=void 0!==e?e:Da,this.resourcePath=""}Object.assign(Sl.prototype,{crossOrigin:"anonymous",load:function(e,t,n,i){var r=this,s=void 0===this.path?wl.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;var o=new Pa(r.manager);o.setPath(this.path),o.load(e,function(n){var s=null;try{s=JSON.parse(n)}catch(a){return void 0!==i&&i(a),void console.error("THREE:ObjectLoader: Can't parse "+e+".",a.message)}var o=s.metadata;void 0!==o&&void 0!==o.type&&"geometry"!==o.type.toLowerCase()?r.parse(s,t):console.error("THREE.ObjectLoader: Can't load "+e)},n,i)},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},setCrossOrigin:function(e){return this.crossOrigin=e,this},parse:function(e,t){var n=this.parseShape(e.shapes),i=this.parseGeometries(e.geometries,n),r=this.parseImages(e.images,function(){void 0!==t&&t(a)}),s=this.parseTextures(e.textures,r),o=this.parseMaterials(e.materials,s),a=this.parseObject(e.object,i,o);return e.animations&&(a.animations=this.parseAnimations(e.animations)),void 0!==e.images&&0!==e.images.length||void 0!==t&&t(a),a},parseShape:function(e){var t={};if(void 0!==e)for(var n=0,i=e.length;n<i;n++){var r=(new ll).fromJSON(e[n]);t[r.uuid]=r}return t},parseGeometries:function(e,t){var n={};if(void 0!==e)for(var i=new xl,r=0,s=e.length;r<s;r++){var o,a=e[r];switch(a.type){case"PlaneGeometry":case"PlaneBufferGeometry":o=new na[a.type](a.width,a.height,a.widthSegments,a.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":o=new na[a.type](a.width,a.height,a.depth,a.widthSegments,a.heightSegments,a.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":o=new na[a.type](a.radius,a.segments,a.thetaStart,a.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":o=new na[a.type](a.radiusTop,a.radiusBottom,a.height,a.radialSegments,a.heightSegments,a.openEnded,a.thetaStart,a.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":o=new na[a.type](a.radius,a.height,a.radialSegments,a.heightSegments,a.openEnded,a.thetaStart,a.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":o=new na[a.type](a.radius,a.widthSegments,a.heightSegments,a.phiStart,a.phiLength,a.thetaStart,a.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":o=new na[a.type](a.radius,a.detail);break;case"RingGeometry":case"RingBufferGeometry":o=new na[a.type](a.innerRadius,a.outerRadius,a.thetaSegments,a.phiSegments,a.thetaStart,a.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":o=new na[a.type](a.radius,a.tube,a.radialSegments,a.tubularSegments,a.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":o=new na[a.type](a.radius,a.tube,a.tubularSegments,a.radialSegments,a.p,a.q);break;case"LatheGeometry":case"LatheBufferGeometry":o=new na[a.type](a.points,a.segments,a.phiStart,a.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":o=new na[a.type](a.vertices,a.indices,a.radius,a.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":for(var l=[],u=0,c=a.shapes.length;u<c;u++)l.push(t[a.shapes[u]]);o=new na[a.type](l,a.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(l=[],u=0,c=a.shapes.length;u<c;u++)l.push(t[a.shapes[u]]);var h=a.options.extrudePath;void 0!==h&&(a.options.extrudePath=(new sl[h.type]).fromJSON(h)),o=new na[a.type](l,a.options);break;case"BufferGeometry":o=i.parse(a);break;case"Geometry":"THREE"in window&&"LegacyJSONLoader"in THREE?o=(new THREE.LegacyJSONLoader).parse(a,this.resourcePath).geometry:console.error('THREE.ObjectLoader: You have to import LegacyJSONLoader in order load geometry data of type "Geometry".');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+a.type+'"');continue}o.uuid=a.uuid,void 0!==a.name&&(o.name=a.name),!0===o.isBufferGeometry&&void 0!==a.userData&&(o.userData=a.userData),n[a.uuid]=o}return n},parseMaterials:function(e,t){var n={},i={};if(void 0!==e){var r=new bl;r.setTextures(t);for(var s=0,o=e.length;s<o;s++){var a=e[s];if("MultiMaterial"===a.type){for(var l=[],u=0;u<a.materials.length;u++){var c=a.materials[u];void 0===n[c.uuid]&&(n[c.uuid]=r.parse(c)),l.push(n[c.uuid])}i[a.uuid]=l}else i[a.uuid]=r.parse(a),n[a.uuid]=i[a.uuid]}}return i},parseAnimations:function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n],r=Ma.parse(i);void 0!==i.uuid&&(r.uuid=i.uuid),t.push(r)}return t},parseImages:function(e,t){var n=this,i={};function r(e){return n.manager.itemStart(e),s.load(e,function(){n.manager.itemEnd(e)},void 0,function(){n.manager.itemError(e),n.manager.itemEnd(e)})}if(void 0!==e&&e.length>0){var s=new Fa(new Aa(t));s.setCrossOrigin(this.crossOrigin);for(var o=0,a=e.length;o<a;o++){var l=e[o],u=l.url;if(Array.isArray(u)){i[l.uuid]=[];for(var c=0,h=u.length;c<h;c++){var d=u[c],p=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(d)?d:n.resourcePath+d;i[l.uuid].push(r(p))}}else p=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l.url)?l.url:n.resourcePath+l.url,i[l.uuid]=r(p)}}return i},parseTextures:function(e,t){function n(e,t){return"number"==typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var i={};if(void 0!==e)for(var r=0,s=e.length;r<s;r++){var o,a=e[r];void 0===a.image&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),void 0===t[a.image]&&console.warn("THREE.ObjectLoader: Undefined image",a.image),(o=Array.isArray(t[a.image])?new zi(t[a.image]):new hn(t[a.image])).needsUpdate=!0,o.uuid=a.uuid,void 0!==a.name&&(o.name=a.name),void 0!==a.mapping&&(o.mapping=n(a.mapping,Al)),void 0!==a.offset&&o.offset.fromArray(a.offset),void 0!==a.repeat&&o.repeat.fromArray(a.repeat),void 0!==a.center&&o.center.fromArray(a.center),void 0!==a.rotation&&(o.rotation=a.rotation),void 0!==a.wrap&&(o.wrapS=n(a.wrap[0],Dl),o.wrapT=n(a.wrap[1],Dl)),void 0!==a.format&&(o.format=a.format),void 0!==a.type&&(o.type=a.type),void 0!==a.encoding&&(o.encoding=a.encoding),void 0!==a.minFilter&&(o.minFilter=n(a.minFilter,kl)),void 0!==a.magFilter&&(o.magFilter=n(a.magFilter,kl)),void 0!==a.anisotropy&&(o.anisotropy=a.anisotropy),void 0!==a.flipY&&(o.flipY=a.flipY),void 0!==a.premultiplyAlpha&&(o.premultiplyAlpha=a.premultiplyAlpha),void 0!==a.unpackAlignment&&(o.unpackAlignment=a.unpackAlignment),i[a.uuid]=o}return i},parseObject:function(e,t,n){var i;function r(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function s(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],i=0,r=e.length;i<r;i++){var s=e[i];void 0===n[s]&&console.warn("THREE.ObjectLoader: Undefined material",s),t.push(n[s])}return t}return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),n[e]}}switch(e.type){case"Scene":i=new Es,void 0!==e.background&&Number.isInteger(e.background)&&(i.background=new In(e.background)),void 0!==e.fog&&("Fog"===e.fog.type?i.fog=new Ss(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(i.fog=new Cs(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":i=new us(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(i.focus=e.focus),void 0!==e.zoom&&(i.zoom=e.zoom),void 0!==e.filmGauge&&(i.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(i.filmOffset=e.filmOffset),void 0!==e.view&&(i.view=Object.assign({},e.view));break;case"OrthographicCamera":i=new gl(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(i.zoom=e.zoom),void 0!==e.view&&(i.view=Object.assign({},e.view));break;case"AmbientLight":i=new yl(e.color,e.intensity);break;case"DirectionalLight":i=new vl(e.color,e.intensity);break;case"PointLight":i=new fl(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":i=new _l(e.color,e.intensity,e.width,e.height);break;case"SpotLight":i=new pl(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":i=new cl(e.color,e.groundColor,e.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var o=r(e.geometry),a=s(e.material);i=o.bones&&o.bones.length>0?new Ds(o,a):new Oi(o,a);break;case"LOD":i=new As;break;case"Line":i=new Ls(r(e.geometry),s(e.material),e.mode);break;case"LineLoop":i=new Fs(r(e.geometry),s(e.material));break;case"LineSegments":i=new Ns(r(e.geometry),s(e.material));break;case"PointCloud":case"Points":i=new js(r(e.geometry),s(e.material));break;case"Sprite":i=new Os(s(e.material));break;case"Group":i=new as;break;default:i=new Hn}if(i.uuid=e.uuid,void 0!==e.name&&(i.name=e.name),void 0!==e.matrix?(i.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(i.matrixAutoUpdate=e.matrixAutoUpdate),i.matrixAutoUpdate&&i.matrix.decompose(i.position,i.quaternion,i.scale)):(void 0!==e.position&&i.position.fromArray(e.position),void 0!==e.rotation&&i.rotation.fromArray(e.rotation),void 0!==e.quaternion&&i.quaternion.fromArray(e.quaternion),void 0!==e.scale&&i.scale.fromArray(e.scale)),void 0!==e.castShadow&&(i.castShadow=e.castShadow),void 0!==e.receiveShadow&&(i.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(i.shadow.bias=e.shadow.bias),void 0!==e.shadow.radius&&(i.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&i.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(i.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(i.visible=e.visible),void 0!==e.frustumCulled&&(i.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(i.renderOrder=e.renderOrder),void 0!==e.userData&&(i.userData=e.userData),void 0!==e.layers&&(i.layers.mask=e.layers),void 0!==e.children)for(var l=e.children,u=0;u<l.length;u++)i.add(this.parseObject(l[u],t,n));if("LOD"===e.type)for(var c=e.levels,h=0;h<c.length;h++){var d=c[h],p=i.getObjectByProperty("uuid",d.object);void 0!==p&&i.addLevel(p,d.distance)}return i}});var El,Tl,Ml,Il,Ol,Al={UVMapping:be,CubeReflectionMapping:we,CubeRefractionMapping:xe,EquirectangularReflectionMapping:Ce,EquirectangularRefractionMapping:Se,SphericalReflectionMapping:Ee,CubeUVReflectionMapping:Te,CubeUVRefractionMapping:Me},Dl={RepeatWrapping:Ie,ClampToEdgeWrapping:Oe,MirroredRepeatWrapping:Ae},kl={NearestFilter:De,NearestMipMapNearestFilter:ke,NearestMipMapLinearFilter:Pe,LinearFilter:Re,LinearMipMapNearestFilter:Le,LinearMipMapLinearFilter:Ne};function Pl(e){"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.manager=void 0!==e?e:Da,this.options=void 0}function Rl(){this.type="ShapePath",this.color=new In,this.subPaths=[],this.currentPath=null}function Ll(e){this.type="Font",this.data=e}function Nl(e,t,n,i,r){var s=r.glyphs[e]||r.glyphs["?"];if(s){var o,a,l,u,c,h,d,p,f=new Rl;if(s.o)for(var g=s._cachedOutline||(s._cachedOutline=s.o.split(" ")),m=0,v=g.length;m<v;)switch(g[m++]){case"m":o=g[m++]*t+n,a=g[m++]*t+i,f.moveTo(o,a);break;case"l":o=g[m++]*t+n,a=g[m++]*t+i,f.lineTo(o,a);break;case"q":l=g[m++]*t+n,u=g[m++]*t+i,c=g[m++]*t+n,h=g[m++]*t+i,f.quadraticCurveTo(c,h,l,u);break;case"b":l=g[m++]*t+n,u=g[m++]*t+i,c=g[m++]*t+n,h=g[m++]*t+i,d=g[m++]*t+n,p=g[m++]*t+i,f.bezierCurveTo(c,h,d,p,l,u)}return{offsetX:s.ha*t,path:f}}}function Fl(e){this.manager=void 0!==e?e:Da}function Vl(){}Pl.prototype={constructor:Pl,setOptions:function(e){return this.options=e,this},load:function(e,t,n,i){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var r=this,s=Oa.get(e);if(void 0!==s)return r.manager.itemStart(e),setTimeout(function(){t&&t(s),r.manager.itemEnd(e)},0),s;fetch(e).then(function(e){return e.blob()}).then(function(e){return createImageBitmap(e,r.options)}).then(function(n){Oa.add(e,n),t&&t(n),r.manager.itemEnd(e)}).catch(function(t){i&&i(t),r.manager.itemError(e),r.manager.itemEnd(e)})},setCrossOrigin:function(){return this},setPath:function(e){return this.path=e,this}},Object.assign(Rl.prototype,{moveTo:function(e,t){this.currentPath=new al,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t)},lineTo:function(e,t){this.currentPath.lineTo(e,t)},quadraticCurveTo:function(e,t,n,i){this.currentPath.quadraticCurveTo(e,t,n,i)},bezierCurveTo:function(e,t,n,i,r,s){this.currentPath.bezierCurveTo(e,t,n,i,r,s)},splineThru:function(e){this.currentPath.splineThru(e)},toShapes:function(e,t){function n(e){for(var t=[],n=0,i=e.length;n<i;n++){var r=e[n],s=new ll;s.curves=r.curves,t.push(s)}return t}function i(e,t){for(var n=t.length,i=!1,r=n-1,s=0;s<n;r=s++){var o=t[r],a=t[s],l=a.x-o.x,u=a.y-o.y;if(Math.abs(u)>Number.EPSILON){if(u<0&&(o=t[s],l=-l,a=t[r],u=-u),e.y<o.y||e.y>a.y)continue;if(e.y===o.y){if(e.x===o.x)return!0}else{var c=u*(e.x-o.x)-l*(e.y-o.y);if(0===c)return!0;if(c<0)continue;i=!i}}else{if(e.y!==o.y)continue;if(a.x<=e.x&&e.x<=o.x||o.x<=e.x&&e.x<=a.x)return!0}}return i}var r=Do.isClockWise,s=this.subPaths;if(0===s.length)return[];if(!0===t)return n(s);var o,a,l,u=[];if(1===s.length)return a=s[0],(l=new ll).curves=a.curves,u.push(l),u;var c=!r(s[0].getPoints());c=e?!c:c;var h,d,p=[],f=[],g=[],m=0;f[m]=void 0,g[m]=[];for(var v=0,y=s.length;v<y;v++)o=r(h=(a=s[v]).getPoints()),(o=e?!o:o)?(!c&&f[m]&&m++,f[m]={s:new ll,p:h},f[m].s.curves=a.curves,c&&m++,g[m]=[]):g[m].push({h:a,p:h[0]});if(!f[0])return n(s);if(f.length>1){for(var _=!1,b=[],w=0,x=f.length;w<x;w++)p[w]=[];for(w=0,x=f.length;w<x;w++)for(var C=g[w],S=0;S<C.length;S++){for(var E=C[S],T=!0,M=0;M<f.length;M++)i(E.p,f[M].p)&&(w!==M&&b.push({froms:w,tos:M,hole:S}),T?(T=!1,p[M].push(E)):_=!0);T&&p[w].push(E)}b.length>0&&(_||(g=p))}v=0;for(var I=f.length;v<I;v++){u.push(l=f[v].s);for(var O=0,A=(d=g[v]).length;O<A;O++)l.holes.push(d[O].h)}return u}}),Object.assign(Ll.prototype,{isFont:!0,generateShapes:function(e,t){void 0===t&&(t=100);for(var n=[],i=function(e,t,n){for(var i=Array.from?Array.from(e):String(e).split(""),r=t/n.resolution,s=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*r,o=[],a=0,l=0,u=0;u<i.length;u++){var c=i[u];if("\n"===c)a=0,l-=s;else{var h=Nl(c,r,a,l,n);a+=h.offsetX,o.push(h.path)}}return o}(e,t,this.data),r=0,s=i.length;r<s;r++)Array.prototype.push.apply(n,i[r].toShapes());return n}}),Object.assign(Fl.prototype,{load:function(e,t,n,i){var r=this,s=new Pa(this.manager);s.setPath(this.path),s.load(e,function(e){var n;try{n=JSON.parse(e)}catch(s){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(e.substring(65,e.length-2))}var i=r.parse(n);t&&t(i)},n,i)},parse:function(e){return new Ll(e)},setPath:function(e){return this.path=e,this}}),Vl.Handlers={handlers:[],add:function(e,t){this.handlers.push(e,t)},get:function(e){for(var t=this.handlers,n=0,i=t.length;n<i;n+=2){var r=t[n+1];if(t[n].test(e))return r}return null}},Object.assign(Vl.prototype,{crossOrigin:"anonymous",onLoadStart:function(){},onLoadProgress:function(){},onLoadComplete:function(){},initMaterials:function(e,t,n){for(var i=[],r=0;r<e.length;++r)i[r]=this.createMaterial(e[r],t,n);return i},createMaterial:(El={NoBlending:L,NormalBlending:N,AdditiveBlending:F,SubtractiveBlending:V,MultiplyBlending:j,CustomBlending:B},Tl=new In,Ml=new ja,Il=new bl,function(e,t,n){var i={};function r(e,r,s,o,a){var l,u=t+e,c=Vl.Handlers.get(u);null!==c?l=c.load(u):(Ml.setCrossOrigin(n),l=Ml.load(u)),void 0!==r&&(l.repeat.fromArray(r),1!==r[0]&&(l.wrapS=Ie),1!==r[1]&&(l.wrapT=Ie)),void 0!==s&&l.offset.fromArray(s),void 0!==o&&("repeat"===o[0]&&(l.wrapS=Ie),"mirror"===o[0]&&(l.wrapS=Ae),"repeat"===o[1]&&(l.wrapT=Ie),"mirror"===o[1]&&(l.wrapT=Ae)),void 0!==a&&(l.anisotropy=a);var h=Xt.generateUUID();return i[h]=l,h}var s={uuid:Xt.generateUUID(),type:"MeshLambertMaterial"};for(var o in e){var a=e[o];switch(o){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":s.name=a;break;case"blending":s.blending=El[a];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",o,"is no longer supported.");break;case"colorDiffuse":s.color=Tl.fromArray(a).getHex();break;case"colorSpecular":s.specular=Tl.fromArray(a).getHex();break;case"colorEmissive":s.emissive=Tl.fromArray(a).getHex();break;case"specularCoef":s.shininess=a;break;case"shading":"basic"===a.toLowerCase()&&(s.type="MeshBasicMaterial"),"phong"===a.toLowerCase()&&(s.type="MeshPhongMaterial"),"standard"===a.toLowerCase()&&(s.type="MeshStandardMaterial");break;case"mapDiffuse":s.map=r(a,e.mapDiffuseRepeat,e.mapDiffuseOffset,e.mapDiffuseWrap,e.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":s.emissiveMap=r(a,e.mapEmissiveRepeat,e.mapEmissiveOffset,e.mapEmissiveWrap,e.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":s.lightMap=r(a,e.mapLightRepeat,e.mapLightOffset,e.mapLightWrap,e.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":s.aoMap=r(a,e.mapAORepeat,e.mapAOOffset,e.mapAOWrap,e.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":s.bumpMap=r(a,e.mapBumpRepeat,e.mapBumpOffset,e.mapBumpWrap,e.mapBumpAnisotropy);break;case"mapBumpScale":s.bumpScale=a;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":s.normalMap=r(a,e.mapNormalRepeat,e.mapNormalOffset,e.mapNormalWrap,e.mapNormalAnisotropy);break;case"mapNormalFactor":s.normalScale=a;break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":s.specularMap=r(a,e.mapSpecularRepeat,e.mapSpecularOffset,e.mapSpecularWrap,e.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":s.metalnessMap=r(a,e.mapMetalnessRepeat,e.mapMetalnessOffset,e.mapMetalnessWrap,e.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":s.roughnessMap=r(a,e.mapRoughnessRepeat,e.mapRoughnessOffset,e.mapRoughnessWrap,e.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":s.alphaMap=r(a,e.mapAlphaRepeat,e.mapAlphaOffset,e.mapAlphaWrap,e.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":s.side=I;break;case"doubleSided":s.side=O;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),s.opacity=a;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":s[o]=a;break;case"vertexColors":!0===a&&(s.vertexColors=R),"face"===a&&(s.vertexColors=P);break;default:console.error("THREE.Loader.createMaterial: Unsupported",o,a)}}return"MeshBasicMaterial"===s.type&&delete s.emissive,"MeshPhongMaterial"!==s.type&&delete s.specular,s.opacity<1&&(s.transparent=!0),Il.setTextures(i),Il.parse(s)})});var jl,Bl,zl,Hl,Ul,Gl,Wl,$l,ql,Yl,Zl,Kl,Xl,Ql,Jl,eu,tu,nu,iu,ru,su,ou,au,lu,uu,cu={getContext:function(){return void 0===Ol&&(Ol=new(window.AudioContext||window.webkitAudioContext)),Ol},setContext:function(e){Ol=e}};function hu(e){this.manager=void 0!==e?e:Da}function du(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new us,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new us,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}function pu(e,t,n,i){Hn.call(this),this.type="CubeCamera";var r=new us(90,1,e,t);r.up.set(0,-1,0),r.lookAt(new tn(1,0,0)),this.add(r);var s=new us(90,1,e,t);s.up.set(0,-1,0),s.lookAt(new tn(-1,0,0)),this.add(s);var o=new us(90,1,e,t);o.up.set(0,0,1),o.lookAt(new tn(0,1,0)),this.add(o);var a=new us(90,1,e,t);a.up.set(0,0,-1),a.lookAt(new tn(0,-1,0)),this.add(a);var l=new us(90,1,e,t);l.up.set(0,-1,0),l.lookAt(new tn(0,0,1)),this.add(l);var u=new us(90,1,e,t);u.up.set(0,-1,0),u.lookAt(new tn(0,0,-1)),this.add(u),this.renderTarget=new fn(n,n,i=i||{format:Ke,magFilter:Re,minFilter:Re}),this.renderTarget.texture.name="CubeCamera",this.update=function(e,t){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,i=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,n.activeCubeFace=0,e.render(t,r,n),n.activeCubeFace=1,e.render(t,s,n),n.activeCubeFace=2,e.render(t,o,n),n.activeCubeFace=3,e.render(t,a,n),n.activeCubeFace=4,e.render(t,l,n),n.texture.generateMipmaps=i,n.activeCubeFace=5,e.render(t,u,n),e.setRenderTarget(null)},this.clear=function(e,t,n,i){for(var r=this.renderTarget,s=0;s<6;s++)r.activeCubeFace=s,e.setRenderTarget(r),e.clear(t,n,i);e.setRenderTarget(null)}}function fu(e){this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function gu(){Hn.call(this),this.type="AudioListener",this.context=cu.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0}function mu(e){Hn.call(this),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.startTime=0,this.offset=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function vu(e){mu.call(this,e),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function yu(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=void 0!==t?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}function _u(e,t,n){this.binding=e,this.valueSize=n;var i,r=Float64Array;switch(t){case"quaternion":i=this._slerp;break;case"string":case"bool":r=Array,i=this._select;break;default:i=this._lerp}this.buffer=new r(4*n),this._mixBufferRegion=i,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}function bu(e,t,n){var i=n||wu.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}function wu(e,t,n){this.path=t,this.parsedPath=n||wu.parseTrackName(t),this.node=wu.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}function xu(){this.uuid=Xt.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var t=0,n=arguments.length;t!==n;++t)e[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}function Cu(e,t,n){this._mixer=e,this._clip=t,this._localRoot=n||null;for(var i=t.tracks,r=i.length,s=new Array(r),o={endingStart:Pt,endingEnd:Pt},a=0;a!==r;++a){var l=i[a].createInterpolant(null);s[a]=l,l.settings=o}this._interpolantSettings=o,this._interpolants=s,this._propertyBindings=new Array(r),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=It,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function Su(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function Eu(e){"string"==typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}function Tu(){oi.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function Mu(e,t,n){Ts.call(this,e,t),this.meshPerAttribute=n||1}function Iu(e,t,n,i){"number"==typeof n&&(i=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),qn.call(this,e,t,n),this.meshPerAttribute=i||1}function Ou(e,t,n,i){this.ray=new Ti(e,t),this.near=n||0,this.far=i||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function Au(e,t){return e.distance-t.distance}function Du(e,t,n,i){if(!1!==e.visible&&(e.raycast(t,n),!0===i))for(var r=e.children,s=0,o=r.length;s<o;s++)Du(r[s],t,n,!0)}function ku(e,t,n){return this.radius=void 0!==e?e:1,this.phi=void 0!==t?t:0,this.theta=void 0!==n?n:0,this}function Pu(e,t,n){return this.radius=void 0!==e?e:1,this.theta=void 0!==t?t:0,this.y=void 0!==n?n:0,this}function Ru(e,t){this.min=void 0!==e?e:new Qt(1/0,1/0),this.max=void 0!==t?t:new Qt(-1/0,-1/0)}function Lu(e,t){this.start=void 0!==e?e:new tn,this.end=void 0!==t?t:new tn}function Nu(e){Hn.call(this),this.material=e,this.render=function(){}}function Fu(e,t,n,i){this.object=e,this.size=void 0!==t?t:1;var r=void 0!==n?n:16711680,s=void 0!==i?i:1,o=0,a=this.object.geometry;a&&a.isGeometry?o=3*a.faces.length:a&&a.isBufferGeometry&&(o=a.attributes.normal.count);var l=new oi,u=new ti(2*o*3,3);l.addAttribute("position",u),Ns.call(this,l,new Rs({color:r,linewidth:s})),this.matrixAutoUpdate=!1,this.update()}function Vu(e,t){Hn.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;for(var n=new oi,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],r=0,s=1;r<32;r++,s++){var o=r/32*Math.PI*2,a=s/32*Math.PI*2;i.push(Math.cos(o),Math.sin(o),1,Math.cos(a),Math.sin(a),1)}n.addAttribute("position",new ti(i,3));var l=new Rs({fog:!1});this.cone=new Ns(n,l),this.add(this.cone),this.update()}function ju(e){for(var t=function e(t){var n=[];t&&t.isBone&&n.push(t);for(var i=0;i<t.children.length;i++)n.push.apply(n,e(t.children[i]));return n}(e),n=new oi,i=[],r=[],s=new In(0,0,1),o=new In(0,1,0),a=0;a<t.length;a++){var l=t[a];l.parent&&l.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),r.push(s.r,s.g,s.b),r.push(o.r,o.g,o.b))}n.addAttribute("position",new ti(i,3)),n.addAttribute("color",new ti(r,3));var u=new Rs({vertexColors:R,depthTest:!1,depthWrite:!1,transparent:!0});Ns.call(this,n,u),this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}function Bu(e,t,n){this.light=e,this.light.updateMatrixWorld(),this.color=n;var i=new zo(t,4,2),r=new Ii({wireframe:!0,fog:!1});Oi.call(this,i,r),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function zu(e,t){this.type="RectAreaLightHelper",this.light=e,this.color=t;var n=new oi;n.addAttribute("position",new ti([1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),n.computeBoundingSphere();var i=new Rs({fog:!1});Ls.call(this,n,i);var r=new oi;r.addAttribute("position",new ti([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),r.computeBoundingSphere(),this.add(new Oi(r,new Ii({side:THREE.BackSide,fog:!1}))),this.update()}function Hu(e,t,n){Hn.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;var i=new Qs(t);i.rotateY(.5*Math.PI),this.material=new Ii({wireframe:!0,fog:!1}),void 0===this.color&&(this.material.vertexColors=R);var r=i.getAttribute("position"),s=new Float32Array(3*r.count);i.addAttribute("color",new qn(s,3)),this.add(new Oi(i,this.material)),this.update()}function Uu(e,t,n,i){e=e||10,t=t||10,n=new In(void 0!==n?n:4473924),i=new In(void 0!==i?i:8947848);for(var r=t/2,s=e/t,o=e/2,a=[],l=[],u=0,c=0,h=-o;u<=t;u++,h+=s){a.push(-o,0,h,o,0,h),a.push(h,0,-o,h,0,o);var d=u===r?n:i;d.toArray(l,c),d.toArray(l,c+=3),d.toArray(l,c+=3),d.toArray(l,c+=3),c+=3}var p=new oi;p.addAttribute("position",new ti(a,3)),p.addAttribute("color",new ti(l,3));var f=new Rs({vertexColors:R});Ns.call(this,p,f)}function Gu(e,t,n,i,r,s){e=e||10,t=t||16,n=n||8,i=i||64,r=new In(void 0!==r?r:4473924),s=new In(void 0!==s?s:8947848);var o,a,l,u,c,h,d,p=[],f=[];for(u=0;u<=t;u++)l=u/t*(2*Math.PI),o=Math.sin(l)*e,a=Math.cos(l)*e,p.push(0,0,0),p.push(o,0,a),f.push((d=1&u?r:s).r,d.g,d.b),f.push(d.r,d.g,d.b);for(u=0;u<=n;u++)for(d=1&u?r:s,h=e-e/n*u,c=0;c<i;c++)l=c/i*(2*Math.PI),o=Math.sin(l)*h,a=Math.cos(l)*h,p.push(o,0,a),f.push(d.r,d.g,d.b),l=(c+1)/i*(2*Math.PI),o=Math.sin(l)*h,a=Math.cos(l)*h,p.push(o,0,a),f.push(d.r,d.g,d.b);var g=new oi;g.addAttribute("position",new ti(p,3)),g.addAttribute("color",new ti(f,3));var m=new Rs({vertexColors:R});Ns.call(this,g,m)}function Wu(e,t,n,i){this.object=e,this.size=void 0!==t?t:1;var r=void 0!==n?n:16776960,s=void 0!==i?i:1,o=0,a=this.object.geometry;a&&a.isGeometry?o=a.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var l=new oi,u=new ti(2*o*3,3);l.addAttribute("position",u),Ns.call(this,l,new Rs({color:r,linewidth:s})),this.matrixAutoUpdate=!1,this.update()}function $u(e,t,n){Hn.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,void 0===t&&(t=1);var i=new oi;i.addAttribute("position",new ti([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));var r=new Rs({fog:!1});this.lightPlane=new Ls(i,r),this.add(this.lightPlane),(i=new oi).addAttribute("position",new ti([0,0,0,0,0,1],3)),this.targetLine=new Ls(i,r),this.add(this.targetLine),this.update()}function qu(e){var t=new oi,n=new Rs({color:16777215,vertexColors:P}),i=[],r=[],s={},o=new In(16755200),a=new In(16711680),l=new In(43775),u=new In(16777215),c=new In(3355443);function h(e,t,n){d(e,n),d(t,n)}function d(e,t){i.push(0,0,0),r.push(t.r,t.g,t.b),void 0===s[e]&&(s[e]=[]),s[e].push(i.length/3-1)}h("n1","n2",o),h("n2","n4",o),h("n4","n3",o),h("n3","n1",o),h("f1","f2",o),h("f2","f4",o),h("f4","f3",o),h("f3","f1",o),h("n1","f1",o),h("n2","f2",o),h("n3","f3",o),h("n4","f4",o),h("p","n1",a),h("p","n2",a),h("p","n3",a),h("p","n4",a),h("u1","u2",l),h("u2","u3",l),h("u3","u1",l),h("c","t",u),h("p","c",c),h("cn1","cn2",c),h("cn3","cn4",c),h("cf1","cf2",c),h("cf3","cf4",c),t.addAttribute("position",new ti(i,3)),t.addAttribute("color",new ti(r,3)),Ns.call(this,t,n),this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update()}function Yu(e,t){this.object=e,void 0===t&&(t=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(24),r=new oi;r.setIndex(new qn(n,1)),r.addAttribute("position",new qn(i,3)),Ns.call(this,r,new Rs({color:t})),this.matrixAutoUpdate=!1,this.update()}function Zu(e,t){this.type="Box3Helper",this.box=e;var n=void 0!==t?t:16776960,i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new oi;r.setIndex(new qn(i,1)),r.addAttribute("position",new ti([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),Ns.call(this,r,new Rs({color:n})),this.geometry.computeBoundingSphere()}function Ku(e,t,n){this.type="PlaneHelper",this.plane=e,this.size=void 0===t?1:t;var i=void 0!==n?n:16776960,r=new oi;r.addAttribute("position",new ti([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),r.computeBoundingSphere(),Ls.call(this,r,new Rs({color:i}));var s=new oi;s.addAttribute("position",new ti([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),s.computeBoundingSphere(),this.add(new Oi(s,new Ii({color:i,opacity:.2,transparent:!0,depthWrite:!1})))}function Xu(e,t,n,i,r,s){Hn.call(this),void 0===e&&(e=new THREE.Vector3(0,0,1)),void 0===t&&(t=new THREE.Vector3(0,0,0)),void 0===n&&(n=1),void 0===i&&(i=16776960),void 0===r&&(r=.2*n),void 0===s&&(s=.2*r),void 0===ou&&((ou=new oi).addAttribute("position",new ti([0,0,0,0,1,0],3)),(au=new Xo(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(t),this.line=new Ls(ou,new Rs({color:i})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Oi(au,new Ii({color:i})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,r,s)}function Qu(e){var t=[0,0,0,e=e||1,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=new oi;n.addAttribute("position",new ti(t,3)),n.addAttribute("color",new ti([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var i=new Rs({vertexColors:R});Ns.call(this,n,i)}function Ju(e,t,n,i,r,s,o){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new Rn(e,t,n,r,s,o)}Object.assign(hu.prototype,{load:function(e,t,n,i){var r=new Pa(this.manager);r.setResponseType("arraybuffer"),r.setPath(this.path),r.load(e,function(e){var n=e.slice(0);cu.getContext().decodeAudioData(n,function(e){t(e)})},n,i)},setPath:function(e){return this.path=e,this}}),Object.assign(du.prototype,{update:(ql=new Jt,Yl=new Jt,function(e){if(jl!==this||Bl!==e.focus||zl!==e.fov||Hl!==e.aspect*this.aspect||Ul!==e.near||Gl!==e.far||Wl!==e.zoom||$l!==this.eyeSep){jl=this,Bl=e.focus,zl=e.fov,Hl=e.aspect*this.aspect,Ul=e.near,Gl=e.far,Wl=e.zoom;var t,n,i=e.projectionMatrix.clone(),r=($l=this.eyeSep/2)*Ul/Bl,s=Ul*Math.tan(Xt.DEG2RAD*zl*.5)/Wl;Yl.elements[12]=-$l,ql.elements[12]=$l,i.elements[0]=2*Ul/((n=s*Hl+r)-(t=-s*Hl+r)),i.elements[8]=(n+t)/(n-t),this.cameraL.projectionMatrix.copy(i),i.elements[0]=2*Ul/((n=s*Hl-r)-(t=-s*Hl-r)),i.elements[8]=(n+t)/(n-t),this.cameraR.projectionMatrix.copy(i)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(Yl),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(ql)})}),(pu.prototype=Object.create(Hn.prototype)).constructor=pu,Object.assign(fu.prototype,{start:function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=("undefined"==typeof performance?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}),gu.prototype=Object.assign(Object.create(Hn.prototype),{constructor:gu,getInput:function(){return this.gain},removeFilter:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this},updateMatrixWorld:function(){var e=new tn,t=new en,n=new tn,i=new tn,r=new fu;return function(s){Hn.prototype.updateMatrixWorld.call(this,s);var o=this.context.listener,a=this.up;if(this.timeDelta=r.getDelta(),this.matrixWorld.decompose(e,t,n),i.set(0,0,-1).applyQuaternion(t),o.positionX){var l=this.context.currentTime+this.timeDelta;o.positionX.linearRampToValueAtTime(e.x,l),o.positionY.linearRampToValueAtTime(e.y,l),o.positionZ.linearRampToValueAtTime(e.z,l),o.forwardX.linearRampToValueAtTime(i.x,l),o.forwardY.linearRampToValueAtTime(i.y,l),o.forwardZ.linearRampToValueAtTime(i.z,l),o.upX.linearRampToValueAtTime(a.x,l),o.upY.linearRampToValueAtTime(a.y,l),o.upZ.linearRampToValueAtTime(a.z,l)}else o.setPosition(e.x,e.y,e.z),o.setOrientation(i.x,i.y,i.z,a.x,a.y,a.z)}}()}),mu.prototype=Object.assign(Object.create(Hn.prototype),{constructor:mu,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},setMediaElementSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this},setBuffer:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){var e=this.context.createBufferSource();return e.buffer=this.buffer,e.detune.value=this.detune,e.loop=this.loop,e.onended=this.onEnded.bind(this),e.playbackRate.setValueAtTime(this.playbackRate,this.startTime),this.startTime=this.context.currentTime,e.start(this.startTime,this.offset),this.isPlaying=!0,this.source=e,this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")},pause:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this.source.stop(),this.source.onended=null,this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.source.onended=null,this.offset=0,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e||(e=[]),!0===this.isPlaying?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},setDetune:function(e){return this.detune=e,!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}),vu.prototype=Object.assign(Object.create(mu.prototype),{constructor:vu,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){return this.panner.refDistance=e,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){return this.panner.rolloffFactor=e,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){return this.panner.distanceModel=e,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){return this.panner.maxDistance=e,this},setDirectionalCone:function(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this},updateMatrixWorld:function(){var e=new tn,t=new en,n=new tn,i=new tn;return function(r){if(Hn.prototype.updateMatrixWorld.call(this,r),!1!==this.isPlaying){this.matrixWorld.decompose(e,t,n),i.set(0,0,1).applyQuaternion(t);var s=this.panner;if(s.positionX){var o=this.context.currentTime+this.listener.timeDelta;s.positionX.linearRampToValueAtTime(e.x,o),s.positionY.linearRampToValueAtTime(e.y,o),s.positionZ.linearRampToValueAtTime(e.z,o),s.orientationX.linearRampToValueAtTime(i.x,o),s.orientationY.linearRampToValueAtTime(i.y,o),s.orientationZ.linearRampToValueAtTime(i.z,o)}else s.setPosition(e.x,e.y,e.z),s.setOrientation(i.x,i.y,i.z)}}}()}),Object.assign(yu.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}}),Object.assign(_u.prototype,{accumulate:function(e,t){var n=this.buffer,i=this.valueSize,r=e*i+i,s=this.cumulativeWeight;if(0===s){for(var o=0;o!==i;++o)n[r+o]=n[o];s=t}else this._mixBufferRegion(n,r,0,t/(s+=t),i);this.cumulativeWeight=s},apply:function(e){var t=this.valueSize,n=this.buffer,i=e*t+t,r=this.cumulativeWeight,s=this.binding;this.cumulativeWeight=0,r<1&&this._mixBufferRegion(n,i,3*t,1-r,t);for(var o=t,a=t+t;o!==a;++o)if(n[o]!==n[o+t]){s.setValue(n,i);break}},saveOriginalState:function(){var e=this.buffer,t=this.valueSize,n=3*t;this.binding.getValue(e,n);for(var i=t,r=n;i!==r;++i)e[i]=e[n+i%t];this.cumulativeWeight=0},restoreOriginalState:function(){this.binding.setValue(this.buffer,3*this.valueSize)},_select:function(e,t,n,i,r){if(i>=.5)for(var s=0;s!==r;++s)e[t+s]=e[n+s]},_slerp:function(e,t,n,i){en.slerpFlat(e,t,e,t,e,n,i)},_lerp:function(e,t,n,i,r){for(var s=1-i,o=0;o!==r;++o){var a=t+o;e[a]=e[a]*s+e[n+o]*i}}}),Object.assign(bu.prototype,{getValue:function(e,t){this.bind();var n=this._bindings[this._targetGroup.nCachedObjects_];void 0!==n&&n.getValue(e,t)},setValue:function(e,t){for(var n=this._bindings,i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(e,t)},bind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()},unbind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}),Object.assign(wu,{Composite:bu,create:function(e,t,n){return e&&e.isAnimationObjectGroup?new wu.Composite(e,t,n):new wu(e,t,n)},sanitizeNodeName:(iu=new RegExp("[\\[\\]\\.:\\/]","g"),function(e){return e.replace(/\s/g,"_").replace(iu,"")}),parseTrackName:(Zl="[^\\[\\]\\.:\\/]",Kl="[^"+"\\[\\]\\.:\\/".replace("\\.","")+"]",Xl=/((?:WC+[\/:])*)/.source.replace("WC",Zl),Ql=/(WCOD+)?/.source.replace("WCOD",Kl),Jl=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Zl),eu=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Zl),tu=new RegExp("^"+Xl+Ql+Jl+eu+"$"),nu=["material","materials","bones"],function(e){var t=tu.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==i&&-1!==i){var r=n.nodeName.substring(i+1);-1!==nu.indexOf(r)&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=r)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}),findNode:function(e,t){if(!t||""===t||"root"===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){var i=function(e){for(var n=0;n<e.length;n++){var r=e[n];if(r.name===t||r.uuid===t)return r;var s=i(r.children);if(s)return s}return null},r=i(e.children);if(r)return r}return null}}),Object.assign(wu.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)e[t++]=n[i]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.targetObject[this.propertyName]=e[t]},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=e[t++]},function(e,t){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){var e=this.node,t=this.parsedPath,n=t.objectName,i=t.propertyName,r=t.propertyIndex;if(e||(e=wu.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,e){if(n){var s=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(var o=0;o<e.length;o++)if(e[o].name===s){s=o;break}break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==s){if(void 0===e[s])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[s]}}var a=e[i];if(void 0!==a){var l=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?l=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate);var u=this.BindingType.Direct;if(void 0!==r){if("morphTargetInfluences"===i){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);for(o=0;o<this.node.geometry.morphAttributes.position.length;o++)if(e.geometry.morphAttributes.position[o].name===r){r=o;break}}else{if(!e.geometry.morphTargets)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);for(o=0;o<this.node.geometry.morphTargets.length;o++)if(e.geometry.morphTargets[o].name===r){r=o;break}}}u=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=r}else void 0!==a.fromArray&&void 0!==a.toArray?(u=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(u=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=i;this.getValue=this.GetterByBindingType[u],this.setValue=this.SetterByBindingTypeAndVersioning[u][l]}else console.error("THREE.PropertyBinding: Trying to update property for track: "+t.nodeName+"."+i+" but it wasn't found.",e)}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(wu.prototype,{_getValue_unbound:wu.prototype.getValue,_setValue_unbound:wu.prototype.setValue}),Object.assign(xu.prototype,{isAnimationObjectGroup:!0,add:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,i=this._indicesByUUID,r=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length,l=void 0,u=0,c=arguments.length;u!==c;++u){var h=arguments[u],d=h.uuid,p=i[d];if(void 0===p){p=t++,i[d]=p,e.push(h);for(var f=0,g=a;f!==g;++f)o[f].push(new wu(h,r[f],s[f]))}else if(p<n){l=e[p];var m=--n,v=e[m];for(i[v.uuid]=p,e[p]=v,i[d]=m,e[m]=h,f=0,g=a;f!==g;++f){var y=o[f],_=y[p];y[p]=y[m],void 0===_&&(_=new wu(h,r[f],s[f])),y[m]=_}}else e[p]!==l&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=n},remove:function(){for(var e=this._objects,t=this.nCachedObjects_,n=this._indicesByUUID,i=this._bindings,r=i.length,s=0,o=arguments.length;s!==o;++s){var a=arguments[s],l=a.uuid,u=n[l];if(void 0!==u&&u>=t){var c=t++,h=e[c];n[h.uuid]=u,e[u]=h,n[l]=c,e[c]=a;for(var d=0,p=r;d!==p;++d){var f=i[d],g=f[u];f[u]=f[c],f[c]=g}}}this.nCachedObjects_=t},uncache:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,i=this._indicesByUUID,r=this._bindings,s=r.length,o=0,a=arguments.length;o!==a;++o){var l=arguments[o].uuid,u=i[l];if(void 0!==u)if(delete i[l],u<n){var c=--n,h=e[c],d=e[m=--t];i[h.uuid]=u,e[u]=h,i[d.uuid]=c,e[c]=d,e.pop();for(var p=0,f=s;p!==f;++p){var g=(v=r[p])[m];v[u]=v[c],v[c]=g,v.pop()}}else{var m;for(i[(d=e[m=--t]).uuid]=u,e[u]=d,e.pop(),p=0,f=s;p!==f;++p){var v;(v=r[p])[u]=v[m],v.pop()}}}this.nCachedObjects_=n},subscribe_:function(e,t){var n=this._bindingsIndicesByPath,i=n[e],r=this._bindings;if(void 0!==i)return r[i];var s=this._paths,o=this._parsedPaths,a=this._objects,l=this.nCachedObjects_,u=new Array(a.length);n[e]=i=r.length,s.push(e),o.push(t),r.push(u);for(var c=l,h=a.length;c!==h;++c)u[c]=new wu(a[c],e,t);return u},unsubscribe_:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){var i=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length-1,a=s[o];t[e[o]]=n,s[n]=a,s.pop(),r[n]=r[o],r.pop(),i[n]=i[o],i.pop()}}}),Object.assign(Cu.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var i=this._clip.duration,r=e._clip.duration,s=i/r;e.warp(1,r/i,t),this.warp(s,1,t)}return this},crossFadeTo:function(e,t,n){return e.crossFadeFrom(this,t,n)},stopFading:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,n){var i=this._mixer,r=i.time,s=this._timeScaleInterpolant,o=this.timeScale;null===s&&(s=i._lendControlInterpolant(),this._timeScaleInterpolant=s);var a=s.parameterPositions,l=s.sampleValues;return a[0]=r,a[1]=r+n,l[0]=e/o,l[1]=t/o,this},stopWarping:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,n,i){if(this.enabled){var r=this._startTime;if(null!==r){var s=(e-r)*n;if(s<0||0===n)return;this._startTime=null,t=n*s}t*=this._updateTimeScale(e);var o=this._updateTime(t),a=this._updateWeight(e);if(a>0)for(var l=this._interpolants,u=this._propertyBindings,c=0,h=l.length;c!==h;++c)l[c].evaluate(o),u[c].accumulate(i,a)}else this._updateWeight(e)},_updateWeight:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopFading(),0===i&&(this.enabled=!1))}}return this._effectiveWeight=t,t},_updateTimeScale:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;null!==n&&(t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t))}return this._effectiveTimeScale=t,t},_updateTime:function(e){var t=this.time+e,n=this._clip.duration,i=this.loop,r=this._loopCount,s=i===Ot;if(0===e)return-1===r?t:s&&1==(1&r)?n-t:t;if(i===Mt){-1===r&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(t>=n)t=n;else{if(!(t<0))break e;t=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===r&&(e>=0?(r=0,this._setEndings(!0,0===this.repetitions,s)):this._setEndings(0===this.repetitions,!0,s)),t>=n||t<0){var o=Math.floor(t/n);t-=n*o,r+=Math.abs(o);var a=this.repetitions-r;if(a<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,t=e>0?n:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===a){var l=e<0;this._setEndings(l,!l,s)}else this._setEndings(!1,!1,s);this._loopCount=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}if(s&&1==(1&r))return this.time=t,n-t}return this.time=t,t},_setEndings:function(e,t,n){var i=this._interpolantSettings;n?(i.endingStart=Rt,i.endingEnd=Rt):(i.endingStart=e?this.zeroSlopeAtStart?Rt:Pt:Lt,i.endingEnd=t?this.zeroSlopeAtEnd?Rt:Pt:Lt)},_scheduleFading:function(e,t,n){var i=this._mixer,r=i.time,s=this._weightInterpolant;null===s&&(s=i._lendControlInterpolant(),this._weightInterpolant=s);var o=s.parameterPositions,a=s.sampleValues;return o[0]=r,a[0]=t,o[1]=r+e,a[1]=n,this}}),Su.prototype=Object.assign(Object.create(i.prototype),{constructor:Su,_bindAction:function(e,t){var n=e._localRoot||this._root,i=e._clip.tracks,r=i.length,s=e._propertyBindings,o=e._interpolants,a=n.uuid,l=this._bindingsByRootAndName,u=l[a];void 0===u&&(l[a]=u={});for(var c=0;c!==r;++c){var h=i[c],d=h.name,p=u[d];if(void 0!==p)s[c]=p;else{if(void 0!==(p=s[c])){null===p._cacheIndex&&(++p.referenceCount,this._addInactiveBinding(p,a,d));continue}++(p=new _u(wu.create(n,d,t&&t._propertyBindings[c].binding.parsedPath),h.ValueTypeName,h.getValueSize())).referenceCount,this._addInactiveBinding(p,a,d),s[c]=p}o[c].resultBuffer=p.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,i=this._actionsByClip[n];this._bindAction(e,i&&i.knownActions[0]),this._addInactiveAction(e,n,t)}for(var r=e._propertyBindings,s=0,o=r.length;s!==o;++s){var a=r[s];0==a.useCount++&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,i=t.length;n!==i;++n){var r=t[n];0==--r.useCount&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions},_addInactiveAction:function(e,t,n){var i=this._actions,r=this._actionsByClip,s=r[t];if(void 0===s)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,r[t]=s;else{var o=s.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=i.length,i.push(e),s.actionByRoot[n]=e},_removeInactiveAction:function(e){var t=this._actions,n=t[t.length-1],i=e._cacheIndex;n._cacheIndex=i,t[i]=n,t.pop(),e._cacheIndex=null;var r=e._clip.uuid,s=this._actionsByClip,o=s[r],a=o.knownActions,l=a[a.length-1],u=e._byClipCacheIndex;l._byClipCacheIndex=u,a[u]=l,a.pop(),e._byClipCacheIndex=null,delete o.actionByRoot[(e._localRoot||this._root).uuid],0===a.length&&delete s[r],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){for(var t=e._propertyBindings,n=0,i=t.length;n!==i;++n){var r=t[n];0==--r.referenceCount&&this._removeInactiveBinding(r)}},_lendAction:function(e){var t=this._actions,n=e._cacheIndex,i=this._nActiveActions++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_takeBackAction:function(e){var t=this._actions,n=e._cacheIndex,i=--this._nActiveActions,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_addInactiveBinding:function(e,t,n){var i=this._bindingsByRootAndName,r=i[t],s=this._bindings;void 0===r&&(i[t]=r={}),r[n]=e,e._cacheIndex=s.length,s.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,n=e.binding,i=n.rootNode.uuid,r=n.path,s=this._bindingsByRootAndName,o=s[i],a=t[t.length-1],l=e._cacheIndex;a._cacheIndex=l,t[l]=a,t.pop(),delete o[r];e:{for(var u in o)break e;delete s[i]}},_lendBinding:function(e){var t=this._bindings,n=e._cacheIndex,i=this._nActiveBindings++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_takeBackBinding:function(e){var t=this._bindings,n=e._cacheIndex,i=--this._nActiveBindings,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&((n=new va(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=t,e[t]=n),n},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,i=--this._nActiveControlInterpolants,r=t[i];e.__cacheIndex=i,t[i]=e,r.__cacheIndex=n,t[n]=r},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t){var n=t||this._root,i=n.uuid,r="string"==typeof e?Ma.findByName(n,e):e,s=null!==r?r.uuid:e,o=this._actionsByClip[s],a=null;if(void 0!==o){var l=o.actionByRoot[i];if(void 0!==l)return l;a=o.knownActions[0],null===r&&(r=a._clip)}if(null===r)return null;var u=new Cu(this,r,t);return this._bindAction(u,a),this._addInactiveAction(u,s,i),u},existingAction:function(e,t){var n=t||this._root,i=n.uuid,r="string"==typeof e?Ma.findByName(n,e):e,s=this._actionsByClip[r?r.uuid:e];return void 0!==s&&s.actionByRoot[i]||null},stopAllAction:function(){var e=this._actions,t=this._nActiveActions,n=this._bindings,i=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var r=0;r!==t;++r)e[r].reset();for(r=0;r!==i;++r)n[r].useCount=0;return this},update:function(e){for(var t=this._actions,n=this._nActiveActions,i=this.time+=e*=this.timeScale,r=Math.sign(e),s=this._accuIndex^=1,o=0;o!==n;++o)t[o]._update(i,e,r,s);var a=this._bindings,l=this._nActiveBindings;for(o=0;o!==l;++o)a[o].apply(s);return this},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions,n=e.uuid,i=this._actionsByClip,r=i[n];if(void 0!==r){for(var s=r.knownActions,o=0,a=s.length;o!==a;++o){var l=s[o];this._deactivateAction(l);var u=l._cacheIndex,c=t[t.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,c._cacheIndex=u,t[u]=c,t.pop(),this._removeInactiveBindingsForAction(l)}delete i[n]}},uncacheRoot:function(e){var t=e.uuid,n=this._actionsByClip;for(var i in n){var r=n[i].actionByRoot[t];void 0!==r&&(this._deactivateAction(r),this._removeInactiveAction(r))}var s=this._bindingsByRootAndName[t];if(void 0!==s)for(var o in s){var a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}},uncacheAction:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}),Eu.prototype.clone=function(){return new Eu(void 0===this.value.clone?this.value:this.value.clone())},Tu.prototype=Object.assign(Object.create(oi.prototype),{constructor:Tu,isInstancedBufferGeometry:!0,copy:function(e){return oi.prototype.copy.call(this,e),this.maxInstancedCount=e.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)}}),Mu.prototype=Object.assign(Object.create(Ts.prototype),{constructor:Mu,isInstancedInterleavedBuffer:!0,copy:function(e){return Ts.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),Iu.prototype=Object.assign(Object.create(qn.prototype),{constructor:Iu,isInstancedBufferAttribute:!0,copy:function(e){return qn.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),Object.assign(Ou.prototype,{linePrecision:1,set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize()):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,t,n){var i=n||[];return Du(e,this,i,t),i.sort(Au),i},intersectObjects:function(e,t,n){var i=n||[];if(!1===Array.isArray(e))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),i;for(var r=0,s=e.length;r<s;r++)Du(e[r],this,i,t);return i.sort(Au),i}}),Object.assign(ku.prototype,{set:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Xt.clamp(t/this.radius,-1,1))),this}}),Object.assign(Pu.prototype,{set:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}}),Object.assign(Ru.prototype,{set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new Qt;return function(t,n){var i=e.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box2: .getCenter() target is now required"),e=new Qt),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box2: .getSize() target is now required"),e=new Qt),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .getParameter() target is now required"),t=new Qt),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .clampPoint() target is now required"),t=new Qt),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new Qt;return function(t){return e.copy(t).clamp(this.min,this.max).sub(t).length()}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}),Object.assign(Lu.prototype,{set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},getCenter:function(e){return void 0===e&&(console.warn("THREE.Line3: .getCenter() target is now required"),e=new tn),e.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return void 0===e&&(console.warn("THREE.Line3: .delta() target is now required"),e=new tn),e.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){return void 0===t&&(console.warn("THREE.Line3: .at() target is now required"),t=new tn),this.delta(t).multiplyScalar(e).add(this.start)},closestPointToPointParameter:(ru=new tn,su=new tn,function(e,t){ru.subVectors(e,this.start),su.subVectors(this.end,this.start);var n=su.dot(su),i=su.dot(ru)/n;return t&&(i=Xt.clamp(i,0,1)),i}),closestPointToPoint:function(e,t,n){var i=this.closestPointToPointParameter(e,t);return void 0===n&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),n=new tn),this.delta(n).multiplyScalar(i).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}}),(Nu.prototype=Object.create(Hn.prototype)).constructor=Nu,Nu.prototype.isImmediateRenderObject=!0,(Fu.prototype=Object.create(Ns.prototype)).constructor=Fu,Fu.prototype.update=function(){var e=new tn,t=new tn,n=new nn;return function(){var i=["a","b","c"];this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);var r=this.object.matrixWorld,s=this.geometry.attributes.position,o=this.object.geometry;if(o&&o.isGeometry)for(var a=o.vertices,l=o.faces,u=0,c=0,h=l.length;c<h;c++)for(var d=l[c],p=0,f=d.vertexNormals.length;p<f;p++){var g=d.vertexNormals[p];e.copy(a[d[i[p]]]).applyMatrix4(r),t.copy(g).applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),s.setXYZ(u,e.x,e.y,e.z),s.setXYZ(u+=1,t.x,t.y,t.z),u+=1}else if(o&&o.isBufferGeometry){var m=o.attributes.position,v=o.attributes.normal;for(u=0,p=0,f=m.count;p<f;p++)e.set(m.getX(p),m.getY(p),m.getZ(p)).applyMatrix4(r),t.set(v.getX(p),v.getY(p),v.getZ(p)),t.applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),s.setXYZ(u,e.x,e.y,e.z),s.setXYZ(u+=1,t.x,t.y,t.z),u+=1}s.needsUpdate=!0}}(),(Vu.prototype=Object.create(Hn.prototype)).constructor=Vu,Vu.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},Vu.prototype.update=function(){var e=new tn;return function(){this.light.updateMatrixWorld();var t=this.light.distance?this.light.distance:1e3,n=t*Math.tan(this.light.angle);this.cone.scale.set(n,n,t),e.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(e),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}(),(ju.prototype=Object.create(Ns.prototype)).constructor=ju,ju.prototype.updateMatrixWorld=function(){var e=new tn,t=new Jt,n=new Jt;return function(i){var r=this.bones,s=this.geometry,o=s.getAttribute("position");n.getInverse(this.root.matrixWorld);for(var a=0,l=0;a<r.length;a++){var u=r[a];u.parent&&u.parent.isBone&&(t.multiplyMatrices(n,u.matrixWorld),e.setFromMatrixPosition(t),o.setXYZ(l,e.x,e.y,e.z),t.multiplyMatrices(n,u.parent.matrixWorld),e.setFromMatrixPosition(t),o.setXYZ(l+1,e.x,e.y,e.z),l+=2)}s.getAttribute("position").needsUpdate=!0,Hn.prototype.updateMatrixWorld.call(this,i)}}(),(Bu.prototype=Object.create(Oi.prototype)).constructor=Bu,Bu.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},Bu.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)},(zu.prototype=Object.create(Ls.prototype)).constructor=zu,zu.prototype.update=function(){if(this.scale.set(.5*this.light.width,.5*this.light.height,1),void 0!==this.color)this.material.color.set(this.color),this.children[0].material.color.set(this.color);else{this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);var e=this.material.color,t=Math.max(e.r,e.g,e.b);t>1&&e.multiplyScalar(1/t),this.children[0].material.color.copy(this.material.color)}},zu.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()},(Hu.prototype=Object.create(Hn.prototype)).constructor=Hu,Hu.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},Hu.prototype.update=function(){var e=new tn,t=new In,n=new In;return function(){var i=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var r=i.geometry.getAttribute("color");t.copy(this.light.color),n.copy(this.light.groundColor);for(var s=0,o=r.count;s<o;s++){var a=s<o/2?t:n;r.setXYZ(s,a.r,a.g,a.b)}r.needsUpdate=!0}i.lookAt(e.setFromMatrixPosition(this.light.matrixWorld).negate())}}(),(Uu.prototype=Object.create(Ns.prototype)).constructor=Uu,(Gu.prototype=Object.create(Ns.prototype)).constructor=Gu,(Wu.prototype=Object.create(Ns.prototype)).constructor=Wu,Wu.prototype.update=function(){var e=new tn,t=new tn,n=new nn;return function(){this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);for(var i=this.object.matrixWorld,r=this.geometry.attributes.position,s=this.object.geometry,o=s.vertices,a=s.faces,l=0,u=0,c=a.length;u<c;u++){var h=a[u],d=h.normal;e.copy(o[h.a]).add(o[h.b]).add(o[h.c]).divideScalar(3).applyMatrix4(i),t.copy(d).applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),r.setXYZ(l,e.x,e.y,e.z),r.setXYZ(l+=1,t.x,t.y,t.z),l+=1}r.needsUpdate=!0}}(),($u.prototype=Object.create(Hn.prototype)).constructor=$u,$u.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},$u.prototype.update=function(){var e=new tn,t=new tn,n=new tn;return function(){e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),n.subVectors(t,e),this.lightPlane.lookAt(t),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(t),this.targetLine.scale.z=n.length()}}(),(qu.prototype=Object.create(Ns.prototype)).constructor=qu,qu.prototype.update=function(){var e,t,n=new tn,i=new ls;function r(r,s,o,a){n.set(s,o,a).unproject(i);var l=t[r];if(void 0!==l)for(var u=e.getAttribute("position"),c=0,h=l.length;c<h;c++)u.setXYZ(l[c],n.x,n.y,n.z)}return function(){e=this.geometry,t=this.pointMap,i.projectionMatrix.copy(this.camera.projectionMatrix),r("c",0,0,-1),r("t",0,0,1),r("n1",-1,-1,-1),r("n2",1,-1,-1),r("n3",-1,1,-1),r("n4",1,1,-1),r("f1",-1,-1,1),r("f2",1,-1,1),r("f3",-1,1,1),r("f4",1,1,1),r("u1",.7,1.1,-1),r("u2",-.7,1.1,-1),r("u3",0,2,-1),r("cf1",-1,0,1),r("cf2",1,0,1),r("cf3",0,-1,1),r("cf4",0,1,1),r("cn1",-1,0,-1),r("cn2",1,0,-1),r("cn3",0,-1,-1),r("cn4",0,1,-1),e.getAttribute("position").needsUpdate=!0}}(),(Yu.prototype=Object.create(Ns.prototype)).constructor=Yu,Yu.prototype.update=function(){var e=new mn;return function(t){if(void 0!==t&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&e.setFromObject(this.object),!e.isEmpty()){var n=e.min,i=e.max,r=this.geometry.attributes.position,s=r.array;s[0]=i.x,s[1]=i.y,s[2]=i.z,s[3]=n.x,s[4]=i.y,s[5]=i.z,s[6]=n.x,s[7]=n.y,s[8]=i.z,s[9]=i.x,s[10]=n.y,s[11]=i.z,s[12]=i.x,s[13]=i.y,s[14]=n.z,s[15]=n.x,s[16]=i.y,s[17]=n.z,s[18]=n.x,s[19]=n.y,s[20]=n.z,s[21]=i.x,s[22]=n.y,s[23]=n.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),Yu.prototype.setFromObject=function(e){return this.object=e,this.update(),this},Yu.prototype.copy=function(e){return Ns.prototype.copy.call(this,e),this.object=e.object,this},Yu.prototype.clone=function(){return(new this.constructor).copy(this)},(Zu.prototype=Object.create(Ns.prototype)).constructor=Zu,Zu.prototype.updateMatrixWorld=function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),Hn.prototype.updateMatrixWorld.call(this,e))},(Ku.prototype=Object.create(Ls.prototype)).constructor=Ku,Ku.prototype.updateMatrixWorld=function(e){var t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?I:M,this.lookAt(this.plane.normal),Hn.prototype.updateMatrixWorld.call(this,e)},(Xu.prototype=Object.create(Hn.prototype)).constructor=Xu,Xu.prototype.setDirection=(uu=new tn,function(e){e.y>.99999?this.quaternion.set(0,0,0,1):e.y<-.99999?this.quaternion.set(1,0,0,0):(uu.set(e.z,0,-e.x).normalize(),lu=Math.acos(e.y),this.quaternion.setFromAxisAngle(uu,lu))}),Xu.prototype.setLength=function(e,t,n){void 0===t&&(t=.2*e),void 0===n&&(n=.2*t),this.line.scale.set(1,Math.max(0,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()},Xu.prototype.setColor=function(e){this.line.material.color.copy(e),this.cone.material.color.copy(e)},Xu.prototype.copy=function(e){return Hn.prototype.copy.call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this},Xu.prototype.clone=function(){return(new this.constructor).copy(this)},(Qu.prototype=Object.create(Ns.prototype)).constructor=Qu;var ec=0,tc=1;function nc(e){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),e}function ic(e){return void 0===e&&(e=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),e.isMultiMaterial=!0,e.materials=e,e.clone=function(){return e.slice()},e}function rc(e,t){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new js(e,t)}function sc(e){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new Os(e)}function oc(e,t){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new js(e,t)}function ac(e){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new Vs(e)}function lc(e){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new Vs(e)}function uc(e){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new Vs(e)}function cc(e,t,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new tn(e,t,n)}function hc(e,t){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new qn(e,t).setDynamic(!0)}function dc(e,t){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new Yn(e,t)}function pc(e,t){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new Zn(e,t)}function fc(e,t){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new Kn(e,t)}function gc(e,t){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new Xn(e,t)}function mc(e,t){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new Qn(e,t)}function vc(e,t){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new Jn(e,t)}function yc(e,t){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new ei(e,t)}function _c(e,t){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new ti(e,t)}function bc(e,t){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new ni(e,t)}function wc(e){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Ya.call(this,e),this.type="catmullrom",this.closed=!0}function xc(e){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Ya.call(this,e),this.type="catmullrom"}function Cc(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),Ya.call(this,e),this.type="catmullrom"}function Sc(e){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new Qu(e)}function Ec(e,t){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new Yu(e,t)}function Tc(e,t){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new Ns(new Zo(e.geometry),new Rs({color:void 0!==t?t:16777215}))}function Mc(e,t){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new Ns(new Gs(e.geometry),new Rs({color:void 0!==t?t:16777215}))}function Ic(e){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new Pa(e)}function Oc(e){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new Na(e)}Ba.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(Ba.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},Object.assign(ol.prototype,{createPointsGeometry:function(e){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var t=new $n,n=0,i=e.length;n<i;n++){var r=e[n];t.vertices.push(new tn(r.x,r.y,r.z||0))}return t}}),Object.assign(al.prototype,{fromPoints:function(e){console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}}),wc.prototype=Object.create(Ya.prototype),xc.prototype=Object.create(Ya.prototype),Cc.prototype=Object.create(Ya.prototype),Object.assign(Cc.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),Uu.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},ju.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(Vl.prototype,{extractUrlBase:function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),wl.extractUrlBase(e)}}),Object.assign(Sl.prototype,{setTexturePath:function(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}),Object.assign(Ru.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(mn.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}}),Lu.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Object.assign(Xt,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),Xt.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),Xt.ceilPowerOfTwo(e)}}),Object.assign(nn.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(Jt.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){var e;return function(){return void 0===e&&(e=new tn),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),e.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,n,i,r,s){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,i,n,r,s)}}),yn.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},en.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},Object.assign(Ti.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}}),Object.assign(Mi.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},midpoint:function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},normal:function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},plane:function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)}}),Object.assign(Mi,{barycoordFromPoint:function(e,t,n,i,r){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Mi.getBarycoord(e,t,n,i,r)},normal:function(e,t,n,i){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Mi.getNormal(e,t,n,i)}}),Object.assign(ll.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Ro(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new $o(this,e)}}),Object.assign(Qt.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(tn.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(dn.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign($n.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")}}),Object.assign(Hn.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")}}),Object.defineProperties(Hn.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(As.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(ks.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),Ds.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(Ba.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}}),us.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(ul.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(qn.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")}}),Object.assign(oi.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addDrawCall:function(e,t,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties(oi.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.assign(Lo.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.defineProperties(Eu.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(Si.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new In}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=e===A}}}),Object.defineProperties(aa.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(Ei.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Object.assign(xs.prototype,{clearTarget:function(e,t,n,i){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,n,i)},animate:function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")}}),Object.defineProperties(xs.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(is.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(pn.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),Object.defineProperties(bs.prototype,{standing:{set:function(){console.warn("THREE.WebVRManager: .standing has been removed.")}},userHeight:{set:function(){console.warn("THREE.WebVRManager: .userHeight has been removed.")}}}),mu.prototype.load=function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this;return(new hu).load(e,function(e){t.setBuffer(e)}),this},yu.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},pu.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)};var Ac={merge:function(e,t,n){var i;console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),t.isMesh&&(t.matrixAutoUpdate&&t.updateMatrix(),i=t.matrix,t=t.geometry),e.merge(t,i,n)},center:function(e){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),e.center()}};function Dc(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."),this.projectVector=function(e,t){console.warn("THREE.Projector: .projectVector() is now vector.project()."),e.project(t)},this.unprojectVector=function(e,t){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),e.unproject(t)},this.pickingRay=function(){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}}function kc(){console.error("THREE.CanvasRenderer has been removed")}function Pc(){console.error("THREE.JSONLoader has been removed.")}un.crossOrigin=void 0,un.loadTexture=function(e,t,n,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var r=new ja;r.setCrossOrigin(this.crossOrigin);var s=r.load(e,n,void 0,i);return t&&(s.mapping=t),s},un.loadTextureCube=function(e,t,n,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var r=new Va;r.setCrossOrigin(this.crossOrigin);var s=r.load(e,n,void 0,i);return t&&(s.mapping=t),s},un.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},un.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};var Rc={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")}};function Lc(){console.error("THREE.LensFlare has been moved to /examples/js/objects/Lensflare.js")}},WwML:function(e,t,n){var i=n("mrSG").__decorate,r=n("mrSG").__metadata;Object.defineProperty(t,"__esModule",{value:!0});var s=n("8Y7J"),o=n("SVse"),a=n("GS7A"),l=(n("4Vzq"),function(){function e(e){this.messageService=e,this.closable=!0,this.enableService=!0,this.showTransitionOptions="300ms ease-out",this.hideTransitionOptions="250ms ease-in",this.valueChange=new s.EventEmitter}return e.prototype.ngOnInit=function(){var e=this;this.messageService&&this.enableService&&(this.messageSubscription=this.messageService.messageObserver.subscribe(function(t){if(t)if(t instanceof Array){var n=t.filter(function(t){return e.key===t.key});e.value=e.value?e.value.concat(n):n.slice()}else e.key===t.key&&(e.value=e.value?e.value.concat([t]):[t])}),this.clearSubscription=this.messageService.clearObserver.subscribe(function(t){t?e.key===t&&(e.value=null):e.value=null}))},e.prototype.hasMessages=function(){return this.value&&this.value.length>0},e.prototype.getSeverityClass=function(){return this.value[0].severity},e.prototype.clear=function(e){this.value=[],this.valueChange.emit(this.value),e.preventDefault()},Object.defineProperty(e.prototype,"icon",{get:function(){var e=null;if(this.hasMessages())switch(this.value[0].severity){case"success":e="pi-check";break;case"info":e="pi-info-circle";break;case"error":e="pi-times";break;case"warn":e="pi-exclamation-triangle";break;default:e="pi-info-circle"}return e},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.clearSubscription&&this.clearSubscription.unsubscribe()},i([s.Input(),r("design:type",Array)],e.prototype,"value",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"closable",void 0),i([s.Input(),r("design:type",Object)],e.prototype,"style",void 0),i([s.Input(),r("design:type",String)],e.prototype,"styleClass",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"enableService",void 0),i([s.Input(),r("design:type",String)],e.prototype,"key",void 0),i([s.Input(),r("design:type",String)],e.prototype,"showTransitionOptions",void 0),i([s.Input(),r("design:type",String)],e.prototype,"hideTransitionOptions",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"valueChange",void 0),i([s.Component({selector:"p-messages",template:'\n        <div *ngIf="hasMessages()" class="ui-messages ui-widget ui-corner-all"\n                    [ngClass]="{\'ui-messages-info\':(value[0].severity === \'info\'),\n                    \'ui-messages-warn\':(value[0].severity === \'warn\'),\n                    \'ui-messages-error\':(value[0].severity === \'error\'),\n                    \'ui-messages-success\':(value[0].severity === \'success\')}"\n                    [ngStyle]="style" [class]="styleClass" [@messageAnimation]="{value: \'visible\', params: {showTransitionParams: showTransitionOptions, hideTransitionParams: hideTransitionOptions}}">\n            <a tabindex="0" class="ui-messages-close" (click)="clear($event)" (keydown.enter)="clear($event)" *ngIf="closable">\n                <i class="pi pi-times"></i>\n            </a>\n            <span class="ui-messages-icon pi" [ngClass]="icon"></span>\n            <ul>\n                <li *ngFor="let msg of value">\n                    <span *ngIf="msg.summary" class="ui-messages-summary" [innerHTML]="msg.summary"></span>\n                    <span *ngIf="msg.detail" class="ui-messages-detail" [innerHTML]="msg.detail"></span>\n                </li>\n            </ul>\n        </div>\n    ',animations:[a.trigger("messageAnimation",[a.state("visible",a.style({transform:"translateY(0)",opacity:1})),a.transition("void => *",[a.style({transform:"translateY(-25%)",opacity:0}),a.animate("{{showTransitionParams}}")]),a.transition("* => void",[a.animate("{{hideTransitionParams}}",a.style({opacity:0,transform:"translateY(-25%)"}))])])]})],e)}());t.Messages=l,t.MessagesModule=function(){return i([s.NgModule({imports:[o.CommonModule],exports:[l],declarations:[l]})],function(){})}()},XNiG:function(e,t,n){"use strict";n.d(t,"b",function(){return u}),n.d(t,"a",function(){return c});var i=n("HDdC"),r=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),l=n("2QA8");class u extends r.a{constructor(e){super(e),this.destination=e}}class c extends i.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[l.a](){return new u(this)}lift(e){const t=new h(this,this);return t.operator=e,t}next(e){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:t}=this,n=t.length,i=t.slice();for(let r=0;r<n;r++)i[r].next(e)}}error(e){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,i=t.slice();for(let r=0;r<n;r++)i[r].error(e);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let i=0;i<t;i++)n[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new o.a;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new o.a;return this.hasError?(e.error(this.thrownError),s.a.EMPTY):this.isStopped?(e.complete(),s.a.EMPTY):(this.observers.push(e),new a.a(this,e))}asObservable(){const e=new i.a;return e.source=this,e}}c.create=((e,t)=>new h(e,t));class h extends c{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):s.a.EMPTY}}},XUOw:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("HDdC");function r(e){const t=new i.a(t=>{t.next(e),t.complete()});return t._isScalar=!0,t.value=e,t}},XoHu:function(e,t,n){"use strict";function i(e){return null!=e&&"object"==typeof e}n.d(t,"a",function(){return i})},"Y/cZ":function(e,t,n){"use strict";n.d(t,"a",function(){return i});class i{constructor(e,t=i.now){this.SchedulerAction=e,this.now=t}schedule(e,t=0,n){return new this.SchedulerAction(this,e).schedule(n,t)}}i.now=(()=>Date.now())},Y5c8:function(e,t,n){var i=n("Womt");i.OrbitControls=function(e,t){var n,r,s,o,a;this.object=e,this.domElement=void 0!==t?t:document,this.enabled=!0,this.target=new i.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!1,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={LEFT:i.MOUSE.LEFT,MIDDLE:i.MOUSE.MIDDLE,RIGHT:i.MOUSE.RIGHT},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return g.phi},this.getAzimuthalAngle=function(){return g.theta},this.saveState=function(){l.target0.copy(l.target),l.position0.copy(l.object.position),l.zoom0=l.object.zoom},this.reset=function(){l.target.copy(l.target0),l.object.position.copy(l.position0),l.object.zoom=l.zoom0,l.object.updateProjectionMatrix(),l.dispatchEvent(u),l.update(),p=d.NONE},this.update=(n=new i.Vector3,r=(new i.Quaternion).setFromUnitVectors(e.up,new i.Vector3(0,1,0)),s=r.clone().inverse(),o=new i.Vector3,a=new i.Quaternion,function(){var e=l.object.position;return n.copy(e).sub(l.target),n.applyQuaternion(r),g.setFromVector3(n),l.autoRotate&&p===d.NONE&&A(2*Math.PI/60/60*l.autoRotateSpeed),g.theta+=m.theta,g.phi+=m.phi,g.theta=Math.max(l.minAzimuthAngle,Math.min(l.maxAzimuthAngle,g.theta)),g.phi=Math.max(l.minPolarAngle,Math.min(l.maxPolarAngle,g.phi)),g.makeSafe(),g.radius*=v,g.radius=Math.max(l.minDistance,Math.min(l.maxDistance,g.radius)),l.target.add(y),n.setFromSpherical(g),n.applyQuaternion(s),e.copy(l.target).add(n),l.object.lookAt(l.target),!0===l.enableDamping?(m.theta*=1-l.dampingFactor,m.phi*=1-l.dampingFactor,y.multiplyScalar(1-l.dampingFactor)):(m.set(0,0,0),y.set(0,0,0)),v=1,!!(_||o.distanceToSquared(l.object.position)>f||8*(1-a.dot(l.object.quaternion))>f)&&(l.dispatchEvent(u),o.copy(l.object.position),a.copy(l.object.quaternion),_=!1,!0)}),this.dispose=function(){l.domElement.removeEventListener("contextmenu",q,!1),l.domElement.removeEventListener("mousedown",j,!1),l.domElement.removeEventListener("wheel",H,!1),l.domElement.removeEventListener("touchstart",G,!1),l.domElement.removeEventListener("touchend",$,!1),l.domElement.removeEventListener("touchmove",W,!1),document.removeEventListener("mousemove",B,!1),document.removeEventListener("mouseup",z,!1),window.removeEventListener("keydown",U,!1)};var l=this,u={type:"change"},c={type:"start"},h={type:"end"},d={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY_PAN:4},p=d.NONE,f=1e-6,g=new i.Spherical,m=new i.Spherical,v=1,y=new i.Vector3,_=!1,b=new i.Vector2,w=new i.Vector2,x=new i.Vector2,C=new i.Vector2,S=new i.Vector2,E=new i.Vector2,T=new i.Vector2,M=new i.Vector2,I=new i.Vector2;function O(){return Math.pow(.95,l.zoomSpeed)}function A(e){m.theta-=e}function D(e){m.phi-=e}var k,P=(k=new i.Vector3,function(e,t){k.setFromMatrixColumn(t,0),k.multiplyScalar(-e),y.add(k)}),R=function(){var e=new i.Vector3;return function(t,n){!0===l.screenSpacePanning?e.setFromMatrixColumn(n,1):(e.setFromMatrixColumn(n,0),e.crossVectors(l.object.up,e)),e.multiplyScalar(t),y.add(e)}}(),L=function(){var e=new i.Vector3;return function(t,n){var i=l.domElement===document?l.domElement.body:l.domElement;if(l.object.isPerspectiveCamera){e.copy(l.object.position).sub(l.target);var r=e.length();r*=Math.tan(l.object.fov/2*Math.PI/180),P(2*t*r/i.clientHeight,l.object.matrix),R(2*n*r/i.clientHeight,l.object.matrix)}else l.object.isOrthographicCamera?(P(t*(l.object.right-l.object.left)/l.object.zoom/i.clientWidth,l.object.matrix),R(n*(l.object.top-l.object.bottom)/l.object.zoom/i.clientHeight,l.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),l.enablePan=!1)}}();function N(e){l.object.isPerspectiveCamera?v/=e:l.object.isOrthographicCamera?(l.object.zoom=Math.max(l.minZoom,Math.min(l.maxZoom,l.object.zoom*e)),l.object.updateProjectionMatrix(),_=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),l.enableZoom=!1)}function F(e){l.object.isPerspectiveCamera?v*=e:l.object.isOrthographicCamera?(l.object.zoom=Math.max(l.minZoom,Math.min(l.maxZoom,l.object.zoom/e)),l.object.updateProjectionMatrix(),_=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),l.enableZoom=!1)}function V(e){C.set(e.clientX,e.clientY)}function j(e){if(!1!==l.enabled){switch(e.preventDefault(),e.button){case l.mouseButtons.LEFT:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===l.enablePan)return;V(e),p=d.PAN}else{if(!1===l.enableRotate)return;!function(e){b.set(e.clientX,e.clientY)}(e),p=d.ROTATE}break;case l.mouseButtons.MIDDLE:if(!1===l.enableZoom)return;!function(e){T.set(e.clientX,e.clientY)}(e),p=d.DOLLY;break;case l.mouseButtons.RIGHT:if(!1===l.enablePan)return;V(e),p=d.PAN}p!==d.NONE&&(document.addEventListener("mousemove",B,!1),document.addEventListener("mouseup",z,!1),l.dispatchEvent(c))}}function B(e){if(!1!==l.enabled)switch(e.preventDefault(),p){case d.ROTATE:if(!1===l.enableRotate)return;!function(e){w.set(e.clientX,e.clientY),x.subVectors(w,b).multiplyScalar(l.rotateSpeed);var t=l.domElement===document?l.domElement.body:l.domElement;A(2*Math.PI*x.x/t.clientHeight),D(2*Math.PI*x.y/t.clientHeight),b.copy(w),l.update()}(e);break;case d.DOLLY:if(!1===l.enableZoom)return;!function(e){M.set(e.clientX,e.clientY),I.subVectors(M,T),I.y>0?N(O()):I.y<0&&F(O()),T.copy(M),l.update()}(e);break;case d.PAN:if(!1===l.enablePan)return;!function(e){S.set(e.clientX,e.clientY),E.subVectors(S,C).multiplyScalar(l.panSpeed),L(E.x,E.y),C.copy(S),l.update()}(e)}}function z(e){!1!==l.enabled&&(document.removeEventListener("mousemove",B,!1),document.removeEventListener("mouseup",z,!1),l.dispatchEvent(h),p=d.NONE)}function H(e){!1===l.enabled||!1===l.enableZoom||p!==d.NONE&&p!==d.ROTATE||(e.preventDefault(),e.stopPropagation(),l.dispatchEvent(c),function(e){e.deltaY<0?F(O()):e.deltaY>0&&N(O()),l.update()}(e),l.dispatchEvent(h))}function U(e){!1!==l.enabled&&!1!==l.enableKeys&&!1!==l.enablePan&&function(e){switch(e.keyCode){case l.keys.UP:L(0,l.keyPanSpeed),l.update();break;case l.keys.BOTTOM:L(0,-l.keyPanSpeed),l.update();break;case l.keys.LEFT:L(l.keyPanSpeed,0),l.update();break;case l.keys.RIGHT:L(-l.keyPanSpeed,0),l.update()}}(e)}function G(e){if(!1!==l.enabled){switch(e.preventDefault(),e.touches.length){case 1:if(!1===l.enableRotate)return;!function(e){b.set(e.touches[0].pageX,e.touches[0].pageY)}(e),p=d.TOUCH_ROTATE;break;case 2:if(!1===l.enableZoom&&!1===l.enablePan)return;!function(e){if(l.enableZoom){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,i=Math.sqrt(t*t+n*n);T.set(0,i)}l.enablePan&&C.set(.5*(e.touches[0].pageX+e.touches[1].pageX),.5*(e.touches[0].pageY+e.touches[1].pageY))}(e),p=d.TOUCH_DOLLY_PAN;break;default:p=d.NONE}p!==d.NONE&&l.dispatchEvent(c)}}function W(e){if(!1!==l.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:if(!1===l.enableRotate)return;if(p!==d.TOUCH_ROTATE)return;!function(e){w.set(e.touches[0].pageX,e.touches[0].pageY),x.subVectors(w,b).multiplyScalar(l.rotateSpeed);var t=l.domElement===document?l.domElement.body:l.domElement;A(2*Math.PI*x.x/t.clientHeight),D(2*Math.PI*x.y/t.clientHeight),b.copy(w),l.update()}(e);break;case 2:if(!1===l.enableZoom&&!1===l.enablePan)return;if(p!==d.TOUCH_DOLLY_PAN)return;!function(e){if(l.enableZoom){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,i=Math.sqrt(t*t+n*n);M.set(0,i),I.set(0,Math.pow(M.y/T.y,l.zoomSpeed)),N(I.y),T.copy(M)}l.enablePan&&(S.set(.5*(e.touches[0].pageX+e.touches[1].pageX),.5*(e.touches[0].pageY+e.touches[1].pageY)),E.subVectors(S,C).multiplyScalar(l.panSpeed),L(E.x,E.y),C.copy(S)),l.update()}(e);break;default:p=d.NONE}}function $(e){!1!==l.enabled&&(l.dispatchEvent(h),p=d.NONE)}function q(e){!1!==l.enabled&&e.preventDefault()}l.domElement.addEventListener("contextmenu",q,!1),l.domElement.addEventListener("mousedown",j,!1),l.domElement.addEventListener("wheel",H,!1),l.domElement.addEventListener("touchstart",G,!1),l.domElement.addEventListener("touchend",$,!1),l.domElement.addEventListener("touchmove",W,!1),window.addEventListener("keydown",U,!1),this.update()},i.OrbitControls.prototype=Object.create(i.EventDispatcher.prototype),i.OrbitControls.prototype.constructor=i.OrbitControls,Object.defineProperties(i.OrbitControls.prototype,{center:{get:function(){return console.warn("THREE.OrbitControls: .center has been renamed to .target"),this.target}},noZoom:{get:function(){return console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(e){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!e}},noRotate:{get:function(){return console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),!this.enableRotate},set:function(e){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),this.enableRotate=!e}},noPan:{get:function(){return console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),!this.enablePan},set:function(e){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),this.enablePan=!e}},noKeys:{get:function(){return console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),!this.enableKeys},set:function(e){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),this.enableKeys=!e}},staticMoving:{get:function(){return console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this.enableDamping},set:function(e){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),this.enableDamping=!e}},dynamicDampingFactor:{get:function(){return console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor},set:function(e){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor=e}}}),e.exports=t.default=i.OrbitControls},Y7HM:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("DH7j");function r(e){return!Object(i.a)(e)&&e-parseFloat(e)+1>=0}},Ylt2:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("quSY");class r extends i.a{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},YuTi:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},ZUHj:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=n("51Dv"),r=n("SeVD");function s(e,t,n,s,o=new i.a(e,n,s)){if(!o.closed)return Object(r.a)(t)(o)}},a7t3:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("NJ4a");const r=e=>t=>(e.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t)},bHdf:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=n("5+tZ"),r=n("SpAZ");function s(e=Number.POSITIVE_INFINITY){return Object(i.a)(r.a,e)}},bOdf:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("5+tZ");function r(e,t){return Object(i.a)(e,t,1)}},bjBz:function(e,t,n){var i=n("mrSG").__decorate,r=n("mrSG").__metadata;Object.defineProperty(t,"__esModule",{value:!0});var s=n("8Y7J"),o=n("SVse"),a=n("s7LF");t.INPUTSWITCH_VALUE_ACCESSOR={provide:a.NG_VALUE_ACCESSOR,useExisting:s.forwardRef(function(){return l}),multi:!0};var l=function(){function e(e){this.cd=e,this.onChange=new s.EventEmitter,this.checked=!1,this.focused=!1,this.onModelChange=function(){},this.onModelTouched=function(){}}return e.prototype.onClick=function(e,t){this.disabled||this.readonly||(this.toggle(e),t.focus())},e.prototype.onInputChange=function(e){this.readonly||this.updateModel(e,e.target.checked)},e.prototype.toggle=function(e){this.updateModel(e,!this.checked)},e.prototype.updateModel=function(e,t){this.checked=t,this.onModelChange(this.checked),this.onChange.emit({originalEvent:e,checked:this.checked})},e.prototype.onFocus=function(e){this.focused=!0},e.prototype.onBlur=function(e){this.focused=!1,this.onModelTouched()},e.prototype.writeValue=function(e){this.checked=e,this.cd.markForCheck()},e.prototype.registerOnChange=function(e){this.onModelChange=e},e.prototype.registerOnTouched=function(e){this.onModelTouched=e},e.prototype.setDisabledState=function(e){this.disabled=e},i([s.Input(),r("design:type",Object)],e.prototype,"style",void 0),i([s.Input(),r("design:type",String)],e.prototype,"styleClass",void 0),i([s.Input(),r("design:type",Number)],e.prototype,"tabindex",void 0),i([s.Input(),r("design:type",String)],e.prototype,"inputId",void 0),i([s.Input(),r("design:type",String)],e.prototype,"name",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"disabled",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"readonly",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"onChange",void 0),i([s.Component({selector:"p-inputSwitch",template:'\n        <div [ngClass]="{\'ui-inputswitch ui-widget\': true, \'ui-inputswitch-checked\': checked, \'ui-state-disabled\': disabled, \'ui-inputswitch-readonly\': readonly, \'ui-inputswitch-focus\': focused}" \n            [ngStyle]="style" [class]="styleClass" (click)="onClick($event, cb)" role="checkbox" [attr.aria-checked]="checked">\n            <div class="ui-helper-hidden-accessible">\n                <input #cb type="checkbox" [attr.id]="inputId" [attr.name]="name" [attr.tabindex]="tabindex" [checked]="checked" (change)="onInputChange($event)"\n                        (focus)="onFocus($event)" (blur)="onBlur($event)" [disabled]="disabled" />\n            </div>\n            <span class="ui-inputswitch-slider"></span>\n        </div>\n    ',providers:[t.INPUTSWITCH_VALUE_ACCESSOR]})],e)}();t.InputSwitch=l,t.InputSwitchModule=function(){return i([s.NgModule({imports:[o.CommonModule],exports:[l],declarations:[l]})],function(){})}()},c2HN:function(e,t,n){"use strict";function i(e){return e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,"a",function(){return i})},cUpR:function(e,t,n){"use strict";n.d(t,"q",function(){return Se}),n.d(t,"r",function(){return I}),n.d(t,"a",function(){return Ee}),n.d(t,"i",function(){return Ce}),n.d(t,"b",function(){return v}),n.d(t,"d",function(){return O}),n.d(t,"e",function(){return A}),n.d(t,"f",function(){return ae}),n.d(t,"g",function(){return le}),n.d(t,"h",function(){return ue}),n.d(t,"c",function(){return fe}),n.d(t,"s",function(){return o}),n.d(t,"k",function(){return B}),n.d(t,"j",function(){return se}),n.d(t,"n",function(){return ce}),n.d(t,"o",function(){return pe}),n.d(t,"m",function(){return P}),n.d(t,"p",function(){return k}),n.d(t,"l",function(){return ge});var i=n("SVse"),r=n("8Y7J");let s=null;function o(){return s}class a{constructor(){this.resourceLoaderType=null}get attrToPropMap(){return this._attrToPropMap}set attrToPropMap(e){this._attrToPropMap=e}}class l extends a{constructor(){super(),this._animationPrefix=null,this._transitionEnd=null;try{const t=this.createElement("div",document);if(null!=this.getStyle(t,"animationName"))this._animationPrefix="";else{const e=["Webkit","Moz","O","ms"];for(let n=0;n<e.length;n++)if(null!=this.getStyle(t,e[n]+"AnimationName")){this._animationPrefix="-"+e[n].toLowerCase()+"-";break}}const n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(n).forEach(e=>{null!=this.getStyle(t,e)&&(this._transitionEnd=n[e])})}catch(e){this._animationPrefix=null,this._transitionEnd=null}}getDistributedNodes(e){return e.getDistributedNodes()}resolveAndSetHref(e,t,n){e.href=null==n?t:t+"/../"+n}supportsDOMEvents(){return!0}supportsNativeShadowDOM(){return"function"==typeof document.body.createShadowRoot}getAnimationPrefix(){return this._animationPrefix?this._animationPrefix:""}getTransitionEnd(){return this._transitionEnd?this._transitionEnd:""}supportsAnimation(){return null!=this._animationPrefix&&null!=this._transitionEnd}}const u={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},c=3,h={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},d={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"};let p;r["\u0275global"].Node&&(p=r["\u0275global"].Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))});class f extends l{parse(e){throw new Error("parse not implemented")}static makeCurrent(){var e;e=new f,s||(s=e)}hasProperty(e,t){return t in e}setProperty(e,t,n){e[t]=n}getProperty(e,t){return e[t]}invoke(e,t,n){e[t](...n)}logError(e){window.console&&(console.error?console.error(e):console.log(e))}log(e){window.console&&window.console.log&&window.console.log(e)}logGroup(e){window.console&&window.console.group&&window.console.group(e)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}get attrToPropMap(){return u}contains(e,t){return p.call(e,t)}querySelector(e,t){return e.querySelector(t)}querySelectorAll(e,t){return e.querySelectorAll(t)}on(e,t,n){e.addEventListener(t,n,!1)}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}createMouseEvent(e){const t=this.getDefaultDocument().createEvent("MouseEvent");return t.initEvent(e,!0,!0),t}createEvent(e){const t=this.getDefaultDocument().createEvent("Event");return t.initEvent(e,!0,!0),t}preventDefault(e){e.preventDefault(),e.returnValue=!1}isPrevented(e){return e.defaultPrevented||null!=e.returnValue&&!e.returnValue}getInnerHTML(e){return e.innerHTML}getTemplateContent(e){return"content"in e&&this.isTemplateElement(e)?e.content:null}getOuterHTML(e){return e.outerHTML}nodeName(e){return e.nodeName}nodeValue(e){return e.nodeValue}type(e){return e.type}content(e){return this.hasProperty(e,"content")?e.content:e}firstChild(e){return e.firstChild}nextSibling(e){return e.nextSibling}parentElement(e){return e.parentNode}childNodes(e){return e.childNodes}childNodesAsList(e){const t=e.childNodes,n=new Array(t.length);for(let i=0;i<t.length;i++)n[i]=t[i];return n}clearNodes(e){for(;e.firstChild;)e.removeChild(e.firstChild)}appendChild(e,t){e.appendChild(t)}removeChild(e,t){e.removeChild(t)}replaceChild(e,t,n){e.replaceChild(t,n)}remove(e){return e.parentNode&&e.parentNode.removeChild(e),e}insertBefore(e,t,n){e.insertBefore(n,t)}insertAllBefore(e,t,n){n.forEach(n=>e.insertBefore(n,t))}insertAfter(e,t,n){e.insertBefore(n,t.nextSibling)}setInnerHTML(e,t){e.innerHTML=t}getText(e){return e.textContent}setText(e,t){e.textContent=t}getValue(e){return e.value}setValue(e,t){e.value=t}getChecked(e){return e.checked}setChecked(e,t){e.checked=t}createComment(e){return this.getDefaultDocument().createComment(e)}createTemplate(e){const t=this.getDefaultDocument().createElement("template");return t.innerHTML=e,t}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createElementNS(e,t,n){return(n=n||this.getDefaultDocument()).createElementNS(e,t)}createTextNode(e,t){return(t=t||this.getDefaultDocument()).createTextNode(e)}createScriptTag(e,t,n){const i=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return i.setAttribute(e,t),i}createStyleElement(e,t){const n=(t=t||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(e,t)),n}createShadowRoot(e){return e.createShadowRoot()}getShadowRoot(e){return e.shadowRoot}getHost(e){return e.host}clone(e){return e.cloneNode(!0)}getElementsByClassName(e,t){return e.getElementsByClassName(t)}getElementsByTagName(e,t){return e.getElementsByTagName(t)}classList(e){return Array.prototype.slice.call(e.classList,0)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}hasClass(e,t){return e.classList.contains(t)}setStyle(e,t,n){e.style[t]=n}removeStyle(e,t){e.style[t]=""}getStyle(e,t){return e.style[t]}hasStyle(e,t,n){const i=this.getStyle(e,t)||"";return n?i==n:i.length>0}tagName(e){return e.tagName}attributeMap(e){const t=new Map,n=e.attributes;for(let i=0;i<n.length;i++){const e=n.item(i);t.set(e.name,e.value)}return t}hasAttribute(e,t){return e.hasAttribute(t)}hasAttributeNS(e,t,n){return e.hasAttributeNS(t,n)}getAttribute(e,t){return e.getAttribute(t)}getAttributeNS(e,t,n){return e.getAttributeNS(t,n)}setAttribute(e,t,n){e.setAttribute(t,n)}setAttributeNS(e,t,n,i){e.setAttributeNS(t,n,i)}removeAttribute(e,t){e.removeAttribute(t)}removeAttributeNS(e,t,n){e.removeAttributeNS(t,n)}templateAwareRoot(e){return this.isTemplateElement(e)?this.content(e):e}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}getBoundingClientRect(e){try{return e.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}getTitle(e){return e.title}setTitle(e,t){e.title=t||""}elementMatches(e,t){return!!this.isElementNode(e)&&(e.matches&&e.matches(t)||e.msMatchesSelector&&e.msMatchesSelector(t)||e.webkitMatchesSelector&&e.webkitMatchesSelector(t))}isTemplateElement(e){return this.isElementNode(e)&&"TEMPLATE"===e.nodeName}isTextNode(e){return e.nodeType===Node.TEXT_NODE}isCommentNode(e){return e.nodeType===Node.COMMENT_NODE}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}hasShadowRoot(e){return null!=e.shadowRoot&&e instanceof HTMLElement}isShadowRoot(e){return e instanceof DocumentFragment}importIntoDoc(e){return document.importNode(this.templateAwareRoot(e),!0)}adoptNode(e){return document.adoptNode(e)}getHref(e){return e.getAttribute("href")}getEventKey(e){let t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),e.location===c&&d.hasOwnProperty(t)&&(t=d[t]))}return h[t]||t}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(e){const t=m||(m=document.querySelector("base"))?m.getAttribute("href"):null;return null==t?null:(n=t,g||(g=document.createElement("a")),g.setAttribute("href",n),"/"===g.pathname.charAt(0)?g.pathname:"/"+g.pathname);var n}resetBaseElement(){m=null}getUserAgent(){return window.navigator.userAgent}setData(e,t,n){this.setAttribute(e,"data-"+t,n)}getData(e,t){return this.getAttribute(e,"data-"+t)}getComputedStyle(e){return getComputedStyle(e)}supportsWebAnimation(){return"function"==typeof Element.prototype.animate}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(e){return Object(i["\u0275parseCookieValue"])(document.cookie,e)}setCookie(e,t){document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)}}let g,m=null;const v=i.DOCUMENT;function y(){return!!window.history.pushState}class _ extends i.PlatformLocation{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=o().getLocation(),this._history=o().getHistory()}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(e){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}onHashChange(e){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){y()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){y()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}}_.ctorParameters=(()=>[{type:void 0,decorators:[{type:r.Inject,args:[v]}]}]);const b=new r.InjectionToken("TRANSITION_ID"),w=[{provide:r.APP_INITIALIZER,useFactory:function(e,t,n){return()=>{n.get(r.ApplicationInitStatus).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(n.querySelectorAll(t,"style[ng-transition]")).filter(t=>n.getAttribute(t,"ng-transition")===e).forEach(e=>n.remove(e))})}},deps:[b,v,r.Injector],multi:!0}];class x{static init(){Object(r.setTestabilityGetter)(new x)}addToWindow(e){r["\u0275global"].getAngularTestability=((t,n=!0)=>{const i=e.findTestabilityInTree(t,n);if(null==i)throw new Error("Could not find testability for element.");return i}),r["\u0275global"].getAllAngularTestabilities=(()=>e.getAllTestabilities()),r["\u0275global"].getAllAngularRootElements=(()=>e.getAllRootElements()),r["\u0275global"].frameworkStabilizers||(r["\u0275global"].frameworkStabilizers=[]),r["\u0275global"].frameworkStabilizers.push(e=>{const t=r["\u0275global"].getAllAngularTestabilities();let n=t.length,i=!1;const s=function(t){i=i||t,0==--n&&e(i)};t.forEach(function(e){e.whenStable(s)})})}findTestabilityInTree(e,t,n){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:n?o().isShadowRoot(t)?this.findTestabilityInTree(e,o().getHost(t),!0):this.findTestabilityInTree(e,o().parentElement(t),!0):null}}function C(e,t){"undefined"!=typeof COMPILED&&COMPILED||((r["\u0275global"].ng=r["\u0275global"].ng||{})[e]=t)}const S={ApplicationRef:r.ApplicationRef,NgZone:r.NgZone},E="probe",T="coreTokens";function M(e){return Object(r.getDebugNode)(e)}function I(e){return C(E,M),C(T,Object.assign({},S,(e||[]).reduce((e,t)=>(e[t.name]=t.token,e),{}))),()=>M}const O=new r.InjectionToken("EventManagerPlugins");class A{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let i=0;i<n.length;i++){const t=n[i];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error(`No event manager plugin found for event ${e}`)}}class D{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const i=o().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,n)}}class k{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}class P extends k{constructor(e){super(),this._doc=e,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(e.head)}_addStylesToHost(e,t){e.forEach(e=>{const n=this._doc.createElement("style");n.textContent=e,this._styleNodes.add(t.appendChild(n))})}addHost(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}removeHost(e){this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach(t=>this._addStylesToHost(e,t))}ngOnDestroy(){this._styleNodes.forEach(e=>o().remove(e))}}const R={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},L=/%COMP%/g,N="_nghost-%COMP%",F="_ngcontent-%COMP%";function V(e,t,n){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?V(e,r,n):(r=r.replace(L,e),n.push(r))}return n}function j(e){return t=>{!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}class B{constructor(e,t){this.eventManager=e,this.sharedStylesHost=t,this.rendererByCompId=new Map,this.defaultRenderer=new z(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case r.ViewEncapsulation.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new G(this.eventManager,this.sharedStylesHost,t),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case r.ViewEncapsulation.Native:case r.ViewEncapsulation.ShadowDom:return new W(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=V(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}class z{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(R[t],e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,i){if(i){t=`${i}:${t}`;const r=R[i];r?e.setAttributeNS(r,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const i=R[n];i?e.removeAttributeNS(i,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,i){i&r.RendererStyleFlags2.DashCase?e.style.setProperty(t,n,i&r.RendererStyleFlags2.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&r.RendererStyleFlags2.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){U(t,"property"),e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return U(t,"listener"),"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,j(n)):this.eventManager.addEventListener(e,t,j(n))}}const H="@".charCodeAt(0);function U(e,t){if(e.charCodeAt(0)===H)throw new Error(`Found the synthetic ${t} ${e}. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.`)}class G extends z{constructor(e,t,n){super(e),this.component=n;const i=V(n.id,n.styles,[]);t.addStyles(i),this.contentAttr=F.replace(L,n.id),this.hostAttr=N.replace(L,n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class W extends z{constructor(e,t,n,i){super(e),this.sharedStylesHost=t,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===r.ViewEncapsulation.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const s=V(i.id,i.styles,[]);for(let r=0;r<s.length;r++){const e=document.createElement("style");e.textContent=s[r],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}const $="undefined"!=typeof Zone&&Zone.__symbol__||function(e){return"__zone_symbol__"+e},q=$("addEventListener"),Y=$("removeEventListener"),Z={},K="FALSE",X="ANGULAR",Q="addEventListener",J="removeEventListener",ee="__zone_symbol__propagationStopped",te="__zone_symbol__stopImmediatePropagation";let ne;"undefined"!=typeof Zone&&Zone[$("BLACK_LISTED_EVENTS")]&&(ne={});const ie=function(e){return!!ne&&ne.hasOwnProperty(e)},re=function(e){const t=Z[e.type];if(!t)return;const n=this[t];if(!n)return;const i=[e];if(1===n.length){const e=n[0];return e.zone!==Zone.current?e.zone.run(e.handler,this,i):e.handler.apply(this,i)}{const t=n.slice();for(let n=0;n<t.length&&!0!==e[ee];n++){const e=t[n];e.zone!==Zone.current?e.zone.run(e.handler,this,i):e.handler.apply(this,i)}}};class se extends D{constructor(e,t,n){super(e),this.ngZone=t,n&&Object(i.isPlatformServer)(n)||this.patchEvent()}patchEvent(){if("undefined"==typeof Event||!Event||!Event.prototype)return;if(Event.prototype[te])return;const e=Event.prototype[te]=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[ee]=!0),e&&e.apply(this,arguments)}}supports(e){return!0}addEventListener(e,t,n){let i=n;if(!e[q]||r.NgZone.isInAngularZone()&&!ie(t))e[Q](t,i,!1);else{let n=Z[t];n||(n=Z[t]=$(X+t+K));let r=e[n];const s=r&&r.length>0;r||(r=e[n]=[]);const o=ie(t)?Zone.root:Zone.current;if(0===r.length)r.push({zone:o,handler:i});else{let e=!1;for(let t=0;t<r.length;t++)if(r[t].handler===i){e=!0;break}e||r.push({zone:o,handler:i})}s||e[q](t,re,!1)}return()=>this.removeEventListener(e,t,i)}removeEventListener(e,t,n){let i=e[Y];if(!i)return e[J].apply(e,[t,n,!1]);let r=Z[t],s=r&&e[r];if(!s)return e[J].apply(e,[t,n,!1]);let o=!1;for(let a=0;a<s.length;a++)if(s[a].handler===n){o=!0,s.splice(a,1);break}o?0===s.length&&i.apply(e,[t,re,!1]):e[J].apply(e,[t,n,!1])}}const oe={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},ae=new r.InjectionToken("HammerGestureConfig"),le=new r.InjectionToken("HammerLoader");class ue{constructor(){this.events=[],this.overrides={}}buildHammer(e){const t=new Hammer(e,this.options);t.get("pinch").set({enable:!0}),t.get("rotate").set({enable:!0});for(const n in this.overrides)t.get(n).set(this.overrides[n]);return t}}class ce extends D{constructor(e,t,n,i){super(e),this._config=t,this.console=n,this.loader=i}supports(e){return!(!oe.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e)||!window.Hammer&&!this.loader&&(this.console.warn(`The "${e}" event cannot be bound because Hammer.JS is not `+"loaded and no custom loader has been specified."),1))}addEventListener(e,t,n){const i=this.manager.getZone();if(t=t.toLowerCase(),!window.Hammer&&this.loader){let i=!1,r=()=>{i=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(r=(()=>{}));i||(r=this.addEventListener(e,t,n))}).catch(()=>{this.console.warn(`The "${t}" event cannot be bound because the custom `+"Hammer.JS loader failed."),r=(()=>{})}),()=>{r()}}return i.runOutsideAngular(()=>{const r=this._config.buildHammer(e),s=function(e){i.runGuarded(function(){n(e)})};return r.on(t,s),()=>{r.off(t,s),"function"==typeof r.destroy&&r.destroy()}})}isCustomEvent(e){return this._config.events.indexOf(e)>-1}}const he=["alt","control","meta","shift"],de={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};class pe extends D{constructor(e){super(e)}supports(e){return null!=pe.parseEventName(e)}addEventListener(e,t,n){const i=pe.parseEventName(t),r=pe.eventCallback(i.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,i.domEventName,r))}static parseEventName(e){const t=e.toLowerCase().split("."),n=t.shift();if(0===t.length||"keydown"!==n&&"keyup"!==n)return null;const i=pe._normalizeKey(t.pop());let r="";if(he.forEach(e=>{const n=t.indexOf(e);n>-1&&(t.splice(n,1),r+=e+".")}),r+=i,0!=t.length||0===i.length)return null;const s={};return s.domEventName=n,s.fullKey=r,s}static getEventFullKey(e){let t="",n=o().getEventKey(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),he.forEach(i=>{i!=n&&(0,de[i])(e)&&(t+=i+".")}),t+=n}static eventCallback(e,t,n){return i=>{pe.getEventFullKey(i)===e&&n.runGuarded(()=>t(i))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}class fe{}class ge extends fe{constructor(e){super(),this._doc=e}sanitize(e,t){if(null==t)return null;switch(e){case r.SecurityContext.NONE:return t;case r.SecurityContext.HTML:return t instanceof ve?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"HTML"),Object(r["\u0275_sanitizeHtml"])(this._doc,String(t)));case r.SecurityContext.STYLE:return t instanceof ye?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"Style"),Object(r["\u0275_sanitizeStyle"])(t));case r.SecurityContext.SCRIPT:if(t instanceof _e)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"Script"),new Error("unsafe value used in a script context");case r.SecurityContext.URL:return t instanceof we||t instanceof be?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"URL"),Object(r["\u0275_sanitizeUrl"])(String(t)));case r.SecurityContext.RESOURCE_URL:if(t instanceof we)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see http://g.co/ng/security#xss)`)}}checkNotSafeValue(e,t){if(e instanceof me)throw new Error(`Required a safe ${t}, got a ${e.getTypeName()} `+"(see http://g.co/ng/security#xss)")}bypassSecurityTrustHtml(e){return new ve(e)}bypassSecurityTrustStyle(e){return new ye(e)}bypassSecurityTrustScript(e){return new _e(e)}bypassSecurityTrustUrl(e){return new be(e)}bypassSecurityTrustResourceUrl(e){return new we(e)}}class me{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class ve extends me{getTypeName(){return"HTML"}}class ye extends me{getTypeName(){return"Style"}}class _e extends me{getTypeName(){return"Script"}}class be extends me{getTypeName(){return"URL"}}class we extends me{getTypeName(){return"ResourceURL"}}const xe=[{provide:r.PLATFORM_ID,useValue:i["\u0275PLATFORM_BROWSER_ID"]},{provide:r.PLATFORM_INITIALIZER,useValue:function(){f.makeCurrent(),x.init()},multi:!0},{provide:i.PlatformLocation,useClass:_,deps:[v]},{provide:v,useFactory:function(){return document},deps:[]}],Ce=Object(r.createPlatformFactory)(r.platformCore,"browser",xe);function Se(){return new r.ErrorHandler}class Ee{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:Ee,providers:[{provide:r.APP_ID,useValue:e.appId},{provide:b,useExisting:r.APP_ID},w]}}}class Te{constructor(e){this._doc=e,this._dom=o()}addTag(e,t=!1){return e?this._getOrCreateElement(e,t):null}addTags(e,t=!1){return e?e.reduce((e,n)=>(n&&e.push(this._getOrCreateElement(n,t)),e),[]):[]}getTag(e){return e&&this._dom.querySelector(this._doc,`meta[${e}]`)||null}getTags(e){if(!e)return[];const t=this._dom.querySelectorAll(this._doc,`meta[${e}]`);return t?[].slice.call(t):[]}updateTag(e,t){if(!e)return null;t=t||this._parseSelector(e);const n=this.getTag(t);return n?this._setMetaElementAttributes(e,n):this._getOrCreateElement(e,!0)}removeTag(e){this.removeTagElement(this.getTag(e))}removeTagElement(e){e&&this._dom.remove(e)}_getOrCreateElement(e,t=!1){if(!t){const t=this._parseSelector(e),n=this.getTag(t);if(n&&this._containsAttributes(e,n))return n}const n=this._dom.createElement("meta");this._setMetaElementAttributes(e,n);const i=this._dom.getElementsByTagName(this._doc,"head")[0];return this._dom.appendChild(i,n),n}_setMetaElementAttributes(e,t){return Object.keys(e).forEach(n=>this._dom.setAttribute(t,n,e[n])),t}_parseSelector(e){const t=e.name?"name":"property";return`${t}="${e[t]}"`}_containsAttributes(e,t){return Object.keys(e).every(n=>this._dom.getAttribute(t,n)===e[n])}}Te.ngInjectableDef=Object(r.defineInjectable)({factory:function(){return new Te(Object(r.inject)(v))},token:Te,providedIn:"root"});class Me{constructor(e){this._doc=e}getTitle(){return o().getTitle(this._doc)}setTitle(e){o().setTitle(this._doc,e)}}Me.ngInjectableDef=Object(r.defineInjectable)({factory:function(){return new Me(Object(r.inject)(v))},token:Me,providedIn:"root"}),"undefined"!=typeof window&&window},cp0P:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var i=n("HDdC"),r=n("DH7j"),s=n("EY2u"),o=n("ZUHj"),a=n("l7GE"),l=n("lJxs");function u(...e){let t;return"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&Object(r.a)(e[0])&&(e=e[0]),0===e.length?s.a:t?u(e).pipe(Object(l.a)(e=>t(...e))):new i.a(t=>new c(t,e))}class c extends a.a{constructor(e,t){super(e),this.sources=t,this.completed=0,this.haveValues=0;const n=t.length;this.values=new Array(n);for(let i=0;i<n;i++){const e=t[i],n=Object(o.a)(this,e,null,i);n&&this.add(n)}}notifyNext(e,t,n,i,r){this.values[n]=t,r._hasValue||(r._hasValue=!0,this.haveValues++)}notifyComplete(e){const{destination:t,haveValues:n,values:i}=this,r=i.length;e._hasValue?(this.completed++,this.completed===r&&(n===r&&t.next(i),t.complete())):t.complete()}}},crnd:function(e,t){function n(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="crnd"},dJRF:function(e,t,n){"use strict";n.d(t,"a",function(){return i});const i={e:{}}},eIep:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var i=n("l7GE"),r=n("51Dv"),s=n("ZUHj"),o=n("lJxs"),a=n("Cfvw");function l(e,t){return"function"==typeof t?n=>n.pipe(l((n,i)=>Object(a.a)(e(n,i)).pipe(Object(o.a)((e,r)=>t(n,e,i,r))))):t=>t.lift(new u(e))}class u{constructor(e){this.project=e}call(e,t){return t.subscribe(new c(e,this.project))}}class c extends i.a{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(i){return void this.destination.error(i)}this._innerSub(t,e,n)}_innerSub(e,t,n){const i=this.innerSubscription;i&&i.unsubscribe();const o=new r.a(this,void 0,void 0);this.destination.add(o),this.innerSubscription=Object(s.a)(this,e,t,n,o)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(e,t,n,i,r){this.destination.next(t)}}},eNwd:function(e,t,n){"use strict";var i=n("3N8a");class r extends i.a{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(()=>e.flush(null))))}recycleAsyncId(e,t,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(e,t,n);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}}var s=n("IjjT");class o extends s.a{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let n,i=-1,r=t.length;e=e||t.shift();do{if(n=e.execute(e.state,e.delay))break}while(++i<r&&(e=t.shift()));if(this.active=!1,n){for(;++i<r&&(e=t.shift());)e.unsubscribe();throw n}}}n.d(t,"a",function(){return a});const a=new o(r)},fBTL:function(e,t,n){var i=n("mrSG").__decorate,r=n("mrSG").__metadata;Object.defineProperty(t,"__esModule",{value:!0});var s=n("8Y7J"),o=n("SVse"),a=n("7LN8"),l=n("GS7A"),u=0,c=function(){function e(e){this.el=e,this.collapsed=!1,this.expandIcon="pi pi-plus",this.collapseIcon="pi pi-minus",this.showHeader=!0,this.toggler="icon",this.collapsedChange=new s.EventEmitter,this.onBeforeToggle=new s.EventEmitter,this.onAfterToggle=new s.EventEmitter,this.transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)",this.id="ui-panel-"+u++}return e.prototype.onHeaderClick=function(e){"header"===this.toggler&&this.toggle(e)},e.prototype.onIconClick=function(e){"icon"===this.toggler&&this.toggle(e)},e.prototype.toggle=function(e){if(this.animating)return!1;this.animating=!0,this.onBeforeToggle.emit({originalEvent:e,collapsed:this.collapsed}),this.toggleable&&(this.collapsed?this.expand(e):this.collapse(e)),e.preventDefault()},e.prototype.expand=function(e){this.collapsed=!1,this.collapsedChange.emit(this.collapsed)},e.prototype.collapse=function(e){this.collapsed=!0,this.collapsedChange.emit(this.collapsed)},e.prototype.getBlockableElement=function(){return this.el.nativeElement.children[0]},e.prototype.onToggleDone=function(e){this.animating=!1,this.onAfterToggle.emit({originalEvent:e,collapsed:this.collapsed})},i([s.Input(),r("design:type",Boolean)],e.prototype,"toggleable",void 0),i([s.Input(),r("design:type",String)],e.prototype,"header",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"collapsed",void 0),i([s.Input(),r("design:type",Object)],e.prototype,"style",void 0),i([s.Input(),r("design:type",String)],e.prototype,"styleClass",void 0),i([s.Input(),r("design:type",String)],e.prototype,"expandIcon",void 0),i([s.Input(),r("design:type",String)],e.prototype,"collapseIcon",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"showHeader",void 0),i([s.Input(),r("design:type",String)],e.prototype,"toggler",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"collapsedChange",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"onBeforeToggle",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"onAfterToggle",void 0),i([s.Input(),r("design:type",String)],e.prototype,"transitionOptions",void 0),i([s.ContentChild(a.Footer),r("design:type",Object)],e.prototype,"footerFacet",void 0),i([s.Component({selector:"p-panel",template:'\n        <div [attr.id]="id" [ngClass]="\'ui-panel ui-widget ui-widget-content ui-corner-all\'" [ngStyle]="style" [class]="styleClass">\n            <div [ngClass]="{\'ui-panel-titlebar ui-widget-header ui-helper-clearfix ui-corner-all\': true, \'ui-panel-titlebar-clickable\': (toggleable && toggler === \'header\')}" \n                *ngIf="showHeader" (click)="onHeaderClick($event)">\n                <span class="ui-panel-title" *ngIf="header">{{header}}</span>\n                <ng-content select="p-header"></ng-content>\n                <a *ngIf="toggleable" [attr.id]="id + \'-label\'" class="ui-panel-titlebar-icon ui-panel-titlebar-toggler ui-corner-all ui-state-default" tabindex="0"\n                    (click)="onIconClick($event)" (keydown.enter)="onIconClick($event)" [attr.aria-controls]="id + \'-content\'" role="tab" [attr.aria-expanded]="!collapsed">\n                    <span [class]="collapsed ? expandIcon : collapseIcon"></span>\n                </a>\n            </div>\n            <div [attr.id]="id + \'-content\'" class="ui-panel-content-wrapper" [@panelContent]="collapsed ? {value: \'hidden\', params: {transitionParams: transitionOptions}} : {value: \'visible\', params: {transitionParams: transitionOptions}}" (@panelContent.done)="onToggleDone($event)"\n                [ngClass]="{\'ui-panel-content-wrapper-overflown\': collapsed||animating}"\n                role="region" [attr.aria-hidden]="collapsed" [attr.aria-labelledby]="id + \'-label\'">\n                <div class="ui-panel-content ui-widget-content">\n                    <ng-content></ng-content>\n                </div>\n                \n                <div class="ui-panel-footer ui-widget-content" *ngIf="footerFacet">\n                    <ng-content select="p-footer"></ng-content>\n                </div>\n            </div>\n        </div>\n    ',animations:[l.trigger("panelContent",[l.state("hidden",l.style({height:"0",opacity:0})),l.state("visible",l.style({height:"*",opacity:1})),l.transition("visible <=> hidden",l.animate("{{transitionParams}}"))])]})],e)}();t.Panel=c,t.PanelModule=function(){return i([s.NgModule({imports:[o.CommonModule],exports:[c,a.SharedModule],declarations:[c]})],function(){})}()},g4HV:function(e,t,n){var i=n("mrSG").__decorate,r=n("mrSG").__metadata;Object.defineProperty(t,"__esModule",{value:!0});var s=n("8Y7J"),o=n("SVse"),a=n("sdDj"),l=function(){function e(e,t){this.el=e,this.zone=t,this.tooltipPosition="right",this.tooltipEvent="hover",this.appendTo="body",this.tooltipZIndex="auto",this.escape=!0}return e.prototype.ngAfterViewInit=function(){var e=this;this.zone.runOutsideAngular(function(){"hover"===e.tooltipEvent?(e.mouseEnterListener=e.onMouseEnter.bind(e),e.mouseLeaveListener=e.onMouseLeave.bind(e),e.clickListener=e.onClick.bind(e),e.el.nativeElement.addEventListener("mouseenter",e.mouseEnterListener),e.el.nativeElement.addEventListener("mouseleave",e.mouseLeaveListener),e.el.nativeElement.addEventListener("click",e.clickListener)):"focus"===e.tooltipEvent&&(e.focusListener=e.onFocus.bind(e),e.blurListener=e.onBlur.bind(e),e.el.nativeElement.addEventListener("focus",e.focusListener),e.el.nativeElement.addEventListener("blur",e.blurListener))})},e.prototype.onMouseEnter=function(e){this.container||this.showTimeout||this.activate()},e.prototype.onMouseLeave=function(e){this.deactivate()},e.prototype.onFocus=function(e){this.activate()},e.prototype.onBlur=function(e){this.deactivate()},e.prototype.onClick=function(e){this.deactivate()},e.prototype.activate=function(){var e=this;this.active=!0,this.clearHideTimeout(),this.showDelay?this.showTimeout=setTimeout(function(){e.show()},this.showDelay):this.show(),this.life&&(this.hideTimeout=setTimeout(function(){e.hide()},this.showDelay?this.life+this.showDelay:this.life))},e.prototype.deactivate=function(){var e=this;this.active=!1,this.clearShowTimeout(),this.hideDelay?(this.clearHideTimeout(),this.hideTimeout=setTimeout(function(){e.hide()},this.hideDelay)):this.hide()},Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(e){this._text=e,this.active&&(this._text?this.container&&this.container.offsetParent?this.updateText():this.show():this.hide())},enumerable:!0,configurable:!0}),e.prototype.create=function(){this.container=document.createElement("div");var e=document.createElement("div");e.className="ui-tooltip-arrow",this.container.appendChild(e),this.tooltipText=document.createElement("div"),this.tooltipText.className="ui-tooltip-text ui-shadow ui-corner-all",this.updateText(),this.positionStyle&&(this.container.style.position=this.positionStyle),this.container.appendChild(this.tooltipText),"body"===this.appendTo?document.body.appendChild(this.container):a.DomHandler.appendChild(this.container,"target"===this.appendTo?this.el.nativeElement:this.appendTo),this.container.style.display="inline-block"},e.prototype.show=function(){this.text&&!this.disabled&&(this.create(),this.align(),a.DomHandler.fadeIn(this.container,250),this.container.style.zIndex="auto"===this.tooltipZIndex?++a.DomHandler.zindex:this.tooltipZIndex,this.bindDocumentResizeListener())},e.prototype.hide=function(){this.remove()},e.prototype.updateText=function(){this.escape?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this._text))):this.tooltipText.innerHTML=this._text},e.prototype.align=function(){switch(this.tooltipPosition){case"top":this.alignTop(),this.isOutOfBounds()&&this.alignBottom();break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&this.alignTop();break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}},e.prototype.getHostOffset=function(){if("body"===this.appendTo||"target"===this.appendTo){var e=this.el.nativeElement.getBoundingClientRect();return{left:e.left+a.DomHandler.getWindowScrollLeft(),top:e.top+a.DomHandler.getWindowScrollTop()}}return{left:0,top:0}},e.prototype.alignRight=function(){this.preAlign("right");var e=this.getHostOffset(),t=e.left+a.DomHandler.getOuterWidth(this.el.nativeElement),n=e.top+(a.DomHandler.getOuterHeight(this.el.nativeElement)-a.DomHandler.getOuterHeight(this.container))/2;this.container.style.left=t+"px",this.container.style.top=n+"px"},e.prototype.alignLeft=function(){this.preAlign("left");var e=this.getHostOffset(),t=e.left-a.DomHandler.getOuterWidth(this.container),n=e.top+(a.DomHandler.getOuterHeight(this.el.nativeElement)-a.DomHandler.getOuterHeight(this.container))/2;this.container.style.left=t+"px",this.container.style.top=n+"px"},e.prototype.alignTop=function(){this.preAlign("top");var e=this.getHostOffset(),t=e.left+(a.DomHandler.getOuterWidth(this.el.nativeElement)-a.DomHandler.getOuterWidth(this.container))/2,n=e.top-a.DomHandler.getOuterHeight(this.container);this.container.style.left=t+"px",this.container.style.top=n+"px"},e.prototype.alignBottom=function(){this.preAlign("bottom");var e=this.getHostOffset(),t=e.left+(a.DomHandler.getOuterWidth(this.el.nativeElement)-a.DomHandler.getOuterWidth(this.container))/2,n=e.top+a.DomHandler.getOuterHeight(this.el.nativeElement);this.container.style.left=t+"px",this.container.style.top=n+"px"},e.prototype.preAlign=function(e){this.container.style.left="-999px",this.container.style.top="-999px";var t="ui-tooltip ui-widget ui-tooltip-"+e;this.container.className=this.tooltipStyleClass?t+" "+this.tooltipStyleClass:t},e.prototype.isOutOfBounds=function(){var e=this.container.getBoundingClientRect(),t=e.top,n=e.left,i=a.DomHandler.getOuterWidth(this.container),r=a.DomHandler.getOuterHeight(this.container),s=a.DomHandler.getViewport();return n+i>s.width||n<0||t<0||t+r>s.height},e.prototype.onWindowResize=function(e){this.hide()},e.prototype.bindDocumentResizeListener=function(){var e=this;this.zone.runOutsideAngular(function(){e.resizeListener=e.onWindowResize.bind(e),window.addEventListener("resize",e.resizeListener)})},e.prototype.unbindDocumentResizeListener=function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},e.prototype.unbindEvents=function(){"hover"===this.tooltipEvent?(this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener)):"focus"===this.tooltipEvent&&(this.el.nativeElement.removeEventListener("focus",this.focusListener),this.el.nativeElement.removeEventListener("blur",this.blurListener)),this.unbindDocumentResizeListener()},e.prototype.remove=function(){this.container&&this.container.parentElement&&("body"===this.appendTo?document.body.removeChild(this.container):"target"===this.appendTo?this.el.nativeElement.removeChild(this.container):a.DomHandler.removeChild(this.container,this.appendTo)),this.unbindDocumentResizeListener(),this.clearTimeouts(),this.container=null},e.prototype.clearShowTimeout=function(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)},e.prototype.clearHideTimeout=function(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)},e.prototype.clearTimeouts=function(){this.clearShowTimeout(),this.clearHideTimeout()},e.prototype.ngOnDestroy=function(){this.unbindEvents(),this.remove()},i([s.Input(),r("design:type",String)],e.prototype,"tooltipPosition",void 0),i([s.Input(),r("design:type",String)],e.prototype,"tooltipEvent",void 0),i([s.Input(),r("design:type",Object)],e.prototype,"appendTo",void 0),i([s.Input(),r("design:type",String)],e.prototype,"positionStyle",void 0),i([s.Input(),r("design:type",String)],e.prototype,"tooltipStyleClass",void 0),i([s.Input(),r("design:type",String)],e.prototype,"tooltipZIndex",void 0),i([s.Input("tooltipDisabled"),r("design:type",Boolean)],e.prototype,"disabled",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"escape",void 0),i([s.Input(),r("design:type",Number)],e.prototype,"showDelay",void 0),i([s.Input(),r("design:type",Number)],e.prototype,"hideDelay",void 0),i([s.Input(),r("design:type",Number)],e.prototype,"life",void 0),i([s.Input("pTooltip"),r("design:type",String),r("design:paramtypes",[String])],e.prototype,"text",null),i([s.Directive({selector:"[pTooltip]"})],e)}();t.Tooltip=l,t.TooltipModule=function(){return i([s.NgModule({imports:[o.CommonModule],exports:[l],declarations:[l]})],function(){})}()},gRHU:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=n("2fFW"),r=n("NJ4a");const s={closed:!0,next(e){},error(e){if(i.a.useDeprecatedSynchronousErrorHandling)throw e;Object(r.a)(e)},complete(){}}},iInd:function(e,t,n){"use strict";n.r(t);var i=n("8Y7J"),r=n("LRne"),s=n("Cfvw"),o=n("2Vo4"),a=n("HDdC"),l=n("sVev"),u=n("itXk"),c=n("NXyV"),h=n("XNiG"),d=n("EY2u"),p=n("lJxs"),f=n("0EUg"),g=n("pLZG"),m=n("7o/Q"),v=n("4I5i");function y(e){return function(t){return 0===e?Object(d.b)():t.lift(new _(e))}}class _{constructor(e){if(this.total=e,this.total<0)throw new v.a}call(e,t){return t.subscribe(new b(e,this.total))}}class b extends m.a{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,n=this.total,i=this.count++;t.length<n?t.push(e):t[i%n]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const n=this.count>=this.total?this.total:this.count,i=this.ring;for(let r=0;r<n;r++){const r=t++%n;e.next(i[r])}}e.complete()}}var w=n("vkgz");const x=(e=function(){return new l.a})=>Object(w.a)({hasValue:!1,next(){this.hasValue=!0},complete(){if(!this.hasValue)throw e()}});function C(e=null){return t=>t.lift(new S(e))}class S{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new E(e,this.defaultValue))}}class E extends m.a{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var T=n("SpAZ");function M(e,t){const n=arguments.length>=2;return i=>i.pipe(e?Object(g.a)((t,n)=>e(t,n,i)):T.a,y(1),n?C(t):x(()=>new l.a))}var I=n("JIr8"),O=n("IzEk");function A(e,t){const n=arguments.length>=2;return i=>i.pipe(e?Object(g.a)((t,n)=>e(t,n,i)):T.a,Object(O.a)(1),n?C(t):x(()=>new l.a))}var D=n("5+tZ");class k{constructor(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}call(e,t){return t.subscribe(new P(e,this.predicate,this.thisArg,this.source))}}class P extends m.a{constructor(e,t,n,i){super(e),this.predicate=t,this.thisArg=n,this.source=i,this.index=0,this.thisArg=n||this}notifyComplete(e){this.destination.next(e),this.destination.complete()}_next(e){let t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}var R=n("eIep"),L=n("JX91"),N=n("Kqap"),F=n("bOdf"),V=n("mCNh"),j=n("nYR2"),B=n("bHdf"),z=n("SVse"),H=n("cUpR");n.d(t,"\u0275angular_packages_router_router_a",function(){return Sn}),n.d(t,"\u0275angular_packages_router_router_h",function(){return Rn}),n.d(t,"\u0275angular_packages_router_router_c",function(){return In}),n.d(t,"\u0275angular_packages_router_router_i",function(){return Ln}),n.d(t,"\u0275angular_packages_router_router_j",function(){return Nn}),n.d(t,"\u0275angular_packages_router_router_e",function(){return An}),n.d(t,"\u0275angular_packages_router_router_d",function(){return On}),n.d(t,"\u0275angular_packages_router_router_k",function(){return Vn}),n.d(t,"\u0275angular_packages_router_router_g",function(){return Pn}),n.d(t,"\u0275angular_packages_router_router_b",function(){return Tn}),n.d(t,"\u0275angular_packages_router_router_f",function(){return kn}),n.d(t,"\u0275angular_packages_router_router_n",function(){return xn}),n.d(t,"\u0275angular_packages_router_router_l",function(){return Ge}),n.d(t,"\u0275angular_packages_router_router_m",function(){return qe}),n.d(t,"RouterLink",function(){return cn}),n.d(t,"RouterLinkWithHref",function(){return hn}),n.d(t,"RouterLinkActive",function(){return pn}),n.d(t,"RouterOutlet",function(){return mn}),n.d(t,"ActivationEnd",function(){return re}),n.d(t,"ActivationStart",function(){return ie}),n.d(t,"ChildActivationEnd",function(){return ne}),n.d(t,"ChildActivationStart",function(){return te}),n.d(t,"GuardsCheckEnd",function(){return K}),n.d(t,"GuardsCheckStart",function(){return Z}),n.d(t,"NavigationCancel",function(){return $}),n.d(t,"NavigationEnd",function(){return W}),n.d(t,"NavigationError",function(){return q}),n.d(t,"NavigationStart",function(){return G}),n.d(t,"ResolveEnd",function(){return Q}),n.d(t,"ResolveStart",function(){return X}),n.d(t,"RouteConfigLoadEnd",function(){return ee}),n.d(t,"RouteConfigLoadStart",function(){return J}),n.d(t,"RouterEvent",function(){return U}),n.d(t,"RoutesRecognized",function(){return Y}),n.d(t,"Scroll",function(){return se}),n.d(t,"RouteReuseStrategy",function(){return Jt}),n.d(t,"Router",function(){return un}),n.d(t,"ROUTES",function(){return tn}),n.d(t,"ROUTER_CONFIGURATION",function(){return Cn}),n.d(t,"ROUTER_INITIALIZER",function(){return Fn}),n.d(t,"RouterModule",function(){return Mn}),n.d(t,"provideRoutes",function(){return Dn}),n.d(t,"ChildrenOutletContexts",function(){return gn}),n.d(t,"OutletContext",function(){return fn}),n.d(t,"NoPreloading",function(){return bn}),n.d(t,"PreloadAllModules",function(){return _n}),n.d(t,"PreloadingStrategy",function(){return yn}),n.d(t,"RouterPreloader",function(){return wn}),n.d(t,"ActivatedRoute",function(){return Xe}),n.d(t,"ActivatedRouteSnapshot",function(){return Je}),n.d(t,"RouterState",function(){return Ze}),n.d(t,"RouterStateSnapshot",function(){return et}),n.d(t,"PRIMARY_OUTLET",function(){return ae}),n.d(t,"convertToParamMap",function(){return ue}),n.d(t,"UrlHandlingStrategy",function(){return rn}),n.d(t,"DefaultUrlSerializer",function(){return Ae}),n.d(t,"UrlSegment",function(){return Te}),n.d(t,"UrlSegmentGroup",function(){return Ee}),n.d(t,"UrlSerializer",function(){return Oe}),n.d(t,"UrlTree",function(){return Se}),n.d(t,"VERSION",function(){return jn}),n.d(t,"\u0275EmptyOutletComponent",function(){return oe}),n.d(t,"\u0275ROUTER_PROVIDERS",function(){return En}),n.d(t,"\u0275flatten",function(){return _e});class U{constructor(e,t){this.id=e,this.url=t}}class G extends U{constructor(e,t,n="imperative",i=null){super(e,t),this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class W extends U{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class $ extends U{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class q extends U{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Y extends U{constructor(e,t,n,i){super(e,t),this.urlAfterRedirects=n,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Z extends U{constructor(e,t,n,i){super(e,t),this.urlAfterRedirects=n,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class K extends U{constructor(e,t,n,i,r){super(e,t),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class X extends U{constructor(e,t,n,i){super(e,t),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Q extends U{constructor(e,t,n,i){super(e,t),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class J{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ee{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class te{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ne{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ie{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class re{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class se{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class oe{}const ae="primary";class le{constructor(e){this.params=e||{}}has(e){return this.params.hasOwnProperty(e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ue(e){return new le(e)}const ce="ngNavigationCancelingError";function he(e){const t=Error("NavigationCancelingError: "+e);return t[ce]=!0,t}function de(e,t,n){const i=n.path.split("/");if(i.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||i.length<e.length))return null;const r={};for(let s=0;s<i.length;s++){const t=i[s],n=e[s];if(t.startsWith(":"))r[t.substring(1)]=n;else if(t!==n.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}class pe{constructor(e,t){this.routes=e,this.module=t}}function fe(e,t=""){for(let n=0;n<e.length;n++){const i=e[n];ge(i,me(t,i))}}function ge(e,t){if(!e)throw new Error(`\n      Invalid configuration of route '${t}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(e))throw new Error(`Invalid configuration of route '${t}': Array cannot be specified`);if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&e.outlet!==ae)throw new Error(`Invalid configuration of route '${t}': a componentless route without children or loadChildren cannot have a named outlet set`);if(e.redirectTo&&e.children)throw new Error(`Invalid configuration of route '${t}': redirectTo and children cannot be used together`);if(e.redirectTo&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': redirectTo and loadChildren cannot be used together`);if(e.children&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': children and loadChildren cannot be used together`);if(e.redirectTo&&e.component)throw new Error(`Invalid configuration of route '${t}': redirectTo and component cannot be used together`);if(e.path&&e.matcher)throw new Error(`Invalid configuration of route '${t}': path and matcher cannot be used together`);if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error(`Invalid configuration of route '${t}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===e.path&&void 0===e.matcher)throw new Error(`Invalid configuration of route '${t}': routes must have either a path or a matcher specified`);if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error(`Invalid configuration of route '${t}': path cannot start with a slash`);if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error(`Invalid configuration of route '{path: "${t}", redirectTo: "${e.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error(`Invalid configuration of route '${t}': pathMatch can only be set to 'prefix' or 'full'`);e.children&&fe(e.children,t)}function me(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function ve(e){const t=e.children&&e.children.map(ve),n=t?Object.assign({},e,{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==ae&&(n.component=oe),n}function ye(e,t){const n=Object.keys(e),i=Object.keys(t);if(n.length!=i.length)return!1;let r;for(let s=0;s<n.length;s++)if(e[r=n[s]]!==t[r])return!1;return!0}function _e(e){return Array.prototype.concat.apply([],e)}function be(e){return e.length>0?e[e.length-1]:null}function we(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function xe(e){return Object(i["\u0275isObservable"])(e)?e:Object(i["\u0275isPromise"])(e)?Object(s.a)(Promise.resolve(e)):Object(r.a)(e)}function Ce(e,t,n){return n?function(e,t){return ye(e,t)}(e.queryParams,t.queryParams)&&function e(t,n){if(!Me(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!t.children[i])return!1;if(!e(t.children[i],n.children[i]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>t[n]===e[n])}(e.queryParams,t.queryParams)&&function e(t,n){return function t(n,i,r){if(n.segments.length>r.length){return!!Me(n.segments.slice(0,r.length),r)&&!i.hasChildren()}if(n.segments.length===r.length){if(!Me(n.segments,r))return!1;for(const t in i.children){if(!n.children[t])return!1;if(!e(n.children[t],i.children[t]))return!1}return!0}{const e=r.slice(0,n.segments.length),s=r.slice(n.segments.length);return!!Me(n.segments,e)&&!!n.children[ae]&&t(n.children[ae],i,s)}}(t,n,n.segments)}(e.root,t.root)}class Se{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ue(this.queryParams)),this._queryParamMap}toString(){return De.serialize(this)}}class Ee{constructor(e,t){this.segments=e,this.children=t,this.parent=null,we(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ke(this)}}class Te{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ue(this.parameters)),this._parameterMap}toString(){return Ve(this)}}function Me(e,t){return e.length===t.length&&e.every((e,n)=>e.path===t[n].path)}function Ie(e,t){let n=[];return we(e.children,(e,i)=>{i===ae&&(n=n.concat(t(e,i)))}),we(e.children,(e,i)=>{i!==ae&&(n=n.concat(t(e,i)))}),n}class Oe{}class Ae{parse(e){const t=new Ue(e);return new Se(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var t;return`${`/${function e(t,n){if(!t.hasChildren())return ke(t);if(n){const n=t.children[ae]?e(t.children[ae],!1):"",i=[];return we(t.children,(t,n)=>{n!==ae&&i.push(`${n}:${e(t,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}{const n=Ie(t,(n,i)=>i===ae?[e(t.children[ae],!1)]:[`${i}:${e(n,!1)}`]);return`${ke(t)}/(${n.join("//")})`}}(e.root,!0)}`}${function(e){const t=Object.keys(e).map(t=>{const n=e[t];return Array.isArray(n)?n.map(e=>`${Re(t)}=${Re(e)}`).join("&"):`${Re(t)}=${Re(n)}`});return t.length?`?${t.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${t=e.fragment,encodeURI(t)}`:""}`}}const De=new Ae;function ke(e){return e.segments.map(e=>Ve(e)).join("/")}function Pe(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Re(e){return Pe(e).replace(/%3B/gi,";")}function Le(e){return Pe(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ne(e){return decodeURIComponent(e)}function Fe(e){return Ne(e.replace(/\+/g,"%20"))}function Ve(e){return`${Le(e.path)}${t=e.parameters,Object.keys(t).map(e=>`;${Le(e)}=${Le(t[e])}`).join("")}`;var t}const je=/^[^\/()?;=#]+/;function Be(e){const t=e.match(je);return t?t[0]:""}const ze=/^[^=?&#]+/,He=/^[^?&#]+/;class Ue{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ee([],{}):new Ee([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n[ae]=new Ee(e,t)),n}parseSegment(){const e=Be(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Te(Ne(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Be(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=Be(this.remaining);e&&this.capture(n=e)}e[Ne(t)]=Ne(n)}parseQueryParam(e){const t=function(e){const t=e.match(ze);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(He);return t?t[0]:""}(this.remaining);e&&this.capture(n=e)}const i=Fe(t),r=Fe(n);if(e.hasOwnProperty(i)){let t=e[i];Array.isArray(t)||(e[i]=t=[t]),t.push(r)}else e[i]=r}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Be(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let r=void 0;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):e&&(r=ae);const s=this.parseChildren();t[r]=1===Object.keys(s).length?s[ae]:new Ee([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Ge{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=We(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=We(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=$e(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return $e(e,this._root).map(e=>e.value)}}function We(e,t){if(e===t.value)return t;for(const n of t.children){const t=We(e,n);if(t)return t}return null}function $e(e,t){if(e===t.value)return[t];for(const n of t.children){const i=$e(e,n);if(i.length)return i.unshift(t),i}return[]}class qe{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ye(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class Ze extends Ge{constructor(e,t){super(e),this.snapshot=t,tt(this,e)}toString(){return this.snapshot.toString()}}function Ke(e,t){const n=function(e,t){const n=new Je([],{},{},"",{},ae,t,null,e.root,-1,{});return new et("",new qe(n,[]))}(e,t),i=new o.a([new Te("",{})]),r=new o.a({}),s=new o.a({}),a=new o.a({}),l=new o.a(""),u=new Xe(i,r,a,l,s,ae,t,n.root);return u.snapshot=n.root,new Ze(new qe(u,[]),n)}class Xe{constructor(e,t,n,i,r,s,o,a){this.url=e,this.params=t,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(p.a)(e=>ue(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(p.a)(e=>ue(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Qe(e,t="emptyOnly"){const n=e.pathFromRoot;let i=0;if("always"!==t)for(i=n.length-1;i>=1;){const e=n[i],t=n[i-1];if(e.routeConfig&&""===e.routeConfig.path)i--;else{if(t.component)break;i--}}return function(e){return e.reduce((e,t)=>({params:Object.assign({},e.params,t.params),data:Object.assign({},e.data,t.data),resolve:Object.assign({},e.resolve,t._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(i))}class Je{constructor(e,t,n,i,r,s,o,a,l,u,c){this.url=e,this.params=t,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ue(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ue(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class et extends Ge{constructor(e,t){super(t),this.url=e,tt(this,t)}toString(){return nt(this._root)}}function tt(e,t){t.value._routerState=e,t.children.forEach(t=>tt(e,t))}function nt(e){const t=e.children.length>0?` { ${e.children.map(nt).join(", ")} } `:"";return`${e.value}${t}`}function it(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,ye(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),ye(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!ye(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),ye(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function rt(e,t){var n,i;return ye(e.params,t.params)&&Me(n=e.url,i=t.url)&&n.every((e,t)=>ye(e.parameters,i[t].parameters))&&!(!e.parent!=!t.parent)&&(!e.parent||rt(e.parent,t.parent))}function st(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function ot(e,t,n,i,r){let s={};return i&&we(i,(e,t)=>{s[t]=Array.isArray(e)?e.map(e=>`${e}`):`${e}`}),new Se(n.root===e?t:function e(t,n,i){const r={};return we(t.children,(t,s)=>{r[s]=t===n?i:e(t,n,i)}),new Ee(t.segments,r)}(n.root,e,t),s,r)}class at{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&st(n[0]))throw new Error("Root segment cannot have matrix parameters");const i=n.find(e=>"object"==typeof e&&null!=e&&e.outlets);if(i&&i!==be(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class lt{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function ut(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets[ae]:`${e}`}function ct(e,t,n){if(e||(e=new Ee([],{})),0===e.segments.length&&e.hasChildren())return ht(e,t,n);const i=function(e,t,n){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(i>=n.length)return s;const t=e.segments[r],o=ut(n[i]),a=i<n.length-1?n[i+1]:null;if(r>0&&void 0===o)break;if(o&&a&&"object"==typeof a&&void 0===a.outlets){if(!gt(o,a,t))return s;i+=2}else{if(!gt(o,{},t))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(e,t,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){const t=new Ee(e.segments.slice(0,i.pathIndex),{});return t.children[ae]=new Ee(e.segments.slice(i.pathIndex),e.children),ht(t,0,r)}return i.match&&0===r.length?new Ee(e.segments,{}):i.match&&!e.hasChildren()?dt(e,t,n):i.match?ht(e,0,r):dt(e,t,n)}function ht(e,t,n){if(0===n.length)return new Ee(e.segments,{});{const i=function(e){return"object"!=typeof e[0]?{[ae]:e}:void 0===e[0].outlets?{[ae]:e}:e[0].outlets}(n),r={};return we(i,(n,i)=>{null!==n&&(r[i]=ct(e.children[i],t,n))}),we(e.children,(e,t)=>{void 0===i[t]&&(r[t]=e)}),new Ee(e.segments,r)}}function dt(e,t,n){const i=e.segments.slice(0,t);let r=0;for(;r<n.length;){if("object"==typeof n[r]&&void 0!==n[r].outlets){const e=pt(n[r].outlets);return new Ee(i,e)}if(0===r&&st(n[0])){i.push(new Te(e.segments[t].path,n[0])),r++;continue}const s=ut(n[r]),o=r<n.length-1?n[r+1]:null;s&&o&&st(o)?(i.push(new Te(s,ft(o))),r+=2):(i.push(new Te(s,{})),r++)}return new Ee(i,{})}function pt(e){const t={};return we(e,(e,n)=>{null!==e&&(t[n]=dt(new Ee([],{}),0,e))}),t}function ft(e){const t={};return we(e,(e,n)=>t[n]=`${e}`),t}function gt(e,t,n){return e==n.path&&ye(t,n.parameters)}const mt=(e,t,n)=>Object(p.a)(i=>(new vt(t,i.targetRouterState,i.currentRouterState,n).activate(e),i));class vt{constructor(e,t,n,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=i}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),it(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const i=Ye(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,i[t],n),delete i[t]}),we(i,(e,t)=>{this.deactivateRouteAndItsChildren(e,n)})}deactivateRoutes(e,t,n){const i=e.value,r=t?t.value:null;if(i===r)if(i.component){const r=n.getContext(i.outlet);r&&this.deactivateChildRoutes(e,t,r.children)}else this.deactivateChildRoutes(e,t,n);else r&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet);if(n&&n.outlet){const t=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:i})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet);if(n){const i=Ye(e),r=e.value.component?n.children:t;we(i,(e,t)=>this.deactivateRouteAndItsChildren(e,r)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(e,t,n){const i=Ye(t);e.children.forEach(e=>{this.activateRoutes(e,i[e.value.outlet],n),this.forwardEvent(new re(e.value.snapshot))}),e.children.length&&this.forwardEvent(new ne(e.value.snapshot))}activateRoutes(e,t,n){const i=e.value,r=t?t.value:null;if(it(i),i===r)if(i.component){const r=n.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,r.children)}else this.activateChildRoutes(e,t,n);else if(i.component){const t=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const e=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),yt(e.route)}else{const n=function(e){for(let t=i.snapshot.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(),r=n?n.module.componentFactoryResolver:null;t.attachRef=null,t.route=i,t.resolver=r,t.outlet&&t.outlet.activateWith(i,r),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,n)}}function yt(e){it(e.value),e.children.forEach(yt)}function _t(e){return"function"==typeof e}function bt(e){return e instanceof Se}class wt{constructor(e){this.segmentGroup=e||null}}class xt{constructor(e){this.urlTree=e}}function Ct(e){return new a.a(t=>t.error(new wt(e)))}function St(e){return new a.a(t=>t.error(new xt(e)))}function Et(e){return new a.a(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class Tt{constructor(e,t,n,r,s){this.configLoader=t,this.urlSerializer=n,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(i.NgModuleRef)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,ae).pipe(Object(p.a)(e=>this.createUrlTree(e,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Object(I.a)(e=>{if(e instanceof xt)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof wt)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,ae).pipe(Object(p.a)(t=>this.createUrlTree(t,e.queryParams,e.fragment))).pipe(Object(I.a)(e=>{if(e instanceof wt)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const i=e.segments.length>0?new Ee([],{[ae]:e}):e;return new Se(i,t,n)}expandSegmentGroup(e,t,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(Object(p.a)(e=>new Ee([],e))):this.expandSegment(e,n,t,n.segments,i,!0)}expandChildren(e,t,n){return function(e,t){if(0===Object.keys(e).length)return Object(r.a)({});const n=[],i=[],s={};return we(e,(e,r)=>{const o=t(r,e).pipe(Object(p.a)(e=>s[r]=e));r===ae?n.push(o):i.push(o)}),r.a.apply(null,n.concat(i)).pipe(Object(f.a)(),M(),Object(p.a)(()=>s))}(n.children,(n,i)=>this.expandSegmentGroup(e,t,i,n))}expandSegment(e,t,n,i,s,o){return Object(r.a)(...n).pipe(Object(p.a)(a=>this.expandSegmentAgainstRoute(e,t,n,a,i,s,o).pipe(Object(I.a)(e=>{if(e instanceof wt)return Object(r.a)(null);throw e}))),Object(f.a)(),A(e=>!!e),Object(I.a)((e,n)=>{if(e instanceof l.a||"EmptyError"===e.name){if(this.noLeftoversInUrl(t,i,s))return Object(r.a)(new Ee([],{}));throw new wt(t)}throw e}))}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}expandSegmentAgainstRoute(e,t,n,i,r,s,o){return At(i)!==s?Ct(t):void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,r):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,i,r,s):Ct(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,i,r,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,i,r,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,i){const r=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?St(r):this.lineralizeSegments(n,r).pipe(Object(D.a)(n=>{const r=new Ee(n,{});return this.expandSegment(e,r,t,n,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,i,r,s){const{matched:o,consumedSegments:a,lastChild:l,positionalParamSegments:u}=Mt(t,i,r);if(!o)return Ct(t);const c=this.applyRedirectCommands(a,i.redirectTo,u);return i.redirectTo.startsWith("/")?St(c):this.lineralizeSegments(i,c).pipe(Object(D.a)(i=>this.expandSegment(e,t,n,i.concat(r.slice(l)),s,!1)))}matchSegmentAgainstRoute(e,t,n,i){if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(Object(p.a)(e=>(n._loadedConfig=e,new Ee(i,{})))):Object(r.a)(new Ee(i,{}));const{matched:s,consumedSegments:o,lastChild:a}=Mt(t,n,i);if(!s)return Ct(t);const l=i.slice(a);return this.getChildConfig(e,n,i).pipe(Object(D.a)(e=>{const n=e.module,i=e.routes,{segmentGroup:s,slicedSegments:a}=function(e,t,n,i){return n.length>0&&function(e,t,n){return i.some(n=>Ot(e,t,n)&&At(n)!==ae)}(e,n)?{segmentGroup:It(new Ee(t,function(e,t){const n={};n[ae]=t;for(const i of e)""===i.path&&At(i)!==ae&&(n[At(i)]=new Ee([],{}));return n}(i,new Ee(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return i.some(n=>Ot(e,t,n))}(e,n)?{segmentGroup:It(new Ee(e.segments,function(e,t,n,i){const r={};for(const s of n)Ot(e,t,s)&&!i[At(s)]&&(r[At(s)]=new Ee([],{}));return Object.assign({},i,r)}(e,n,i,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,o,l,i);return 0===a.length&&s.hasChildren()?this.expandChildren(n,i,s).pipe(Object(p.a)(e=>new Ee(o,e))):0===i.length&&0===a.length?Object(r.a)(new Ee(o,{})):this.expandSegment(n,s,i,a,ae,!0).pipe(Object(p.a)(e=>new Ee(o.concat(e.segments),e.children)))}))}getChildConfig(e,t,n){return t.children?Object(r.a)(new pe(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Object(r.a)(t._loadedConfig):function(e,t,n){const i=t.canLoad;return i&&0!==i.length?Object(s.a)(i).pipe(Object(p.a)(i=>{const r=e.get(i);let s;if(function(e){return e&&_t(e.canLoad)}(r))s=r.canLoad(t,n);else{if(!_t(r))throw new Error("Invalid CanLoad guard");s=r(t,n)}return xe(s)})).pipe(Object(f.a)(),(o=(e=>!0===e),e=>e.lift(new k(o,void 0,e)))):Object(r.a)(!0);var o}(e.injector,t,n).pipe(Object(D.a)(n=>n?this.configLoader.load(e.injector,t).pipe(Object(p.a)(e=>(t._loadedConfig=e,e))):function(e){return new a.a(t=>t.error(he(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):Object(r.a)(new pe([],e))}lineralizeSegments(e,t){let n=[],i=t.root;for(;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return Object(r.a)(n);if(i.numberOfChildren>1||!i.children[ae])return Et(e.redirectTo);i=i.children[ae]}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,i){const r=this.createSegmentGroup(e,t.root,n,i);return new Se(r,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return we(e,(e,i)=>{if("string"==typeof e&&e.startsWith(":")){const r=e.substring(1);n[i]=t[r]}else n[i]=e}),n}createSegmentGroup(e,t,n,i){const r=this.createSegments(e,t.segments,n,i);let s={};return we(t.children,(t,r)=>{s[r]=this.createSegmentGroup(e,t,n,i)}),new Ee(r,s)}createSegments(e,t,n,i){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,i):this.findOrReturn(t,n))}findPosParam(e,t,n){const i=n[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let n=0;for(const i of t){if(i.path===e.path)return t.splice(n),i;n++}return e}}function Mt(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const i=(t.matcher||de)(n,e,t);return i?{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,positionalParamSegments:i.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function It(e){if(1===e.numberOfChildren&&e.children[ae]){const t=e.children[ae];return new Ee(e.segments.concat(t.segments),t.children)}return e}function Ot(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function At(e){return e.outlet||ae}class Dt{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class kt{constructor(e,t){this.component=e,this.route=t}}function Pt(e,t,n){const i=e._root;return function e(t,n,i,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=Ye(n);return t.children.forEach(t=>{!function(t,n,i,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,a=n?n.value:null,l=i?i.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const u=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Me(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Me(e.url,t.url)||!ye(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!rt(e,t)||!ye(e.queryParams,t.queryParams);case"paramsChange":default:return!rt(e,t)}}(a,o,o.routeConfig.runGuardsAndResolvers);if(u?s.canActivateChecks.push(new Dt(r)):(o.data=a.data,o._resolvedData=a._resolvedData),e(t,n,o.component?l?l.children:null:i,r,s),u){s.canDeactivateChecks.push(new kt(l&&l.outlet&&l.outlet.component||null,a))}}else a&&Lt(n,l,s),s.canActivateChecks.push(new Dt(r)),e(t,null,o.component?l?l.children:null:i,r,s)}(t,o[t.value.outlet],i,r.concat([t.value]),s),delete o[t.value.outlet]}),we(o,(e,t)=>Lt(e,i.getContext(t),s)),s}(i,t?t._root:null,n,[i.value])}function Rt(e,t,n){const i=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:n).get(e)}function Lt(e,t,n){const i=Ye(e),r=e.value;we(i,(e,i)=>{Lt(e,r.component?t?t.children.getContext(i):null:t,n)}),n.canDeactivateChecks.push(new kt(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}const Nt=Symbol("INITIAL_VALUE");function Ft(){return Object(R.a)(e=>Object(u.a)(...e.map(e=>e.pipe(Object(O.a)(1),Object(L.a)(Nt)))).pipe(Object(N.a)((e,t)=>{let n=!1;return t.reduce((e,i,r)=>{if(e!==Nt)return e;if(i===Nt&&(n=!0),!n){if(!1===i)return i;if(r===t.length-1||bt(i))return i}return e},e)},Nt),Object(g.a)(e=>e!==Nt),Object(p.a)(e=>bt(e)?e:!0===e),Object(O.a)(1)))}function Vt(e,t){return null!==e&&t&&t(new ie(e)),Object(r.a)(!0)}function jt(e,t){return null!==e&&t&&t(new te(e)),Object(r.a)(!0)}function Bt(e,t,n){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Object(r.a)(!0);const s=i.map(i=>Object(c.a)(()=>{const r=Rt(i,t,n);let s;if(function(e){return e&&_t(e.canActivate)}(r))s=xe(r.canActivate(t,e));else{if(!_t(r))throw new Error("Invalid CanActivate guard");s=xe(r(t,e))}return s.pipe(A())}));return Object(r.a)(s).pipe(Ft())}function zt(e,t,n){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(e=>(function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null})(e)).filter(e=>null!==e).map(t=>Object(c.a)(()=>{const s=t.guards.map(r=>{const s=Rt(r,t.node,n);let o;if(function(e){return e&&_t(e.canActivateChild)}(s))o=xe(s.canActivateChild(i,e));else{if(!_t(s))throw new Error("Invalid CanActivateChild guard");o=xe(s(i,e))}return o.pipe(A())});return Object(r.a)(s).pipe(Ft())}));return Object(r.a)(s).pipe(Ft())}class Ht{}class Ut{constructor(e,t,n,i,r,s){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=i,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=s}recognize(){try{const t=$t(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,t,ae),i=new Je([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ae,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new qe(i,n),o=new et(this.url,s);return this.inheritParamsAndData(o._root),Object(r.a)(o)}catch(e){return new a.a(t=>t.error(e))}}inheritParamsAndData(e){const t=e.value,n=Qe(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=Ie(t,(t,n)=>this.processSegmentGroup(e,t,n));return function(e){const t={};n.forEach(e=>{const n=t[e.value.outlet];if(n){const t=n.url.map(e=>e.toString()).join("/"),i=e.value.url.map(e=>e.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${t}' and '${i}'.`)}t[e.value.outlet]=e.value})}(),n.sort((e,t)=>e.value.outlet===ae?-1:t.value.outlet===ae?1:e.value.outlet.localeCompare(t.value.outlet)),n}processSegment(e,t,n,i){for(const s of e)try{return this.processSegmentAgainstRoute(s,t,n,i)}catch(r){if(!(r instanceof Ht))throw r}if(this.noLeftoversInUrl(t,n,i))return[];throw new Ht}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}processSegmentAgainstRoute(e,t,n,i){if(e.redirectTo)throw new Ht;if((e.outlet||ae)!==i)throw new Ht;let r,s=[],o=[];if("**"===e.path){const s=n.length>0?be(n).parameters:{};r=new Je(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Zt(e),i,e.component,e,Gt(t),Wt(t)+n.length,Kt(e))}else{const a=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new Ht;return{consumedSegments:[],lastChild:0,parameters:{}}}const i=(t.matcher||de)(n,e,t);if(!i)throw new Ht;const r={};we(i.posParams,(e,t)=>{r[t]=e.path});const s=i.consumed.length>0?Object.assign({},r,i.consumed[i.consumed.length-1].parameters):r;return{consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s}}(t,e,n);s=a.consumedSegments,o=n.slice(a.lastChild),r=new Je(s,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Zt(e),i,e.component,e,Gt(t),Wt(t)+s.length,Kt(e))}const a=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),{segmentGroup:l,slicedSegments:u}=$t(t,s,o,a,this.relativeLinkResolution);if(0===u.length&&l.hasChildren()){const e=this.processChildren(a,l);return[new qe(r,e)]}if(0===a.length&&0===u.length)return[new qe(r,[])];const c=this.processSegment(a,l,u,ae);return[new qe(r,c)]}}function Gt(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Wt(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function $t(e,t,n,i,r){if(n.length>0&&function(e,t,n){return i.some(n=>qt(e,t,n)&&Yt(n)!==ae)}(e,n)){const r=new Ee(t,function(e,t,n,i){const r={};r[ae]=i,i._sourceSegment=e,i._segmentIndexShift=t.length;for(const s of n)if(""===s.path&&Yt(s)!==ae){const n=new Ee([],{});n._sourceSegment=e,n._segmentIndexShift=t.length,r[Yt(s)]=n}return r}(e,t,i,new Ee(n,e.children)));return r._sourceSegment=e,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return i.some(n=>qt(e,t,n))}(e,n)){const s=new Ee(e.segments,function(e,t,n,i,r,s){const o={};for(const a of i)if(qt(e,n,a)&&!r[Yt(a)]){const n=new Ee([],{});n._sourceSegment=e,n._segmentIndexShift="legacy"===s?e.segments.length:t.length,o[Yt(a)]=n}return Object.assign({},r,o)}(e,t,n,i,e.children,r));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}const s=new Ee(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function qt(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Yt(e){return e.outlet||ae}function Zt(e){return e.data||{}}function Kt(e){return e.resolve||{}}function Xt(e,t,n,i){const r=Rt(e,t,i);return xe(r.resolve?r.resolve(t,n):r(t,n))}function Qt(e){return function(t){return t.pipe(Object(R.a)(t=>{const n=e(t);return n?Object(s.a)(n).pipe(Object(p.a)(()=>t)):Object(s.a)([t])}))}}class Jt{}class en{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}const tn=new i.InjectionToken("ROUTES");class nn{constructor(e,t,n,i){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=i}load(e,t){return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(Object(p.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(t);const i=n.create(e);return new pe(_e(i.injector.get(tn)).map(ve),i)}))}loadModuleFactory(e){return"string"==typeof e?Object(s.a)(this.loader.load(e)):xe(e()).pipe(Object(D.a)(e=>e instanceof i.NgModuleFactory?Object(r.a)(e):Object(s.a)(this.compiler.compileModuleAsync(e))))}}class rn{}class sn{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function on(e){throw e}function an(e,t,n){return t.parse("/")}function ln(e,t){return Object(r.a)(null)}class un{constructor(e,t,n,r,s,a,l,u){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=r,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new h.a,this.errorHandler=on,this.malformedUriErrorHandler=an,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ln,afterPreactivation:ln},this.urlHandlingStrategy=new sn,this.routeReuseStrategy=new en,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=s.get(i.NgModuleRef),this.console=s.get(i["\u0275Console"]);const c=s.get(i.NgZone);this.isNgZoneEnabled=c instanceof i.NgZone,this.resetConfig(u),this.currentUrlTree=new Se(new Ee([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.configLoader=new nn(a,l,e=>this.triggerEvent(new J(e)),e=>this.triggerEvent(new ee(e))),this.routerState=Ke(this.currentUrlTree,this.rootComponentType),this.transitions=new o.a({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(e){const t=this.events;return e.pipe(Object(g.a)(e=>0!==e.id),Object(p.a)(e=>Object.assign({},e,{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),Object(w.a)(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign({},this.lastSuccessfulNavigation,{previousNavigation:null}):null}}),Object(R.a)(e=>{let n=!1,i=!1;return Object(r.a)(e).pipe(Object(R.a)(e=>{const n=!this.navigated||e.extractedUrl.toString()!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return Object(r.a)(e).pipe(Object(R.a)(e=>{const n=this.transitions.getValue();return t.next(new G(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),n!==this.transitions.getValue()?d.a:[e]}),Object(R.a)(e=>Promise.resolve(e)),function(e,t,n,i){return function(r){return r.pipe(Object(R.a)(r=>(function(e,t,n,i,s){return new Tt(e,t,n,r.extractedUrl,s).apply()})(e,t,n,0,i).pipe(Object(p.a)(e=>Object.assign({},r,{urlAfterRedirects:e})))))}}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Object(w.a)(e=>{this.currentNavigation=Object.assign({},this.currentNavigation,{finalUrl:e.urlAfterRedirects})}),function(e,t,n,i,r){return function(s){return s.pipe(Object(D.a)(s=>(function(e,t,n,i,r="emptyOnly",s="legacy"){return new Ut(e,t,n,i,r,s).recognize()})(e,t,s.urlAfterRedirects,n(s.urlAfterRedirects),i,r).pipe(Object(p.a)(e=>Object.assign({},s,{targetSnapshot:e})))))}}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(w.a)(e=>"eager"===this.urlUpdateStrategy&&!e.extras.skipLocationChange&&this.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id)),Object(w.a)(e=>{const n=new Y(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(n)}));if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:i,source:s,restoredState:o,extras:a}=e,l=new G(n,this.serializeUrl(i),s,o);t.next(l);const u=Ke(i,this.rootComponentType).snapshot;return Object(r.a)(Object.assign({},e,{targetSnapshot:u,urlAfterRedirects:i,extras:Object.assign({},a,{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,e.resolve(null),d.a}),Qt(e=>{const{targetSnapshot:t,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:s,replaceUrl:o}}=e;return this.hooks.beforePreactivation(t,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!s,replaceUrl:!!o})}),Object(w.a)(e=>{const t=new Z(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),Object(p.a)(e=>Object.assign({},e,{guards:Pt(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return function(n){return n.pipe(Object(D.a)(n=>{const{targetSnapshot:i,currentSnapshot:o,guards:{canActivateChecks:a,canDeactivateChecks:l}}=n;return 0===l.length&&0===a.length?Object(r.a)(Object.assign({},n,{guardsResult:!0})):function(e,t,n,i){return Object(s.a)(e).pipe(Object(D.a)(e=>(function(e,t,n,i,s){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(r.a)(!0);const a=o.map(r=>{const o=Rt(r,t,s);let a;if(function(e){return e&&_t(e.canDeactivate)}(o))a=xe(o.canDeactivate(e,t,n,i));else{if(!_t(o))throw new Error("Invalid CanDeactivate guard");a=xe(o(e,t,n,i))}return a.pipe(A())});return Object(r.a)(a).pipe(Ft())})(e.component,e.route,n,t,i)),A(e=>!0!==e,!0))}(l,i,o,e).pipe(Object(D.a)(n=>n&&function(e){return"boolean"==typeof n}()?function(e,t,n,i){return Object(s.a)(t).pipe(Object(F.a)(t=>Object(s.a)([jt(t.route.parent,i),Vt(t.route,i),zt(e,t.path,n),Bt(e,t.route,n)]).pipe(Object(f.a)(),A(e=>!0!==e,!0))),A(e=>!0!==e,!0))}(i,a,e,t):Object(r.a)(n)),Object(p.a)(e=>Object.assign({},n,{guardsResult:e})))}))}}(this.ngModule.injector,e=>this.triggerEvent(e)),Object(w.a)(e=>{if(bt(e.guardsResult)){const t=he(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}}),Object(w.a)(e=>{const t=new K(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),Object(g.a)(e=>{if(!e.guardsResult){this.resetUrlToCurrentUrlTree();const n=new $(e.id,this.serializeUrl(e.extractedUrl),"");return t.next(n),e.resolve(!1),!1}return!0}),Qt(e=>{if(e.guards.canActivateChecks.length)return Object(r.a)(e).pipe(Object(w.a)(e=>{const t=new X(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),function(e,t){return function(n){return n.pipe(Object(D.a)(n=>{const{targetSnapshot:i,guards:{canActivateChecks:o}}=n;return o.length?Object(s.a)(o).pipe(Object(F.a)(n=>(function(e,t,n,o){return function(e,t,n,i){const o=Object.keys(e);if(0===o.length)return Object(r.a)({});if(1===o.length){const r=o[0];return Xt(e[r],t,n,i).pipe(Object(p.a)(e=>({[r]:e})))}const a={};return Object(s.a)(o).pipe(Object(D.a)(r=>Xt(e[r],t,n,i).pipe(Object(p.a)(e=>(a[r]=e,e))))).pipe(M(),Object(p.a)(()=>a))}(e._resolve,e,i,o).pipe(Object(p.a)(t=>(e._resolvedData=t,e.data=Object.assign({},e.data,Qe(e,n).resolve),null)))})(n.route,0,e,t)),function(e,t){return arguments.length>=2?function(t){return Object(V.a)(Object(N.a)(e,void 0),y(1),C(void 0))(t)}:function(t){return Object(V.a)(Object(N.a)((t,n,i)=>e(t)),y(1))(t)}}((e,t)=>e),Object(p.a)(e=>n)):Object(r.a)(n)}))}}(this.paramsInheritanceStrategy,this.ngModule.injector),Object(w.a)(e=>{const t=new Q(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}))}),Qt(e=>{const{targetSnapshot:t,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:s,replaceUrl:o}}=e;return this.hooks.afterPreactivation(t,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!s,replaceUrl:!!o})}),Object(p.a)(e=>{const t=function(e,t,n){const i=function e(t,n,i){if(i&&t.shouldReuseRoute(n.value,i.value.snapshot)){const r=i.value;r._futureSnapshot=n.value;const s=function(t,n,i){return n.children.map(n=>{for(const r of i.children)if(t.shouldReuseRoute(r.value.snapshot,n.value))return e(t,n,r);return e(t,n)})}(t,n,i);return new qe(r,s)}{const i=t.retrieve(n.value);if(i){const e=i.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(let i=0;i<t.children.length;++i)e(t.children[i],n.children[i])}(n,e),e}{const i=new Xe(new o.a((r=n.value).url),new o.a(r.params),new o.a(r.queryParams),new o.a(r.fragment),new o.a(r.data),r.outlet,r.component,r),s=n.children.map(n=>e(t,n));return new qe(i,s)}}var r}(e,t._root,n?n._root:void 0);return new Ze(i,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign({},e,{targetRouterState:t})}),Object(w.a)(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"!==this.urlUpdateStrategy||e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state)}),mt(this.rootContexts,this.routeReuseStrategy,e=>this.triggerEvent(e)),Object(w.a)({next(){n=!0},complete(){n=!0}}),Object(j.a)(()=>{if(!n&&!i){this.resetUrlToCurrentUrlTree();const n=new $(e.id,this.serializeUrl(e.extractedUrl),`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`);t.next(n),e.resolve(!1)}this.currentNavigation=null}),Object(I.a)(n=>{if(i=!0,function(e){return n&&n[ce]}()){this.navigated=!0;const i=bt(n.url);i||this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);const r=new $(e.id,this.serializeUrl(e.extractedUrl),n.message);t.next(r),e.resolve(!1),i&&this.navigateByUrl(n.url)}else{this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);const i=new q(e.id,this.serializeUrl(e.extractedUrl),n);t.next(i);try{e.resolve(this.errorHandler(n))}catch(r){e.reject(r)}}return d.a}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){return this.transitions.value}setTransition(e){this.transitions.next(Object.assign({},this.getTransition(),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{let t=this.parseUrl(e.url);const n="popstate"===e.type?"popstate":"hashchange",i=e.state&&e.state.navigationId?e.state:null;setTimeout(()=>{this.scheduleNavigation(t,n,i,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){fe(e),this.config=e.map(ve),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(e,t={}){const{relativeTo:n,queryParams:r,fragment:s,preserveQueryParams:o,queryParamsHandling:a,preserveFragment:l}=t;Object(i.isDevMode)()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const u=n||this.routerState.root,c=l?this.currentUrlTree.fragment:s;let h=null;if(a)switch(a){case"merge":h=Object.assign({},this.currentUrlTree.queryParams,r);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=r||null}else h=o?this.currentUrlTree.queryParams:r||null;return null!==h&&(h=this.removeEmptyProps(h)),function(e,t,n,i,r){if(0===n.length)return ot(t.root,t.root,t,i,r);const s=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new at(!0,0,e);let t=0,n=!1;const i=e.reduce((e,i,r)=>{if("object"==typeof i&&null!=i){if(i.outlets){const t={};return we(i.outlets,(e,n)=>{t[n]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(i.segmentPath)return[...e,i.segmentPath]}return"string"!=typeof i?[...e,i]:0===r?(i.split("/").forEach((i,r)=>{0==r&&"."===i||(0==r&&""===i?n=!0:".."===i?t++:""!=i&&e.push(i))}),e):[...e,i]},[]);return new at(n,t,i)}(n);if(s.toRoot())return ot(t.root,new Ee([],{}),t,i,r);const o=function(e,n,i){if(e.isAbsolute)return new lt(t.root,!0,0);if(-1===i.snapshot._lastPathIndex)return new lt(i.snapshot._urlSegment,!0,0);const r=st(e.commands[0])?0:1;return function(t,n,s){let o=i.snapshot._urlSegment,a=i.snapshot._lastPathIndex+r,l=e.numberOfDoubleDots;for(;l>a;){if(l-=a,!(o=o.parent))throw new Error("Invalid number of '../'");a=o.segments.length}return new lt(o,!1,a-l)}()}(s,0,e),a=o.processChildren?ht(o.segmentGroup,o.index,s.commands):ct(o.segmentGroup,o.index,s.commands);return ot(o.segmentGroup,a,t,i,r)}(u,this.currentUrlTree,e,h,c)}navigateByUrl(e,t={skipLocationChange:!1}){Object(i.isDevMode)()&&this.isNgZoneEnabled&&!i.NgZone.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=bt(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}isActive(e,t){if(bt(e))return Ce(this.currentUrlTree,e,t);const n=this.parseUrl(e);return Ce(this.currentUrlTree,n,t)}removeEmptyProps(e){return Object.keys(e).reduce((t,n)=>{const i=e[n];return null!=i&&(t[n]=i),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.events.next(new W(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,t,n,i){const r=this.getTransition();if(r&&"imperative"!==t&&"imperative"===r.source&&r.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(r&&"hashchange"==t&&"popstate"===r.source&&r.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(r&&"popstate"==t&&"hashchange"===r.source&&r.rawUrl.toString()===e.toString())return Promise.resolve(!0);let s=null,o=null;const a=new Promise((e,t)=>{s=e,o=t}),l=++this.navigationId;return this.setTransition({id:l,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:i,resolve:s,reject:o,promise:a,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),a.catch(e=>Promise.reject(e))}setBrowserUrl(e,t,n,i){const r=this.urlSerializer.serialize(e);i=i||{},this.location.isCurrentPathEqualTo(r)||t?this.location.replaceState(r,"",Object.assign({},i,{navigationId:n})):this.location.go(r,"",Object.assign({},i,{navigationId:n}))}resetStateAndUrl(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}class cn{constructor(e,t,n,i,r){this.router=e,this.route=t,this.commands=[],null==n&&i.setAttribute(r.nativeElement,"tabindex","0")}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}set preserveQueryParams(e){Object(i.isDevMode)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=e}onClick(){const e={skipLocationChange:dn(this.skipLocationChange),replaceUrl:dn(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:dn(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:dn(this.preserveFragment)})}}class hn{constructor(e,t,n){this.router=e,this.route=t,this.locationStrategy=n,this.commands=[],this.subscription=e.events.subscribe(e=>{e instanceof W&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}set preserveQueryParams(e){Object(i.isDevMode)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e}ngOnChanges(e){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,t,n,i){if(0!==e||t||n||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const r={skipLocationChange:dn(this.skipLocationChange),replaceUrl:dn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,r),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:dn(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:dn(this.preserveFragment)})}}function dn(e){return""===e||!!e}class pn{constructor(e,t,n,i){this.router=e,this.element=t,this.renderer=n,this.cdr=i,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=e.events.subscribe(e=>{e instanceof W&&this.update()})}ngAfterContentInit(){this.links.changes.subscribe(e=>this.update()),this.linksWithHrefs.changes.subscribe(e=>this.update()),this.update()}set routerLinkActive(e){const t=Array.isArray(e)?e:e.split(" ");this.classes=t.filter(e=>!!e)}ngOnChanges(e){this.update()}ngOnDestroy(){this.subscription.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.classes.forEach(t=>{e?this.renderer.addClass(this.element.nativeElement,t):this.renderer.removeClass(this.element.nativeElement,t)}))})}isLinkActive(e){return t=>e.isActive(t.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){return this.links.some(this.isLinkActive(this.router))||this.linksWithHrefs.some(this.isLinkActive(this.router))}}class fn{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new gn,this.attachRef=null}}class gn{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new fn,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class mn{constructor(e,t,n,r,s){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.EventEmitter,this.deactivateEvents=new i.EventEmitter,this.name=r||ae,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,r=new vn(e,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}class vn{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===Xe?this.route:e===gn?this.childContexts:this.parent.get(e,t)}}class yn{}class _n{preload(e,t){return t().pipe(Object(I.a)(()=>Object(r.a)(null)))}}class bn{preload(e,t){return Object(r.a)(null)}}class wn{constructor(e,t,n,i,r){this.router=e,this.injector=i,this.preloadingStrategy=r,this.loader=new nn(t,n,t=>e.triggerEvent(new J(t)),t=>e.triggerEvent(new ee(t)))}setUpPreloading(){this.subscription=this.router.events.pipe(Object(g.a)(e=>e instanceof W),Object(F.a)(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(i.NgModuleRef);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(e,t){const n=[];for(const i of t)if(i.loadChildren&&!i.canLoad&&i._loadedConfig){const e=i._loadedConfig;n.push(this.processRoutes(e.module,e.routes))}else i.loadChildren&&!i.canLoad?n.push(this.preloadConfig(e,i)):i.children&&n.push(this.processRoutes(e,i.children));return Object(s.a)(n).pipe(Object(B.a)(),Object(p.a)(e=>void 0))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>this.loader.load(e.injector,t).pipe(Object(D.a)(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}class xn{constructor(e,t,n={}){this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof G?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof W&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof se&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new se(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}const Cn=new i.InjectionToken("ROUTER_CONFIGURATION"),Sn=new i.InjectionToken("ROUTER_FORROOT_GUARD"),En=[z.Location,{provide:Oe,useClass:Ae},{provide:un,useFactory:kn,deps:[i.ApplicationRef,Oe,gn,z.Location,i.Injector,i.NgModuleFactoryLoader,i.Compiler,tn,Cn,[rn,new i.Optional],[Jt,new i.Optional]]},gn,{provide:Xe,useFactory:Pn,deps:[un]},{provide:i.NgModuleFactoryLoader,useClass:i.SystemJsNgModuleLoader},wn,bn,_n,{provide:Cn,useValue:{enableTracing:!1}}];function Tn(){return new i.NgProbeToken("Router",un)}class Mn{constructor(e,t){}static forRoot(e,t){return{ngModule:Mn,providers:[En,Dn(e),{provide:Sn,useFactory:An,deps:[[un,new i.Optional,new i.SkipSelf]]},{provide:Cn,useValue:t||{}},{provide:z.LocationStrategy,useFactory:On,deps:[z.PlatformLocation,[new i.Inject(z.APP_BASE_HREF),new i.Optional],Cn]},{provide:xn,useFactory:In,deps:[un,z.ViewportScroller,Cn]},{provide:yn,useExisting:t&&t.preloadingStrategy?t.preloadingStrategy:bn},{provide:i.NgProbeToken,multi:!0,useFactory:Tn},Vn()]}}static forChild(e){return{ngModule:Mn,providers:[Dn(e)]}}}function In(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new xn(e,t,n)}function On(e,t,n={}){return n.useHash?new z.HashLocationStrategy(e,t):new z.PathLocationStrategy(e,t)}function An(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Dn(e){return[{provide:i.ANALYZE_FOR_ENTRY_COMPONENTS,multi:!0,useValue:e},{provide:tn,multi:!0,useValue:e}]}function kn(e,t,n,i,r,s,o,a,l={},u,c){const h=new un(null,t,n,i,r,s,o,_e(a));if(u&&(h.urlHandlingStrategy=u),c&&(h.routeReuseStrategy=c),l.errorHandler&&(h.errorHandler=l.errorHandler),l.malformedUriErrorHandler&&(h.malformedUriErrorHandler=l.malformedUriErrorHandler),l.enableTracing){const e=Object(H.s)();h.events.subscribe(t=>{e.logGroup(`Router Event: ${t.constructor.name}`),e.log(t.toString()),e.log(t),e.logGroupEnd()})}return l.onSameUrlNavigation&&(h.onSameUrlNavigation=l.onSameUrlNavigation),l.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=l.paramsInheritanceStrategy),l.urlUpdateStrategy&&(h.urlUpdateStrategy=l.urlUpdateStrategy),l.relativeLinkResolution&&(h.relativeLinkResolution=l.relativeLinkResolution),h}function Pn(e){return e.routerState.root}class Rn{constructor(e){this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new h.a}appInitializer(){return this.injector.get(z.LOCATION_INITIALIZED,Promise.resolve(null)).then(()=>{let e=null;const t=new Promise(t=>e=t),n=this.injector.get(un),i=this.injector.get(Cn);if(this.isLegacyDisabled(i)||this.isLegacyEnabled(i))e(!0);else if("disabled"===i.initialNavigation)n.setUpLocationChangeListener(),e(!0);else{if("enabled"!==i.initialNavigation)throw new Error(`Invalid initialNavigation options: '${i.initialNavigation}'`);n.hooks.afterPreactivation=(()=>this.initNavigation?Object(r.a)(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone)),n.initialNavigation()}return t})}bootstrapListener(e){const t=this.injector.get(Cn),n=this.injector.get(wn),r=this.injector.get(xn),s=this.injector.get(un),o=this.injector.get(i.ApplicationRef);e===o.components[0]&&(this.isLegacyEnabled(t)?s.initialNavigation():this.isLegacyDisabled(t)&&s.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}isLegacyDisabled(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}function Ln(e){return e.appInitializer.bind(e)}function Nn(e){return e.bootstrapListener.bind(e)}const Fn=new i.InjectionToken("Router Initializer");function Vn(){return[Rn,{provide:i.APP_INITIALIZER,multi:!0,useFactory:Ln,deps:[Rn]},{provide:Fn,useFactory:Nn,deps:[Rn]},{provide:i.APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:Fn}]}const jn=new i.Version("7.2.0")},itXk:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var i=n("z+Ro"),r=n("DH7j"),s=n("l7GE"),o=n("ZUHj"),a=n("yCtX");const l={};function u(...e){let t=null,n=null;return Object(i.a)(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&Object(r.a)(e[0])&&(e=e[0]),Object(a.a)(e,n).lift(new c(t))}class c{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new h(e,this.resultSelector))}}class h extends s.a{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(l),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++){const t=e[n];this.add(Object(o.a)(this,t,t,n))}}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n,i,r){const s=this.values,o=this.toRespond?s[n]===l?--this.toRespond:this.toRespond:0;s[n]=t,0===o&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}},jtHE:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var i=n("XNiG"),r=n("qgXg"),s=n("quSY"),o=n("pxpQ"),a=n("9ppp"),l=n("Ylt2");class u extends i.a{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift(),super.next(e)}nextTimeWindow(e){this._events.push(new c(this._getNow(),e)),this._trimBufferThenGetEvents(),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,n=t?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,r=n.length;let u;if(this.closed)throw new a.a;if(this.isStopped||this.hasError?u=s.a.EMPTY:(this.observers.push(e),u=new l.a(this,e)),i&&e.add(e=new o.a(e,i)),t)for(let s=0;s<r&&!e.closed;s++)e.next(n[s]);else for(let s=0;s<r&&!e.closed;s++)e.next(n[s].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),u}_getNow(){return(this.scheduler||r.a).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,n=this._windowTime,i=this._events,r=i.length;let s=0;for(;s<r&&!(e-i[s].time<n);)s++;return r>t&&(s=Math.max(s,r-t)),s>0&&i.splice(0,s),i}}class c{constructor(e,t){this.time=e,this.value=t}}},kJWO:function(e,t,n){"use strict";n.d(t,"a",function(){return i});const i="function"==typeof Symbol&&Symbol.observable||"@@observable"},l7GE:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("7o/Q");class r extends i.a{notifyNext(e,t,n,i,r){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}},lJxs:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("7o/Q");function r(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(e,t))}}class s{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new o(e,this.project,this.thisArg))}}class o extends i.a{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}},mCNh:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return s});var i=n("KqfI");function r(...e){return s(e)}function s(e){return e?1===e.length?e[0]:function(t){return e.reduce((e,t)=>t(e),t)}:i.a}},"mU/a":function(e,t,n){var i=n("mrSG").__decorate,r=n("mrSG").__metadata;Object.defineProperty(t,"__esModule",{value:!0});var s=n("8Y7J"),o=n("SVse"),a=n("s7LF"),l=n("nciF"),u=n("7LN8"),c=function(){function e(){this.pageLinkSize=5,this.onPageChange=new s.EventEmitter,this.alwaysShow=!0,this._totalRecords=0,this._first=0,this._rows=0}return e.prototype.ngOnInit=function(){this.updatePaginatorState()},Object.defineProperty(e.prototype,"totalRecords",{get:function(){return this._totalRecords},set:function(e){this._totalRecords=e,this.updatePageLinks(),this.updatePaginatorState()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"first",{get:function(){return this._first},set:function(e){this._first=e,this.updatePageLinks(),this.updatePaginatorState()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rows",{get:function(){return this._rows},set:function(e){this._rows=e,this.updatePageLinks(),this.updatePaginatorState()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowsPerPageOptions",{get:function(){return this._rowsPerPageOptions},set:function(e){if(this._rowsPerPageOptions=e,this._rowsPerPageOptions){this.rowsPerPageItems=[];for(var t=0,n=this._rowsPerPageOptions;t<n.length;t++){var i=n[t];this.rowsPerPageItems.push({label:String(i),value:i})}}},enumerable:!0,configurable:!0}),e.prototype.isFirstPage=function(){return 0===this.getPage()},e.prototype.isLastPage=function(){return this.getPage()===this.getPageCount()-1},e.prototype.getPageCount=function(){return Math.ceil(this.totalRecords/this.rows)||1},e.prototype.calculatePageLinkBoundaries=function(){var e=this.getPageCount(),t=Math.min(this.pageLinkSize,e),n=Math.max(0,Math.ceil(this.getPage()-t/2)),i=Math.min(e-1,n+t-1);return[n=Math.max(0,n-(this.pageLinkSize-(i-n+1))),i]},e.prototype.updatePageLinks=function(){this.pageLinks=[];for(var e=this.calculatePageLinkBoundaries(),t=e[1],n=e[0];n<=t;n++)this.pageLinks.push(n+1)},e.prototype.changePage=function(e){var t=this.getPageCount();if(e>=0&&e<t){this.first=this.rows*e;var n={page:e,first:this.first,rows:this.rows,pageCount:t};this.updatePageLinks(),this.onPageChange.emit(n),this.updatePaginatorState()}},e.prototype.getPage=function(){return Math.floor(this.first/this.rows)},e.prototype.changePageToFirst=function(e){this.isFirstPage()||this.changePage(0),e.preventDefault()},e.prototype.changePageToPrev=function(e){this.changePage(this.getPage()-1),e.preventDefault()},e.prototype.changePageToNext=function(e){this.changePage(this.getPage()+1),e.preventDefault()},e.prototype.changePageToLast=function(e){this.isLastPage()||this.changePage(this.getPageCount()-1),e.preventDefault()},e.prototype.onPageLinkClick=function(e,t){this.changePage(t),e.preventDefault()},e.prototype.onRppChange=function(e){this.changePage(this.getPage())},e.prototype.updatePaginatorState=function(){this.paginatorState={page:this.getPage(),rows:this.rows,first:this.first,totalRecords:this.totalRecords}},i([s.Input(),r("design:type",Number)],e.prototype,"pageLinkSize",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"onPageChange",void 0),i([s.Input(),r("design:type",Object)],e.prototype,"style",void 0),i([s.Input(),r("design:type",String)],e.prototype,"styleClass",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"alwaysShow",void 0),i([s.Input(),r("design:type",s.TemplateRef)],e.prototype,"templateLeft",void 0),i([s.Input(),r("design:type",s.TemplateRef)],e.prototype,"templateRight",void 0),i([s.Input(),r("design:type",Object)],e.prototype,"dropdownAppendTo",void 0),i([s.Input(),r("design:type",Number),r("design:paramtypes",[Number])],e.prototype,"totalRecords",null),i([s.Input(),r("design:type",Number),r("design:paramtypes",[Number])],e.prototype,"first",null),i([s.Input(),r("design:type",Number),r("design:paramtypes",[Number])],e.prototype,"rows",null),i([s.Input(),r("design:type",Array),r("design:paramtypes",[Array])],e.prototype,"rowsPerPageOptions",null),i([s.Component({selector:"p-paginator",template:'\n        <div [class]="styleClass" [ngStyle]="style" [ngClass]="\'ui-paginator ui-widget ui-widget-header ui-unselectable-text ui-helper-clearfix\'"\n            *ngIf="alwaysShow ? true : (pageLinks && pageLinks.length > 1)">\n            <div class="ui-paginator-left-content" *ngIf="templateLeft">\n                <ng-container *ngTemplateOutlet="templateLeft; context: {$implicit: paginatorState}"></ng-container>\n            </div>\n            <a [attr.tabindex]="isFirstPage() ? null : \'0\'" class="ui-paginator-first ui-paginator-element ui-state-default ui-corner-all"\n                    (click)="changePageToFirst($event)" (keydown.enter)="changePageToFirst($event)" [ngClass]="{\'ui-state-disabled\':isFirstPage()}" [tabindex]="isFirstPage() ? -1 : null">\n                <span class="ui-paginator-icon pi pi-step-backward"></span>\n            </a>\n            <a tabindex="0" [attr.tabindex]="isFirstPage() ? null : \'0\'" class="ui-paginator-prev ui-paginator-element ui-state-default ui-corner-all"\n                    (click)="changePageToPrev($event)" (keydown.enter)="changePageToPrev($event)" [ngClass]="{\'ui-state-disabled\':isFirstPage()}" [tabindex]="isFirstPage() ? -1 : null">\n                <span class="ui-paginator-icon pi pi-caret-left"></span>\n            </a>\n            <span class="ui-paginator-pages">\n                <a tabindex="0" *ngFor="let pageLink of pageLinks" class="ui-paginator-page ui-paginator-element ui-state-default ui-corner-all"\n                    (click)="onPageLinkClick($event, pageLink - 1)" (keydown.enter)="onPageLinkClick($event, pageLink - 1)" [ngClass]="{\'ui-state-active\': (pageLink-1 == getPage())}">{{pageLink}}</a>\n            </span>\n            <a [attr.tabindex]="isLastPage() ? null : \'0\'" class="ui-paginator-next ui-paginator-element ui-state-default ui-corner-all"\n                    (click)="changePageToNext($event)" (keydown.enter)="changePageToNext($event)" [ngClass]="{\'ui-state-disabled\':isLastPage()}" [tabindex]="isLastPage() ? -1 : null">\n                <span class="ui-paginator-icon pi pi-caret-right"></span>\n            </a>\n            <a [attr.tabindex]="isLastPage() ? null : \'0\'" class="ui-paginator-last ui-paginator-element ui-state-default ui-corner-all"\n                    (click)="changePageToLast($event)" (keydown.enter)="changePageToLast($event)" [ngClass]="{\'ui-state-disabled\':isLastPage()}" [tabindex]="isLastPage() ? -1 : null">\n                <span class="ui-paginator-icon pi pi-step-forward"></span>\n            </a>\n            <p-dropdown [options]="rowsPerPageItems" [(ngModel)]="rows" *ngIf="rowsPerPageOptions" \n                (onChange)="onRppChange($event)" [autoWidth]="false" [appendTo]="dropdownAppendTo"></p-dropdown>\n            <div class="ui-paginator-right-content" *ngIf="templateRight">\n                <ng-container *ngTemplateOutlet="templateRight; context: {$implicit: paginatorState}"></ng-container>\n            </div>\n        </div>\n    '})],e)}();t.Paginator=c,t.PaginatorModule=function(){return i([s.NgModule({imports:[o.CommonModule,l.DropdownModule,a.FormsModule,u.SharedModule],exports:[c,l.DropdownModule,a.FormsModule,u.SharedModule],declarations:[c]})],function(){})}()},mrSG:function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",function(){return r}),n.d(t,"__assign",function(){return s}),n.d(t,"__rest",function(){return o}),n.d(t,"__decorate",function(){return a}),n.d(t,"__param",function(){return l}),n.d(t,"__metadata",function(){return u}),n.d(t,"__awaiter",function(){return c}),n.d(t,"__generator",function(){return h}),n.d(t,"__exportStar",function(){return d}),n.d(t,"__values",function(){return p}),n.d(t,"__read",function(){return f}),n.d(t,"__spread",function(){return g}),n.d(t,"__await",function(){return m}),n.d(t,"__asyncGenerator",function(){return v}),n.d(t,"__asyncDelegator",function(){return y}),n.d(t,"__asyncValues",function(){return _}),n.d(t,"__makeTemplateObject",function(){return b}),n.d(t,"__importStar",function(){return w}),n.d(t,"__importDefault",function(){return x});var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function r(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var s=function(){return(s=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function o(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&(n[i[r]]=e[i[r]])}return n}function a(e,t,n,i){var r,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,n,o):r(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o}function l(e,t){return function(n,i){t(n,i,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function c(e,t,n,i){return new(n||(n=Promise))(function(r,s){function o(e){try{l(i.next(e))}catch(t){s(t)}}function a(e){try{l(i.throw(e))}catch(t){s(t)}}function l(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(o,a)}l((i=i.apply(e,t||[])).next())})}function h(e,t){var n,i,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(a){s=[6,a],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function d(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function f(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(i=s.next()).done;)o.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function v(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(e){r[e]&&(i[e]=function(t){return new Promise(function(n,i){s.push([e,t,n,i])>1||a(e,t)})})}function a(e,t){try{(n=r[e](t)).value instanceof m?Promise.resolve(n.value.v).then(l,u):c(s[0][2],n)}catch(i){c(s[0][3],i)}var n}function l(e){a("next",e)}function u(e){a("throw",e)}function c(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function y(e){var t,n;return t={},i("next"),i("throw",function(e){throw e}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(i,r){t[i]=e[i]?function(t){return(n=!n)?{value:m(e[i](t)),done:"return"===i}:r?r(t):t}:r}}function _(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(n){t[n]=e[n]&&function(t){return new Promise(function(i,r){!function(e,t,n,i){Promise.resolve(i).then(function(t){e({value:t,done:n})},t)}(i,r,(t=e[n](t)).done,t.value)})}}}function b(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function w(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}},mtqP:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("dJRF");let r;function s(){try{return r.apply(this,arguments)}catch(e){return i.a.e=e,i.a}}function o(e){return r=e,s}},n6bG:function(e,t,n){"use strict";function i(e){return"function"==typeof e}n.d(t,"a",function(){return i})},nYR2:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=n("7o/Q"),r=n("quSY");function s(e){return t=>t.lift(new o(e))}class o{constructor(e){this.callback=e}call(e,t){return t.subscribe(new a(e,this.callback))}}class a extends i.a{constructor(e,t){super(e),this.add(new r.a(t))}}},nciF:function(e,t,n){var i=n("mrSG").__decorate,r=n("mrSG").__metadata;Object.defineProperty(t,"__esModule",{value:!0});var s=n("8Y7J"),o=n("GS7A"),a=n("SVse"),l=n("7LN8"),u=n("sdDj"),c=n("P3jN"),h=n("s7LF");t.DROPDOWN_VALUE_ACCESSOR={provide:h.NG_VALUE_ACCESSOR,useExisting:s.forwardRef(function(){return d}),multi:!0};var d=function(){function e(e,t,n,i){this.el=e,this.renderer=t,this.cd=n,this.zone=i,this.scrollHeight="200px",this.autoWidth=!0,this.filterBy="label",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-caret-down",this.autoDisplayFirst=!0,this.emptyFilterMessage="No results found",this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions="225ms ease-out",this.hideTransitionOptions="195ms ease-in",this.onChange=new s.EventEmitter,this.onFocus=new s.EventEmitter,this.onBlur=new s.EventEmitter,this.onClick=new s.EventEmitter,this.onShow=new s.EventEmitter,this.onHide=new s.EventEmitter,this.onModelChange=function(){},this.onModelTouched=function(){}}return e.prototype.ngAfterContentInit=function(){var e=this;this.templates.forEach(function(t){switch(t.getType()){case"item":e.itemTemplate=t.template;break;case"selectedItem":e.selectedItemTemplate=t.template;break;case"group":e.groupTemplate=t.template;break;default:e.itemTemplate=t.template}})},e.prototype.ngOnInit=function(){this.optionsToDisplay=this.options,this.updateSelectedOption(null)},Object.defineProperty(e.prototype,"options",{get:function(){return this._options},set:function(e){var t=this.optionLabel?c.ObjectUtils.generateSelectItems(e,this.optionLabel):e;this._options=t,this.optionsToDisplay=this._options,this.updateSelectedOption(this.value),this.optionsChanged=!0,this.filterValue&&this.filterValue.length&&this.activateFilter()},enumerable:!0,configurable:!0}),e.prototype.ngAfterViewInit=function(){this.editable&&this.updateEditableLabel(),this.updateDimensions()},Object.defineProperty(e.prototype,"label",{get:function(){return this.selectedOption?this.selectedOption.label:null},enumerable:!0,configurable:!0}),e.prototype.updateEditableLabel=function(){this.editableInputViewChild&&this.editableInputViewChild.nativeElement&&(this.editableInputViewChild.nativeElement.value=this.selectedOption?this.selectedOption.label:this.value||"")},e.prototype.onItemClick=function(e,t){var n=this;this.itemClick=!0,t.disabled||(this.selectItem(e,t),this.focusViewChild.nativeElement.focus(),this.filled=!0),setTimeout(function(){n.hide()},150)},e.prototype.selectItem=function(e,t){this.selectedOption!=t&&(this.selectedOption=t,this.value=t.value,this.onModelChange(this.value),this.updateEditableLabel(),this.onChange.emit({originalEvent:e,value:this.value}))},e.prototype.ngAfterViewChecked=function(){var e=this;this.autoWidth&&!this.dimensionsUpdated&&this.updateDimensions(),this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.zone.runOutsideAngular(function(){setTimeout(function(){e.updateDimensions(),e.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper&&(this.updateDimensions(),u.DomHandler.findSingle(this.overlay,"li.ui-state-highlight")&&u.DomHandler.scrollInView(this.itemsWrapper,u.DomHandler.findSingle(this.overlay,"li.ui-state-highlight")),this.selectedOptionUpdated=!1)},e.prototype.writeValue=function(e){this.filter&&this.resetFilter(),this.value=e,this.updateSelectedOption(e),this.updateEditableLabel(),this.updateFilledState(),this.cd.markForCheck()},e.prototype.resetFilter=function(){this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterValue=null,this.filterViewChild.nativeElement.value=""),this.optionsToDisplay=this.options},e.prototype.updateSelectedOption=function(e){this.selectedOption=this.findOption(e,this.optionsToDisplay),this.autoDisplayFirst&&!this.placeholder&&!this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&!this.editable&&(this.selectedOption=this.optionsToDisplay[0]),this.selectedOptionUpdated=!0},e.prototype.registerOnChange=function(e){this.onModelChange=e},e.prototype.registerOnTouched=function(e){this.onModelTouched=e},e.prototype.setDisabledState=function(e){this.disabled=e},e.prototype.updateDimensions=function(){if(this.autoWidth&&this.el.nativeElement&&this.el.nativeElement.children[0]&&this.el.nativeElement.offsetParent){var e=u.DomHandler.findSingle(this.el.nativeElement,"select");(e&&!this.style||this.style&&!this.style.width&&!this.style["min-width"])&&(this.el.nativeElement.children[0].style.width=e.offsetWidth+30+"px"),this.dimensionsUpdated=!0}},e.prototype.onMouseclick=function(e){var t=this;this.disabled||this.readonly||(this.onClick.emit(e),this.selfClick=!0,this.clearClick=u.DomHandler.hasClass(e.target,"ui-dropdown-clear-icon"),this.itemClick||this.clearClick||(this.focusViewChild.nativeElement.focus(),this.overlayVisible?this.hide():(this.show(),setTimeout(function(){null!=t.filterViewChild&&t.filterViewChild.nativeElement.focus()},200))))},e.prototype.onEditableInputClick=function(e){this.itemClick=!0,this.bindDocumentClickListener()},e.prototype.onEditableInputFocus=function(e){this.focused=!0,this.hide(),this.onFocus.emit(e)},e.prototype.onEditableInputChange=function(e){this.value=e.target.value,this.updateSelectedOption(this.value),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value})},e.prototype.show=function(){this.overlayVisible=!0},e.prototype.onOverlayAnimationStart=function(e){switch(e.toState){case"visible":if(this.overlay=e.element,this.itemsWrapper=u.DomHandler.findSingle(this.overlay,".ui-dropdown-items-wrapper"),this.appendOverlay(),this.autoZIndex&&(this.overlay.style.zIndex=String(this.baseZIndex+ ++u.DomHandler.zindex)),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.options&&this.options.length){var t=u.DomHandler.findSingle(this.itemsWrapper,".ui-dropdown-item.ui-state-highlight");t&&u.DomHandler.scrollInView(this.itemsWrapper,t)}this.onShow.emit(e);break;case"void":this.onHide.emit(e),this.onOverlayHide()}},e.prototype.appendOverlay=function(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):u.DomHandler.appendChild(this.overlay,this.appendTo),this.overlay.style.minWidth=u.DomHandler.getWidth(this.containerViewChild.nativeElement)+"px")},e.prototype.restoreOverlayAppend=function(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)},e.prototype.hide=function(){this.overlayVisible=!1,this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.cd.markForCheck()},e.prototype.alignOverlay=function(){this.overlay&&(this.appendTo?u.DomHandler.absolutePosition(this.overlay,this.containerViewChild.nativeElement):u.DomHandler.relativePosition(this.overlay,this.containerViewChild.nativeElement))},e.prototype.onInputFocus=function(e){this.focused=!0,this.onFocus.emit(e)},e.prototype.onInputBlur=function(e){this.focused=!1,this.onModelTouched(),this.onBlur.emit(e)},e.prototype.findPrevEnabledOption=function(e){var t;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(var n=e-1;0<=n;n--)if(!(i=this.optionsToDisplay[n]).disabled){t=i;break}if(!t)for(n=this.optionsToDisplay.length-1;n>=e;n--){var i;if(!(i=this.optionsToDisplay[n]).disabled){t=i;break}}}return t},e.prototype.findNextEnabledOption=function(e){var t;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(var n=e+1;e<this.optionsToDisplay.length-1;n++)if(!(i=this.optionsToDisplay[n]).disabled){t=i;break}if(!t)for(n=0;n<e;n++){var i;if(!(i=this.optionsToDisplay[n]).disabled){t=i;break}}}return t},e.prototype.onKeydown=function(e,t){if(!this.readonly&&this.optionsToDisplay&&null!==this.optionsToDisplay.length)switch(e.which){case 40:if(!this.overlayVisible&&e.altKey)this.show();else if(this.group)if(-1!==(i=this.selectedOption?this.findOptionGroupIndex(this.selectedOption.value,this.optionsToDisplay):-1)){var n=i.itemIndex+1;n<this.optionsToDisplay[i.groupIndex].items.length?(this.selectItem(e,this.optionsToDisplay[i.groupIndex].items[n]),this.selectedOptionUpdated=!0):this.optionsToDisplay[i.groupIndex+1]&&(this.selectItem(e,this.optionsToDisplay[i.groupIndex+1].items[0]),this.selectedOptionUpdated=!0)}else this.selectItem(e,this.optionsToDisplay[0].items[0]);else{var i=this.selectedOption?this.findOptionIndex(this.selectedOption.value,this.optionsToDisplay):-1,r=this.findNextEnabledOption(i);r&&(this.selectItem(e,r),this.selectedOptionUpdated=!0)}e.preventDefault();break;case 38:if(this.group){if(-1!==(i=this.selectedOption?this.findOptionGroupIndex(this.selectedOption.value,this.optionsToDisplay):-1)){var s=i.itemIndex-1;if(s>=0)this.selectItem(e,this.optionsToDisplay[i.groupIndex].items[s]),this.selectedOptionUpdated=!0;else if(s<0){var o=this.optionsToDisplay[i.groupIndex-1];o&&(this.selectItem(e,o.items[o.items.length-1]),this.selectedOptionUpdated=!0)}}}else{i=this.selectedOption?this.findOptionIndex(this.selectedOption.value,this.optionsToDisplay):-1;var a=this.findPrevEnabledOption(i);a&&(this.selectItem(e,a),this.selectedOptionUpdated=!0)}e.preventDefault();break;case 32:case 32:this.overlayVisible||(this.show(),e.preventDefault());break;case 13:(!this.filter||this.optionsToDisplay&&this.optionsToDisplay.length>0)&&this.hide(),e.preventDefault();break;case 27:case 9:this.hide();break;default:t&&this.search(e)}},e.prototype.search=function(e){var t=this;this.searchTimeout&&clearTimeout(this.searchTimeout);var n,i=String.fromCharCode(e.keyCode);if(this.previousSearchChar=this.currentSearchChar,this.currentSearchChar=i,this.searchValue=this.previousSearchChar===this.currentSearchChar?this.currentSearchChar:this.searchValue?this.searchValue+i:i,this.group){var r=this.selectedOption?this.findOptionGroupIndex(this.selectedOption.value,this.optionsToDisplay):{groupIndex:0,itemIndex:0};n=this.searchOptionWithinGroup(r)}else r=this.selectedOption?this.findOptionIndex(this.selectedOption.value,this.optionsToDisplay):-1,n=this.searchOption(++r);n&&(this.selectItem(e,n),this.selectedOptionUpdated=!0),this.searchTimeout=setTimeout(function(){t.searchValue=null},250)},e.prototype.searchOption=function(e){var t;return this.searchValue&&((t=this.searchOptionInRange(e,this.optionsToDisplay.length))||(t=this.searchOptionInRange(0,e))),t},e.prototype.searchOptionInRange=function(e,t){for(var n=e;n<t;n++){var i=this.optionsToDisplay[n];if(i.label.toLowerCase().startsWith(this.searchValue.toLowerCase()))return i}return null},e.prototype.searchOptionWithinGroup=function(e){if(this.searchValue){for(var t=e.groupIndex;t<this.optionsToDisplay.length;t++)for(var n=e.groupIndex===t?e.itemIndex+1:0;n<this.optionsToDisplay[t].items.length;n++)if((i=this.optionsToDisplay[t].items[n]).label.toLowerCase().startsWith(this.searchValue.toLowerCase()))return i;for(t=0;t<=e.groupIndex;t++)for(n=0;n<(e.groupIndex===t?e.itemIndex:this.optionsToDisplay[t].items.length);n++){var i;if((i=this.optionsToDisplay[t].items[n]).label.toLowerCase().startsWith(this.searchValue.toLowerCase()))return i}}return null},e.prototype.findOptionIndex=function(e,t){var n=-1;if(t)for(var i=0;i<t.length;i++)if(null==e&&null==t[i].value||c.ObjectUtils.equals(e,t[i].value,this.dataKey)){n=i;break}return n},e.prototype.findOptionGroupIndex=function(e,t){var n,i;if(t)for(var r=0;r<t.length&&(n=r,-1===(i=this.findOptionIndex(e,t[r].items)));r++);return-1!==i?{groupIndex:n,itemIndex:i}:-1},e.prototype.findOption=function(e,t,n){if(this.group&&!n){var i=void 0;if(t&&t.length)for(var r=0,s=t;r<s.length&&!(i=this.findOption(e,s[r].items,!0));r++);return i}var o=this.findOptionIndex(e,t);return-1!=o?t[o]:null},e.prototype.onFilter=function(e){var t=e.target.value;t&&t.length?(this.filterValue=t,this.activateFilter()):(this.filterValue=null,this.optionsToDisplay=this.options),this.optionsChanged=!0},e.prototype.activateFilter=function(){var e=this.filterBy.split(",");if(this.options&&this.options.length){if(this.group){for(var t=[],n=0,i=this.options;n<i.length;n++){var r=i[n],s=c.ObjectUtils.filter(r.items,e,this.filterValue);s&&s.length&&t.push({label:r.label,value:r.value,items:s})}this.optionsToDisplay=t}else this.optionsToDisplay=c.ObjectUtils.filter(this.options,e,this.filterValue);this.optionsChanged=!0}},e.prototype.applyFocus=function(){this.editable?u.DomHandler.findSingle(this.el.nativeElement,".ui-dropdown-label.ui-inputtext").focus():u.DomHandler.findSingle(this.el.nativeElement,"input[readonly]").focus()},e.prototype.focus=function(){this.applyFocus()},e.prototype.bindDocumentClickListener=function(){var e=this;this.documentClickListener||(this.documentClickListener=this.renderer.listen("document","click",function(){e.selfClick||e.itemClick||(e.hide(),e.unbindDocumentClickListener()),e.clearClickState(),e.cd.markForCheck()}))},e.prototype.clearClickState=function(){this.selfClick=!1,this.itemClick=!1},e.prototype.unbindDocumentClickListener=function(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)},e.prototype.bindDocumentResizeListener=function(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)},e.prototype.unbindDocumentResizeListener=function(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)},e.prototype.onWindowResize=function(){this.hide()},e.prototype.updateFilledState=function(){this.filled=null!=this.selectedOption},e.prototype.clear=function(e){this.clearClick=!0,this.value=null,this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}),this.updateSelectedOption(this.value),this.updateEditableLabel(),this.updateFilledState()},e.prototype.onOverlayHide=function(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.overlay=null,this.itemsWrapper=null},e.prototype.ngOnDestroy=function(){this.restoreOverlayAppend(),this.onOverlayHide()},i([s.Input(),r("design:type",String)],e.prototype,"scrollHeight",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"filter",void 0),i([s.Input(),r("design:type",String)],e.prototype,"name",void 0),i([s.Input(),r("design:type",Object)],e.prototype,"style",void 0),i([s.Input(),r("design:type",Object)],e.prototype,"panelStyle",void 0),i([s.Input(),r("design:type",String)],e.prototype,"styleClass",void 0),i([s.Input(),r("design:type",String)],e.prototype,"panelStyleClass",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"disabled",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"readonly",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"autoWidth",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"required",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"editable",void 0),i([s.Input(),r("design:type",Object)],e.prototype,"appendTo",void 0),i([s.Input(),r("design:type",Number)],e.prototype,"tabindex",void 0),i([s.Input(),r("design:type",String)],e.prototype,"placeholder",void 0),i([s.Input(),r("design:type",String)],e.prototype,"filterPlaceholder",void 0),i([s.Input(),r("design:type",String)],e.prototype,"inputId",void 0),i([s.Input(),r("design:type",String)],e.prototype,"selectId",void 0),i([s.Input(),r("design:type",String)],e.prototype,"dataKey",void 0),i([s.Input(),r("design:type",String)],e.prototype,"filterBy",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"autofocus",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"resetFilterOnHide",void 0),i([s.Input(),r("design:type",String)],e.prototype,"dropdownIcon",void 0),i([s.Input(),r("design:type",String)],e.prototype,"optionLabel",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"autoDisplayFirst",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"group",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"showClear",void 0),i([s.Input(),r("design:type",String)],e.prototype,"emptyFilterMessage",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"autoZIndex",void 0),i([s.Input(),r("design:type",Number)],e.prototype,"baseZIndex",void 0),i([s.Input(),r("design:type",String)],e.prototype,"showTransitionOptions",void 0),i([s.Input(),r("design:type",String)],e.prototype,"hideTransitionOptions",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"onChange",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"onFocus",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"onBlur",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"onClick",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"onShow",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"onHide",void 0),i([s.ViewChild("container"),r("design:type",s.ElementRef)],e.prototype,"containerViewChild",void 0),i([s.ViewChild("filter"),r("design:type",s.ElementRef)],e.prototype,"filterViewChild",void 0),i([s.ViewChild("in"),r("design:type",s.ElementRef)],e.prototype,"focusViewChild",void 0),i([s.ViewChild("editableInput"),r("design:type",s.ElementRef)],e.prototype,"editableInputViewChild",void 0),i([s.ContentChildren(l.PrimeTemplate),r("design:type",s.QueryList)],e.prototype,"templates",void 0),i([s.Input(),r("design:type",Array),r("design:paramtypes",[Array])],e.prototype,"options",null),i([s.Component({selector:"p-dropdown",template:'\n         <div #container [ngClass]="{\'ui-dropdown ui-widget ui-state-default ui-corner-all ui-helper-clearfix\':true,\n            \'ui-state-disabled\':disabled, \'ui-dropdown-open\':overlayVisible, \'ui-state-focus\':focused, \'ui-dropdown-clearable\': showClear && !disabled}"\n            (click)="onMouseclick($event)" [ngStyle]="style" [class]="styleClass">\n            <div class="ui-helper-hidden-accessible" *ngIf="autoWidth">\n                <select [attr.id]="selectId" [required]="required" [attr.name]="name" [attr.aria-label]="selectedOption ? selectedOption.label : \' \'" tabindex="-1" aria-hidden="true">\n                    <option *ngIf="placeholder">{{placeholder}}</option>\n                    <ng-container *ngIf="group">\n                        <optgroup *ngFor="let option of options" [attr.label]="option.label">\n                            <option *ngFor="let option of option.items" [value]="option.value" [selected]="selectedOption == option">{{option.label}}</option>\n                        <optgroup>\n                    </ng-container>\n                    <ng-container *ngIf="!group">\n                        <option *ngFor="let option of options" [value]="option.value" [selected]="selectedOption == option">{{option.label}}</option>\n                    </ng-container>\n                </select>\n            </div>\n            <div class="ui-helper-hidden-accessible">\n                <input #in [attr.id]="inputId" type="text" [attr.aria-label]="selectedOption ? selectedOption.label : \' \'" readonly (focus)="onInputFocus($event)" role="listbox"\n                    (blur)="onInputBlur($event)" (keydown)="onKeydown($event, true)" [disabled]="disabled" [attr.tabindex]="tabindex" [attr.autofocus]="autofocus">\n            </div>\n            <label [ngClass]="{\'ui-dropdown-label ui-inputtext ui-corner-all\':true,\'ui-dropdown-label-empty\':(label == null || label.length === 0)}" *ngIf="!editable && (label != null)">\n                <ng-container *ngIf="!selectedItemTemplate">{{label||\'empty\'}}</ng-container>\n                <ng-container *ngTemplateOutlet="selectedItemTemplate; context: {$implicit: selectedOption}"></ng-container>\n            </label>\n            <label [ngClass]="{\'ui-dropdown-label ui-inputtext ui-corner-all ui-placeholder\':true,\'ui-dropdown-label-empty\': (placeholder == null || placeholder.length === 0)}" *ngIf="!editable && (label == null)">{{placeholder||\'empty\'}}</label>\n            <input #editableInput type="text" [attr.aria-label]="selectedOption ? selectedOption.label : \' \'" class="ui-dropdown-label ui-inputtext ui-corner-all" *ngIf="editable" [disabled]="disabled" [attr.placeholder]="placeholder"\n                        (click)="onEditableInputClick($event)" (input)="onEditableInputChange($event)" (focus)="onEditableInputFocus($event)" (blur)="onInputBlur($event)">\n            <i class="ui-dropdown-clear-icon pi pi-times" (click)="clear($event)" *ngIf="value != null && showClear && !disabled"></i>\n            <div class="ui-dropdown-trigger ui-state-default ui-corner-right">\n                <span class="ui-dropdown-trigger-icon ui-clickable" [ngClass]="dropdownIcon"></span>\n            </div>\n            <div *ngIf="overlayVisible" [ngClass]="\'ui-dropdown-panel  ui-widget ui-widget-content ui-corner-all ui-shadow\'" [@overlayAnimation]="{value: \'visible\', params: {showTransitionParams: showTransitionOptions, hideTransitionParams: hideTransitionOptions}}" (@overlayAnimation.start)="onOverlayAnimationStart($event)" [ngStyle]="panelStyle" [class]="panelStyleClass">\n                <div *ngIf="filter" class="ui-dropdown-filter-container" (click)="$event.stopPropagation()">\n                    <input #filter type="text" autocomplete="off" [value]="filterValue||\'\'" class="ui-dropdown-filter ui-inputtext ui-widget ui-state-default ui-corner-all" [attr.placeholder]="filterPlaceholder"\n                    (keydown.enter)="$event.preventDefault()" (keydown)="onKeydown($event, false)" (input)="onFilter($event)">\n                    <span class="ui-dropdown-filter-icon pi pi-search"></span>\n                </div>\n                <div class="ui-dropdown-items-wrapper" [style.max-height]="scrollHeight||\'auto\'">\n                    <ul class="ui-dropdown-items ui-dropdown-list ui-widget-content ui-widget ui-corner-all ui-helper-reset">\n                        <ng-container *ngIf="group">\n                            <ng-template ngFor let-optgroup [ngForOf]="optionsToDisplay">\n                                <li class="ui-dropdown-item-group">\n                                    <span *ngIf="!groupTemplate">{{optgroup.label||\'empty\'}}</span>\n                                    <ng-container *ngTemplateOutlet="groupTemplate; context: {$implicit: optgroup}"></ng-container>\n                                </li>\n                                <ng-container *ngTemplateOutlet="itemslist; context: {$implicit: optgroup.items, selectedOption: selectedOption}"></ng-container>\n                            </ng-template>\n                        </ng-container>\n                        <ng-container *ngIf="!group">\n                            <ng-container *ngTemplateOutlet="itemslist; context: {$implicit: optionsToDisplay, selectedOption: selectedOption}"></ng-container>\n                        </ng-container>\n                        <ng-template #itemslist let-options let-selectedOption="selectedOption">\n                            <li *ngFor="let option of options;let i=index"  (click)="onItemClick($event, option)"\n                                    [ngClass]="{\'ui-dropdown-item ui-corner-all\':true,\n                                                \'ui-state-highlight\':(selectedOption == option),\n                                                \'ui-state-disabled\':(option.disabled),\n                                                \'ui-dropdown-item-empty\':!option.label||option.label.length === 0}">\n                                <span *ngIf="!itemTemplate">{{option.label||\'empty\'}}</span>\n                                <ng-container *ngTemplateOutlet="itemTemplate; context: {$implicit: option}"></ng-container>\n                            </li>\n                        </ng-template>\n                        <li *ngIf="filter && optionsToDisplay && optionsToDisplay.length === 0" class="ui-dropdown-empty-message">{{emptyFilterMessage}}</li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    ',animations:[o.trigger("overlayAnimation",[o.state("void",o.style({transform:"translateY(5%)",opacity:0})),o.state("visible",o.style({transform:"translateY(0)",opacity:1})),o.transition("void => visible",o.animate("{{showTransitionParams}}")),o.transition("visible => void",o.animate("{{hideTransitionParams}}"))])],host:{"[class.ui-inputwrapper-filled]":"filled","[class.ui-inputwrapper-focus]":"focused"},providers:[t.DROPDOWN_VALUE_ACCESSOR]})],e)}();t.Dropdown=d,t.DropdownModule=function(){return i([s.NgModule({imports:[a.CommonModule,l.SharedModule],exports:[d,l.SharedModule],declarations:[d]})],function(){})}()},ngJS:function(e,t,n){"use strict";n.d(t,"a",function(){return i});const i=e=>t=>{for(let n=0,i=e.length;n<i&&!t.closed;n++)t.next(e[n]);t.closed||t.complete()}},pLZG:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("7o/Q");function r(e,t){return function(n){return n.lift(new s(e,t))}}class s{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new o(e,this.predicate,this.thisArg))}}class o extends i.a{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}},pLzU:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("Lhse");const r=e=>t=>{const n=e[i.a]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t}},pODc:function(e,t,n){var i=n("mrSG").__decorate,r=n("mrSG").__metadata;Object.defineProperty(t,"__esModule",{value:!0});var s=n("8Y7J"),o=n("SVse"),a=n("g4HV"),l=n("7LN8"),u=0,c=function(){function e(){this.orientation="top",this.onTabClick=new s.EventEmitter,this.onTabCloseClick=new s.EventEmitter}return e.prototype.getDefaultHeaderClass=function(e){var t="ui-state-default ui-corner-"+this.orientation;return e.headerStyleClass&&(t=t+" "+e.headerStyleClass),t},e.prototype.clickTab=function(e,t){this.onTabClick.emit({originalEvent:e,tab:t})},e.prototype.clickClose=function(e,t){this.onTabCloseClick.emit({originalEvent:e,tab:t})},i([s.Input(),r("design:type",Array)],e.prototype,"tabs",void 0),i([s.Input(),r("design:type",String)],e.prototype,"orientation",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"onTabClick",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"onTabCloseClick",void 0),i([s.Component({selector:"[p-tabViewNav]",host:{"[class.ui-tabview-nav]":"true","[class.ui-helper-reset]":"true","[class.ui-helper-clearfix]":"true","[class.ui-widget-header]":"true","[class.ui-corner-all]":"true"},template:'\n        <ng-template ngFor let-tab [ngForOf]="tabs">\n            <li [class]="getDefaultHeaderClass(tab)" [ngStyle]="tab.headerStyle" role="presentation"\n                [ngClass]="{\'ui-tabview-selected ui-state-active\': tab.selected, \'ui-state-disabled\': tab.disabled}"\n                (click)="clickTab($event,tab)" *ngIf="!tab.closed" tabindex="0" (keydown.enter)="clickTab($event,tab)">\n                <a [attr.id]="tab.id + \'-label\'" role="tab" [attr.aria-selected]="tab.selected" [attr.aria-controls]="tab.id" [pTooltip]="tab.tooltip" [tooltipPosition]="orientation">\n                    <ng-container *ngIf="!tab.headerTemplate" >\n                        <span class="ui-tabview-left-icon" [ngClass]="tab.leftIcon" *ngIf="tab.leftIcon"></span>\n                        <span class="ui-tabview-title">{{tab.header}}</span>\n                        <span class="ui-tabview-right-icon" [ngClass]="tab.rightIcon" *ngIf="tab.rightIcon"></span>\n                    </ng-container>\n                    <ng-container *ngIf="tab.headerTemplate">\n                        <ng-container *ngTemplateOutlet="tab.headerTemplate"></ng-container>\n                    </ng-container>\n                </a>\n                <span *ngIf="tab.closable" class="ui-tabview-close pi pi-times" (click)="clickClose($event,tab)"></span>\n            </li>\n        </ng-template>\n    '})],e)}();t.TabViewNav=c;var h=function(){function e(e){this.viewContainer=e,this.cache=!0,this.id="ui-tabpanel-"+u++}return e.prototype.ngAfterContentInit=function(){var e=this;this.templates.forEach(function(t){switch(t.getType()){case"header":e.headerTemplate=t.template;break;case"content":default:e.contentTemplate=t.template}})},Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},set:function(e){this._selected=e,this.loaded=!0},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this.view=null},i([s.Input(),r("design:type",String)],e.prototype,"header",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"disabled",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"closable",void 0),i([s.Input(),r("design:type",Object)],e.prototype,"headerStyle",void 0),i([s.Input(),r("design:type",String)],e.prototype,"headerStyleClass",void 0),i([s.Input(),r("design:type",String)],e.prototype,"leftIcon",void 0),i([s.Input(),r("design:type",String)],e.prototype,"rightIcon",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"cache",void 0),i([s.Input(),r("design:type",Object)],e.prototype,"tooltip",void 0),i([s.ContentChildren(l.PrimeTemplate),r("design:type",s.QueryList)],e.prototype,"templates",void 0),i([s.Input(),r("design:type",Boolean),r("design:paramtypes",[Boolean])],e.prototype,"selected",null),i([s.Component({selector:"p-tabPanel",template:'\n        <div [attr.id]="id" class="ui-tabview-panel ui-widget-content" [ngClass]="{\'ui-helper-hidden\': !selected}"\n            role="tabpanel" [attr.aria-hidden]="!selected" [attr.aria-labelledby]="id + \'-label\'" *ngIf="!closed">\n            <ng-content></ng-content>\n            <ng-container *ngIf="contentTemplate && (cache ? loaded : selected)">\n                <ng-container *ngTemplateOutlet="contentTemplate"></ng-container>\n            </ng-container>\n        </div>\n    '})],e)}();t.TabPanel=h;var d=function(){function e(e){this.el=e,this.orientation="top",this.onChange=new s.EventEmitter,this.onClose=new s.EventEmitter,this.activeIndexChange=new s.EventEmitter}return e.prototype.ngAfterContentInit=function(){var e=this;this.initTabs(),this.tabPanels.changes.subscribe(function(t){e.initTabs()})},e.prototype.initTabs=function(){this.tabs=this.tabPanels.toArray(),!this.findSelectedTab()&&this.tabs.length&&(null!=this.activeIndex&&this.tabs.length>this.activeIndex?this.tabs[this.activeIndex].selected=!0:this.tabs[0].selected=!0)},e.prototype.open=function(e,t){if(t.disabled)e&&e.preventDefault();else{if(!t.selected){var n=this.findSelectedTab();n&&(n.selected=!1),t.selected=!0;var i=this.findTabIndex(t);this.preventActiveIndexPropagation=!0,this.activeIndexChange.emit(i),this.onChange.emit({originalEvent:e,index:i})}e&&e.preventDefault()}},e.prototype.close=function(e,t){var n=this;this.controlClose?this.onClose.emit({originalEvent:e,index:this.findTabIndex(t),close:function(){n.closeTab(t)}}):(this.closeTab(t),this.onClose.emit({originalEvent:e,index:this.findTabIndex(t)})),e.stopPropagation()},e.prototype.closeTab=function(e){if(!e.disabled){if(e.selected){e.selected=!1;for(var t=0;t<this.tabs.length;t++){var n=this.tabs[t];if(!n.closed&&!e.disabled){n.selected=!0;break}}}e.closed=!0}},e.prototype.findSelectedTab=function(){for(var e=0;e<this.tabs.length;e++)if(this.tabs[e].selected)return this.tabs[e];return null},e.prototype.findTabIndex=function(e){for(var t=-1,n=0;n<this.tabs.length;n++)if(this.tabs[n]==e){t=n;break}return t},e.prototype.getBlockableElement=function(){return this.el.nativeElement.children[0]},Object.defineProperty(e.prototype,"activeIndex",{get:function(){return this._activeIndex},set:function(e){this._activeIndex=e,this.preventActiveIndexPropagation?this.preventActiveIndexPropagation=!1:this.tabs&&this.tabs.length&&null!=this._activeIndex&&this.tabs.length>this._activeIndex&&(this.findSelectedTab().selected=!1,this.tabs[this._activeIndex].selected=!0)},enumerable:!0,configurable:!0}),i([s.Input(),r("design:type",String)],e.prototype,"orientation",void 0),i([s.Input(),r("design:type",Object)],e.prototype,"style",void 0),i([s.Input(),r("design:type",String)],e.prototype,"styleClass",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"controlClose",void 0),i([s.ContentChildren(h),r("design:type",s.QueryList)],e.prototype,"tabPanels",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"onChange",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"onClose",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"activeIndexChange",void 0),i([s.Input(),r("design:type",Number),r("design:paramtypes",[Number])],e.prototype,"activeIndex",null),i([s.Component({selector:"p-tabView",template:'\n        <div [ngClass]="\'ui-tabview ui-widget ui-widget-content ui-corner-all ui-tabview-\' + orientation" [ngStyle]="style" [class]="styleClass">\n            <ul p-tabViewNav role="tablist" *ngIf="orientation!=\'bottom\'" [tabs]="tabs" [orientation]="orientation"\n                (onTabClick)="open($event.originalEvent, $event.tab)" (onTabCloseClick)="close($event.originalEvent, $event.tab)"></ul>\n            <div class="ui-tabview-panels">\n                <ng-content></ng-content>\n            </div>\n            <ul p-tabViewNav role="tablist" *ngIf="orientation==\'bottom\'" [tabs]="tabs" [orientation]="orientation"\n                (onTabClick)="open($event.originalEvent, $event.tab)" (onTabCloseClick)="close($event.originalEvent, $event.tab)"></ul>\n        </div>\n    '})],e)}();t.TabView=d,t.TabViewModule=function(){return i([s.NgModule({imports:[o.CommonModule,l.SharedModule,a.TooltipModule],exports:[d,h,c,l.SharedModule],declarations:[d,h,c]})],function(){})}()},pjAE:function(e,t,n){"use strict";function i(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}n.d(t,"a",function(){return r}),i.prototype=Object.create(Error.prototype);const r=i},pmWI:function(e,t,n){var i=n("mrSG").__decorate,r=n("mrSG").__metadata;Object.defineProperty(t,"__esModule",{value:!0});var s=n("8Y7J"),o=n("GS7A"),a=n("SVse"),l=n("7LN8"),u=0,c=function(){function e(e){this.el=e,this.collapsed=!1,this.collapsedChange=new s.EventEmitter,this.onBeforeToggle=new s.EventEmitter,this.onAfterToggle=new s.EventEmitter,this.transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)",this.id="ui-fieldset-"+u++}return e.prototype.toggle=function(e){if(this.animating)return!1;this.animating=!0,this.onBeforeToggle.emit({originalEvent:e,collapsed:this.collapsed}),this.collapsed?this.expand(e):this.collapse(e),this.onAfterToggle.emit({originalEvent:e,collapsed:this.collapsed}),e.preventDefault()},e.prototype.expand=function(e){this.collapsed=!1,this.collapsedChange.emit(this.collapsed)},e.prototype.collapse=function(e){this.collapsed=!0,this.collapsedChange.emit(this.collapsed)},e.prototype.getBlockableElement=function(){return this.el.nativeElement.children[0]},e.prototype.onToggleDone=function(e){this.animating=!1},i([s.Input(),r("design:type",String)],e.prototype,"legend",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"toggleable",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"collapsed",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"collapsedChange",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"onBeforeToggle",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"onAfterToggle",void 0),i([s.Input(),r("design:type",Object)],e.prototype,"style",void 0),i([s.Input(),r("design:type",String)],e.prototype,"styleClass",void 0),i([s.Input(),r("design:type",String)],e.prototype,"transitionOptions",void 0),i([s.Component({selector:"p-fieldset",template:'\n        <fieldset [attr.id]="id" [ngClass]="{\'ui-fieldset ui-widget ui-widget-content ui-corner-all\': true, \'ui-fieldset-toggleable\': toggleable}" [ngStyle]="style" [class]="styleClass">\n            <legend class="ui-fieldset-legend ui-corner-all ui-state-default ui-unselectable-text">\n                <ng-container *ngIf="toggleable; else legendContent">\n                    <a tabindex="0" (click)="toggle($event)" (keydown.enter)="toggle($event)" [attr.aria-controls]="id + \'-content\'" [attr.aria-expanded]="!collapsed">\n                        <ng-container *ngTemplateOutlet="legendContent"></ng-container>\n                    </a>\n                </ng-container>\n                <ng-template #legendContent>\n                    <span class="ui-fieldset-toggler pi" *ngIf="toggleable" [ngClass]="{\'pi-minus\': !collapsed,\'pi-plus\':collapsed}"></span>\n                    <span class="ui-fieldset-legend-text">{{legend}}</span>\n                    <ng-content select="p-header"></ng-content>\n                </ng-template>\n            </legend>\n            <div [attr.id]="id + \'-content\'" class="ui-fieldset-content-wrapper" [@fieldsetContent]="collapsed ? {value: \'hidden\', params: {transitionParams: transitionOptions}} : {value: \'visible\', params: {transitionParams: transitionOptions}}" \n                        [ngClass]="{\'ui-fieldset-content-wrapper-overflown\': collapsed||animating}" [attr.aria-hidden]="collapsed"\n                         (@fieldsetContent.done)="onToggleDone($event)" role="region">\n                <div class="ui-fieldset-content">\n                    <ng-content></ng-content>\n                </div>\n            </div>\n        </fieldset>\n    ',animations:[o.trigger("fieldsetContent",[o.state("hidden",o.style({height:"0px"})),o.state("visible",o.style({height:"*"})),o.transition("visible => hidden",o.animate("{{transitionParams}}")),o.transition("hidden => visible",o.animate("{{transitionParams}}"))])]})],e)}();t.Fieldset=c,t.FieldsetModule=function(){return i([s.NgModule({imports:[a.CommonModule],exports:[c,l.SharedModule],declarations:[c]})],function(){})}()},pxpQ:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return a});var i=n("7o/Q"),r=n("WMd4");function s(e,t=0){return function(n){return n.lift(new o(e,t))}}class o{constructor(e,t=0){this.scheduler=e,this.delay=t}call(e,t){return t.subscribe(new a(e,this.scheduler,this.delay))}}class a extends i.a{constructor(e,t,n=0){super(e),this.scheduler=t,this.delay=n}static dispatch(e){const{notification:t,destination:n}=e;t.observe(n),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new l(e,this.destination)))}_next(e){this.scheduleMessage(r.a.createNext(e))}_error(e){this.scheduleMessage(r.a.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(r.a.createComplete()),this.unsubscribe()}}class l{constructor(e,t){this.notification=e,this.destination=t}}},qCKp:function(e,t,n){"use strict";n.r(t);var i=n("HDdC"),r=n("EQ5u"),s=n("7o/Q"),o=n("quSY"),a=n("XNiG");class l extends i.a{constructor(e,t,n){super(),this.key=e,this.groupSubject=t,this.refCountSubscription=n}_subscribe(e){const t=new o.a,{refCountSubscription:n,groupSubject:i}=this;return n&&!n.closed&&t.add(new u(n)),t.add(i.subscribe(e)),t}}class u extends o.a{constructor(e){super(),this.parent=e,e.count++}unsubscribe(){const e=this.parent;e.closed||this.closed||(super.unsubscribe(),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())}}var c=n("kJWO"),h=n("2Vo4"),d=n("jtHE");class p extends a.a{constructor(){super(...arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}_subscribe(e){return this.hasError?(e.error(this.thrownError),o.a.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),o.a.EMPTY):super._subscribe(e)}next(e){this.hasCompleted||(this.value=e,this.hasNext=!0)}error(e){this.hasCompleted||super.error(e)}complete(){this.hasCompleted=!0,this.hasNext&&super.next(this.value),super.complete()}}var f=n("7Hc7"),g=n("D0XW"),m=n("qgXg"),v=n("eNwd"),y=n("3N8a"),_=n("IjjT");class b extends _.a{constructor(e=w,t=Number.POSITIVE_INFINITY){super(e,()=>this.frame),this.maxFrames=t,this.frame=0,this.index=-1}flush(){const{actions:e,maxFrames:t}=this;let n,i;for(;(i=e.shift())&&(this.frame=i.delay)<=t&&!(n=i.execute(i.state,i.delay)););if(n){for(;i=e.shift();)i.unsubscribe();throw n}}}b.frameTimeFactor=10;class w extends y.a{constructor(e,t,n=(e.index+=1)){super(e,t),this.scheduler=e,this.work=t,this.index=n,this.active=!0,this.index=e.index=n}schedule(e,t=0){if(!this.id)return super.schedule(e,t);this.active=!1;const n=new w(this.scheduler,this.work);return this.add(n),n.schedule(e,t)}requestAsyncId(e,t,n=0){this.delay=e.frame+n;const{actions:i}=e;return i.push(this),i.sort(w.sortActions),!0}recycleAsyncId(e,t,n=0){}_execute(e,t){if(!0===this.active)return super._execute(e,t)}static sortActions(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1}}var x=n("Y/cZ"),C=n("WMd4"),S=n("mCNh"),E=n("KqfI"),T=n("SpAZ");function M(e){return!!e&&(e instanceof i.a||"function"==typeof e.lift&&"function"==typeof e.subscribe)}var I=n("4I5i"),O=n("sVev"),A=n("9ppp"),D=n("pjAE");function k(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}k.prototype=Object.create(Error.prototype);const P=k;var R=n("lJxs"),L=n("8Qeq"),N=n("DH7j"),F=n("z+Ro");function V(e,t,n){if(t){if(!Object(F.a)(t))return(...i)=>V(e,n)(...i).pipe(Object(R.a)(e=>Object(N.a)(e)?t(...e):t(e)));n=t}return function(...t){const r=this;let s;const o={context:r,subject:s,callbackFunc:e,scheduler:n};return new i.a(i=>{if(n)return n.schedule(j,0,{args:t,subscriber:i,params:o});if(!s){s=new p;const n=(...e)=>{s.next(e.length<=1?e[0]:e),s.complete()};try{e.apply(r,[...t,n])}catch(a){Object(L.a)(s)?s.error(a):console.warn(a)}}return s.subscribe(i)})}}function j(e){const{args:t,subscriber:n,params:i}=e,{callbackFunc:r,context:s,scheduler:o}=i;let{subject:a}=i;if(!a){a=i.subject=new p;const e=(...e)=>{this.add(o.schedule(B,0,{value:e.length<=1?e[0]:e,subject:a}))};try{r.apply(s,[...t,e])}catch(l){a.error(l)}}this.add(a.subscribe(n))}function B(e){const{value:t,subject:n}=e;n.next(t),n.complete()}function z(e,t,n){if(t){if(!Object(F.a)(t))return(...i)=>z(e,n)(...i).pipe(Object(R.a)(e=>Object(N.a)(e)?t(...e):t(e)));n=t}return function(...t){const r={subject:void 0,args:t,callbackFunc:e,scheduler:n,context:this};return new i.a(i=>{const{context:s}=r;let{subject:o}=r;if(n)return n.schedule(H,0,{params:r,subscriber:i,context:s});if(!o){o=r.subject=new p;const n=(...e)=>{const t=e.shift();t?o.error(t):(o.next(e.length<=1?e[0]:e),o.complete())};try{e.apply(s,[...t,n])}catch(a){Object(L.a)(o)?o.error(a):console.warn(a)}}return o.subscribe(i)})}}function H(e){const{params:t,subscriber:n,context:i}=e,{callbackFunc:r,args:s,scheduler:o}=t;let a=t.subject;if(!a){a=t.subject=new p;const e=(...e)=>{const t=e.shift();this.add(t?o.schedule(G,0,{err:t,subject:a}):o.schedule(U,0,{value:e.length<=1?e[0]:e,subject:a}))};try{r.apply(i,[...s,e])}catch(l){this.add(o.schedule(G,0,{err:l,subject:a}))}}this.add(a.subscribe(n))}function U(e){const{value:t,subject:n}=e;n.next(t),n.complete()}function G(e){const{err:t,subject:n}=e;n.error(t)}var W=n("itXk"),$=n("GyhO"),q=n("NXyV"),Y=n("EY2u"),Z=n("cp0P"),K=n("Cfvw"),X=n("xgIS"),Q=n("n6bG");function J(e,t,n){return n?J(e,t).pipe(Object(R.a)(e=>Object(N.a)(e)?n(...e):n(e))):new i.a(n=>{const i=(...e)=>n.next(1===e.length?e[0]:e);let r;try{r=e(i)}catch(s){return void n.error(s)}if(Object(Q.a)(t))return()=>t(i,r)})}function ee(e,t,n,r,s){let o,a;return 1==arguments.length?(a=e.initialState,t=e.condition,n=e.iterate,o=e.resultSelector||T.a,s=e.scheduler):void 0===r||Object(F.a)(r)?(a=e,o=T.a,s=r):(a=e,o=r),new i.a(e=>{let i=a;if(s)return s.schedule(te,0,{subscriber:e,iterate:n,condition:t,resultSelector:o,state:i});for(;;){if(t){let n;try{n=t(i)}catch(r){return void e.error(r)}if(!n){e.complete();break}}let s;try{s=o(i)}catch(r){return void e.error(r)}if(e.next(s),e.closed)break;try{i=n(i)}catch(r){return void e.error(r)}}})}function te(e){const{subscriber:t,condition:n}=e;if(t.closed)return;if(e.needIterate)try{e.state=e.iterate(e.state)}catch(r){return void t.error(r)}else e.needIterate=!0;if(n){let i;try{i=n(e.state)}catch(r){return void t.error(r)}if(!i)return void t.complete();if(t.closed)return}let i;try{i=e.resultSelector(e.state)}catch(r){return void t.error(r)}return t.closed||(t.next(i),t.closed)?void 0:this.schedule(e)}function ne(e,t=Y.a,n=Y.a){return Object(q.a)(()=>e()?t:n)}var ie=n("Y7HM");function re(e=0,t=g.a){return(!Object(ie.a)(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=g.a),new i.a(n=>(n.add(t.schedule(se,e,{subscriber:n,counter:0,period:e})),n))}function se(e){const{subscriber:t,counter:n,period:i}=e;t.next(n),this.schedule({subscriber:t,counter:n+1,period:i},i)}var oe=n("VRyK");const ae=new i.a(E.a);function le(){return ae}var ue=n("LRne");function ce(...e){if(0===e.length)return Y.a;const[t,...n]=e;return 1===e.length&&Object(N.a)(t)?ce(...t):new i.a(e=>{const i=()=>e.add(ce(...n).subscribe(e));return Object(K.a)(t).subscribe({next(t){e.next(t)},error:i,complete:i})})}function he(e,t){return new i.a(t?n=>{const i=Object.keys(e),r=new o.a;return r.add(t.schedule(de,0,{keys:i,index:0,subscriber:n,subscription:r,obj:e})),r}:t=>{const n=Object.keys(e);for(let i=0;i<n.length&&!t.closed;i++){const r=n[i];e.hasOwnProperty(r)&&t.next([r,e[r]])}t.complete()})}function de(e){const{keys:t,index:n,subscriber:i,subscription:r,obj:s}=e;if(!i.closed)if(n<t.length){const e=t[n];i.next([e,s[e]]),r.add(this.schedule({keys:t,index:n+1,subscriber:i,subscription:r,obj:s}))}else i.complete()}var pe=n("yCtX"),fe=n("l7GE"),ge=n("ZUHj");function me(...e){if(1===e.length){if(!Object(N.a)(e[0]))return e[0];e=e[0]}return Object(pe.a)(e,void 0).lift(new ve)}class ve{call(e,t){return t.subscribe(new ye(e))}}class ye extends fe.a{constructor(e){super(e),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(e){this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(let n=0;n<t&&!this.hasFirst;n++){let t=e[n],i=Object(ge.a)(this,t,t,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}}notifyNext(e,t,n,i,r){if(!this.hasFirst){this.hasFirst=!0;for(let e=0;e<this.subscriptions.length;e++)if(e!==n){let t=this.subscriptions[e];t.unsubscribe(),this.remove(t)}this.subscriptions=null}this.destination.next(t)}}function _e(e=0,t=0,n){return new i.a(i=>{let r=0,s=e;if(n)return n.schedule(be,0,{index:r,count:t,start:e,subscriber:i});for(;;){if(r++>=t){i.complete();break}if(i.next(s++),i.closed)break}})}function be(e){const{start:t,index:n,count:i,subscriber:r}=e;n>=i?r.complete():(r.next(t),r.closed||(e.index=n+1,e.start=t+1,this.schedule(e)))}var we=n("z6cu"),xe=n("PqYM");function Ce(e,t){return new i.a(n=>{let i,r;try{i=e()}catch(o){return void n.error(o)}try{r=t(i)}catch(o){return void n.error(o)}const s=(r?Object(K.a)(r):Y.a).subscribe(n);return()=>{s.unsubscribe(),i&&i.unsubscribe()}})}var Se=n("Lhse");function Ee(...e){const t=e[e.length-1];return"function"==typeof t&&e.pop(),Object(pe.a)(e,void 0).lift(new Te(t))}class Te{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new Me(e,this.resultSelector))}}class Me extends s.a{constructor(e,t,n=Object.create(null)){super(e),this.iterators=[],this.active=0,this.resultSelector="function"==typeof t?t:null,this.values=n}_next(e){const t=this.iterators;Object(N.a)(e)?t.push(new Oe(e)):t.push("function"==typeof e[Se.a]?new Ie(e[Se.a]()):new Ae(this.destination,this,e))}_complete(){const e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(let n=0;n<t;n++){let t=e[n];t.stillUnsubscribed?this.destination.add(t.subscribe(t,n)):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const e=this.iterators,t=e.length,n=this.destination;for(let s=0;s<t;s++){let t=e[s];if("function"==typeof t.hasValue&&!t.hasValue())return}let i=!1;const r=[];for(let s=0;s<t;s++){let t=e[s],o=t.next();if(t.hasCompleted()&&(i=!0),o.done)return void n.complete();r.push(o.value)}this.resultSelector?this._tryresultSelector(r):n.next(r),i&&n.complete()}_tryresultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}class Ie{constructor(e){this.iterator=e,this.nextResult=e.next()}hasValue(){return!0}next(){const e=this.nextResult;return this.nextResult=this.iterator.next(),e}hasCompleted(){const e=this.nextResult;return e&&e.done}}class Oe{constructor(e){this.array=e,this.index=0,this.length=0,this.length=e.length}[Se.a](){return this}next(e){const t=this.index++;return t<this.length?{value:this.array[t],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class Ae extends fe.a{constructor(e,t,n){super(e),this.parent=t,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[Se.a](){return this}next(){const e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(e,t,n,i,r){this.buffer.push(t),this.parent.checkIterators()}subscribe(e,t){return Object(ge.a)(this,this.observable,this,t)}}var De=n("2fFW");n.d(t,"Observable",function(){return i.a}),n.d(t,"ConnectableObservable",function(){return r.a}),n.d(t,"GroupedObservable",function(){return l}),n.d(t,"observable",function(){return c.a}),n.d(t,"Subject",function(){return a.a}),n.d(t,"BehaviorSubject",function(){return h.a}),n.d(t,"ReplaySubject",function(){return d.a}),n.d(t,"AsyncSubject",function(){return p}),n.d(t,"asapScheduler",function(){return f.a}),n.d(t,"asyncScheduler",function(){return g.a}),n.d(t,"queueScheduler",function(){return m.a}),n.d(t,"animationFrameScheduler",function(){return v.a}),n.d(t,"VirtualTimeScheduler",function(){return b}),n.d(t,"VirtualAction",function(){return w}),n.d(t,"Scheduler",function(){return x.a}),n.d(t,"Subscription",function(){return o.a}),n.d(t,"Subscriber",function(){return s.a}),n.d(t,"Notification",function(){return C.a}),n.d(t,"pipe",function(){return S.a}),n.d(t,"noop",function(){return E.a}),n.d(t,"identity",function(){return T.a}),n.d(t,"isObservable",function(){return M}),n.d(t,"ArgumentOutOfRangeError",function(){return I.a}),n.d(t,"EmptyError",function(){return O.a}),n.d(t,"ObjectUnsubscribedError",function(){return A.a}),n.d(t,"UnsubscriptionError",function(){return D.a}),n.d(t,"TimeoutError",function(){return P}),n.d(t,"bindCallback",function(){return V}),n.d(t,"bindNodeCallback",function(){return z}),n.d(t,"combineLatest",function(){return W.a}),n.d(t,"concat",function(){return $.a}),n.d(t,"defer",function(){return q.a}),n.d(t,"empty",function(){return Y.b}),n.d(t,"forkJoin",function(){return Z.a}),n.d(t,"from",function(){return K.a}),n.d(t,"fromEvent",function(){return X.a}),n.d(t,"fromEventPattern",function(){return J}),n.d(t,"generate",function(){return ee}),n.d(t,"iif",function(){return ne}),n.d(t,"interval",function(){return re}),n.d(t,"merge",function(){return oe.a}),n.d(t,"never",function(){return le}),n.d(t,"of",function(){return ue.a}),n.d(t,"onErrorResumeNext",function(){return ce}),n.d(t,"pairs",function(){return he}),n.d(t,"race",function(){return me}),n.d(t,"range",function(){return _e}),n.d(t,"throwError",function(){return we.a}),n.d(t,"timer",function(){return xe.a}),n.d(t,"using",function(){return Ce}),n.d(t,"zip",function(){return Ee}),n.d(t,"EMPTY",function(){return Y.a}),n.d(t,"NEVER",function(){return ae}),n.d(t,"config",function(){return De.a})},qgXg:function(e,t,n){"use strict";var i=n("3N8a");class r extends i.a{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(e,t,n):e.flush(this)}}var s=n("IjjT");class o extends s.a{}n.d(t,"a",function(){return a});const a=new o(r)},quSY:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var i,r=n("DH7j"),s=n("XoHu"),o=n("n6bG"),a=n("mtqP"),l=n("dJRF"),u=n("pjAE");class c{constructor(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}unsubscribe(){let e,t=!1;if(this.closed)return;let{_parent:n,_parents:i,_unsubscribe:c,_subscriptions:d}=this;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;let p=-1,f=i?i.length:0;for(;n;)n.remove(this),n=++p<f&&i[p]||null;if(Object(o.a)(c)&&Object(a.a)(c).call(this)===l.a&&(t=!0,e=e||(l.a.e instanceof u.a?h(l.a.e.errors):[l.a.e])),Object(r.a)(d))for(p=-1,f=d.length;++p<f;){const n=d[p];if(Object(s.a)(n)&&Object(a.a)(n.unsubscribe).call(n)===l.a){t=!0,e=e||[];let n=l.a.e;n instanceof u.a?e=e.concat(h(n.errors)):e.push(n)}}if(t)throw new u.a(e)}add(e){if(!e||e===c.EMPTY)return c.EMPTY;if(e===this)return this;let t=e;switch(typeof e){case"function":t=new c(e);case"object":if(t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if("function"!=typeof t._addParent){const e=t;(t=new c)._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(t),t._addParent(this),t}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}_addParent(e){let{_parent:t,_parents:n}=this;t&&t!==e?n?-1===n.indexOf(e)&&n.push(e):this._parents=[e]:this._parent=e}}function h(e){return e.reduce((e,t)=>e.concat(t instanceof u.a?t.errors:t),[])}c.EMPTY=((i=new c).closed=!0,i)},"rmC/":function(e,t,n){var i=n("mrSG").__decorate,r=n("mrSG").__metadata;Object.defineProperty(t,"__esModule",{value:!0});var s=n("8Y7J"),o=n("SVse"),a=n("7LN8"),l=n("sdDj"),u=n("P3jN"),c=n("s7LF");t.LISTBOX_VALUE_ACCESSOR={provide:c.NG_VALUE_ACCESSOR,useExisting:s.forwardRef(function(){return h}),multi:!0};var h=function(){function e(e,t){this.el=e,this.cd=t,this.checkbox=!1,this.filter=!1,this.filterMode="contains",this.metaKeySelection=!0,this.showToggleAll=!0,this.onChange=new s.EventEmitter,this.onDblClick=new s.EventEmitter,this.onModelChange=function(){},this.onModelTouched=function(){}}return Object.defineProperty(e.prototype,"options",{get:function(){return this._options},set:function(e){var t=this.optionLabel?u.ObjectUtils.generateSelectItems(e,this.optionLabel):e;this._options=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterValue",{get:function(){return this._filterValue},set:function(e){this._filterValue=e},enumerable:!0,configurable:!0}),e.prototype.ngAfterContentInit=function(){var e=this;this.templates.forEach(function(t){switch(t.getType()){case"item":default:e.itemTemplate=t.template}})},e.prototype.writeValue=function(e){this.value=e,this.cd.markForCheck()},e.prototype.registerOnChange=function(e){this.onModelChange=e},e.prototype.registerOnTouched=function(e){this.onModelTouched=e},e.prototype.setDisabledState=function(e){this.disabled=e},e.prototype.onOptionClick=function(e,t){this.disabled||t.disabled||this.readonly||(this.multiple?this.checkbox?this.onOptionClickCheckbox(e,t):this.onOptionClickMultiple(e,t):this.onOptionClickSingle(e,t),this.optionTouched=!1)},e.prototype.onOptionTouchEnd=function(e,t){this.disabled||t.disabled||this.readonly||(this.optionTouched=!0)},e.prototype.onOptionDoubleClick=function(e,t){this.disabled||t.disabled||this.readonly||this.onDblClick.emit({originalEvent:e,value:this.value})},e.prototype.onOptionClickSingle=function(e,t){var n=this.isSelected(t),i=!1;!this.optionTouched&&this.metaKeySelection?n?(e.metaKey||e.ctrlKey)&&(this.value=null,i=!0):(this.value=t.value,i=!0):(this.value=n?null:t.value,i=!0),i&&(this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}))},e.prototype.onOptionClickMultiple=function(e,t){var n=this.isSelected(t),i=!1;if(!this.optionTouched&&this.metaKeySelection){var r=e.metaKey||e.ctrlKey;n?(r?this.removeOption(t):this.value=[t.value],i=!0):(this.value=r&&this.value||[],this.value=this.value.concat([t.value]),i=!0)}else n?this.removeOption(t):this.value=(this.value||[]).concat([t.value]),i=!0;i&&(this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}))},e.prototype.onOptionClickCheckbox=function(e,t){this.disabled||this.readonly||(this.isSelected(t)?this.removeOption(t):(this.value=this.value?this.value:[],this.value=this.value.concat([t.value])),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}))},e.prototype.removeOption=function(e){var t=this;this.value=this.value.filter(function(n){return!u.ObjectUtils.equals(n,e.value,t.dataKey)})},e.prototype.isSelected=function(e){var t=!1;if(this.multiple){if(this.value)for(var n=0,i=this.value;n<i.length;n++)if(u.ObjectUtils.equals(i[n],e.value,this.dataKey)){t=!0;break}}else t=u.ObjectUtils.equals(this.value,e.value,this.dataKey);return t},Object.defineProperty(e.prototype,"allChecked",{get:function(){return this.filterValue?this.allFilteredSelected():this.value&&this.options&&this.value.length>0&&this.value.length===this.getEnabledOptionCount()},enumerable:!0,configurable:!0}),e.prototype.getEnabledOptionCount=function(){if(this.options){for(var e=0,t=0,n=this.options;t<n.length;t++)n[t].disabled||e++;return e}return 0},e.prototype.allFilteredSelected=function(){var e,t=this.filterValue?this.getFilteredOptions():this.options;if(this.value&&t&&t.length){e=!0;for(var n=0,i=this.options;n<i.length;n++){var r=i[n];if(this.isItemVisible(r)&&!this.isSelected(r)){e=!1;break}}}return e},e.prototype.onFilter=function(e){this._filterValue=e.target.value},e.prototype.toggleAll=function(e){if(!this.disabled&&!this.readonly&&this.options&&0!==this.options.length){if(this.allChecked)this.value=[];else if(this.options){this.value=[];for(var t=0;t<this.options.length;t++){var n=this.options[t];this.isItemVisible(n)&&!n.disabled&&this.value.push(n.value)}}this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}),e.preventDefault()}},e.prototype.isItemVisible=function(e){if(this.filterValue){var t=void 0,n=u.ObjectUtils.removeAccents(this.filterValue).toLowerCase();switch(this.filterMode){case"startsWith":t=0===u.ObjectUtils.removeAccents(e.label).toLowerCase().indexOf(n);break;case"contains":t=u.ObjectUtils.removeAccents(e.label).toLowerCase().indexOf(n)>-1;break;default:t=!0}return t}return!0},e.prototype.onInputFocus=function(e){this.focus=!0},e.prototype.onInputBlur=function(e){this.focus=!1},e.prototype.onOptionKeyDown=function(e,t){if(!this.readonly){var n=e.currentTarget;switch(e.which){case 40:var i=this.findNextItem(n);i&&i.focus(),e.preventDefault();break;case 38:var r=this.findPrevItem(n);r&&r.focus(),e.preventDefault();break;case 13:this.onOptionClick(e,t),e.preventDefault()}}},e.prototype.findNextItem=function(e){var t=e.nextElementSibling;return t?l.DomHandler.hasClass(t,"ui-state-disabled")||l.DomHandler.isHidden(t)?this.findNextItem(t):t:null},e.prototype.findPrevItem=function(e){var t=e.previousElementSibling;return t?l.DomHandler.hasClass(t,"ui-state-disabled")||l.DomHandler.isHidden(t)?this.findPrevItem(t):t:null},e.prototype.getFilteredOptions=function(){var e=[];if(this.filterValue){for(var t=0;t<this.options.length;t++){var n=this.options[t];this.isItemVisible(n)&&!n.disabled&&e.push(n)}return e}return this.options},e.prototype.onHeaderCheckboxFocus=function(){this.headerCheckboxFocus=!0},e.prototype.onHeaderCheckboxBlur=function(){this.headerCheckboxFocus=!1},i([s.Input(),r("design:type",Boolean)],e.prototype,"multiple",void 0),i([s.Input(),r("design:type",Object)],e.prototype,"style",void 0),i([s.Input(),r("design:type",String)],e.prototype,"styleClass",void 0),i([s.Input(),r("design:type",Object)],e.prototype,"listStyle",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"readonly",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"disabled",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"checkbox",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"filter",void 0),i([s.Input(),r("design:type",String)],e.prototype,"filterMode",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"metaKeySelection",void 0),i([s.Input(),r("design:type",String)],e.prototype,"dataKey",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"showToggleAll",void 0),i([s.Input(),r("design:type",String)],e.prototype,"optionLabel",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"onChange",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"onDblClick",void 0),i([s.ViewChild("headerchkbox"),r("design:type",s.ElementRef)],e.prototype,"headerCheckboxViewChild",void 0),i([s.ContentChild(a.Header),r("design:type",Object)],e.prototype,"headerFacet",void 0),i([s.ContentChild(a.Footer),r("design:type",Object)],e.prototype,"footerFacet",void 0),i([s.ContentChildren(a.PrimeTemplate),r("design:type",s.QueryList)],e.prototype,"templates",void 0),i([s.Input(),r("design:type",Array),r("design:paramtypes",[Array])],e.prototype,"options",null),i([s.Input(),r("design:type",String),r("design:paramtypes",[String])],e.prototype,"filterValue",null),i([s.Component({selector:"p-listbox",template:'\n    <div [ngClass]="{\'ui-listbox ui-inputtext ui-widget ui-widget-content ui-corner-all\':true,\'ui-state-disabled\':disabled,\'ui-state-focus\':focus}" [ngStyle]="style" [class]="styleClass">\n      <div class="ui-helper-hidden-accessible">\n        <input type="text" readonly="readonly" (focus)="onInputFocus($event)" (blur)="onInputBlur($event)">\n      </div>\n      <div class="ui-widget-header ui-corner-all ui-listbox-header ui-helper-clearfix" *ngIf="headerFacet">\n        <ng-content select="p-header"></ng-content>\n      </div>\n      <div class="ui-widget-header ui-corner-all ui-listbox-header ui-helper-clearfix" *ngIf="(checkbox && multiple && showToggleAll) || filter" [ngClass]="{\'ui-listbox-header-w-checkbox\': checkbox}">\n        <div class="ui-chkbox ui-widget" *ngIf="checkbox && multiple && showToggleAll">\n          <div class="ui-helper-hidden-accessible">\n            <input type="checkbox" readonly="readonly" [checked]="allChecked" (focus)="onHeaderCheckboxFocus()" (blur)="onHeaderCheckboxBlur()" (keydown.space)="toggleAll($event)">\n          </div>\n          <div #headerchkbox class="ui-chkbox-box ui-widget ui-corner-all ui-state-default" [ngClass]="{\'ui-state-active\': allChecked, \'ui-state-focus\': headerCheckboxFocus}" (click)="toggleAll($event)">\n            <span class="ui-chkbox-icon ui-clickable" [ngClass]="{\'pi pi-check\':allChecked}"></span>\n          </div>\n        </div>\n        <div class="ui-listbox-filter-container" *ngIf="filter">\n          <input type="text" role="textbox" [value]="filterValue||\'\'" (input)="onFilter($event)" class="ui-inputtext ui-widget ui-state-default ui-corner-all" [disabled]="disabled">\n          <span class="ui-listbox-filter-icon pi pi-search"></span>\n        </div>\n      </div>\n      <div class="ui-listbox-list-wrapper" [ngStyle]="listStyle">\n        <ul class="ui-listbox-list">\n          <li *ngFor="let option of options; let i = index;" [style.display]="isItemVisible(option) ? \'block\' : \'none\'" [attr.tabindex]="option.disabled ? null : \'0\'"\n              [ngClass]="{\'ui-listbox-item ui-corner-all\':true,\'ui-state-highlight\':isSelected(option), \'ui-state-disabled\': option.disabled}"\n              (click)="onOptionClick($event,option)" (dblclick)="onOptionDoubleClick($event,option)" (touchend)="onOptionTouchEnd($event,option)" (keydown)="onOptionKeyDown($event,option)">\n            <div class="ui-chkbox ui-widget" *ngIf="checkbox && multiple">\n              <div class="ui-chkbox-box ui-widget ui-corner-all ui-state-default" [ngClass]="{\'ui-state-active\':isSelected(option)}">\n                <span class="ui-chkbox-icon ui-clickable" [ngClass]="{\'pi pi-check\':isSelected(option)}"></span>\n              </div>\n            </div>\n            <span *ngIf="!itemTemplate">{{option.label}}</span>\n            <ng-container *ngTemplateOutlet="itemTemplate; context: {$implicit: option, index: i}"></ng-container>\n          </li>\n        </ul>\n      </div>\n      <div class="ui-listbox-footer ui-widget-header ui-corner-all" *ngIf="footerFacet">\n        <ng-content select="p-footer"></ng-content>\n      </div>\n    </div>\n  ',providers:[t.LISTBOX_VALUE_ACCESSOR]})],e)}();t.Listbox=h,t.ListboxModule=function(){return i([s.NgModule({imports:[o.CommonModule,a.SharedModule],exports:[h,a.SharedModule],declarations:[h]})],function(){})}()},s7LF:function(e,t,n){"use strict";n.r(t),n.d(t,"\u0275angular_packages_forms_forms_bc",function(){return lt}),n.d(t,"\u0275angular_packages_forms_forms_bb",function(){return at}),n.d(t,"\u0275angular_packages_forms_forms_z",function(){return st}),n.d(t,"\u0275angular_packages_forms_forms_ba",function(){return ot}),n.d(t,"\u0275angular_packages_forms_forms_a",function(){return _}),n.d(t,"\u0275angular_packages_forms_forms_b",function(){return w}),n.d(t,"\u0275angular_packages_forms_forms_c",function(){return oe}),n.d(t,"\u0275angular_packages_forms_forms_d",function(){return ae}),n.d(t,"\u0275angular_packages_forms_forms_e",function(){return we}),n.d(t,"\u0275angular_packages_forms_forms_f",function(){return Ee}),n.d(t,"\u0275angular_packages_forms_forms_g",function(){return Oe}),n.d(t,"\u0275angular_packages_forms_forms_h",function(){return Me}),n.d(t,"\u0275angular_packages_forms_forms_bh",function(){return rt}),n.d(t,"\u0275angular_packages_forms_forms_bd",function(){return T}),n.d(t,"\u0275angular_packages_forms_forms_be",function(){return M}),n.d(t,"\u0275angular_packages_forms_forms_i",function(){return A}),n.d(t,"\u0275angular_packages_forms_forms_j",function(){return D}),n.d(t,"\u0275angular_packages_forms_forms_bf",function(){return P}),n.d(t,"\u0275angular_packages_forms_forms_bg",function(){return R}),n.d(t,"\u0275angular_packages_forms_forms_k",function(){return ke}),n.d(t,"\u0275angular_packages_forms_forms_l",function(){return Pe}),n.d(t,"\u0275angular_packages_forms_forms_m",function(){return He}),n.d(t,"\u0275angular_packages_forms_forms_n",function(){return Le}),n.d(t,"\u0275angular_packages_forms_forms_p",function(){return je}),n.d(t,"\u0275angular_packages_forms_forms_o",function(){return Fe}),n.d(t,"\u0275angular_packages_forms_forms_q",function(){return F}),n.d(t,"\u0275angular_packages_forms_forms_s",function(){return G}),n.d(t,"\u0275angular_packages_forms_forms_r",function(){return z}),n.d(t,"\u0275angular_packages_forms_forms_u",function(){return We}),n.d(t,"\u0275angular_packages_forms_forms_v",function(){return Ye}),n.d(t,"\u0275angular_packages_forms_forms_x",function(){return Qe}),n.d(t,"\u0275angular_packages_forms_forms_w",function(){return Ke}),n.d(t,"\u0275angular_packages_forms_forms_y",function(){return et}),n.d(t,"\u0275angular_packages_forms_forms_t",function(){return Ge}),n.d(t,"AbstractControlDirective",function(){return l}),n.d(t,"AbstractFormGroupDirective",function(){return se}),n.d(t,"CheckboxControlValueAccessor",function(){return b}),n.d(t,"ControlContainer",function(){return u}),n.d(t,"NG_VALUE_ACCESSOR",function(){return y}),n.d(t,"COMPOSITION_BUFFER_MODE",function(){return x}),n.d(t,"DefaultValueAccessor",function(){return C}),n.d(t,"NgControl",function(){return O}),n.d(t,"NgControlStatus",function(){return le}),n.d(t,"NgControlStatusGroup",function(){return ue}),n.d(t,"NgForm",function(){return Ce}),n.d(t,"NgFormSelectorWarning",function(){return Te}),n.d(t,"NgModel",function(){return De}),n.d(t,"NgModelGroup",function(){return Ie}),n.d(t,"RadioControlValueAccessor",function(){return k}),n.d(t,"FormControlDirective",function(){return Re}),n.d(t,"FormControlName",function(){return Ue}),n.d(t,"FormGroupDirective",function(){return Ne}),n.d(t,"FormArrayName",function(){return Be}),n.d(t,"FormGroupName",function(){return Ve}),n.d(t,"NgSelectOption",function(){return B}),n.d(t,"SelectControlValueAccessor",function(){return j}),n.d(t,"SelectMultipleControlValueAccessor",function(){return U}),n.d(t,"CheckboxRequiredValidator",function(){return qe}),n.d(t,"EmailValidator",function(){return Ze}),n.d(t,"MaxLengthValidator",function(){return Je}),n.d(t,"MinLengthValidator",function(){return Xe}),n.d(t,"PatternValidator",function(){return tt}),n.d(t,"RequiredValidator",function(){return $e}),n.d(t,"FormBuilder",function(){return nt}),n.d(t,"AbstractControl",function(){return ve}),n.d(t,"FormArray",function(){return be}),n.d(t,"FormControl",function(){return ye}),n.d(t,"FormGroup",function(){return _e}),n.d(t,"NG_ASYNC_VALIDATORS",function(){return d}),n.d(t,"NG_VALIDATORS",function(){return h}),n.d(t,"Validators",function(){return f}),n.d(t,"VERSION",function(){return it}),n.d(t,"FormsModule",function(){return ut}),n.d(t,"ReactiveFormsModule",function(){return ct});var i=n("8Y7J"),r=n("cp0P"),s=n("Cfvw"),o=n("lJxs"),a=n("cUpR");class l{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class u extends l{get formDirective(){return null}get path(){return null}}function c(e){return null==e||0===e.length}const h=new i.InjectionToken("NgValidators"),d=new i.InjectionToken("NgAsyncValidators"),p=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/;class f{static min(e){return t=>{if(c(t.value)||c(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}static max(e){return t=>{if(c(t.value)||c(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}static required(e){return c(e.value)?{required:!0}:null}static requiredTrue(e){return!0===e.value?null:{required:!0}}static email(e){return c(e.value)?null:p.test(e.value)?null:{email:!0}}static minLength(e){return t=>{if(c(t.value))return null;const n=t.value?t.value.length:0;return n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}static maxLength(e){return t=>{const n=t.value?t.value.length:0;return n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}static pattern(e){if(!e)return f.nullValidator;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),e=>{if(c(e.value))return null;const i=e.value;return t.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}static nullValidator(e){return null}static compose(e){if(!e)return null;const t=e.filter(g);return 0==t.length?null:function(e){return v(function(e,n){return t.map(t=>t(e))}(e))}}static composeAsync(e){if(!e)return null;const t=e.filter(g);return 0==t.length?null:function(e){const n=function(e,n){return t.map(t=>t(e))}(e).map(m);return Object(r.a)(n).pipe(Object(o.a)(v))}}}function g(e){return null!=e}function m(e){const t=Object(i["\u0275isPromise"])(e)?Object(s.a)(e):e;if(!Object(i["\u0275isObservable"])(t))throw new Error("Expected validator to return Promise or Observable.");return t}function v(e){const t=e.reduce((e,t)=>null!=t?Object.assign({},e,t):e,{});return 0===Object.keys(t).length?null:t}const y=new i.InjectionToken("NgValueAccessor"),_={provide:y,useExisting:Object(i.forwardRef)(()=>b),multi:!0};class b{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=(e=>{}),this.onTouched=(()=>{})}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}const w={provide:y,useExisting:Object(i.forwardRef)(()=>C),multi:!0},x=new i.InjectionToken("CompositionEventMode");class C{constructor(e,t,n){this._renderer=e,this._elementRef=t,this._compositionMode=n,this.onChange=(e=>{}),this.onTouched=(()=>{}),this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=Object(a.s)()?Object(a.s)().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}function S(e){return e.validate?t=>e.validate(t):e}function E(e){return e.validate?t=>e.validate(t):e}const T={provide:y,useExisting:Object(i.forwardRef)(()=>M),multi:!0};class M{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=(e=>{}),this.onTouched=(()=>{})}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=(t=>{e(""==t?null:parseFloat(t))})}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}function I(){throw new Error("unimplemented")}class O extends l{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return I()}get asyncValidator(){return I()}}const A={provide:y,useExisting:Object(i.forwardRef)(()=>k),multi:!0};class D{constructor(){this._accessors=[]}add(e,t){this._accessors.push([e,t])}remove(e){for(let t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}select(e){this._accessors.forEach(t=>{this._isSameGroup(t,e)&&t[1]!==e&&t[1].fireUncheck(e.value)})}_isSameGroup(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}class k{constructor(e,t,n,i){this._renderer=e,this._elementRef=t,this._registry=n,this._injector=i,this.onChange=(()=>{}),this.onTouched=(()=>{})}ngOnInit(){this._control=this._injector.get(O),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=(()=>{e(this.value),this._registry.select(this)})}fireUncheck(e){this.writeValue(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}const P={provide:y,useExisting:Object(i.forwardRef)(()=>R),multi:!0};class R{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=(e=>{}),this.onTouched=(()=>{})}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}registerOnChange(e){this.onChange=(t=>{e(""==t?null:parseFloat(t))})}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}const L={formControlName:'\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',formGroupName:'\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',formArrayName:'\n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });',ngModelGroup:'\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',ngModelWithFormGroup:'\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '};class N{static controlParentException(){throw new Error(`formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${L.formControlName}`)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${L.formGroupName}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${L.ngModelGroup}`)}static missingFormException(){throw new Error(`formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       ${L.formControlName}`)}static groupParentException(){throw new Error(`formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${L.formGroupName}`)}static arrayParentException(){throw new Error(`formArrayName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        ${L.formArrayName}`)}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(e){console.warn(`\n    It looks like you're using ngModel on the same form field as ${e}. \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===e?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}const F={provide:y,useExisting:Object(i.forwardRef)(()=>j),multi:!0};function V(e,t){return null==e?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}class j{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=(e=>{}),this.onTouched=(()=>{}),this._compareWith=i["\u0275looseIdentical"]}set compareWith(e){if("function"!=typeof e)throw new Error(`compareWith must be a function, but received ${JSON.stringify(e)}`);this._compareWith=e}writeValue(e){this.value=e;const t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=V(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(e){this.onChange=(t=>{this.value=this._getOptionValue(t),e(this.value)})}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t),e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}}class B{constructor(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(V(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}const z={provide:y,useExisting:Object(i.forwardRef)(()=>U),multi:!0};function H(e,t){return null==e?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}class U{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=(e=>{}),this.onTouched=(()=>{}),this._compareWith=i["\u0275looseIdentical"]}set compareWith(e){if("function"!=typeof e)throw new Error(`compareWith must be a function, but received ${JSON.stringify(e)}`);this._compareWith=e}writeValue(e){let t;if(this.value=e,Array.isArray(e)){const n=e.map(e=>this._getOptionId(e));t=((e,t)=>{e._setSelected(n.indexOf(t.toString())>-1)})}else t=((e,t)=>{e._setSelected(!1)});this._optionMap.forEach(t)}registerOnChange(e){this.onChange=(t=>{const n=[];if(t.hasOwnProperty("selectedOptions")){const e=t.selectedOptions;for(let t=0;t<e.length;t++){const i=e.item(t),r=this._getOptionValue(i.value);n.push(r)}}else{const e=t.options;for(let t=0;t<e.length;t++){const i=e.item(t);if(i.selected){const e=this._getOptionValue(i.value);n.push(e)}}}this.value=n,e(n)})}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(e){const t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t)._value,e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}}class G{constructor(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(H(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(H(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}function W(e,t){return[...t.path,e]}function $(e,t){e||K(t,"Cannot find control with"),t.valueAccessor||K(t,"No value accessor for form control with"),e.validator=f.compose([e.validator,t.validator]),e.asyncValidator=f.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&q(e,t)})}(e,t),function(e,t){e.registerOnChange((e,n)=>{t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&q(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange(e=>{t.valueAccessor.setDisabledState(e)}),t._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())}),t._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())})}function q(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Y(e,t){null==e&&K(t,"Cannot find control with"),e.validator=f.compose([e.validator,t.validator]),e.asyncValidator=f.composeAsync([e.asyncValidator,t.asyncValidator])}function Z(e){return K(e,"There is no FormControl instance attached to form control element with")}function K(e,t){let n;throw n=e.path.length>1?`path: '${e.path.join(" -> ")}'`:e.path[0]?`name: '${e.path}'`:"unspecified name attribute",new Error(`${t} ${n}`)}function X(e){return null!=e?f.compose(e.map(S)):null}function Q(e){return null!=e?f.composeAsync(e.map(E)):null}function J(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object(i["\u0275looseIdentical"])(t,n.currentValue)}const ee=[b,R,M,j,U,k];function te(e,t){e._syncPendingControls(),t.forEach(e=>{const t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function ne(e,t){if(!t)return null;Array.isArray(t)||K(e,"Value accessor was not provided as an array for form control with");let n=void 0,i=void 0,r=void 0;return t.forEach(t=>{t.constructor===C?n=t:function(e){return ee.some(t=>e.constructor===t)}(t)?(i&&K(e,"More than one built-in value accessor matches form control with"),i=t):(r&&K(e,"More than one custom value accessor matches form control with"),r=t)}),r||i||n||(K(e,"No valid value accessor for form control with"),null)}function ie(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function re(e,t,n,r){Object(i.isDevMode)()&&"never"!==r&&((null!==r&&"once"!==r||t._ngModelWarningSentOnce)&&("always"!==r||n._ngModelWarningSent)||(N.ngModelWarning(e),t._ngModelWarningSentOnce=!0,n._ngModelWarningSent=!0))}class se extends u{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return W(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return X(this._validators)}get asyncValidator(){return Q(this._asyncValidators)}_checkParentType(){}}class oe{constructor(e){this._cd=e}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}const ae={"[class.ng-untouched]":"ngClassUntouched","[class.ng-touched]":"ngClassTouched","[class.ng-pristine]":"ngClassPristine","[class.ng-dirty]":"ngClassDirty","[class.ng-valid]":"ngClassValid","[class.ng-invalid]":"ngClassInvalid","[class.ng-pending]":"ngClassPending"};class le extends oe{constructor(e){super(e)}}class ue extends oe{constructor(e){super(e)}}const ce="VALID",he="INVALID",de="PENDING",pe="DISABLED";function fe(e){const t=me(e)?e.validators:e;return Array.isArray(t)?X(t):t||null}function ge(e,t){const n=me(t)?t.asyncValidators:e;return Array.isArray(n)?Q(n):n||null}function me(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class ve{constructor(e,t){this.validator=e,this.asyncValidator=t,this._onCollectionChange=(()=>{}),this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return this.status===ce}get invalid(){return this.status===he}get pending(){return this.status==de}get disabled(){return this.status===pe}get enabled(){return this.status!==pe}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this.validator=fe(e)}setAsyncValidators(e){this.asyncValidator=ge(e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=de,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){this.status=pe,this.errors=null,this._forEachChild(t=>{t.disable(Object.assign({},e,{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(e),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){this.status=ce,this._forEachChild(t=>{t.enable(Object.assign({},e,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(e),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==ce&&this.status!==de||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?pe:ce}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=de;const t=m(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>this.setErrors(t,{emitEvent:e}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,n){return null==t?null:(t instanceof Array||(t=t.split(".")),t instanceof Array&&0===t.length?null:t.reduce((e,t)=>e instanceof _e?e.controls.hasOwnProperty(t)?e.controls[t]:null:e instanceof be&&e.at(t)||null,e))}(this,e)}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new i.EventEmitter,this.statusChanges=new i.EventEmitter}_calculateStatus(){return this._allControlsDisabled()?pe:this.errors?he:this._anyControlsHaveStatus(de)?de:this._anyControlsHaveStatus(he)?he:ce}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){me(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}}class ye extends ve{constructor(e=null,t,n){super(fe(t),ge(n,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=(()=>{})}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class _e extends ve{constructor(e,t,n){super(fe(t),ge(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){Object.keys(e).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e={},t={}){this._forEachChild((n,i)=>{n.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t),this._updatePristine(t),this._updateTouched(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t instanceof ye?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>e(this.controls[t],t))}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){let t=!1;return this._forEachChild((n,i)=>{t=t||this.contains(i)&&e(n)}),t}_reduceValue(){return this._reduceChildren({},(e,t,n)=>((t.enabled||this.disabled)&&(e[n]=t.value),e))}_reduceChildren(e,t){let n=e;return this._forEachChild((e,i)=>{n=t(n,e,i)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class be extends ve{constructor(e,t,n){super(fe(t),ge(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(e){return this.controls[e]}push(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}insert(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}removeAt(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e.forEach((e,n)=>{this.at(n)&&this.at(n).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e=[],t={}){this._forEachChild((n,i)=>{n.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t),this._updatePristine(t),this._updateTouched(t)}getRawValue(){return this.controls.map(e=>e instanceof ye?e.value:e.getRawValue())}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const we={provide:u,useExisting:Object(i.forwardRef)(()=>Ce)},xe=Promise.resolve(null);class Ce extends u{constructor(e,t){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new i.EventEmitter,this.form=new _e({},X(e),Q(t))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){xe.then(()=>{const t=this._findContainer(e.path);e.control=t.registerControl(e.name,e.control),$(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){xe.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name),ie(this._directives,e)})}addFormGroup(e){xe.then(()=>{const t=this._findContainer(e.path),n=new _e({});Y(n,e),t.registerControl(e.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){xe.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,t){xe.then(()=>{this.form.get(e.path).setValue(t)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,te(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}class Se{static modelParentException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup's partner directive "formControlName" instead.  Example:\n\n      ${L.formControlName}\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      ${L.ngModelWithFormGroup}`)}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${L.formGroupName}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${L.ngModelGroup}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${L.formGroupName}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${L.ngModelGroup}`)}static ngFormWarning(){console.warn("\n    It looks like you're using 'ngForm'.\n\n    Support for using the 'ngForm' element selector has been deprecated in Angular v6 and will be removed\n    in Angular v9.\n\n    Use 'ng-form' instead.\n\n    Before:\n    <ngForm #myForm=\"ngForm\">\n\n    After:\n    <ng-form #myForm=\"ngForm\">\n    ")}}const Ee=new i.InjectionToken("NgFormSelectorWarning");class Te{constructor(e){(e&&"once"!==e||Te._ngFormWarning)&&"always"!==e||(Se.ngFormWarning(),Te._ngFormWarning=!0)}}Te._ngFormWarning=!1;const Me={provide:u,useExisting:Object(i.forwardRef)(()=>Ie)};class Ie extends se{constructor(e,t,n){super(),this._parent=e,this._validators=t,this._asyncValidators=n}_checkParentType(){this._parent instanceof Ie||this._parent instanceof Ce||Se.modelGroupParentException()}}const Oe={provide:O,useExisting:Object(i.forwardRef)(()=>De)},Ae=Promise.resolve(null);class De extends O{constructor(e,t,n,r){super(),this.control=new ye,this._registered=!1,this.update=new i.EventEmitter,this._parent=e,this._rawValidators=t||[],this._rawAsyncValidators=n||[],this.valueAccessor=ne(this,r)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),J(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?W(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return X(this._rawValidators)}get asyncValidator(){return Q(this._rawAsyncValidators)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){$(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof Ie)&&this._parent instanceof se?Se.formGroupNameException():this._parent instanceof Ie||this._parent instanceof Ce||Se.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Se.missingNameException()}_updateValue(e){Ae.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const t=e.isDisabled.currentValue,n=""===t||t&&"false"!==t;Ae.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}const ke=new i.InjectionToken("NgModelWithFormControlWarning"),Pe={provide:O,useExisting:Object(i.forwardRef)(()=>Re)};class Re extends O{constructor(e,t,n,r){super(),this._ngModelWarningConfig=r,this.update=new i.EventEmitter,this._ngModelWarningSent=!1,this._rawValidators=e||[],this._rawAsyncValidators=t||[],this.valueAccessor=ne(this,n)}set isDisabled(e){N.disabledAttrWarning()}ngOnChanges(e){this._isControlChanged(e)&&($(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),J(e,this.viewModel)&&(re("formControl",Re,this,this._ngModelWarningConfig),this.form.setValue(this.model),this.viewModel=this.model)}get path(){return[]}get validator(){return X(this._rawValidators)}get asyncValidator(){return Q(this._rawAsyncValidators)}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}Re._ngModelWarningSentOnce=!1;const Le={provide:u,useExisting:Object(i.forwardRef)(()=>Ne)};class Ne extends u{constructor(e,t){super(),this._validators=e,this._asyncValidators=t,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new i.EventEmitter}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const t=this.form.get(e.path);return $(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}getControl(e){return this.form.get(e.path)}removeControl(e){ie(this.directives,e)}addFormGroup(e){const t=this.form.get(e.path);Y(t,e),t.updateValueAndValidity({emitEvent:!1})}removeFormGroup(e){}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){const t=this.form.get(e.path);Y(t,e),t.updateValueAndValidity({emitEvent:!1})}removeFormArray(e){}getFormArray(e){return this.form.get(e.path)}updateModel(e,t){this.form.get(e.path).setValue(t)}onSubmit(e){return this.submitted=!0,te(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const t=this.form.get(e.path);e.control!==t&&(function(e,t){t.valueAccessor.registerOnChange(()=>Z(t)),t.valueAccessor.registerOnTouched(()=>Z(t)),t._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(null)}),t._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(null)}),e&&e._clearChangeFns()}(e.control,e),t&&$(t,e),e.control=t)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const e=X(this._validators);this.form.validator=f.compose([this.form.validator,e]);const t=Q(this._asyncValidators);this.form.asyncValidator=f.composeAsync([this.form.asyncValidator,t])}_checkFormPresent(){this.form||N.missingFormException()}}const Fe={provide:u,useExisting:Object(i.forwardRef)(()=>Ve)};class Ve extends se{constructor(e,t,n){super(),this._parent=e,this._validators=t,this._asyncValidators=n}_checkParentType(){ze(this._parent)&&N.groupParentException()}}const je={provide:u,useExisting:Object(i.forwardRef)(()=>Be)};class Be extends u{constructor(e,t,n){super(),this._parent=e,this._validators=t,this._asyncValidators=n}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return W(this.name,this._parent)}get validator(){return X(this._validators)}get asyncValidator(){return Q(this._asyncValidators)}_checkParentType(){ze(this._parent)&&N.arrayParentException()}}function ze(e){return!(e instanceof Ve||e instanceof Ne||e instanceof Be)}const He={provide:O,useExisting:Object(i.forwardRef)(()=>Ue)};class Ue extends O{constructor(e,t,n,r,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new i.EventEmitter,this._ngModelWarningSent=!1,this._parent=e,this._rawValidators=t||[],this._rawAsyncValidators=n||[],this.valueAccessor=ne(this,r)}set isDisabled(e){N.disabledAttrWarning()}ngOnChanges(e){this._added||this._setUpControl(),J(e,this.viewModel)&&(re("formControlName",Ue,this,this._ngModelWarningConfig),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return W(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return X(this._rawValidators)}get asyncValidator(){return Q(this._rawAsyncValidators)}_checkParentType(){!(this._parent instanceof Ve)&&this._parent instanceof se?N.ngModelGroupException():this._parent instanceof Ve||this._parent instanceof Ne||this._parent instanceof Be||N.controlParentException()}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}Ue._ngModelWarningSentOnce=!1;const Ge={provide:h,useExisting:Object(i.forwardRef)(()=>$e),multi:!0},We={provide:h,useExisting:Object(i.forwardRef)(()=>qe),multi:!0};class $e{get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!==`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?f.required(e):null}registerOnValidatorChange(e){this._onChange=e}}class qe extends $e{validate(e){return this.required?f.requiredTrue(e):null}}const Ye={provide:h,useExisting:Object(i.forwardRef)(()=>Ze),multi:!0};class Ze{set email(e){this._enabled=""===e||!0===e||"true"===e,this._onChange&&this._onChange()}validate(e){return this._enabled?f.email(e):null}registerOnValidatorChange(e){this._onChange=e}}const Ke={provide:h,useExisting:Object(i.forwardRef)(()=>Xe),multi:!0};class Xe{ngOnChanges(e){"minlength"in e&&(this._createValidator(),this._onChange&&this._onChange())}validate(e){return null==this.minlength?null:this._validator(e)}registerOnValidatorChange(e){this._onChange=e}_createValidator(){this._validator=f.minLength(parseInt(this.minlength,10))}}const Qe={provide:h,useExisting:Object(i.forwardRef)(()=>Je),multi:!0};class Je{ngOnChanges(e){"maxlength"in e&&(this._createValidator(),this._onChange&&this._onChange())}validate(e){return null!=this.maxlength?this._validator(e):null}registerOnValidatorChange(e){this._onChange=e}_createValidator(){this._validator=f.maxLength(parseInt(this.maxlength,10))}}const et={provide:h,useExisting:Object(i.forwardRef)(()=>tt),multi:!0};class tt{ngOnChanges(e){"pattern"in e&&(this._createValidator(),this._onChange&&this._onChange())}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}_createValidator(){this._validator=f.pattern(this.pattern)}}class nt{group(e,t=null){const n=this._reduceControls(e);let i=null,r=null,s=void 0;return null!=t&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(i=null!=t.validators?t.validators:null,r=null!=t.asyncValidators?t.asyncValidators:null,s=null!=t.updateOn?t.updateOn:void 0):(i=null!=t.validator?t.validator:null,r=null!=t.asyncValidator?t.asyncValidator:null)),new _e(n,{asyncValidators:r,updateOn:s,validators:i})}control(e,t,n){return new ye(e,t,n)}array(e,t,n){const i=e.map(e=>this._createControl(e));return new be(i,t,n)}_reduceControls(e){const t={};return Object.keys(e).forEach(n=>{t[n]=this._createControl(e[n])}),t}_createControl(e){return e instanceof ye||e instanceof _e||e instanceof be?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}const it=new i.Version("7.2.0");class rt{}const st=[rt,B,G,C,M,R,b,j,U,k,le,ue,$e,Xe,Je,tt,qe,Ze],ot=[De,Ie,Ce,Te],at=[Re,Ne,Ue,Ve,Be];class lt{}class ut{static withConfig(e){return{ngModule:ut,providers:[{provide:Ee,useValue:e.warnOnDeprecatedNgFormSelector}]}}}class ct{static withConfig(e){return{ngModule:ct,providers:[{provide:ke,useValue:e.warnOnNgModelWithFormControl}]}}}},sVev:function(e,t,n){"use strict";function i(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}n.d(t,"a",function(){return r}),i.prototype=Object.create(Error.prototype);const r=i},sdDj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DomHandler=function(){function e(){}return e.addClass=function(e,t){e.classList?e.classList.add(t):e.className+=" "+t},e.addMultipleClasses=function(e,t){if(e.classList)for(var n=t.split(" "),i=0;i<n.length;i++)e.classList.add(n[i]);else for(n=t.split(" "),i=0;i<n.length;i++)e.className+=" "+n[i]},e.removeClass=function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")},e.hasClass=function(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)},e.siblings=function(e){return Array.prototype.filter.call(e.parentNode.children,function(t){return t!==e})},e.find=function(e,t){return Array.from(e.querySelectorAll(t))},e.findSingle=function(e,t){return e.querySelector(t)},e.index=function(e){for(var t=e.parentNode.childNodes,n=0,i=0;i<t.length;i++){if(t[i]==e)return n;1==t[i].nodeType&&n++}return-1},e.indexWithinGroup=function(e,t){for(var n=e.parentNode.childNodes,i=0,r=0;r<n.length;r++){if(n[r]==e)return i;n[r].attributes&&n[r].attributes[t]&&1==n[r].nodeType&&i++}return-1},e.relativePosition=function(e,t){var n,i,r=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),s=t.offsetHeight,o=t.offsetWidth,a=t.getBoundingClientRect(),l=(this.getWindowScrollTop(),this.getViewport());a.top+s+r.height>l.height?a.top+(n=-1*r.height)<0&&(n=0):n=s,i=a.left+r.width>l.width?o-r.width:0,e.style.top=n+"px",e.style.left=i+"px"},e.absolutePosition=function(e,t){var n,i,r=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),s=r.height,o=r.width,a=t.offsetHeight,l=t.offsetWidth,u=t.getBoundingClientRect(),c=this.getWindowScrollTop(),h=this.getWindowScrollLeft(),d=this.getViewport();u.top+a+s>d.height?(n=u.top+c-s)<0&&(n=0+c):n=a+u.top+c,i=u.left+l+o>d.width?u.left+h+l-o:u.left+h,e.style.top=n+"px",e.style.left=i+"px"},e.getHiddenElementOuterHeight=function(e){e.style.visibility="hidden",e.style.display="block";var t=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",t},e.getHiddenElementOuterWidth=function(e){e.style.visibility="hidden",e.style.display="block";var t=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",t},e.getHiddenElementDimensions=function(e){var t={};return e.style.visibility="hidden",e.style.display="block",t.width=e.offsetWidth,t.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",t},e.scrollInView=function(e,t){var n=getComputedStyle(e).getPropertyValue("borderTopWidth"),i=n?parseFloat(n):0,r=getComputedStyle(e).getPropertyValue("paddingTop"),s=r?parseFloat(r):0,o=e.getBoundingClientRect(),a=t.getBoundingClientRect().top+document.body.scrollTop-(o.top+document.body.scrollTop)-i-s,l=e.scrollTop,u=e.clientHeight,c=this.getOuterHeight(t);a<0?e.scrollTop=l+a:a+c>u&&(e.scrollTop=l+a-u+c)},e.fadeIn=function(e,t){e.style.opacity=0;var n=+new Date,i=0,r=function(){i=+e.style.opacity.replace(",",".")+((new Date).getTime()-n)/t,e.style.opacity=i,n=+new Date,+i<1&&(window.requestAnimationFrame&&requestAnimationFrame(r)||setTimeout(r,16))};r()},e.fadeOut=function(e,t){var n=1,i=50/t,r=setInterval(function(){(n-=i)<=0&&(n=0,clearInterval(r)),e.style.opacity=n},50)},e.getWindowScrollTop=function(){var e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)},e.getWindowScrollLeft=function(){var e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)},e.matches=function(e,t){var n=Element.prototype;return(n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||function(e){return-1!==[].indexOf.call(document.querySelectorAll(e),this)}).call(e,t)},e.getOuterWidth=function(e,t){var n=e.offsetWidth;if(t){var i=getComputedStyle(e);n+=parseFloat(i.marginLeft)+parseFloat(i.marginRight)}return n},e.getHorizontalPadding=function(e){var t=getComputedStyle(e);return parseFloat(t.paddingLeft)+parseFloat(t.paddingRight)},e.getHorizontalMargin=function(e){var t=getComputedStyle(e);return parseFloat(t.marginLeft)+parseFloat(t.marginRight)},e.innerWidth=function(e){var t=e.offsetWidth,n=getComputedStyle(e);return t+(parseFloat(n.paddingLeft)+parseFloat(n.paddingRight))},e.width=function(e){var t=e.offsetWidth,n=getComputedStyle(e);return t-(parseFloat(n.paddingLeft)+parseFloat(n.paddingRight))},e.getInnerHeight=function(e){var t=e.offsetHeight,n=getComputedStyle(e);return t+(parseFloat(n.paddingTop)+parseFloat(n.paddingBottom))},e.getOuterHeight=function(e,t){var n=e.offsetHeight;if(t){var i=getComputedStyle(e);n+=parseFloat(i.marginTop)+parseFloat(i.marginBottom)}return n},e.getHeight=function(e){var t=e.offsetHeight,n=getComputedStyle(e);return t-(parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)+parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth))},e.getWidth=function(e){var t=e.offsetWidth,n=getComputedStyle(e);return t-(parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)+parseFloat(n.borderLeftWidth)+parseFloat(n.borderRightWidth))},e.getViewport=function(){var e=window,t=document,n=t.documentElement,i=t.getElementsByTagName("body")[0];return{width:e.innerWidth||n.clientWidth||i.clientWidth,height:e.innerHeight||n.clientHeight||i.clientHeight}},e.getOffset=function(e){var t=e.getBoundingClientRect();return{top:t.top+document.body.scrollTop,left:t.left+document.body.scrollLeft}},e.replaceElementWith=function(e,t){var n=e.parentNode;if(!n)throw"Can't replace element";return n.replaceChild(t,e)},e.getUserAgent=function(){return navigator.userAgent},e.isIE=function(){var e=window.navigator.userAgent;return e.indexOf("MSIE ")>0||(e.indexOf("Trident/")>0?(e.indexOf("rv:"),!0):e.indexOf("Edge/")>0)},e.appendChild=function(e,t){if(this.isElement(t))t.appendChild(e);else{if(!t.el||!t.el.nativeElement)throw"Cannot append "+t+" to "+e;t.el.nativeElement.appendChild(e)}},e.removeChild=function(e,t){if(this.isElement(t))t.removeChild(e);else{if(!t.el||!t.el.nativeElement)throw"Cannot remove "+e+" from "+t;t.el.nativeElement.removeChild(e)}},e.isElement=function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName},e.calculateScrollbarWidth=function(){if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;var e=document.createElement("div");e.className="ui-scrollbar-measure",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),this.calculatedScrollbarWidth=t,t},e.calculateScrollbarHeight=function(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;var e=document.createElement("div");e.className="ui-scrollbar-measure",document.body.appendChild(e);var t=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),this.calculatedScrollbarWidth=t,t},e.invokeElementMethod=function(e,t,n){e[t].apply(e,n)},e.clearSelection=function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(e){}},e.getBrowser=function(){if(!this.browser){var e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser},e.resolveUserAgent=function(){var e=navigator.userAgent.toLowerCase(),t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e.isInteger=function(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},e.isHidden=function(e){return null===e.offsetParent},e.zindex=1e3,e.calculatedScrollbarWidth=null,e.calculatedScrollbarHeight=null,e}()},sy7D:function(e,t,n){var i=n("mrSG").__decorate,r=n("mrSG").__metadata;Object.defineProperty(t,"__esModule",{value:!0});var s=n("8Y7J"),o=n("SVse"),a=n("s7LF");t.RADIO_VALUE_ACCESSOR={provide:a.NG_VALUE_ACCESSOR,useExisting:s.forwardRef(function(){return l}),multi:!0};var l=function(){function e(e){this.cd=e,this.onClick=new s.EventEmitter,this.onModelChange=function(){},this.onModelTouched=function(){}}return e.prototype.handleClick=function(e,t,n){e.preventDefault(),this.disabled||(this.select(),n&&t.focus())},e.prototype.select=function(){this.disabled||(this.inputViewChild.nativeElement.checked=!0,this.checked=!0,this.onModelChange(this.value),this.onClick.emit(null))},e.prototype.writeValue=function(e){this.checked=e==this.value,this.inputViewChild.nativeElement&&(this.inputViewChild.nativeElement.checked=this.checked),this.cd.markForCheck()},e.prototype.registerOnChange=function(e){this.onModelChange=e},e.prototype.registerOnTouched=function(e){this.onModelTouched=e},e.prototype.setDisabledState=function(e){this.disabled=e},e.prototype.onFocus=function(e){this.focused=!0},e.prototype.onBlur=function(e){this.focused=!1,this.onModelTouched()},e.prototype.onChange=function(e){this.select()},i([s.Input(),r("design:type",Object)],e.prototype,"value",void 0),i([s.Input(),r("design:type",String)],e.prototype,"name",void 0),i([s.Input(),r("design:type",Boolean)],e.prototype,"disabled",void 0),i([s.Input(),r("design:type",String)],e.prototype,"label",void 0),i([s.Input(),r("design:type",Number)],e.prototype,"tabindex",void 0),i([s.Input(),r("design:type",String)],e.prototype,"inputId",void 0),i([s.Input(),r("design:type",Object)],e.prototype,"style",void 0),i([s.Input(),r("design:type",String)],e.prototype,"styleClass",void 0),i([s.Input(),r("design:type",String)],e.prototype,"labelStyleClass",void 0),i([s.Output(),r("design:type",s.EventEmitter)],e.prototype,"onClick",void 0),i([s.ViewChild("rb"),r("design:type",s.ElementRef)],e.prototype,"inputViewChild",void 0),i([s.Component({selector:"p-radioButton",template:'\n        <div [ngStyle]="style" [ngClass]="\'ui-radiobutton ui-widget\'" [class]="styleClass">\n            <div class="ui-helper-hidden-accessible">\n                <input #rb type="radio" [attr.id]="inputId" [attr.name]="name" [attr.value]="value" [attr.tabindex]="tabindex" \n                    [checked]="checked" (change)="onChange($event)" (focus)="onFocus($event)" (blur)="onBlur($event)" [disabled]="disabled">\n            </div>\n            <div (click)="handleClick($event, rb, true)"\n                [ngClass]="{\'ui-radiobutton-box ui-widget ui-state-default\':true,\n                \'ui-state-active\':rb.checked,\'ui-state-disabled\':disabled,\'ui-state-focus\':focused}">\n                <span class="ui-radiobutton-icon ui-clickable" [ngClass]="{\'pi pi-circle-on\':rb.checked}"></span>\n            </div>\n        </div>\n        <label (click)="select()" [class]="labelStyleClass"\n            [ngClass]="{\'ui-radiobutton-label\':true, \'ui-label-active\':rb.checked, \'ui-label-disabled\':disabled, \'ui-label-focus\':focused}"\n            *ngIf="label" [attr.for]="inputId">{{label}}</label>\n    ',providers:[t.RADIO_VALUE_ACCESSOR]})],e)}();t.RadioButton=l,t.RadioButtonModule=function(){return i([s.NgModule({imports:[o.CommonModule],exports:[l],declarations:[l]})],function(){})}()},vkgz:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("7o/Q"),r=n("KqfI"),s=n("n6bG");function o(e,t,n){return function(i){return i.lift(new a(e,t,n))}}class a{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new l(e,this.nextOrObserver,this.error,this.complete))}}class l extends i.a{constructor(e,t,n,i){super(e),this._tapNext=r.a,this._tapError=r.a,this._tapComplete=r.a,this._tapError=n||r.a,this._tapComplete=i||r.a,Object(s.a)(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||r.a,this._tapError=t.error||r.a,this._tapComplete=t.complete||r.a)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}},w1tV:function(e,t,n){"use strict";var i=n("EQ5u"),r=n("x+ZX"),s=n("XNiG");function o(){return new s.a}function a(){return e=>Object(r.a)()(function(e,t){return function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,i.b);return r.source=t,r.subjectFactory=n,r}}(o)(e))}n.d(t,"a",function(){return a})},"x+ZX":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("7o/Q");function r(){return function(e){return e.lift(new s(e))}}class s{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const i=new o(e,n),r=t.subscribe(i);return i.closed||(i.connection=n.connect()),r}}class o extends i.a{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,i=e._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}},xgIS:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n("HDdC"),r=n("DH7j"),s=n("n6bG"),o=n("lJxs");function a(e,t,n,l){return Object(s.a)(n)&&(l=n,n=void 0),l?a(e,t,n).pipe(Object(o.a)(e=>Object(r.a)(e)?l(...e):l(e))):new i.a(i=>{!function e(t,n,i,r,s){let o;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){const e=t;t.addEventListener(n,i,s),o=(()=>e.removeEventListener(n,i,s))}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){const e=t;t.on(n,i),o=(()=>e.off(n,i))}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){const e=t;t.addListener(n,i),o=(()=>e.removeListener(n,i))}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let o=0,a=t.length;o<a;o++)e(t[o],n,i,r,s)}r.add(o)}(e,t,function(e){i.next(arguments.length>1?Array.prototype.slice.call(arguments):e)},i,n)})}Object},xhcO:function(e,t,n){var i=n("mrSG").__decorate;Object.defineProperty(t,"__esModule",{value:!0});var r=n("8Y7J"),s=n("SVse"),o=function(){function e(e){this.el=e}return e.prototype.ngAfterViewInit=function(){window.Prism&&window.Prism.highlightElement(this.el.nativeElement)},i([r.Directive({selector:"[pCode]"})],e)}();t.CodeHighlighter=o,t.CodeHighlighterModule=function(){return i([r.NgModule({imports:[s.CommonModule],exports:[o],declarations:[o]})],function(){})}()},yCtX:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("HDdC"),r=n("quSY"),s=n("ngJS");function o(e,t){return new i.a(t?n=>{const i=new r.a;let s=0;return i.add(t.schedule(function(){s!==e.length?(n.next(e[s++]),n.closed||i.add(this.schedule())):n.complete()})),i}:Object(s.a)(e))}},yLV6:function(e,t,n){var i;!function(r,s,o,a){"use strict";var l,u=["","webkit","Moz","MS","ms","o"],c=s.createElement("div"),h="function",d=Math.round,p=Math.abs,f=Date.now;function g(e,t,n){return setTimeout(x(e,n),t)}function m(e,t,n){return!!Array.isArray(e)&&(v(e,n[t],n),!0)}function v(e,t,n){var i;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==a)for(i=0;i<e.length;)t.call(n,e[i],i,e),i++;else for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e)}function y(e,t,n){var i="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",s=r.console&&(r.console.warn||r.console.log);return s&&s.call(r.console,i,n),e.apply(this,arguments)}}l="function"!=typeof Object.assign?function(e){if(e===a||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!==a&&null!==i)for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])}return t}:Object.assign;var _=y(function(e,t,n){for(var i=Object.keys(t),r=0;r<i.length;)(!n||n&&e[i[r]]===a)&&(e[i[r]]=t[i[r]]),r++;return e},"extend","Use `assign`."),b=y(function(e,t){return _(e,t,!0)},"merge","Use `assign`.");function w(e,t,n){var i,r=t.prototype;(i=e.prototype=Object.create(r)).constructor=e,i._super=r,n&&l(i,n)}function x(e,t){return function(){return e.apply(t,arguments)}}function C(e,t){return typeof e==h?e.apply(t&&t[0]||a,t):e}function S(e,t){return e===a?t:e}function E(e,t,n){v(O(t),function(t){e.addEventListener(t,n,!1)})}function T(e,t,n){v(O(t),function(t){e.removeEventListener(t,n,!1)})}function M(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function I(e,t){return e.indexOf(t)>-1}function O(e){return e.trim().split(/\s+/g)}function A(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var i=0;i<e.length;){if(n&&e[i][n]==t||!n&&e[i]===t)return i;i++}return-1}function D(e){return Array.prototype.slice.call(e,0)}function k(e,t,n){for(var i=[],r=[],s=0;s<e.length;){var o=t?e[s][t]:e[s];A(r,o)<0&&i.push(e[s]),r[s]=o,s++}return n&&(i=t?i.sort(function(e,n){return e[t]>n[t]}):i.sort()),i}function P(e,t){for(var n,i,r=t[0].toUpperCase()+t.slice(1),s=0;s<u.length;){if((i=(n=u[s])?n+r:t)in e)return i;s++}return a}var R=1;function L(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||r}var N="ontouchstart"in r,F=P(r,"PointerEvent")!==a,V=N&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),j=25,B=1,z=4,H=8,U=1,G=2,W=4,$=8,q=16,Y=G|W,Z=$|q,K=Y|Z,X=["x","y"],Q=["clientX","clientY"];function J(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){C(e.options.enable,[e])&&n.handler(t)},this.init()}function ee(e,t,n){var i=n.pointers.length,r=n.changedPointers.length,s=t&B&&i-r==0,o=t&(z|H)&&i-r==0;n.isFirst=!!s,n.isFinal=!!o,s&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,i=t.pointers,r=i.length;n.firstInput||(n.firstInput=te(t)),r>1&&!n.firstMultiple?n.firstMultiple=te(t):1===r&&(n.firstMultiple=!1);var s=n.firstInput,o=n.firstMultiple,l=o?o.center:s.center,u=t.center=ne(i);t.timeStamp=f(),t.deltaTime=t.timeStamp-s.timeStamp,t.angle=oe(l,u),t.distance=se(l,u),function(e,t){var n=t.center,i=e.offsetDelta||{},r=e.prevDelta||{},s=e.prevInput||{};t.eventType!==B&&s.eventType!==z||(r=e.prevDelta={x:s.deltaX||0,y:s.deltaY||0},i=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=r.x+(n.x-i.x),t.deltaY=r.y+(n.y-i.y)}(n,t),t.offsetDirection=re(t.deltaX,t.deltaY);var c,h,d=ie(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=d.x,t.overallVelocityY=d.y,t.overallVelocity=p(d.x)>p(d.y)?d.x:d.y,t.scale=o?(c=o.pointers,se((h=i)[0],h[1],Q)/se(c[0],c[1],Q)):1,t.rotation=o?function(e,t){return oe(i[1],i[0],Q)+oe(e[1],e[0],Q)}(o.pointers):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,i,r,s,o=e.lastInterval||t,l=t.timeStamp-o.timeStamp;if(t.eventType!=H&&(l>j||o.velocity===a)){var u=t.deltaX-o.deltaX,c=t.deltaY-o.deltaY,h=ie(l,u,c);i=h.x,r=h.y,n=p(h.x)>p(h.y)?h.x:h.y,s=re(u,c),e.lastInterval=t}else n=o.velocity,i=o.velocityX,r=o.velocityY,s=o.direction;t.velocity=n,t.velocityX=i,t.velocityY=r,t.direction=s}(n,t);var g=e.element;M(t.srcEvent.target,g)&&(g=t.srcEvent.target),t.target=g}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function te(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:d(e.pointers[n].clientX),clientY:d(e.pointers[n].clientY)},n++;return{timeStamp:f(),pointers:t,center:ne(t),deltaX:e.deltaX,deltaY:e.deltaY}}function ne(e){var t=e.length;if(1===t)return{x:d(e[0].clientX),y:d(e[0].clientY)};for(var n=0,i=0,r=0;r<t;)n+=e[r].clientX,i+=e[r].clientY,r++;return{x:d(n/t),y:d(i/t)}}function ie(e,t,n){return{x:t/e||0,y:n/e||0}}function re(e,t){return e===t?U:p(e)>=p(t)?e<0?G:W:t<0?$:q}function se(e,t,n){n||(n=X);var i=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]];return Math.sqrt(i*i+r*r)}function oe(e,t,n){return n||(n=X),180*Math.atan2(t[n[1]]-e[n[1]],t[n[0]]-e[n[0]])/Math.PI}J.prototype={handler:function(){},init:function(){this.evEl&&E(this.element,this.evEl,this.domHandler),this.evTarget&&E(this.target,this.evTarget,this.domHandler),this.evWin&&E(L(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&T(this.element,this.evEl,this.domHandler),this.evTarget&&T(this.target,this.evTarget,this.domHandler),this.evWin&&T(L(this.element),this.evWin,this.domHandler)}};var ae={mousedown:B,mousemove:2,mouseup:z},le="mousedown",ue="mousemove mouseup";function ce(){this.evEl=le,this.evWin=ue,this.pressed=!1,J.apply(this,arguments)}w(ce,J,{handler:function(e){var t=ae[e.type];t&B&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=z),this.pressed&&(t&z&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))}});var he={pointerdown:B,pointermove:2,pointerup:z,pointercancel:H,pointerout:H},de={2:"touch",3:"pen",4:"mouse",5:"kinect"},pe="pointerdown",fe="pointermove pointerup pointercancel";function ge(){this.evEl=pe,this.evWin=fe,J.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}r.MSPointerEvent&&!r.PointerEvent&&(pe="MSPointerDown",fe="MSPointerMove MSPointerUp MSPointerCancel"),w(ge,J,{handler:function(e){var t=this.store,n=!1,i=e.type.toLowerCase().replace("ms",""),r=he[i],s=de[e.pointerType]||e.pointerType,o="touch"==s,a=A(t,e.pointerId,"pointerId");r&B&&(0===e.button||o)?a<0&&(t.push(e),a=t.length-1):r&(z|H)&&(n=!0),a<0||(t[a]=e,this.callback(this.manager,r,{pointers:t,changedPointers:[e],pointerType:s,srcEvent:e}),n&&t.splice(a,1))}});var me={touchstart:B,touchmove:2,touchend:z,touchcancel:H},ve="touchstart",ye="touchstart touchmove touchend touchcancel";function _e(){this.evTarget=ve,this.evWin=ye,this.started=!1,J.apply(this,arguments)}w(_e,J,{handler:function(e){var t=me[e.type];if(t===B&&(this.started=!0),this.started){var n=(function(e,t){var n=D(e.touches),i=D(e.changedTouches);return t&(z|H)&&(n=k(n.concat(i),"identifier",!0)),[n,i]}).call(this,e,t);t&(z|H)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}}});var be={touchstart:B,touchmove:2,touchend:z,touchcancel:H},we="touchstart touchmove touchend touchcancel";function xe(){this.evTarget=we,this.targetIds={},J.apply(this,arguments)}w(xe,J,{handler:function(e){var t=be[e.type],n=(function(e,t){var n=D(e.touches),i=this.targetIds;if(t&(2|B)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,s,o=D(e.changedTouches),a=[],l=this.target;if(s=n.filter(function(e){return M(e.target,l)}),t===B)for(r=0;r<s.length;)i[s[r].identifier]=!0,r++;for(r=0;r<o.length;)i[o[r].identifier]&&a.push(o[r]),t&(z|H)&&delete i[o[r].identifier],r++;return a.length?[k(s.concat(a),"identifier",!0),a]:void 0}).call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}});var Ce=2500;function Se(){J.apply(this,arguments);var e=x(this.handler,this);this.touch=new xe(this.manager,e),this.mouse=new ce(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function Ee(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var i=this.lastTouches;setTimeout(function(){var e=i.indexOf(n);e>-1&&i.splice(e,1)},Ce)}}w(Se,J,{handler:function(e,t,n){var i="mouse"==n.pointerType;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if("touch"==n.pointerType)(function(e,t){e&B?(this.primaryTouch=t.changedPointers[0].identifier,Ee.call(this,t)):e&(z|H)&&Ee.call(this,t)}).call(this,t,n);else if(i&&(function(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],s=Math.abs(t-r.x),o=Math.abs(n-r.y);if(s<=25&&o<=25)return!0}return!1}).call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Te=P(c.style,"touchAction"),Me=Te!==a,Ie=function(){if(!Me)return!1;var e={},t=r.CSS&&r.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){e[n]=!t||r.CSS.supports("touch-action",n)}),e}();function Oe(e,t){this.manager=e,this.set(t)}Oe.prototype={set:function(e){"compute"==e&&(e=this.compute()),Me&&this.manager.element.style&&Ie[e]&&(this.manager.element.style[Te]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return v(this.manager.recognizers,function(t){C(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),function(e){if(I(e,"none"))return"none";var t=I(e,"pan-x"),n=I(e,"pan-y");return t&&n?"none":t||n?t?"pan-x":"pan-y":I(e,"manipulation")?"manipulation":"auto"}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var i=this.actions,r=I(i,"none")&&!Ie.none,s=I(i,"pan-y")&&!Ie["pan-y"],o=I(i,"pan-x")&&!Ie["pan-x"];if(r&&1===e.pointers.length&&e.distance<2&&e.deltaTime<250)return;if(!o||!s)return r||s&&n&Y||o&&n&Z?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var Ae=1,De=2,ke=4,Pe=8,Re=Pe,Le=16;function Ne(e){this.options=l({},this.defaults,e||{}),this.id=R++,this.manager=null,this.options.enable=S(this.options.enable,!0),this.state=Ae,this.simultaneous={},this.requireFail=[]}function Fe(e){return e&Le?"cancel":e&Pe?"end":e&ke?"move":e&De?"start":""}function Ve(e){return e==q?"down":e==$?"up":e==G?"left":e==W?"right":""}function je(e,t){var n=t.manager;return n?n.get(e):e}function Be(){Ne.apply(this,arguments)}function ze(){Be.apply(this,arguments),this.pX=null,this.pY=null}function He(){Be.apply(this,arguments)}function Ue(){Ne.apply(this,arguments),this._timer=null,this._input=null}function Ge(){Be.apply(this,arguments)}function We(){Be.apply(this,arguments)}function $e(){Ne.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function qe(e,t){return(t=t||{}).recognizers=S(t.recognizers,qe.defaults.preset),new Ye(e,t)}function Ye(e,t){var n;this.options=l({},qe.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new((n=this).options.inputClass||(F?ge:V?xe:N?Se:ce))(n,ee),this.touchAction=new Oe(this,this.options.touchAction),Ze(this,!0),v(this.options.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function Ze(e,t){var n,i=e.element;i.style&&(v(e.options.cssProps,function(r,s){n=P(i.style,s),t?(e.oldCssProps[n]=i.style[n],i.style[n]=r):i.style[n]=e.oldCssProps[n]||""}),t||(e.oldCssProps={}))}Ne.prototype={defaults:{},set:function(e){return l(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(m(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=je(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return m(e,"dropRecognizeWith",this)?this:(e=je(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(m(e,"requireFailure",this))return this;var t=this.requireFail;return-1===A(t,e=je(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(m(e,"dropRequireFailure",this))return this;e=je(e,this);var t=A(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function i(n){t.manager.emit(n,e)}n<Pe&&i(t.options.event+Fe(n)),i(t.options.event),e.additionalEvent&&i(e.additionalEvent),n>=Pe&&i(t.options.event+Fe(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=32},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(32|Ae)))return!1;e++}return!0},recognize:function(e){var t=l({},e);if(!C(this.options.enable,[this,t]))return this.reset(),void(this.state=32);this.state&(Re|Le|32)&&(this.state=Ae),this.state=this.process(t),this.state&(De|ke|Pe|Le)&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},w(Be,Ne,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,i=t&(De|ke),r=this.attrTest(e);return i&&(n&H||!r)?t|Le:i||r?n&z?t|Pe:t&De?t|ke:De:32}}),w(ze,Be,{defaults:{event:"pan",threshold:10,pointers:1,direction:K},getTouchAction:function(){var e=this.options.direction,t=[];return e&Y&&t.push("pan-y"),e&Z&&t.push("pan-x"),t},directionTest:function(e){var t=this.options,n=!0,i=e.distance,r=e.direction,s=e.deltaX,o=e.deltaY;return r&t.direction||(t.direction&Y?(r=0===s?U:s<0?G:W,n=s!=this.pX,i=Math.abs(e.deltaX)):(r=0===o?U:o<0?$:q,n=o!=this.pY,i=Math.abs(e.deltaY))),e.direction=r,n&&i>t.threshold&&r&t.direction},attrTest:function(e){return Be.prototype.attrTest.call(this,e)&&(this.state&De||!(this.state&De)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=Ve(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),w(He,Be,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&De)},emit:function(e){1!==e.scale&&(e.additionalEvent=this.options.event+(e.scale<1?"in":"out")),this._super.emit.call(this,e)}}),w(Ue,Ne,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,r=e.deltaTime>t.time;if(this._input=e,!i||!n||e.eventType&(z|H)&&!r)this.reset();else if(e.eventType&B)this.reset(),this._timer=g(function(){this.state=Re,this.tryEmit()},t.time,this);else if(e.eventType&z)return Re;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===Re&&(e&&e.eventType&z?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=f(),this.manager.emit(this.options.event,this._input)))}}),w(Ge,Be,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&De)}}),w(We,Be,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Y|Z,pointers:1},getTouchAction:function(){return ze.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return n&(Y|Z)?t=e.overallVelocity:n&Y?t=e.overallVelocityX:n&Z&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&p(t)>this.options.velocity&&e.eventType&z},emit:function(e){var t=Ve(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),w($e,Ne,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,r=e.deltaTime<t.time;if(this.reset(),e.eventType&B&&0===this.count)return this.failTimeout();if(i&&r&&n){if(e.eventType!=z)return this.failTimeout();var s=!this.pTime||e.timeStamp-this.pTime<t.interval,o=!this.pCenter||se(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,o&&s?this.count+=1:this.count=1,this._input=e,0==this.count%t.taps)return this.hasRequireFailures()?(this._timer=g(function(){this.state=Re,this.tryEmit()},t.interval,this),De):Re}return 32},failTimeout:function(){return this._timer=g(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Re&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),qe.VERSION="2.0.7",qe.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Ge,{enable:!1}],[He,{enable:!1},["rotate"]],[We,{direction:Y}],[ze,{direction:Y},["swipe"]],[$e],[$e,{event:"doubletap",taps:2},["tap"]],[Ue]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Ye.prototype={set:function(e){return l(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var i=this.recognizers,r=t.curRecognizer;(!r||r&&r.state&Re)&&(r=t.curRecognizer=null);for(var s=0;s<i.length;)n=i[s],2===t.stopped||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(e),!r&&n.state&(De|ke|Pe)&&(r=t.curRecognizer=n),s++}},get:function(e){if(e instanceof Ne)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(m(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(m(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=A(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==a&&t!==a){var n=this.handlers;return v(O(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this}},off:function(e,t){if(e!==a){var n=this.handlers;return v(O(e),function(e){t?n[e]&&n[e].splice(A(n[e],t),1):delete n[e]}),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var n=s.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](t),i++}},destroy:function(){this.element&&Ze(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},l(qe,{INPUT_START:B,INPUT_MOVE:2,INPUT_END:z,INPUT_CANCEL:H,STATE_POSSIBLE:Ae,STATE_BEGAN:De,STATE_CHANGED:ke,STATE_ENDED:Pe,STATE_RECOGNIZED:Re,STATE_CANCELLED:Le,STATE_FAILED:32,DIRECTION_NONE:U,DIRECTION_LEFT:G,DIRECTION_RIGHT:W,DIRECTION_UP:$,DIRECTION_DOWN:q,DIRECTION_HORIZONTAL:Y,DIRECTION_VERTICAL:Z,DIRECTION_ALL:K,Manager:Ye,Input:J,TouchAction:Oe,TouchInput:xe,MouseInput:ce,PointerEventInput:ge,TouchMouseInput:Se,SingleTouchInput:_e,Recognizer:Ne,AttrRecognizer:Be,Tap:$e,Pan:ze,Swipe:We,Pinch:He,Rotate:Ge,Press:Ue,on:E,off:T,each:v,merge:b,extend:_,assign:l,inherit:w,bindFn:x,prefixed:P}),(void 0!==r?r:"undefined"!=typeof self?self:{}).Hammer=qe,(i=(function(){return qe}).call(t,n,t,e))===a||(e.exports=i)}(window,document)},"z+Ro":function(e,t,n){"use strict";function i(e){return e&&"function"==typeof e.schedule}n.d(t,"a",function(){return i})},z6cu:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("HDdC");function r(e,t){return new i.a(t?n=>t.schedule(s,0,{error:e,subscriber:n}):t=>t.error(e))}function s({error:e,subscriber:t}){t.error(e)}},zUnb:function(e,t,n){"use strict";n.r(t),n("yLV6");var i=n("8Y7J");const r={hasBackdrop:!1};class s{}var o=n("mrSG"),a=n("2Vo4"),l=n("HDdC"),u=n("XNiG"),c=n("qgXg"),h=n("pxpQ"),d=n("l7GE"),p=n("ZUHj");class f{constructor(e,t){this.observables=e,this.project=t}call(e,t){return t.subscribe(new g(e,this.observables,this.project))}}class g extends d.a{constructor(e,t,n){super(e),this.observables=t,this.project=n,this.toRespond=[];const i=t.length;this.values=new Array(i);for(let r=0;r<i;r++)this.toRespond.push(r);for(let r=0;r<i;r++){let e=t[r];this.add(Object(p.a)(this,e,e,r))}}notifyNext(e,t,n,i,r){this.values[n]=t;const s=this.toRespond;if(s.length>0){const e=s.indexOf(n);-1!==e&&s.splice(e,1)}}notifyComplete(){}_next(e){if(0===this.toRespond.length){const t=[e,...this.values];this.project?this._tryProject(t):this.destination.next(t)}}_tryProject(e){let t;try{t=this.project.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}var m=n("Kqap"),v=n("lJxs"),y=n("7o/Q"),_=n("mtqP"),b=n("dJRF");class w{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new x(e,this.compare,this.keySelector))}}class x extends y.a{constructor(e,t,n){super(e),this.keySelector=n,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t=e;if(this.keySelector&&(t=Object(_.a)(this.keySelector)(e))===b.a)return this.destination.error(b.a.e);let n=!1;if(this.hasKey){if((n=Object(_.a)(this.compare)(this.key,t))===b.a)return this.destination.error(b.a.e)}else this.hasKey=!0;!1===Boolean(n)&&(this.key=t,this.destination.next(e))}}const C="@ngrx/store/init";class S extends a.a{constructor(){super({type:C})}next(e){if(void 0===e)throw new TypeError("Actions must be objects");if(void 0===e.type)throw new TypeError("Actions must have a type property");super.next(e)}complete(){}ngOnDestroy(){super.complete()}}const E=new i.InjectionToken("@ngrx/store Internal Initial State"),T=new i.InjectionToken("@ngrx/store Initial State"),M=new i.InjectionToken("@ngrx/store Reducer Factory"),I=new i.InjectionToken("@ngrx/store Reducer Factory Provider"),O=new i.InjectionToken("@ngrx/store Initial Reducers"),A=new i.InjectionToken("@ngrx/store Internal Initial Reducers"),D=new i.InjectionToken("@ngrx/store Meta Reducers"),k=new i.InjectionToken("@ngrx/store Internal Store Reducers");function P(e,t={}){const n=Object.keys(e),i={};for(let s=0;s<n.length;s++){const t=n[s];"function"==typeof e[t]&&(i[t]=e[t])}const r=Object.keys(i);return function(e,n){e=void 0===e?t:e;let s=!1;const o={};for(let t=0;t<r.length;t++){const a=r[t],l=e[a],u=(0,i[a])(l,n);o[a]=u,s=s||u!==l}return s?o:e}}function R(...e){return function(t){if(0===e.length)return t;const n=e[e.length-1];return e.slice(0,-1).reduceRight((e,t)=>t(e),n(t))}}function L(e,t){return Array.isArray(t)&&t.length>0?R.apply(null,[...t,e]):e}class N extends l.a{}class F extends S{}const V="@ngrx/store/update-reducers";class j extends a.a{constructor(e,t,n,i){super(i(n,t)),this.dispatcher=e,this.initialState=t,this.reducers=n,this.reducerFactory=i}addFeature(e){this.addFeatures([e])}addFeatures(e){const t=e.reduce((e,{reducers:t,reducerFactory:n,metaReducers:i,initialState:r,key:s})=>{const o="function"==typeof t?function(e){const t=Array.isArray(e)&&e.length>0?R(...e):e=>e;return(e,n)=>(e=t(e),(t,i)=>e(t=void 0===t?n:t,i))}(i)(t,r):L(n,i)(t,r);return e[s]=o,e},{});this.addReducers(t)}removeFeature(e){this.removeFeatures([e])}removeFeatures(e){this.removeReducers(e.map(e=>e.key))}addReducer(e,t){this.addReducers({[e]:t})}addReducers(e){this.reducers=Object.assign({},this.reducers,e),this.updateReducers(Object.keys(e))}removeReducer(e){this.removeReducers([e])}removeReducers(e){e.forEach(e=>{this.reducers=function(e,t){return Object.keys(e).filter(e=>e!==t).reduce((t,n)=>Object.assign(t,{[n]:e[n]}),{})}(this.reducers,e)}),this.updateReducers(e)}updateReducers(e){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:V,features:e})}ngOnDestroy(){this.complete()}}class B extends u.a{ngOnDestroy(){this.complete()}}class z extends l.a{}class H extends a.a{constructor(e,t,n,i){super(i);const r={state:i},s=e.pipe(Object(h.b)(c.a)).pipe(function(...e){return t=>{let n;return"function"==typeof e[e.length-1]&&(n=e.pop()),t.lift(new f(e,n))}}(t)).pipe(Object(m.a)(U,r));this.stateSubscription=s.subscribe(({state:e,action:t})=>{this.next(e),n.next(t)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}function U(e={state:void 0},[t,n]){const{state:i}=e;return{state:n(i,t),action:t}}H.INIT=C;class G extends l.a{constructor(e,t,n){super(),this.actionsObserver=t,this.reducerManager=n,this.source=e}select(e,...t){return(function(e,t,...n){return function(i){let r;if("string"==typeof e){const s=[t,...n].filter(Boolean);r=i.pipe(function(...e){const t=e.length;if(0===t)throw new Error("list of properties cannot be empty.");return n=>Object(v.a)(function(e,t){return n=>{let i=n;for(let r=0;r<t;r++){const t=i[e[r]];if(void 0===t)return;i=t}return i}}(e,t))(n)}(e,...s))}else{if("function"!=typeof e)throw new TypeError(`Unexpected type '${typeof e}' in select operator,`+" expected 'string' or 'function'");r=i.pipe(Object(v.a)(n=>e(n,t)))}return r.pipe(e=>e.lift(new w(void 0,void 0)))}}).call(null,e,...t)(this)}lift(e){const t=new G(this,this.actionsObserver,this.reducerManager);return t.operator=e,t}dispatch(e){this.actionsObserver.next(e)}next(e){this.actionsObserver.next(e)}error(e){this.actionsObserver.error(e)}complete(){this.actionsObserver.complete()}addReducer(e,t){this.reducerManager.addReducer(e,t)}removeReducer(e){this.reducerManager.removeReducer(e)}}function W(e,t){return e===t}function $(e,t=W,n=W){let i=null,r=null;return{memoized:function(){if(!i)return r=e.apply(null,arguments),i=arguments,r;if(!function(e,t,n){for(let i=0;i<e.length;i++)if(!n(e[i],t[i]))return!0;return!1}(arguments,i,t))return r;i=arguments;const s=e.apply(null,arguments);return n(r,s)?r:(r=s,s)},reset:function(){i=null,r=null}}}function q(...e){return function(e,t={stateFn:Y}){return function(...n){let i=n;if(Array.isArray(i[0])){const[e,...t]=i;i=[...e,...t]}const r=i.slice(0,i.length-1),s=i[i.length-1],o=r.filter(e=>e.release&&"function"==typeof e.release),a=e(function(...e){return s.apply(null,e)}),l=$(function(e,n){return 0===r.length?s.apply(null,[e,n]):t.stateFn.apply(null,[e,r,n,a])});return Object.assign(l.memoized,{release:function(){l.reset(),a.reset(),o.forEach(e=>e.release())},projector:a.memoized})}}($)(...e)}function Y(e,t,n,i){if(void 0===n){const n=t.map(t=>t(e));return i.memoized.apply(null,n)}const r=t.map(t=>t(e,n));return i.memoized.apply(null,[...r,n])}class Z{constructor(e,t,n,i){}}function K(e,t,n){return t instanceof i.InjectionToken?e.get(t):t}function X(e){return"function"==typeof e?e():e}var Q=n("LvDl");const J="CHANGE_LAYER",ee="CHANGE_DEBUG",te="SCAN_PIECES",ne="CHANGE_BRIMMODE",ie="CHANGE_RADIUS",re="CHANGE_SLICE",se="SET_BRIM",oe={layer:{visible:!0,top:6836},debug:{axesHelper:!0,wireframe:!1,normals:!1,ground:!1},scanPieces:{minx:0,maxx:0,miny:0,maxy:0,minz:0,maxz:0,allZ:[]},parameters:{radius:4,slice:.5},brimMode:"cross",brims:[]};class ae{constructor(e){this._store=e,this.getParametersState=q(e=>e.parameters,e=>e),this.getLayerState=q(this.getParametersState,e=>e.layer),this.getDebugState=q(this.getParametersState,e=>e.debug),this.getScanPieces=q(this.getParametersState,e=>e.scanPieces),this.getRadius=q(this.getParametersState,e=>e.parameters.radius),this.getSlice=q(this.getParametersState,e=>e.parameters.slice),this.getBrims=q(this.getParametersState,e=>e.brims),this.getParameterss=q(this.getParametersState,e=>e.parameters)}static reducer(e=oe,t){switch(t.type){case se:return{layer:e.layer,debug:e.debug,scanPieces:e.scanPieces,brimMode:e.brimMode,parameters:e.parameters,brims:Q.concat([],t.payload.brim)};case J:return{layer:t.payload,debug:e.debug,scanPieces:e.scanPieces,brimMode:e.brimMode,parameters:e.parameters,brims:e.brims};case ne:return{layer:e.layer,debug:e.debug,scanPieces:e.scanPieces,brimMode:t.payload.brimMode,parameters:e.parameters,brims:e.brims};case ie:return{layer:e.layer,debug:e.debug,scanPieces:e.scanPieces,brimMode:e.brimMode,parameters:{slice:e.parameters.slice,radius:t.payload.radius},brims:e.brims};case re:return{layer:e.layer,debug:e.debug,scanPieces:e.scanPieces,brimMode:e.brimMode,parameters:{slice:t.payload.slice,radius:e.parameters.radius},brims:e.brims};case ee:return{layer:e.layer,debug:{axesHelper:void 0===t.payload.axesHelper?e.debug.axesHelper:t.payload.axesHelper,wireframe:void 0===t.payload.wireframe?e.debug.wireframe:t.payload.wireframe,normals:void 0===t.payload.normals?e.debug.normals:t.payload.normals,ground:void 0===t.payload.ground?e.debug.ground:t.payload.ground},scanPieces:e.scanPieces,brimMode:e.brimMode,parameters:e.parameters,brims:e.brims};case te:return{layer:e.layer,debug:e.debug,scanPieces:{minx:t.payload.minx,maxx:t.payload.maxx,miny:t.payload.miny,maxy:t.payload.maxy,minz:t.payload.minz,maxz:t.payload.maxz,allZ:t.payload.allZ},parameters:e.parameters,brims:e.brims,brimMode:e.brimMode};default:return e}}layers(){return this._store.select(this.getLayerState)}debugs(){return this._store.select(this.getDebugState)}scanPieces(){return this._store.select(this.getScanPieces)}radius(){return this._store.select(this.getRadius)}slice(){return this._store.select(this.getSlice)}brims(){return this._store.select(this.getBrims)}parameters(){return this._store.select(this.getParameterss)}dispatch(e){console.log("dispatch",e.type,e.payload),this._store.dispatch(e)}}ae.ngInjectableDef=i.defineInjectable({factory:function(){return new ae(i.inject(G))},token:ae,providedIn:"root"});var le=n("Womt");class ue{constructor(e,t){this.radius=.5,this.height=50,this.create(e,t)}enable(e){this.xAxisMesh.visible=e,this.yAxisMesh.visible=e,this.zAxisMesh.visible=e}create(e,t){if(!this.xAxisMesh){let t=new le.CylinderGeometry(0,2*this.radius,this.height/5),n=new le.MeshBasicMaterial({color:16711680}),i=new le.CylinderGeometry(this.radius,this.radius,this.height);this.xAxisMesh=new le.Mesh(i,n);let r=new le.Mesh(t,n);this.xAxisMesh.add(r),r.position.y+=this.height/2,this.xAxisMesh.rotation.z-=90*Math.PI/180,this.xAxisMesh.position.x+=this.height/2,e.add(this.xAxisMesh);let s=new le.MeshBasicMaterial({color:65280}),o=new le.CylinderGeometry(this.radius,this.radius,this.height);this.yAxisMesh=new le.Mesh(o,s);let a=new le.Mesh(t,s);this.yAxisMesh.add(a),a.position.y+=this.height/2,this.yAxisMesh.position.y+=this.height/2,e.add(this.yAxisMesh);let l=new le.MeshBasicMaterial({color:255}),u=new le.CylinderGeometry(this.radius,this.radius,this.height);this.zAxisMesh=new le.Mesh(u,l);let c=new le.Mesh(t,l);this.zAxisMesh.add(c),this.zAxisMesh.rotation.x+=90*Math.PI/180,c.position.y+=this.height/2,this.zAxisMesh.position.z+=this.height/2,e.add(this.zAxisMesh)}this.xAxisMesh.visible=t,this.yAxisMesh.visible=t,this.zAxisMesh.visible=t}}var ce=n("IiLU");class he{constructor(e){this.name=e,this.meshes=[],this.internalPoints=[]}add(e,t,n,i){this.internalPoints.length>0&&this.internalPoints[0].origin.x===e&&this.internalPoints[0].origin.y===t||this.internalPoints.push({origin:new ce.Point(e,t),normal:new ce.Point(n,i)})}points(){return this.internalPoints}isOpen(){return this.area()-this.areaNormal()<0}position(){let e=0,t=0;return Q.each(this.internalPoints,n=>{n.origin.x<e&&(e=n.origin.x),n.origin.x<e&&(t=n.origin.y)}),new ce.Point(e,t)}area(){const e=[];return Q.each(this.internalPoints,t=>{e.push(new le.Vector2(t.origin.x,t.origin.y))}),Math.abs(le.ShapeUtils.area(e))}areaNormal(){const e=[];return Q.each(this.internalPoints,t=>{e.push(new le.Vector2(t.origin.x+t.normal.x,t.origin.y+t.normal.y))}),Math.abs(le.ShapeUtils.area(e))}}class de{static intersect(e,t,n){const i=[],r=[];return Q.each(n.children,e=>{const n=e.geometry;let s=de.filter(n,t);const o=Q.filter(s,e=>1===e.normal.z),a=Q.filter(s,e=>-1===e.normal.z);o.length>0||(a.length>0&&(t.constant+=.05,s=de.filter(n,t)),Q.each(s,e=>{const r=new le.Line3(n.vertices[e.a],n.vertices[e.b]),s=new le.Line3(n.vertices[e.b],n.vertices[e.c]),o=new le.Line3(n.vertices[e.c],n.vertices[e.a]),a=[];let l;l=new le.Vector3,t.intersectLine(r,l)&&a.push(l.clone()),l=new le.Vector3,t.intersectLine(s,l)&&a.push(l.clone()),l=new le.Vector3,t.intersectLine(o,l)&&a.push(l.clone()),i.push({start:a[0],end:a[1],linked:!1,normal:e.normal})}),de.findAllChains(e.name,i,r))}),Q.sortBy(r,e=>{const t=e.position();return 1e6*t.y+t.x})}static filter(e,t){return Q.filter(e.faces,n=>{const i=new le.Line3(e.vertices[n.a],e.vertices[n.b]),r=new le.Line3(e.vertices[n.b],e.vertices[n.c]),s=new le.Line3(e.vertices[n.c],e.vertices[n.a]),o=t.intersectsLine(i)||t.intersectsLine(r)||t.intersectsLine(s),a=0===Math.abs(t.distanceToPoint(e.vertices[n.a]))||0===Math.abs(t.distanceToPoint(e.vertices[n.b]))||0===Math.abs(t.distanceToPoint(e.vertices[n.c]));return o||a})}static findAllChains(e,t,n){let i,r=1;for(i=de.findNextChain(t);i&&i.length>0;){const s=new he(e+".shape#"+r++),o=new le.Geometry;Q.each(i,e=>{o.vertices.push(e.start),o.vertices.push(e.end)}),s.meshes.push(new le.LineSegments(o,new le.LineBasicMaterial({name:"contour",color:3754411,linewidth:10})));const a=new le.Geometry;Q.each(i,e=>{a.vertices.push(e.start);let t=e.start.clone();t.x+=e.normal.x,t.y+=e.normal.y,t.z+=e.normal.z,a.vertices.push(t),a.vertices.push(e.start),a.vertices.push(e.end),a.vertices.push(e.end),(t=e.end.clone()).x+=e.normal.x,t.y+=e.normal.y,t.z+=e.normal.z,a.vertices.push(t)}),s.normals=new le.LineSegments(a,new le.LineBasicMaterial({name:"normals",color:0,linewidth:10,visible:!0}));let l=0;Q.each(i,e=>{0===l&&s.add(e.start.x,e.start.y,e.normal.x,e.normal.y),s.add(e.end.x,e.end.y,e.normal.x,e.normal.y),l++}),n.push(s),i=de.findNextChain(t)}}static split(e,t,n){const i=new le.Geometry;return Q.each(de.splitWithDuplicates(e,t,n),e=>{i.vertices.push(e)}),i.mergeVertices(),i.vertices}static splitWithDuplicates(e,t,n){const i=[],r=new le.Geometry;return r.vertices.push(e),r.vertices.push(t),r.computeBoundingSphere(),2*r.boundingSphere.radius>n?(Q.each(de.split(e,r.boundingSphere.center,n),e=>{i.push(e)}),Q.each(de.split(r.boundingSphere.center,t,n),e=>{i.push(e)}),i.push(e),i.push(t),i):i}static findNextChain(e){const t=[];let n=Q.find(e,e=>!1===e.linked);if(n)for(n.linked=!0;n;)t.push(n),n=de.findNext(n,e);return t}static findNext(e,t){const n=Q.find(t,t=>!0!==t.linked&&de.compare(e.end,t.start));if(n)return n.linked=!0,{start:n.start,end:n.end,normal:n.normal,linked:!0};const i=Q.find(t,t=>!0!==t.linked&&de.compare(e.end,t.end));return i?(i.linked=!0,{start:i.end,end:i.start,normal:i.normal,linked:!0}):void 0}static compare(e,t){return Math.round(1e4*e.x+Number.EPSILON)/1e4==Math.round(1e4*t.x+Number.EPSILON)/1e4&&Math.round(1e4*e.y+Number.EPSILON)/1e4==Math.round(1e4*t.y+Number.EPSILON)/1e4&&Math.round(1e4*e.z+Number.EPSILON)/1e4==Math.round(1e4*t.z+Number.EPSILON)/1e4}}class pe{constructor(e){this.parametersService=e,this._radius=1,this._tolerance=.01,this.radiusStream=this.parametersService.radius(),this.radiusSubscription=this.radiusStream.subscribe(e=>{this.setRadius(e)},e=>console.error(e),()=>{})}get layer(){return this._layer||(this._layer=new le.Plane(new le.Vector3(0,0,-1),0)),this._layer}setRadius(e){console.log("Set radius",e),this._radius=e}moveToZ(e,t,n){return this._layer.constant=n,this._areas=de.intersect(this._radius,this._layer,t),this._areas}getAreas(){return this._areas}getStart(){return{x:0,y:0,radius:this._radius}}}pe.ngInjectableDef=i.defineInjectable({factory:function(){return new pe(i.inject(ae))},token:pe,providedIn:"root"});class fe{static GridHelper(e,t,n,i){e=e||10,t=t||10,n=new le.Color(void 0!==n?n:4473924),i=new le.Color(void 0!==i?i:8947848);const r=t/2,s=e/t,o=e/2,a=[],l=[];for(let h=0,d=0,p=-o;h<=t;h++,p+=s){a.push(-o,p,0,o,p,0),a.push(p,-o,0,p,o,0);const e=h===r?n:i;e.toArray(l,d),e.toArray(l,d+=3),e.toArray(l,d+=3),e.toArray(l,d+=3),d+=3}const u=new le.BufferGeometry;u.addAttribute("position",new le.Float32BufferAttribute(a,3)),u.addAttribute("color",new le.Float32BufferAttribute(l,3));const c=new le.LineBasicMaterial({vertexColors:le.VertexColors});return new le.LineSegments(u,c)}}class ge{constructor(){}loadStl(e,t,n,i){this.load(e,e=>{t(e)})}loadStlFromBinary(e,t,n,i){t(this.parse(e))}load(e,t,n,i){const r=this,s=new XMLHttpRequest;s.open("GET",e,!0),s.responseType="arraybuffer",s.onreadystatechange=function(){if(this.readyState===this.DONE){if(200!==s.status)throw new Error("Error HTTP "+s.status+" when loading file : "+e);{const e=r.parse(this.response);t(e)}}},s.send(null)}parse(e){const t=this.ensureBinary(e);return(()=>{let e,n,i,r;if(n=50,(e=84+50*(i=(r=new DataView(t)).getUint32(80,!0)))===r.byteLength)return!0;let s=[115,111,108,105,100];for(let t=0;t<5;t++)if(s[t]!=r.getUint8(t,!1))return!0;return!1})()?this.parseBinary(t):this.parseASCII(this.ensureString(e))}parseBinary(e){const t=new DataView(e),n=t.getUint32(80,!0);let i,r,s,o,a,l,u,c,h=!1;for(let g=0;g<70;g++)1129270351==t.getUint32(g,!1)&&82==t.getUint8(g+4)&&61==t.getUint8(g+5)&&(h=!0,o=[],a=t.getUint8(g+6)/255,l=t.getUint8(g+7)/255,u=t.getUint8(g+8)/255,c=t.getUint8(g+9)/255);const d=new le.BufferGeometry,p=[],f=[];for(let g=0;g<n;g++){const e=84+50*g,n=t.getFloat32(e,!0),c=t.getFloat32(e+4,!0),d=t.getFloat32(e+8,!0);if(h){const n=t.getUint16(e+48,!0);0==(32768&n)?(i=(31&n)/31,r=(n>>5&31)/31,s=(n>>10&31)/31):(i=a,r=l,s=u)}for(let a=1;a<=3;a++){const l=e+12*a;p.push(t.getFloat32(l,!0)),p.push(t.getFloat32(l+4,!0)),p.push(t.getFloat32(l+8,!0)),f.push(n,c,d),h&&o.push(i,r,s)}}return d.addAttribute("position",new le.BufferAttribute(new Float32Array(p),3)),d.addAttribute("normal",new le.BufferAttribute(new Float32Array(f),3)),h&&d.addAttribute("color",new le.BufferAttribute(new Float32Array(o),3)),d}parseASCII(e){let t,n,i,r,s,o;t=new le.BufferGeometry,n=/facet([\s\S]*?)endfacet/g;const a=[],l=[],u=new le.Vector3;for(;null!==(s=n.exec(e));){for(o=s[0],i=/normal[\s]+([\-+]?[0-9]+\.?[0-9]*([eE][\-+]?[0-9]+)?)+[\s]+([\-+]?[0-9]*\.?[0-9]+([eE][\-+]?[0-9]+)?)+[\s]+([\-+]?[0-9]*\.?[0-9]+([eE][\-+]?[0-9]+)?)+/g;null!==(s=i.exec(o));)u.x=parseFloat(s[1]),u.y=parseFloat(s[3]),u.z=parseFloat(s[5]);for(r=/vertex[\s]+([\-+]?[0-9]+\.?[0-9]*([eE][\-+]?[0-9]+)?)+[\s]+([\-+]?[0-9]*\.?[0-9]+([eE][\-+]?[0-9]+)?)+[\s]+([\-+]?[0-9]*\.?[0-9]+([eE][\-+]?[0-9]+)?)+/g;null!==(s=r.exec(o));)a.push(parseFloat(s[1]),parseFloat(s[3]),parseFloat(s[5])),l.push(u.x,u.y,u.z)}return t.addAttribute("position",new le.BufferAttribute(new Float32Array(a),3)),t.addAttribute("normal",new le.BufferAttribute(new Float32Array(l),3)),t}ensureString(e){if("string"!=typeof e){const t=new Uint8Array(e),n=[];for(let i=0;i<e.byteLength;i++)n.push(String.fromCharCode(t[i]));return n.join("")}return e}ensureBinary(e){if("string"==typeof e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=255&e.charCodeAt(n);return t.buffer||t}return e}}ge.ngInjectableDef=i.defineInjectable({factory:function(){return new ge},token:ge,providedIn:"root"});class me{static round(e,t){return Math.round(e*t+Number.EPSILON)/t}}class ve{}class ye{static scan(e,t){let n=0,i=0,r=0,s=0,o=0,a=0;const l=[o,a];Q.each(e.children,e=>{const t=e.geometry,u=Q.filter(t.faces,e=>(n=t.vertices[e.c].x<(n=t.vertices[e.b].x<(n=t.vertices[e.a].x<n?t.vertices[e.a].x:n)?t.vertices[e.b].x:n)?t.vertices[e.c].x:n,i=t.vertices[e.c].x>(i=t.vertices[e.b].x>(i=t.vertices[e.a].x>i?t.vertices[e.a].x:i)?t.vertices[e.b].x:i)?t.vertices[e.c].x:i,r=t.vertices[e.c].y<(r=t.vertices[e.b].y<(r=t.vertices[e.a].y<r?t.vertices[e.a].y:r)?t.vertices[e.b].y:r)?t.vertices[e.c].y:r,s=t.vertices[e.c].y>(s=t.vertices[e.b].y>(s=t.vertices[e.a].y>s?t.vertices[e.a].y:s)?t.vertices[e.b].y:s)?t.vertices[e.c].y:s,o=t.vertices[e.c].z<(o=t.vertices[e.b].z<(o=t.vertices[e.a].z<o?t.vertices[e.a].z:o)?t.vertices[e.b].z:o)?t.vertices[e.c].z:o,a=t.vertices[e.c].z>(a=t.vertices[e.b].z>(a=t.vertices[e.a].z>a?t.vertices[e.a].z:a)?t.vertices[e.b].z:a)?t.vertices[e.c].z:a,e.normal.z>=.01));Q.each(u,e=>{l.push(me.round(t.vertices[e.a].z,100)),l.push(me.round(t.vertices[e.b].z,100)),l.push(me.round(t.vertices[e.c].z,100))})});const u=Q.orderBy(Q.uniq(l),e=>e),c=Q.transform(u,(e,n)=>{if(0===e.length)e.push(n);else{let i=Q.last(e)+t;for(;i<n;i+=t)e.push(i);e.push(n)}},[]);return{minx:n,maxx:i,miny:r,maxy:s,minz:o,maxz:a,allZ:c}}static findObjects(e){const t=[],n=e.vertices;let i=[];for(Q.each(e.faces,e=>{i.push(e)});0!==i.length;){const e=i.pop(),r=[e],s=this.iterate(r,{neighbours:[e],remainders:i},n);i=s.remainders;const o=new le.Geometry;Q.each(r,e=>{const t=o.vertices.length;o.vertices.push(n[e.a].clone(),n[e.b].clone(),n[e.c].clone()),o.faces.push(new le.Face3(t,t+1,t+2,e.normal.clone()))}),t.push(o)}return t}static iterate(e,t,n){let i=t.remainders;const r=[];return Q.each(t.neighbours,e=>{t.neighbours.push(e);const s=this.findNeighbour(e,i,n);Q.each(s.neighbours,e=>{r.push(e)}),i=s.remainders}),Q.each(r,t=>{e.push(t)}),t.remainders=i,r.length>0?ye.iterate(e,{neighbours:r,remainders:i},n):t}static findNeighbour(e,t,n){const i=new ve;return i.neighbours=[],i.remainders=[],Q.each(t,t=>{n[e.a].equals(n[t.a])||n[e.a].equals(n[t.b])||n[e.a].equals(n[t.c])||n[e.b].equals(n[t.a])||n[e.b].equals(n[t.b])||n[e.b].equals(n[t.c])||n[e.c].equals(n[t.a])||n[e.c].equals(n[t.b])||n[e.c].equals(n[t.c])?i.neighbours.push(t):i.remainders.push(t)}),i}}class _e{constructor(e,t,n){this.parametersService=e,this.millingService=t,this.stlLoaderService=n,this.scene=new le.Scene;const i=fe.GridHelper(200,200);this.scene.add(i),this.layerHelper=new le.PlaneHelper(this.millingService.layer,5,16777215),this.scene.add(this.layerHelper),this.slices=[],this._axis=new ue(this.scene,!1),this.layerStream=this.parametersService.layers(),this.debugStream=this.parametersService.debugs(),this.sliceStream=this.parametersService.slice(),this.sliceSubscription=this.sliceStream.subscribe(e=>{this.onSliceChange(e)},e=>console.error(e),()=>{}),this.layerSubscription=this.layerStream.subscribe(e=>{this.layer=e,this.group&&(this.onLayerChange(this.layer),this.showLayer(this.layer.visible))},e=>console.error(e),()=>{}),this.debugSubscription=this.debugStream.subscribe(e=>{this.debug=e,this.group&&(this.normals(this.debug.normals),this.wireframe(this.debug.wireframe)),this.showGround(this.debug.ground),this.axis(this.debug.axesHelper)},e=>console.error(e),()=>{})}load(e,t){this.stlLoaderService.loadStl(e,e=>{this.setGeometryPiece(e),t()},()=>{},()=>{})}loadBinary(e,t){this.stlLoaderService.loadStlFromBinary(e,e=>{this.setGeometryPiece(e),t()},()=>{},()=>{})}factoryPiece(e){const t=[],n=(new le.Geometry).fromBufferGeometry(e);n.computeVertexNormals(),n.computeBoundingBox(),n.translate(-n.boundingBox.min.x-(n.boundingBox.max.x-n.boundingBox.min.x)/2,-n.boundingBox.min.y-(n.boundingBox.max.y-n.boundingBox.min.y)/2,-n.boundingBox.min.z);const i=ye.findObjects(n),r=new class extends le.MeshPhongMaterial{constructor(e){super(e),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(e)}isMeshToonMaterial(){return!0}}({lights:!0,transparent:!0,color:16737928,opacity:.7});let s=0;return Q.each(i,e=>{const n=new le.Mesh(e,r);n.name="object#"+s,n.receiveShadow=!0,n.castShadow=!0,t.push(n),s++}),t}setGeometryPiece(e){this.group&&(this.scene.remove(this.group),this.group.remove());const t=this.factoryPiece(e);this.group=new le.Group,Q.each(t,e=>{this.group.add(e)}),console.log(this.group),this.scene.add(this.group),this.onSliceChange(this.slice),this.onLayerChange(this.layer)}onSliceChange(e){this.slice=e,this.group&&(this.scan=ye.scan(this.group,this.slice),this.parametersService.dispatch({type:te,payload:{minx:this.scan.minx,maxx:this.scan.maxx,miny:this.scan.miny,maxy:this.scan.maxy,minz:this.scan.minz,maxz:this.scan.maxz,allZ:this.scan.allZ}}))}infos(){const e=[];return this.scan&&(e.push(`scan.minx : ${this.scan.minx}`),e.push(`scan.maxx : ${this.scan.maxx}`),e.push(`scan.miny : ${this.scan.miny}`),e.push(`scan.maxy : ${this.scan.maxy}`),e.push(`scan.minz : ${this.scan.minz}`),e.push(`scan.maxz : ${this.scan.maxz}`)),e}onLayerChange(e){const t=this.millingService.moveToZ(this.scene,this.group,e.top);Q.each(this.slices,e=>{this.scene.remove(e)}),this.slices=[],Q.each(t,e=>{Q.each(e.meshes,e=>{this.slices.push(e),this.scene.add(e)}),this.slices.push(e.normals),this.scene.add(e.normals)}),this.showLayer(this.layer.visible)}wireframe(e){this.group&&Q.each(this.group.children,t=>{t.material.wireframe=e})}normals(e){this.group&&(this.helpers||(this.helpers=[],Q.each(this.group.children,e=>{const t=new le.MeshNormalMaterial;this.normal=new le.Mesh(e.geometry,t);const n=new le.FaceNormalsHelper(this.normal,2,65280,1);this.helpers.push(n),this.scene.add(n)})),Q.each(this.helpers,t=>{t.visible=e}),this.normal.visible=e)}showGround(e){this.ground||(this.ground=new le.Mesh(new le.PlaneGeometry(500,500),new le.MeshBasicMaterial({color:16711680,transparent:!0,opacity:.3,side:le.DoubleSide})),this.ground.rotateX(Math.PI/2),this.scene.add(this.ground)),this.ground.visible=e}showLayer(e){this.layerHelper.visible=e,Q.each(this.slices,t=>{t.visible=e})}axis(e){this._axis.enable(e)}}_e.ngInjectableDef=i.defineInjectable({factory:function(){return new _e(i.inject(ae),i.inject(pe),i.inject(ge))},token:_e,providedIn:"root"});class be{constructor(e){this.workbenchSceneService=e,this.cameraPosition=[80,80,80],this.lightPosition=[0,0,80],this.lightColor=16777215,this.viewAngle=45,this.near=1,this.far=1e3,this.worldScene=this.workbenchSceneService.scene,this.worldCamera=new le.PerspectiveCamera(this.viewAngle,window.innerWidth/window.innerHeight,this.near,this.far),this.setPosition(this.worldCamera,this.cameraPosition),this.worldCamera.up.set(0,0,1),this.worldCamera.lookAt(this.worldScene.position),this.light=new le.PointLight(this.lightColor,1,1e3),this.setPosition(this.light,this.lightPosition),this.helper=new le.PointLightHelper(this.light,10,16711680),this.worldCamera.lookAt(this.worldScene.position),this.worldScene.background=new le.Color(15790320),this.worldScene.add(this.worldCamera),this.worldScene.add(this.light),this.worldScene.add(this.helper);const t=new le.TextureLoader,n=new le.TextureLoader,i=new le.TextureLoader,r=new le.TextureLoader,s=new le.TextureLoader,o=new le.TextureLoader;this.cubeScene=new le.Scene,this.cubeScene.background=new le.Color(15790320);const a=new le.BoxGeometry(100,100,100),l=[new le.MeshPhongMaterial({map:t.load("assets/left.png"),color:16777215,emissive:468276,side:le.DoubleSide,flatShading:!0}),new le.MeshPhongMaterial({map:n.load("assets/right.png"),color:16777215,emissive:468276,side:le.DoubleSide,flatShading:!0}),new le.MeshPhongMaterial({map:i.load("assets/up.png"),color:16777215,emissive:468276,side:le.DoubleSide,flatShading:!0}),new le.MeshPhongMaterial({map:r.load("assets/down.png"),color:16777215,emissive:468276,side:le.DoubleSide,flatShading:!0}),new le.MeshPhongMaterial({map:s.load("assets/back.png"),color:16777215,emissive:468276,side:le.DoubleSide,flatShading:!0}),new le.MeshPhongMaterial({map:o.load("assets/front.png"),color:16777215,emissive:468276,side:le.DoubleSide,flatShading:!0})];this.cubeMaterial=new le.Mesh(a,l),this.cubeScene.add(this.cubeMaterial);let u=new le.PointLight(16777215,1,0);u.position.set(0,200,0),this.cubeScene.add(u),(u=new le.PointLight(15790320,1,0)).position.set(100,200,100),this.cubeScene.add(u),(u=new le.PointLight(9408399,1,0)).position.set(-100,-200,-100),this.cubeScene.add(u),this.cubeCamera=new le.PerspectiveCamera(45,window.innerWidth/window.innerWidth,1,1e3),this.cubeCamera.up.set(0,0,1),this.setPosition(this.cubeCamera,[-180,-180,0]),this.cubeCamera.lookAt(this.cubeMaterial.position)}load(e,t){this.workbenchSceneService.load(e,t)}loadBinary(e,t){this.workbenchSceneService.loadBinary(e,t)}getWorldScene(){return this.worldScene}getCubeScene(){return this.cubeScene}getWorldCamera(){return this.worldCamera}getCubeCamera(){return this.cubeCamera}updateAspect(e){this.worldCamera&&(this.worldCamera.aspect=e,this.worldCamera.updateProjectionMatrix())}updateCube(){this.cubeMaterial.rotation.x=this.worldCamera.rotation.x,this.cubeMaterial.rotation.y=this.worldCamera.rotation.y,this.cubeMaterial.rotation.z=this.worldCamera.rotation.z}infos(){const e=[];return e.push(`camera.position.x : ${this.worldCamera.position.x}`),e.push(`camera.position.y : ${this.worldCamera.position.y}`),e.push(`camera.position.z : ${this.worldCamera.position.z}`),Q.each(this.workbenchSceneService.infos(),t=>{e.push(t)}),e}onLayerChange(e){this.workbenchSceneService.onLayerChange(e)}setPosition(e,t){e.position.set(t[0],t[1],t[2])}}be.ngInjectableDef=i.defineInjectable({factory:function(){return new be(i.inject(_e))},token:be,providedIn:"root"});const we="jarcam";class xe{constructor(){this.storage=localStorage}static generateStorageKey(e){return`${we}_${e}`}get(e){const t=xe.generateStorageKey(e),n=this.storage.getItem(t);return this.getGettable(n)}load(e){const t=xe.generateStorageKey(e),n=this.storage.getItem(t);return atob(n)}loadAsObject(e){const t=xe.generateStorageKey(e),n=this.storage.getItem(t);return JSON.parse(n)}set(e,t){const n=xe.generateStorageKey(e);this.storage.setItem(n,this.getSettable(t))}save(e,t){const n=xe.generateStorageKey(e);this.storage.setItem(n,btoa(t))}saveAsObject(e,t){const n=xe.generateStorageKey(e);this.storage.setItem(n,JSON.stringify(t))}remove(e){const t=xe.generateStorageKey(e);this.storage.removeItem(t)}getSettable(e){return"string"==typeof e?e:JSON.stringify(e)}getGettable(e){try{return JSON.parse(e)}catch(t){return e}}}xe.ngInjectableDef=i.defineInjectable({factory:function(){return new xe},token:xe,providedIn:"root"});class Ce{static gridHelper(e,t){let n,i,r=[];for(i=-e;i<e;i+=t)r.push([-e,i],[e,i],[0,i],[0,i+t]);const s=new ce.Path({segments:r,selected:!1});for(s.strokeColor="grey",s.strokeWidth=.05,r=[],n=-e;n<e;n+=t)r.push([n,-e],[n,e],[n,0],[n+t,0]);const o=new ce.Path({segments:r,selected:!1});o.strokeColor="grey",o.strokeWidth=.05;const a=new ce.Path({segments:[[-e,0],[e,0],[e-5,5],[e-5,-5],[e,0]]});a.strokeColor="red",a.strokeWidth=.2;const l=new ce.Path({segments:[[0,-e],[0,e],[5,e-5],[-5,e-5],[0,e]]});l.strokeColor="green",l.strokeWidth=.2}static drawBrim(e,t,n,i){const r=new ce.Path({fillColor:"orange",strokeColor:"black",strokeWidth:.25,insert:n,close:!0,name:e});Q.each(t.points,e=>{r.add(new ce.Point(e.x,e.y))});const s=r.getNormalAt(0);return s.length=i/2,r.translate(s),s.length=i,s.x=-s.x,s.y=-s.y,r.add(r.getPointAt(r.length).add(s)),r.add(r.getPointAt(0).add(s)),r}static display(e,t){new ce.PointText({point:e,content:t,fillColor:"black",fontSize:1.5}).scale(1,-1)}static pieceBounds(e,t){return{top:e.miny-t,left:e.minx-t,bottom:e.maxy+t,right:e.maxx+t}}static bounds(e,t,n,i,r){return{top:n-r,left:e-r,bottom:i+r,right:t+r}}static createVector(e,t,n){return new ce.Path.Line({from:e,to:t,strokeColor:"yellow",strokeWidth:.2,insert:n})}}class Se{static format(e,t){let n=-1;return e.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,function(e,i,r,s,o,a){if("%%"==e)return"%";if(void 0===t[++n])return;e=s?parseInt(s.substr(1)):void 0;let l,u=o?parseInt(o.substr(1)):void 0;switch(a){case"s":l=t[n];break;case"c":l=t[n][0];break;case"f":l=parseFloat(t[n]).toFixed(e);break;case"p":l=parseFloat(t[n]).toPrecision(e);break;case"e":l=parseFloat(t[n]).toExponential(e);break;case"x":l=parseInt(t[n]).toString(u||16);break;case"d":l=parseFloat(parseInt(t[n],u||10).toPrecision(e)).toFixed(0)}l="object"==typeof l?JSON.stringify(l):l.toString(u);const c=parseInt(r),h=r&&"0"==r[0]?"0":" ";for(;l.length<c;)l=void 0!==i?l+h:h+l;return l})}}class Ee{constructor(e,t){this.brimsArray=[],Q.each(e,e=>{const n=Ce.drawBrim("gcode#brim",e,!1,t);this.brimsArray.push(n)})}LinearMove0ToZ(e,t){e.gcode=`${e.gcode}(move/z to ${this.f(t)}/${this.f(e.wanted)} mm)\n`,e.gcode=`${e.gcode}G00 Z${this.f(t)}\n`,e.real=t}LinearMove1ToZ(e,t){if(e.wanted<e.limit){const n=Q.filter(this.brimsArray,e=>e.contains(t));let i;e.real!==(i=n.length?e.limit:e.wanted)-e.maxz&&(e.gcode=`${e.gcode}(crossing/z ${this.f(i-e.maxz)}/${this.f(e.wanted-e.maxz)} mm)\n`,e.gcode=`${e.gcode}G01 Z${this.f(i-e.maxz)}\n`,e.real=i-e.maxz)}else e.real!==e.wanted-e.maxz&&(e.gcode=`${e.gcode}(restore/z ${this.f(e.wanted-e.maxz)}/${this.f(e.wanted-e.maxz)})\n`,e.gcode=`${e.gcode}G01 Z${this.f(e.wanted-e.maxz)}\n`,e.real=e.wanted-e.maxz)}LinearMove0ToXY(e,t){e.gcode=`${e.gcode}G00 X${this.f(t.x)} Y${this.f(t.y)}\n`}LinearMove1ToXY(e,t){e.gcode=`${e.gcode}G01 X${this.f(t.x)} Y${this.f(t.y)}\n`}SetFeedrate0(e,t){e.gcode=`${e.gcode}(set the feedrate to ${t} mm/minute)\n`,e.gcode=`${e.gcode}G00 F${t}\n`}SetFeedrate1(e,t){e.gcode=`${e.gcode}(set the feedrate to ${t} mm/minute)\n`,e.gcode=`${e.gcode}G01 F${t}\n`}f(e){return Se.format("%5.3f",[e])}}class Te{header(e,t,n,i,r,s,o){const a=Ce.bounds(e,t,n,i,4),l={maxz:r,wanted:0,real:0,limit:2,gcode:""};return l.gcode=`\n(Translate ${a.left} / ${a.top} )\n`,l.gcode=`${l.gcode}(Brim size set to ${o} mm with tools diameter included)\n`,l.gcode=`${l.gcode}G90\n`,l.gcode=`${l.gcode}M03 S18000 (Spindle CW on)\n`,this.gcodeBuilder=new Ee(s,o),this.gcodeBuilder.SetFeedrate0(l,2e3),this.gcodeBuilder.SetFeedrate1(l,900),this.gcodeBuilder.LinearMove0ToZ(l,0),l.gcode=`${l.gcode}G01 S1\n`,l.gcode}footer(e,t,n,i,r,s,o){const a=Ce.bounds(e,t,n,i,4),l={maxz:r,wanted:0,real:0,limit:2,gcode:""};return l.gcode=`\n(Translate ${a.left} / ${a.top} )\n`,this.gcodeBuilder.LinearMove0ToZ(l,10),l.gcode=`${l.gcode}G01 S0\n`,l.gcode}formatter(e){return Se.format("%5.4f",[e])}build(e,t,n,i,r,s,o,a){const l=Ce.bounds(e,t,n,i,4),u={maxz:s,wanted:r,real:r,limit:2,gcode:""};return Q.each(Q.filter(a,e=>e.class===o),e=>{this.journeyToGcode(u,l,e)}),u.gcode}journeyToGcode(e,t,n){if(!n.position)return;e.gcode=`${e.gcode}(Shape ${n.path.name})\n`;const i=n.position.clone();i.x-=t.left,i.y-=t.top,this.gcodeBuilder.LinearMove0ToZ(e,0),this.gcodeBuilder.LinearMove0ToXY(e,i),this.gcodeBuilder.LinearMove1ToZ(e,n.position);const r=n.path.getOffsetOf(n.position);for(let s=r;s<n.path.length+r;s+=.2){const i=n.path.getPointAt(s%n.path.length);this.gcodeBuilder.LinearMove1ToZ(e,i),i.x-=t.left,i.y-=t.top,this.gcodeBuilder.LinearMove1ToXY(e,i)}}}var Me=function(e){return e[e.fill=0]="fill",e[e.contour=1]="contour",e}({});class Ie{}var Oe=n("WWtA");class Ae extends ce.Curve{static getPeaks(e){const t=e[0],n=e[1],i=e[2],r=e[3],s=e[4],o=e[5],a=3*i-t-3*s+e[6],l=3*t-6*i+3*s,u=-3*t+3*i,c=3*r-n-3*o+e[7],h=3*n-6*r+3*o,d=-3*n+3*r,p=Oe.CURVETIME_EPSILON,f=[];return Oe.solveCubic(9*(a*a+c*c),9*(a*l+h*c),2*(l*l+h*h)+3*(u*a+d*c),u*l+h*d,f,p,1-p),f.sort()}}class De{static offsetPath(e,t,n){const i=new ce.Path({insert:n}),r=Oe.GEOMETRIC_EPSILON;for(let s=0;s<e.curves.length;s++){const n=e.curves[s];if(n.hasLength(r)){const e=De.getOffsetSegments(n,t),s=e[0];i.isEmpty()?i.addSegments(e):(i.lastCurve.point2.isClose(s.point,r)||De.addRoundJoin(i,s.point,n.point1,Math.abs(t)),i.lastSegment.handleOut=s.handleOut,i.addSegments(e.slice(1)))}}return e.isClosed()&&i.lastSegment&&(i.lastSegment.point.isClose(i.firstSegment.point,r)||this.addRoundJoin(i,i.firstSegment.point,e.firstSegment.point,Math.abs(t)),i.closePath()),i}static getOffsetSegments(e,t){if(e.isStraight()){const n=e.getNormalAtTime(.5).multiply(t),i=e.point1.add(n),r=e.point2.add(n);return[new ce.Segment(i),new ce.Segment(r)]}{const n=this.splitCurveForOffseting(e),i=[];for(let r=0,s=n.length;r<s;r++){const s=this.getOffsetCurves(n[r],t,0);let o;for(let t=0,n=s.length;t<n;t++){const n=s[t],r=e.segment1;o?o.handleOut=r.handleOut:i.push(r),i.push(o=n.segment2)}}return i}}static offsetCurve_middle(e,t){const n=e.point1.add(e.getNormalAt(0).multiply(t)),i=e.point2.add(e.getNormalAt(1).multiply(t)),r=e.getNormalAt(.5).add(e.getNormalAt(.5).multiply(t)),s=e.getTangentAt(0),o=e.getTangentAt(1),a=3*s.cross(o)/4,l=r.multiply(2).subtract(n.add(i)),u=l.cross(o)/a,c=l.cross(s)/a;return new ce.Curve(n,s.multiply(u),o.multiply(-c),i)}static offsetCurve_average(e,t){const n=e.point1.add(e.getNormalAt(0).multiply(t)),i=e.point2.add(e.getNormalAt(1).multiply(t)),r=this.getAverageTangentTime(e),s=1-r,o=e.getPointAt(r).add(e.getNormalAt(r).multiply(t)),a=e.getTangentAt(0),l=e.getTangentAt(1),u=3*a.cross(l)*r*s,c=o.subtract(n.multiply(s*s*(1+2*r)).add(i.multiply(r*r*(3-2*r)))),h=c.cross(l)/(u*s),d=c.cross(a)/(u*r);return new ce.Curve(n,a.multiply(h),l.multiply(-d),i)}static offsetCurve_simple(e,t){const n=e.point1.add(e.getNormalAtTime(0).multiply(t)),i=e.point2.add(e.getNormalAtTime(1).multiply(t)),r=e.point1.getDistance(e.point2);let s=n.getDistance(i)/r;return e.point2.subtract(e.point1).dot(i.subtract(n))<0&&(s=-s),new ce.Curve(n,e.handle1.multiply(s),e.handle2.multiply(s),i)}static getOffsetCurves(e,t,n){const i=Math.abs(t);return function e(r,s,o){let a;switch(n){case"middle":a=this.offsetCurve_middle(r,t);break;case"average":a=this.offsetCurve_average(r,t);break;case"simple":a=this.offsetCurve_simple(r,t)}let l=0;for(let t=1;t<16;t++){const e=t/16,n=r.getPointAt(e),s=r.getNormalAt(e),o=a.getCurveLineIntersections(n.x,n.y,s.x,s.y);let u=2*i;for(let t=0,i=o.length;t<i;t++){const e=a.getPointAt(o[t]).getDistance(n);e<u&&(u=e)}const c=Math.abs(i-u);c>l&&(l=c)}if(l>.01&&o++<8){const t=r.divideAtTime(this.getAverageTangentTime(r));e(r,s,o),e(t,s,o)}else s.push(a);return s}(e,[],0)}static splitCurveForOffseting(e){const t=[e.clone()];if(e.isStraight())return t;function n(e,n){for(let i,r=0,s=n&&n.length;r<s;r++){const s=n[r],o=t[e].divideAtTime(r?(s-i)/(1-i):s);i=s,o&&t.splice(++e,0,o)}}const i=e.classify();i.roots&&"loop"!==i.type&&n(0,i.roots);for(let r=t.length-1;r>=0;r--)n(r,Ae.getPeaks(t[r].values));for(let r=t.length-1;r>=0;r--);return t}static getAverageTangentTime(e){const t=e.getTangentAt(0).add(e.getTangentAt(1)),n=t.x,i=t.y,r=Math.abs,s=r(i)<r(n),o=s?i/n:n/i,a=s?1:0,l=1^a,u=e.values[a+0],c=e.values[l+0],h=e.values[a+2],d=e.values[l+2],p=e.values[a+4],f=e.values[l+4],g=[],m=Oe.CURVETIME_EPSILON;return Oe.solveQuadratic(3*(3*h-u-3*p+e.values[a+6]-o*(3*d-c-3*f+e.values[l+6])),2*(3*u-6*h+3*p-o*(3*c-6*d+3*f)),-3*u+3*h-o*(-3*c+3*d),g,m,1-m)>0?g[0]:.5}static addRoundJoin(e,t,n,i){const r=e.lastSegment.point.add(t).divide(2),s=n.add(r.subtract(n).normalize(i));e.arcTo(s,t)}}class ke{static contour(e,t,n,i,r,s,o){const a=new ce.Path;let l;a.strokeColor="black",a.strokeWidth=.2,a.dashArray=[2,.5],a.closed=!0,a.selected=!1,a.name=t.name+".contour",a.visible=!0,t.clockwise&&t.reverse(),(l=De.offsetPath(t,e?-n:n,!1)).strokeWidth=.2,l.strokeColor="black",l.selected=!1;const u=new ce.Path.Circle({center:new ce.Point(0,0),radius:n-r,insert:o});for(let c=0;c<l.length;c++){const e=l.getPointAt(c);u.position.x=e.x,u.position.y=e.y,u.intersects(t)||a.add(e)}return l.remove(),Ce.display(a.bounds.bottomRight,a.name),a}static calcNormals(e,t,n,i,r){const s=[];t.clockwise&&t.reverse();let o=0;for(;o<t.segments.length;o++){const a=t.segments[o%t.segments.length],l=t.segments[(o+t.segments.length-1)%t.segments.length].point.subtract(a.point),u=t.segments[(o+t.segments.length+1)%t.segments.length].point.subtract(a.point),c=Math.abs((l.angle-u.angle+360)%360)/2;l.length=n,u.length=n;const h=u.rotate(c);if(e&&c>90){let e=l.rotate(-90);for(s.push(Ce.createVector(a.point,a.point.add(e),r));(e.angle-h.angle+360)%360>i;)e=e.rotate(-i),s.push(Ce.createVector(a.point,a.point.add(e),r))}if(e){const e=Ce.createVector(a.point,a.point.add(h),r);s.push(e)}else{const e=Ce.createVector(a.point,a.point.subtract(h),r);s.push(e)}if(e&&c>90){let e=h.rotate(-i);for(s.push(Ce.createVector(a.point,a.point.add(e),r));(e.angle-u.angle+360)%360>90+i;)e=e.rotate(-i),s.push(Ce.createVector(a.point,a.point.add(e),r))}}return s}}class Pe{constructor(){}build(e,t,n){const i={opened:new ce.Group,closed:new ce.Group,journeys:[]};return Q.each(e,e=>{const t=[];if(Q.each(e.points(),e=>{t.push([e.origin.x,e.origin.y])}),e.isOpen()){const n=new ce.Path({segments:t,selected:!1,closed:!0,name:e.name,strokeColor:"red",strokeWidth:.1,visible:!0});n.onMouseEnter=function(e){this.selected=!0},n.onMouseLeave=function(e){this.selected=!1},i.opened.addChild(n),Ce.display(n.bounds.bottomRight,n.name)}else{const n=new ce.Path({segments:t,selected:!1,closed:!0,name:e.name,strokeColor:"purple",strokeWidth:.2,visible:!0});n.onMouseEnter=function(e){this.selected=!0},n.onMouseLeave=function(e){this.selected=!1},i.closed.addChild(n),Ce.display(n.bounds.bottomRight,n.name)}}),i.openFinePath=this.openedShape(i.opened,t,n),i.openRawPath=this.openedShape(i.opened,t+.75,n),i.closeFinePath=this.closedShape(i.closed,t,n),i.closeRawPath=this.closedShape(i.closed,t+.75,n),i}openedShape(e,t,n){const i=new ce.Group;return Q.each(e.children,e=>{const r=ke.contour(!0,e,t,10,.05,!1,n);i.addChild(r)}),i}closedShape(e,t,n){const i=new ce.Group;return Q.each(e.children,e=>{const r=ke.contour(!1,e,t,10,.05,!1,n);i.addChild(r)}),i}}class Re{constructor(){}around(e,t,n,i,r,s,o,a){const l=Ce.bounds(t,n,i,r,s),u=(new ce.Path.Rectangle({from:new ce.Point(l.left,l.top),to:new ce.Point(l.right,l.bottom),strokeColor:"red",strokeWidth:.5,selected:!1,visible:!1,insert:a}),this._around(e)),c=new ce.Path.Rectangle({from:new ce.Point(l.left,l.top),to:new ce.Point(l.right,l.bottom),strokeColor:"red",strokeWidth:.5,selected:!1,insert:!1,visible:!1}),h=this._computePath(e,s-o,c.bounds,[],a),d=[];return Q.each(u,e=>{e.class=Me.contour,d.push(e)}),Q.each(h,e=>{e.class=Me.fill,d.push(e)}),d}_around(e){const t=[];return Q.each(e.openFinePath.children,e=>{t.push({path:e,position:e.getPointAt(0)})}),Q.each(e.closeFinePath.children,e=>{t.push({path:e,position:e.getPointAt(0)})}),t}_computePath(e,t,n,i,r){const s=[];let o,a=0,l=n.left;for(;l<n.right+t;l+=t,a++){l>=n.right&&(l=n.right);const t=a%2==0;if(void 0!==o){const e=new ce.Path.Line({from:new ce.Point(o,t?n.top:n.bottom),to:new ce.Point(l,t?n.top:n.bottom),strokeColor:"black",strokeWidth:.2,selected:!1,dashArray:[2,.5],data:{even:!0},insert:!0});s.push(e)}o=l;const i=new ce.Path.Line({from:new ce.Point(l,n.top),to:new ce.Point(l,n.bottom),strokeColor:"purple",strokeWidth:.5,selected:!1,insert:!1});let r=[];Q.each(e.openRawPath.children,e=>{const t=i.getIntersections(e);Q.flatMap(t,t=>(r.push({shape:e.name,point:t.point}),t.point))}),r=Q.sortBy(r,e=>t?e.point.y:-e.point.y);const u=[];let c=new ce.Point(l,t?n.top:n.bottom);Q.each(r,e=>{u.push(new ce.Path.Line({from:t?c:e.point,to:t?e.point:c,strokeColor:"black",strokeWidth:.2,selected:!1,dashArray:[2,.5],data:{even:t},insert:!0})),c=e.point}),u.push(new ce.Path.Line({from:c,to:new ce.Point(l,t?n.bottom:n.top),strokeColor:"black",strokeWidth:.2,selected:!1,data:{even:t},dashArray:[2,.5],insert:!0}));const h=Q.flatMap(u,t=>{const n=Q.filter(e.openRawPath.children,e=>e.contains(t.bounds.center));return{line:t,touching:n.length>0}});Q.each(h,e=>{e.touching?e.line.remove():s.push(e.line)}),i.remove()}let u=new ce.Point(n.left,n.top),c={position:new ce.Point(n.left,n.top),path:new ce.Path({strokeColor:"black",strokeWidth:.2,selected:!1,dashArray:[2,.5],name:"line",insert:!0})};return i.push(c),Q.each(s,e=>{const t=e.getPointAt(e.data.even?0:e.length),n=e.getPointAt(e.data.even?e.length:0);u.equals(t)||(c={position:t,path:new ce.Path({strokeColor:"black",strokeWidth:.2,selected:!1,dashArray:[2,.5],name:"line",insert:!0})},i.push(c)),c.path.add(t),c.path.add(n),u=n}),i}}class Le{constructor(){}simulation(e,t,n){Q.each(e,e=>{new ce.Path.Circle({center:e.position,radius:1,strokeColor:"red",strokeWidth:.5,fillColor:"black",insert:n});for(let i=0;i<e.path.length;i+=.2){const r=new ce.Path.Circle({center:e.path.getPointAt(i),radius:t,dashArray:[1,i/e.path.length],insert:n});r.strokeColor="black",r.strokeWidth=.05}})}}class Ne{constructor(e){this.zoom=5,this.brimMode="cross",this.shaper=new Pe,this.contourer=new Re,this.simulator=new Le,this.gcoder=new Te,this.scope=new ce.PaperScope,this.project=new ce.Project(e),this.project.currentStyle={fontFamily:"roboto"},this.project.view.scale(this.zoom,-this.zoom),this.project.view.onResize=(e=>{this.project.view.center=new ce.Point(0,0),this.project.view.draw()}),this.project.view.center=new ce.Point(0,0)}init(e,t,n){this.scanPieces=e,this.zoom=t,this.radius=n}onToolChange(e){this.zoom=e;const t=this.zoom/this.project.view.scaling.x;this.project.view.scale(t,t)}setBrimMode(e){this.brimMode=e}render(e,t,n){if(void 0===this.project)return;if(this.project.clear(),n){this.brims=new ce.Group;const e=Math.max(Math.abs(this.scanPieces.maxx),Math.abs(this.scanPieces.minx),Math.abs(this.scanPieces.maxy),Math.abs(this.scanPieces.miny))+10;Ce.gridHelper(e,1)}const i=this.shaper.build(e,this.radius,n);return i.journeys=this.contourer.around(i,this.scanPieces.minx,this.scanPieces.maxx,this.scanPieces.miny,this.scanPieces.maxy,this.radius,1,n),t&&this.simulator.simulation(i.journeys,this.radius,n),i}refreshBrims(e,t){const n=Q.filter(this.brims.children,e=>!0);Q.each(n,e=>{e.remove()});let i=0;Q.each(e,e=>{const n=Ce.drawBrim("count#"+i,e,!0,t+2*this.radius);this.brims.addChild(n),i++})}header(e,t,n){return this.gcoder.header(this.scanPieces.minx,this.scanPieces.maxx,this.scanPieces.miny,this.scanPieces.maxy,e,t,n+2*this.radius)}footer(e,t,n){return this.gcoder.footer(this.scanPieces.minx,this.scanPieces.maxx,this.scanPieces.miny,this.scanPieces.maxy,e,t,n+2*this.radius)}sampleGcode(e,t,n,i,r){let s=this.gcoder.header(this.scanPieces.minx,this.scanPieces.maxx,this.scanPieces.miny,this.scanPieces.maxy,this.scanPieces.maxz,n,4);return s+=this.gcoder.build(this.scanPieces.minx,this.scanPieces.maxx,this.scanPieces.miny,this.scanPieces.maxy,e,t,Me.fill,r),(s+=this.gcoder.build(this.scanPieces.minx,this.scanPieces.maxx,this.scanPieces.miny,this.scanPieces.maxy,e,t,Me.contour,r))+this.gcoder.footer(this.scanPieces.minx,this.scanPieces.maxx,this.scanPieces.miny,this.scanPieces.maxy,this.scanPieces.maxz,n,4)}gcode(e,t,n,i){return this.gcoder.build(this.scanPieces.minx,this.scanPieces.maxx,this.scanPieces.miny,this.scanPieces.maxy,e,t,n,i)}copyToClipboard(e){const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}}var Fe=n("SVse");function Ve(e=[]){return function(t){const n=t.prototype.ngOnDestroy;t.prototype.ngOnDestroy=function(){for(const t in this)if(t){const n=this[t];-1===e.indexOf(t)&&n&&"function"==typeof n.unsubscribe&&n.unsubscribe()}return n&&"function"==typeof n&&n.apply(this,arguments)}}}var je=n("4Vzq");let Be=class{constructor(e,t,n,i,r,s,o){this.sanitizer=e,this.messageService=t,this.http=n,this.parametersService=i,this.millingService=r,this.workbenchService=s,this.storageService=o,this.displayDlg=!1,this.displayHelp=!1,this.title="ui",this.brims=[],this.svg="",this.parameterTable=[],this.layerIndex=0,this.layerMin=0,this.layerMax=0,this.layerArray=[],this.radiusStream=this.parametersService.radius(),this.brimStream=this.parametersService.brims(),this.scanPiecesStream=this.parametersService.scanPieces(),this.scanPiecesSubscription=this.scanPiecesStream.subscribe(e=>{this.scanPieces=e},e=>console.error(e),()=>{}),this.parametersStream=this.parametersService.parameters(),this.parametersSubscription=this.parametersStream.subscribe(e=>{this.parameterTable=[],Q.each(e,(e,t)=>{this.parameterTable.push({name:t,value:e})})},e=>console.error(e),()=>{})}ngOnInit(){this.items=[{icon:"pi pi-fw pi-align-justify",command:e=>{this.activated.showSideBar()}},{label:"File",items:[{label:"Open",icon:"pi pi-fw pi-file",command:e=>{this.load()}},{label:"Gcode (F/C)",icon:"pi pi-fw pi-save",command:e=>{this.gcodeBuild(!0,!0)}},{label:"Gcode (C)",icon:"pi pi-fw pi-save",command:e=>{this.gcodeBuild(!1,!0)}},{label:"View",icon:"pi pi-fw pi-view",command:e=>{window.open("http://nraynaud.github.io/webgcode/","_blank"),window.focus()}}]},{label:"View",items:[{label:"Scene",icon:"pi pi-fw pi-clone",routerLink:["/scene"]},{label:"Slice",icon:"pi pi-fw pi-replay",routerLink:["/slice"]}]}],this.radiusSubscription=this.radiusStream.subscribe(e=>{this.radius=e},e=>console.error(e),()=>{}),this.brimSubscription=this.brimStream.subscribe(e=>{this.brims=e},e=>console.error(e),()=>{});const e=this.storageService.loadAsObject("lastBrimConfig");this.parametersService.dispatch({type:se,payload:{brim:e}}),this._load()}onActivate(e){this.activated=e}load(){this.fileInput.nativeElement.click()}gcodeBuild(e,t){const n=new Ne(this.paperCanvas.nativeElement);n.init(this.scanPieces,1,this.radius);let i=n.header(this.scanPieces.maxz,this.brims,4),r="",s="",o=0;Q.each(Q.reverse(Q.clone(this.scanPieces.allZ)),i=>{const a={top:i,visible:!0};this.workbenchService.onLayerChange(a);const l=n.render(this.millingService.getAreas(),!1,!1);t&&(r+=n.gcode(a.top,this.scanPieces.maxz,Me.contour,l.journeys)),(e||0===o)&&(s+=n.gcode(a.top,this.scanPieces.maxz,Me.fill,l.journeys)),o++}),i+=r,i+=s,i+=n.footer(this.scanPieces.maxz,this.brims,4),this.download(i),this.parametersService.dispatch({type:J,payload:{visible:!0,top:0}})}download(e){const t="export-"+new Fe.DatePipe("en-US").transform(new Date,"yyyyMMdd-HHmmss")+".txt",n=document.createElement("a");document.body.appendChild(n),n.style="display: none";const i=new Blob([e],{type:"application/text"}),r=window.URL.createObjectURL(i);n.href=r,n.download=t,n.click(),this.messageService.add({severity:"success",summary:"Gcode wrote to "+t,detail:e.length+" byte(s)"})}_load(){if(!window.Blob)throw{stack:"Files are not supported"};this.fileInput.nativeElement.addEventListener("change",()=>{const e=this.fileInput.nativeElement.files[0],t=new FileReader;t.onload=(()=>{this.storageService.save("lastLoaded",t.result),this.workbenchService.loadBinary(t.result,()=>{})}),t.readAsBinaryString(e)},!1)}validate(){this.displayDlg=!1}refresh(e,t){this.http.get("https://raw.githubusercontent.com/yroffin/jarcam/master/ui/helps/"+t+".svg",{responseType:"text"}).subscribe(e=>{this.svg=e,this.displayHelp=!0})}};Be=o.__decorate([Ve()],Be);var ze=n("iInd"),He=i["\u0275crt"]({encapsulation:2,styles:[],data:{}});function Ue(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),i["\u0275did"](1,212992,null,0,ze.RouterOutlet,[ze.ChildrenOutletContexts,i.ViewContainerRef,i.ComponentFactoryResolver,[8,null],i.ChangeDetectorRef],null,null)],function(e,t){e(t,1,0)},null)}function Ge(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,Ue,He)),i["\u0275did"](1,49152,null,0,ze["\u0275EmptyOutletComponent"],[],null,null)],null,null)}var We=i["\u0275ccf"]("ng-component",ze["\u0275EmptyOutletComponent"],Ge,{},{},[]),$e=n("Y5c8");let qe=class{constructor(e,t){this.workbenchService=e,this.parametersService=t,this.width=window.innerWidth,this.height=window.innerHeight,this.orbit=!0,this.infos=[]}ngOnInit(){this.layerStream=this.parametersService.layers(),this.layerSubscription=this.layerStream.subscribe(e=>{this.layer=e},e=>console.error(e),()=>{})}ngAfterViewInit(){this.renderCube=new le.WebGLRenderer({canvas:this.cubeCanvas.nativeElement,antialias:!0}),this.renderCube.setClearColor(0,1),this.renderCube.setPixelRatio(Math.floor(window.devicePixelRatio)),this.renderer=new le.WebGLRenderer({canvas:this.threeCanvas.nativeElement}),this.renderer.setClearColor(0,1),this.renderer.setPixelRatio(Math.floor(window.devicePixelRatio)),this.controls=new $e(this.workbenchService.getWorldCamera(),this.renderCube.domElement),this.controls.enabled=this.orbit,this.updateControls(),this.callback=(e=>{this.renderer&&(requestAnimationFrame(this.callback),this.render())}),requestAnimationFrame(this.callback)}ngOnDestroy(){cancelAnimationFrame(this.callback),this.renderCube.forceContextLoss(),this.renderer.forceContextLoss(),this.renderCube.dispose(),this.renderer.dispose(),this.renderer=null}setSize(e,t){this.renderer.setSize(e,t),this.workbenchService.updateAspect(e/t)}render(){this.updateControls(),this.renderer.render(this.workbenchService.getWorldScene(),this.workbenchService.getWorldCamera()),this.renderCube.render(this.workbenchService.getCubeScene(),this.workbenchService.getCubeCamera()),this.infos=this.workbenchService.infos()}load(e,t){this.workbenchService.load(e,t)}loadFromBinary(e,t){this.workbenchService.loadBinary(e,t)}updateControls(){this.controls&&(this.workbenchService.updateCube(),this.controls.update())}};qe=o.__decorate([Ve()],qe);var Ye=i["\u0275crt"]({encapsulation:0,styles:[[".editor-3d-container[_ngcontent-%COMP%]{background:#000;z-index:-1}.editor-3d-container[_ngcontent-%COMP%]   .hud[_ngcontent-%COMP%]{position:absolute;top:48px;left:0;right:0;bottom:0;display:flex;flex-direction:column;align-items:flex-end}.editor-3d-container[_ngcontent-%COMP%]   .hud[_ngcontent-%COMP%]   .view-cube[_ngcontent-%COMP%]{left:0;top:0;display:block;position:absolute;outline:0;opacity:1!important;margin:0;transition:opacity .2s ease}.editor-3d-container[_ngcontent-%COMP%]   .hud[_ngcontent-%COMP%]   .parameters[_ngcontent-%COMP%]{font-size:9px;left:0;top:300px;display:block;position:absolute;outline:0;opacity:.6!important;margin:0;transition:opacity .2s ease}canvas[_ngcontent-%COMP%]{display:inline-block;vertical-align:baseline}.info[_ngcontent-%COMP%]{position:absolute;color:#000;left:10px;top:200px;width:100%;text-align:left;z-index:100;display:block;font-size:9px}"]],data:{}});function Ze(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),i["\u0275ted"](1,null,[" "," "]))],null,function(e,t){e(t,1,0,t.context.$implicit)})}function Ke(e){return i["\u0275vid"](0,[i["\u0275qud"](402653184,1,{cubeCanvas:0}),i["\u0275qud"](402653184,2,{threeCanvas:0}),(e()(),i["\u0275eld"](2,0,null,null,4,"div",[["class","editor-3d-container"]],null,null,null,null,null)),(e()(),i["\u0275eld"](3,0,null,null,2,"div",[["class","hud"]],null,null,null,null,null)),(e()(),i["\u0275eld"](4,0,null,null,1,"div",[["class","view-cube"]],null,null,null,null,null)),(e()(),i["\u0275eld"](5,0,[[1,0],["cubeView",1]],null,0,"canvas",[],[[8,"width",0],[8,"height",0]],null,null,null,null)),(e()(),i["\u0275eld"](6,0,[[2,0],["threeView",1]],null,0,"canvas",[["class","canvas"],["resize",""]],[[8,"width",0],[8,"height",0]],null,null,null,null)),(e()(),i["\u0275eld"](7,0,null,null,2,"div",[["class","info"]],null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,Ze)),i["\u0275did"](9,278528,null,0,Fe.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,9,0,t.component.infos)},function(e,t){var n=t.component;e(t,5,0,64,64),e(t,6,0,n.width,n.height)})}var Xe=n("Pchq"),Qe=i["\u0275crt"]({encapsulation:2,styles:[],data:{animation:[{type:7,name:"panelState",definitions:[{type:0,name:"hidden",styles:{type:6,styles:{opacity:0},offset:null},options:void 0},{type:0,name:"visible",styles:{type:6,styles:{opacity:1},offset:null},options:void 0},{type:1,expr:"visible => hidden",animation:{type:4,styles:null,timings:"300ms ease-in"},options:null},{type:1,expr:"hidden => visible",animation:{type:4,styles:null,timings:"300ms ease-out"},options:null}],options:{}}]}});function Je(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,3,"a",[["role","button"],["tabindex","0"]],null,[[null,"click"],[null,"keydown.enter"]],function(e,t,n){var i=!0,r=e.component;return"click"===t&&(i=!1!==r.close(n)&&i),"keydown.enter"===t&&(i=!1!==r.close(n)&&i),i},null,null)),i["\u0275did"](1,278528,null,0,Fe.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngClass:[0,"ngClass"]},null),i["\u0275pod"](2,{"ui-sidebar-close ui-corner-all":0}),(e()(),i["\u0275eld"](3,0,null,null,0,"span",[["class","pi pi-times"]],null,null,null,null,null))],function(e,t){var n=e(t,2,0,!0);e(t,1,0,n)},null)}function et(e){return i["\u0275vid"](0,[i["\u0275qud"](402653184,1,{containerViewChild:0}),(e()(),i["\u0275eld"](1,0,[[1,0],["container",1]],null,6,"div",[],[[24,"@panelState",0]],null,null,null,null)),i["\u0275did"](2,278528,null,0,Fe.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](3,{"ui-sidebar ui-widget ui-widget-content ui-shadow":0,"ui-sidebar-active":1,"ui-sidebar-left":2,"ui-sidebar-right":3,"ui-sidebar-top":4,"ui-sidebar-bottom":5,"ui-sidebar-full":6}),i["\u0275did"](4,278528,null,0,Fe.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,"ngStyle"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Je)),i["\u0275did"](6,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),i["\u0275ncd"](null,0)],function(e,t){var n=t.component,i=n.styleClass,r=e(t,3,0,!0,n.visible,"left"===n.position,"right"===n.position,"top"===n.position,"bottom"===n.position,n.fullScreen);e(t,2,0,i,r),e(t,4,0,n.style),e(t,6,0,n.showCloseIcon)},function(e,t){e(t,1,0,t.component.visible?"visible":"hidden")})}var tt=n("g4HV"),nt=n("s7LF"),it=n("Fa87"),rt=n("K8Pq"),st=i["\u0275crt"]({encapsulation:2,styles:[],data:{}});function ot(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,2,"span",[["class","ui-slider-range ui-widget-header ui-corner-all"]],null,null,null,null,null)),i["\u0275did"](1,278528,null,0,Fe.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,"ngStyle"]},null),i["\u0275pod"](2,{left:0,width:1})],function(e,t){var n=t.component,i=e(t,2,0,n.handleValues[0]+"%",n.handleValues[1]-n.handleValues[0]+"%");e(t,1,0,i)},null)}function at(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,2,"span",[["class","ui-slider-range ui-widget-header ui-corner-all"]],null,null,null,null,null)),i["\u0275did"](1,278528,null,0,Fe.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,"ngStyle"]},null),i["\u0275pod"](2,{bottom:0,height:1})],function(e,t){var n=t.component,i=e(t,2,0,n.handleValues[0]+"%",n.handleValues[1]-n.handleValues[0]+"%");e(t,1,0,i)},null)}function lt(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,2,"span",[["class","ui-slider-range ui-slider-range-min ui-widget-header ui-corner-all"]],null,null,null,null,null)),i["\u0275did"](1,278528,null,0,Fe.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,"ngStyle"]},null),i["\u0275pod"](2,{height:0})],function(e,t){var n=e(t,2,0,t.component.handleValue+"%");e(t,1,0,n)},null)}function ut(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,2,"span",[["class","ui-slider-range ui-slider-range-min ui-widget-header ui-corner-all"]],null,null,null,null,null)),i["\u0275did"](1,278528,null,0,Fe.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,"ngStyle"]},null),i["\u0275pod"](2,{width:0})],function(e,t){var n=e(t,2,0,t.component.handleValue+"%");e(t,1,0,n)},null)}function ct(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,2,"span",[["class","ui-slider-handle ui-state-default ui-corner-all ui-clickable"]],[[4,"transition",null]],[[null,"mousedown"],[null,"touchstart"],[null,"touchmove"],[null,"touchend"]],function(e,t,n){var i=!0,r=e.component;return"mousedown"===t&&(i=!1!==r.onMouseDown(n)&&i),"touchstart"===t&&(i=!1!==r.onTouchStart(n)&&i),"touchmove"===t&&(i=!1!==r.onTouchMove(n)&&i),"touchend"===t&&(i=!1!==r.onTouchEnd(n)&&i),i},null,null)),i["\u0275did"](1,278528,null,0,Fe.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,"ngStyle"]},null),i["\u0275pod"](2,{left:0,bottom:1})],function(e,t){var n=t.component,i=e(t,2,0,"horizontal"==n.orientation?n.handleValue+"%":null,"vertical"==n.orientation?n.handleValue+"%":null);e(t,1,0,i)},function(e,t){e(t,0,0,t.component.dragging?"none":null)})}function ht(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,4,"span",[["class","ui-slider-handle ui-state-default ui-corner-all ui-clickable"]],[[4,"transition",null]],[[null,"mousedown"],[null,"touchstart"],[null,"touchmove"],[null,"touchend"]],function(e,t,n){var i=!0,r=e.component;return"mousedown"===t&&(i=!1!==r.onMouseDown(n,0)&&i),"touchstart"===t&&(i=!1!==r.onTouchStart(n,0)&&i),"touchmove"===t&&(i=!1!==r.onTouchMove(n,0)&&i),"touchend"===t&&(i=!1!==r.onTouchEnd(n)&&i),i},null,null)),i["\u0275did"](1,278528,null,0,Fe.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](2,{"ui-slider-handle-active":0}),i["\u0275did"](3,278528,null,0,Fe.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,"ngStyle"]},null),i["\u0275pod"](4,{left:0,bottom:1})],function(e,t){var n=t.component,i=e(t,2,0,0==n.handleIndex);e(t,1,0,"ui-slider-handle ui-state-default ui-corner-all ui-clickable",i);var r=e(t,4,0,n.rangeStartLeft,n.rangeStartBottom);e(t,3,0,r)},function(e,t){e(t,0,0,t.component.dragging?"none":null)})}function dt(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,4,"span",[["class","ui-slider-handle ui-state-default ui-corner-all ui-clickable"]],[[4,"transition",null]],[[null,"mousedown"],[null,"touchstart"],[null,"touchmove"],[null,"touchend"]],function(e,t,n){var i=!0,r=e.component;return"mousedown"===t&&(i=!1!==r.onMouseDown(n,1)&&i),"touchstart"===t&&(i=!1!==r.onTouchStart(n,1)&&i),"touchmove"===t&&(i=!1!==r.onTouchMove(n,1)&&i),"touchend"===t&&(i=!1!==r.onTouchEnd(n)&&i),i},null,null)),i["\u0275did"](1,278528,null,0,Fe.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](2,{"ui-slider-handle-active":0}),i["\u0275did"](3,278528,null,0,Fe.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,"ngStyle"]},null),i["\u0275pod"](4,{left:0,bottom:1})],function(e,t){var n=t.component,i=e(t,2,0,1==n.handleIndex);e(t,1,0,"ui-slider-handle ui-state-default ui-corner-all ui-clickable",i);var r=e(t,4,0,n.rangeEndLeft,n.rangeEndBottom);e(t,3,0,r)},function(e,t){e(t,0,0,t.component.dragging?"none":null)})}function pt(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,17,"div",[],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onBarClick(n)&&i),i},null,null)),i["\u0275did"](1,278528,null,0,Fe.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](2,{"ui-slider ui-widget ui-widget-content ui-corner-all":0,"ui-state-disabled":1,"ui-slider-horizontal":2,"ui-slider-vertical":3,"ui-slider-animate":4}),i["\u0275did"](3,278528,null,0,Fe.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,"ngStyle"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,ot)),i["\u0275did"](5,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,at)),i["\u0275did"](7,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,lt)),i["\u0275did"](9,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,ut)),i["\u0275did"](11,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,ct)),i["\u0275did"](13,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,ht)),i["\u0275did"](15,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,dt)),i["\u0275did"](17,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,i=n.styleClass,r=e(t,2,0,!0,n.disabled,"horizontal"==n.orientation,"vertical"==n.orientation,n.animate);e(t,1,0,i,r),e(t,3,0,n.style),e(t,5,0,n.range&&"horizontal"==n.orientation),e(t,7,0,n.range&&"vertical"==n.orientation),e(t,9,0,!n.range&&"vertical"==n.orientation),e(t,11,0,!n.range&&"horizontal"==n.orientation),e(t,13,0,!n.range),e(t,15,0,n.range),e(t,17,0,n.range)},null)}var ft=n("bjBz"),gt=i["\u0275crt"]({encapsulation:2,styles:[],data:{}});function mt(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,6,"div",[["role","checkbox"]],[[1,"aria-checked",0]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.onClick(n,i["\u0275nov"](e,5))&&r),r},null,null)),i["\u0275did"](1,278528,null,0,Fe.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](2,{"ui-inputswitch ui-widget":0,"ui-inputswitch-checked":1,"ui-state-disabled":2,"ui-inputswitch-readonly":3,"ui-inputswitch-focus":4}),i["\u0275did"](3,278528,null,0,Fe.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,"ngStyle"]},null),(e()(),i["\u0275eld"](4,0,null,null,1,"div",[["class","ui-helper-hidden-accessible"]],null,null,null,null,null)),(e()(),i["\u0275eld"](5,0,[["cb",1]],null,0,"input",[["type","checkbox"]],[[1,"id",0],[1,"name",0],[1,"tabindex",0],[8,"checked",0],[8,"disabled",0]],[[null,"change"],[null,"focus"],[null,"blur"]],function(e,t,n){var i=!0,r=e.component;return"change"===t&&(i=!1!==r.onInputChange(n)&&i),"focus"===t&&(i=!1!==r.onFocus(n)&&i),"blur"===t&&(i=!1!==r.onBlur(n)&&i),i},null,null)),(e()(),i["\u0275eld"](6,0,null,null,0,"span",[["class","ui-inputswitch-slider"]],null,null,null,null,null))],function(e,t){var n=t.component,i=n.styleClass,r=e(t,2,0,!0,n.checked,n.disabled,n.readonly,n.focused);e(t,1,0,i,r),e(t,3,0,n.style)},function(e,t){var n=t.component;e(t,0,0,n.checked),e(t,5,0,n.inputId,n.name,n.tabindex,n.checked,n.disabled)})}let vt=class{constructor(e,t,n,i,r){this.elementRef=e,this.route=t,this.workbenchService=n,this.parametersService=i,this.storageService=r,this.display=!1,this.selected=0,this.progress=0,this.layerIndex=0,this.layerMin=0,this.layerMax=0,this.layerArray=[],this.axesHelper=!0,this.wireframe=!1,this.normals=!1,this.ground=!1,this.sliceStream=this.parametersService.slice(),this.sliceSubscription=this.sliceStream.subscribe(e=>{this.slice=e},e=>console.error(e),()=>{}),this.radiusStream=this.parametersService.radius(),this.radiusSubscription=this.radiusStream.subscribe(e=>{this.radius=e},e=>console.error(e),()=>{}),this.layerStream=this.parametersService.layers(),this.layerSubscription=this.layerStream.subscribe(e=>{this.layer=e},e=>console.error(e),()=>{}),this.scanPiecesStream=this.parametersService.scanPieces(),this.scanPiecesSubscription=this.scanPiecesStream.subscribe(e=>{this.scanPieces=e,this.layerIndex=0,this.layerMin=0,this.layerMax=e.allZ.length-1,this.layerArray=e.allZ,this.onLayerChange()},e=>console.error(e),()=>{})}ngOnInit(){if(this.route.snapshot.queryParams.lastLoaded){const e=this.storageService.load("lastLoaded");this.workbenchService.loadBinary(e,()=>{})}}showSideBar(){this.display=!0}ngAfterViewInit(){this.resetWidthHeight()}onSliceChange(){this.parametersService.dispatch({type:re,payload:{slice:this.slice}})}onRadiusChange(){this.parametersService.dispatch({type:ie,payload:{radius:this.radius}})}onLayerChange(){this.layer.top=0===this.layerArray.length?0:this.layerArray[this.layerIndex],this.parametersService.dispatch({type:J,payload:{visible:this.layer.visible,top:this.layer.top}})}onLayerVisibilityChange(){this.parametersService.dispatch({type:J,payload:{visible:this.layer.visible,top:this.layer.top}})}onDebugChange(e,t){switch(t){case"axisHelper":this.axesHelper=e.checked;break;case"normals":this.normals=e.checked;break;case"wireframe":this.wireframe=e.checked;break;case"ground":this.ground=e.checked}this.parametersService.dispatch({type:ee,payload:{axesHelper:this.axesHelper,normals:this.normals,wireframe:this.wireframe,ground:this.ground}})}resetWidthHeight(){const e=window.innerWidth,t=window.innerHeight;this.rendererComponent.setSize(e,t)}};vt=o.__decorate([Ve()],vt);var yt=i["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function _t(e){return i["\u0275vid"](0,[i["\u0275qud"](402653184,1,{rendererComponent:0}),(e()(),i["\u0275eld"](1,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),i["\u0275eld"](2,0,null,null,1,"app-renderer",[],null,null,null,Ke,Ye)),i["\u0275did"](3,4440064,[[1,4]],0,qe,[be,ae],null,null),(e()(),i["\u0275eld"](4,0,null,null,109,"p-sidebar",[],null,[[null,"visibleChange"]],function(e,t,n){var i=!0;return"visibleChange"===t&&(i=!1!==(e.component.display=n)&&i),i},et,Qe)),i["\u0275did"](5,12763136,[["side",4]],0,Xe.Sidebar,[i.ElementRef,i.Renderer2],{visible:[0,"visible"]},{visibleChange:"visibleChange"}),(e()(),i["\u0275eld"](6,0,null,0,0,"br",[],null,null,null,null,null)),(e()(),i["\u0275eld"](7,0,null,0,0,"br",[],null,null,null,null,null)),(e()(),i["\u0275eld"](8,0,null,0,12,"div",[["class","ui-inputgroup"],["pTooltip","Slice size"],["tooltipPosition","left"]],null,null,null,null,null)),i["\u0275did"](9,4341760,null,0,tt.Tooltip,[i.ElementRef,i.NgZone],{tooltipPosition:[0,"tooltipPosition"],text:[1,"text"]},null),(e()(),i["\u0275eld"](10,0,null,null,1,"span",[["class","ui-inputgroup-addon"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["S"])),(e()(),i["\u0275eld"](12,0,null,null,6,"input",[["pInputText",""],["placeholder","Slice size"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var r=!0,s=e.component;return"input"===t&&(r=!1!==i["\u0275nov"](e,13)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==i["\u0275nov"](e,13).onTouched()&&r),"compositionstart"===t&&(r=!1!==i["\u0275nov"](e,13)._compositionStart()&&r),"compositionend"===t&&(r=!1!==i["\u0275nov"](e,13)._compositionEnd(n.target.value)&&r),"input"===t&&(r=!1!==i["\u0275nov"](e,18).onInput(n)&&r),"ngModelChange"===t&&(r=!1!==(s.slice=n)&&r),r},null,null)),i["\u0275did"](13,16384,null,0,nt.DefaultValueAccessor,[i.Renderer2,i.ElementRef,[2,nt.COMPOSITION_BUFFER_MODE]],null,null),i["\u0275prd"](1024,null,nt.NG_VALUE_ACCESSOR,function(e){return[e]},[nt.DefaultValueAccessor]),i["\u0275did"](15,671744,null,0,nt.NgModel,[[8,null],[8,null],[8,null],[6,nt.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,nt.NgControl,null,[nt.NgModel]),i["\u0275did"](17,16384,null,0,nt.NgControlStatus,[[4,nt.NgControl]],null,null),i["\u0275did"](18,278528,null,0,it.InputText,[i.ElementRef,[2,nt.NgModel]],null,null),(e()(),i["\u0275eld"](19,0,null,null,1,"span",[["class","ui-inputgroup-addon"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["in mm"])),(e()(),i["\u0275eld"](21,0,null,0,7,"div",[["pTooltip","Slice size"],["tooltipPosition","left"]],null,null,null,null,null)),i["\u0275did"](22,4341760,null,0,tt.Tooltip,[i.ElementRef,i.NgZone],{tooltipPosition:[0,"tooltipPosition"],text:[1,"text"]},null),(e()(),i["\u0275eld"](23,0,null,null,5,"p-slider",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"onChange"],[null,"ngModelChange"]],function(e,t,n){var i=!0,r=e.component;return"onChange"===t&&(i=!1!==r.onSliceChange()&&i),"ngModelChange"===t&&(i=!1!==(r.slice=n)&&i),i},pt,st)),i["\u0275did"](24,180224,null,0,rt.Slider,[i.ElementRef,i.Renderer2,i.NgZone,i.ChangeDetectorRef],{min:[0,"min"],max:[1,"max"],step:[2,"step"]},{onChange:"onChange"}),i["\u0275prd"](1024,null,nt.NG_VALUE_ACCESSOR,function(e){return[e]},[rt.Slider]),i["\u0275did"](26,671744,null,0,nt.NgModel,[[8,null],[8,null],[8,null],[6,nt.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,nt.NgControl,null,[nt.NgModel]),i["\u0275did"](28,16384,null,0,nt.NgControlStatus,[[4,nt.NgControl]],null,null),(e()(),i["\u0275eld"](29,0,null,0,0,"br",[],null,null,null,null,null)),(e()(),i["\u0275eld"](30,0,null,0,12,"div",[["class","ui-inputgroup"],["pTooltip","Tool size"],["tooltipPosition","left"]],null,null,null,null,null)),i["\u0275did"](31,4341760,null,0,tt.Tooltip,[i.ElementRef,i.NgZone],{tooltipPosition:[0,"tooltipPosition"],text:[1,"text"]},null),(e()(),i["\u0275eld"](32,0,null,null,1,"span",[["class","ui-inputgroup-addon"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["T"])),(e()(),i["\u0275eld"](34,0,null,null,6,"input",[["pInputText",""],["placeholder","Tool size"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var r=!0,s=e.component;return"input"===t&&(r=!1!==i["\u0275nov"](e,35)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==i["\u0275nov"](e,35).onTouched()&&r),"compositionstart"===t&&(r=!1!==i["\u0275nov"](e,35)._compositionStart()&&r),"compositionend"===t&&(r=!1!==i["\u0275nov"](e,35)._compositionEnd(n.target.value)&&r),"input"===t&&(r=!1!==i["\u0275nov"](e,40).onInput(n)&&r),"ngModelChange"===t&&(r=!1!==(s.radius=n)&&r),r},null,null)),i["\u0275did"](35,16384,null,0,nt.DefaultValueAccessor,[i.Renderer2,i.ElementRef,[2,nt.COMPOSITION_BUFFER_MODE]],null,null),i["\u0275prd"](1024,null,nt.NG_VALUE_ACCESSOR,function(e){return[e]},[nt.DefaultValueAccessor]),i["\u0275did"](37,671744,null,0,nt.NgModel,[[8,null],[8,null],[8,null],[6,nt.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,nt.NgControl,null,[nt.NgModel]),i["\u0275did"](39,16384,null,0,nt.NgControlStatus,[[4,nt.NgControl]],null,null),i["\u0275did"](40,278528,null,0,it.InputText,[i.ElementRef,[2,nt.NgModel]],null,null),(e()(),i["\u0275eld"](41,0,null,null,1,"span",[["class","ui-inputgroup-addon"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["in mm"])),(e()(),i["\u0275eld"](43,0,null,0,7,"div",[["pTooltip","Radius size"],["tooltipPosition","left"]],null,null,null,null,null)),i["\u0275did"](44,4341760,null,0,tt.Tooltip,[i.ElementRef,i.NgZone],{tooltipPosition:[0,"tooltipPosition"],text:[1,"text"]},null),(e()(),i["\u0275eld"](45,0,null,null,5,"p-slider",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"onChange"],[null,"ngModelChange"]],function(e,t,n){var i=!0,r=e.component;return"onChange"===t&&(i=!1!==r.onRadiusChange()&&i),"ngModelChange"===t&&(i=!1!==(r.radius=n)&&i),i},pt,st)),i["\u0275did"](46,180224,null,0,rt.Slider,[i.ElementRef,i.Renderer2,i.NgZone,i.ChangeDetectorRef],{min:[0,"min"],max:[1,"max"],step:[2,"step"]},{onChange:"onChange"}),i["\u0275prd"](1024,null,nt.NG_VALUE_ACCESSOR,function(e){return[e]},[rt.Slider]),i["\u0275did"](48,671744,null,0,nt.NgModel,[[8,null],[8,null],[8,null],[6,nt.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,nt.NgControl,null,[nt.NgModel]),i["\u0275did"](50,16384,null,0,nt.NgControlStatus,[[4,nt.NgControl]],null,null),(e()(),i["\u0275eld"](51,0,null,0,0,"br",[],null,null,null,null,null)),(e()(),i["\u0275eld"](52,0,null,0,11,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(e()(),i["\u0275eld"](53,0,null,null,1,"span",[["class","ui-inputgroup-addon"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["L"])),(e()(),i["\u0275eld"](55,0,null,null,6,"input",[["pInputText",""],["placeholder","Layer"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var r=!0,s=e.component;return"input"===t&&(r=!1!==i["\u0275nov"](e,56)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==i["\u0275nov"](e,56).onTouched()&&r),"compositionstart"===t&&(r=!1!==i["\u0275nov"](e,56)._compositionStart()&&r),"compositionend"===t&&(r=!1!==i["\u0275nov"](e,56)._compositionEnd(n.target.value)&&r),"input"===t&&(r=!1!==i["\u0275nov"](e,61).onInput(n)&&r),"ngModelChange"===t&&(r=!1!==(s.layerIndex=n)&&r),r},null,null)),i["\u0275did"](56,16384,null,0,nt.DefaultValueAccessor,[i.Renderer2,i.ElementRef,[2,nt.COMPOSITION_BUFFER_MODE]],null,null),i["\u0275prd"](1024,null,nt.NG_VALUE_ACCESSOR,function(e){return[e]},[nt.DefaultValueAccessor]),i["\u0275did"](58,671744,null,0,nt.NgModel,[[8,null],[8,null],[8,null],[6,nt.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,nt.NgControl,null,[nt.NgModel]),i["\u0275did"](60,16384,null,0,nt.NgControlStatus,[[4,nt.NgControl]],null,null),i["\u0275did"](61,278528,null,0,it.InputText,[i.ElementRef,[2,nt.NgModel]],null,null),(e()(),i["\u0275eld"](62,0,null,null,1,"span",[["class","ui-inputgroup-addon"]],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["in mm"])),(e()(),i["\u0275eld"](64,0,null,0,7,"div",[["tooltipPosition","left"]],null,null,null,null,null)),i["\u0275did"](65,4341760,null,0,tt.Tooltip,[i.ElementRef,i.NgZone],{tooltipPosition:[0,"tooltipPosition"],text:[1,"text"]},null),(e()(),i["\u0275eld"](66,0,null,null,5,"p-slider",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"onChange"],[null,"ngModelChange"]],function(e,t,n){var i=!0,r=e.component;return"onChange"===t&&(i=!1!==r.onLayerChange()&&i),"ngModelChange"===t&&(i=!1!==(r.layerIndex=n)&&i),i},pt,st)),i["\u0275did"](67,180224,null,0,rt.Slider,[i.ElementRef,i.Renderer2,i.NgZone,i.ChangeDetectorRef],{min:[0,"min"],max:[1,"max"],step:[2,"step"]},{onChange:"onChange"}),i["\u0275prd"](1024,null,nt.NG_VALUE_ACCESSOR,function(e){return[e]},[rt.Slider]),i["\u0275did"](69,671744,null,0,nt.NgModel,[[8,null],[8,null],[8,null],[6,nt.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,nt.NgControl,null,[nt.NgModel]),i["\u0275did"](71,16384,null,0,nt.NgControlStatus,[[4,nt.NgControl]],null,null),(e()(),i["\u0275eld"](72,0,null,0,0,"br",[],null,null,null,null,null)),(e()(),i["\u0275eld"](73,0,null,0,7,"div",[["class","max-width"]],null,null,null,null,null)),(e()(),i["\u0275eld"](74,0,null,null,5,"p-inputSwitch",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"onChange"],[null,"ngModelChange"]],function(e,t,n){var i=!0,r=e.component;return"onChange"===t&&(i=!1!==r.onLayerVisibilityChange()&&i),"ngModelChange"===t&&(i=!1!==(r.layer.visible=n)&&i),i},mt,gt)),i["\u0275did"](75,49152,null,0,ft.InputSwitch,[i.ChangeDetectorRef],null,{onChange:"onChange"}),i["\u0275prd"](1024,null,nt.NG_VALUE_ACCESSOR,function(e){return[e]},[ft.InputSwitch]),i["\u0275did"](77,671744,null,0,nt.NgModel,[[8,null],[8,null],[8,null],[6,nt.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,nt.NgControl,null,[nt.NgModel]),i["\u0275did"](79,16384,null,0,nt.NgControlStatus,[[4,nt.NgControl]],null,null),(e()(),i["\u0275ted"](-1,null,["Layer visible "])),(e()(),i["\u0275eld"](81,0,null,0,7,"div",[["class","max-width"]],null,null,null,null,null)),(e()(),i["\u0275eld"](82,0,null,null,5,"p-inputSwitch",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"onChange"],[null,"ngModelChange"]],function(e,t,n){var i=!0,r=e.component;return"onChange"===t&&(i=!1!==r.onDebugChange(n,"axisHelper")&&i),"ngModelChange"===t&&(i=!1!==(r.axesHelper=n)&&i),i},mt,gt)),i["\u0275did"](83,49152,null,0,ft.InputSwitch,[i.ChangeDetectorRef],null,{onChange:"onChange"}),i["\u0275prd"](1024,null,nt.NG_VALUE_ACCESSOR,function(e){return[e]},[ft.InputSwitch]),i["\u0275did"](85,671744,null,0,nt.NgModel,[[8,null],[8,null],[8,null],[6,nt.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,nt.NgControl,null,[nt.NgModel]),i["\u0275did"](87,16384,null,0,nt.NgControlStatus,[[4,nt.NgControl]],null,null),(e()(),i["\u0275ted"](-1,null,["Axis helper "])),(e()(),i["\u0275eld"](89,0,null,0,7,"div",[["class","max-width"]],null,null,null,null,null)),(e()(),i["\u0275eld"](90,0,null,null,5,"p-inputSwitch",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"onChange"],[null,"ngModelChange"]],function(e,t,n){var i=!0,r=e.component;return"onChange"===t&&(i=!1!==r.onDebugChange(n,"wireframe")&&i),"ngModelChange"===t&&(i=!1!==(r.wireframe=n)&&i),i},mt,gt)),i["\u0275did"](91,49152,null,0,ft.InputSwitch,[i.ChangeDetectorRef],null,{onChange:"onChange"}),i["\u0275prd"](1024,null,nt.NG_VALUE_ACCESSOR,function(e){return[e]},[ft.InputSwitch]),i["\u0275did"](93,671744,null,0,nt.NgModel,[[8,null],[8,null],[8,null],[6,nt.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,nt.NgControl,null,[nt.NgModel]),i["\u0275did"](95,16384,null,0,nt.NgControlStatus,[[4,nt.NgControl]],null,null),(e()(),i["\u0275ted"](-1,null,["Wireframe "])),(e()(),i["\u0275eld"](97,0,null,0,7,"div",[["class","max-width"]],null,null,null,null,null)),(e()(),i["\u0275eld"](98,0,null,null,5,"p-inputSwitch",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"onChange"],[null,"ngModelChange"]],function(e,t,n){var i=!0,r=e.component;return"onChange"===t&&(i=!1!==r.onDebugChange(n,"normals")&&i),"ngModelChange"===t&&(i=!1!==(r.normals=n)&&i),i},mt,gt)),i["\u0275did"](99,49152,null,0,ft.InputSwitch,[i.ChangeDetectorRef],null,{onChange:"onChange"}),i["\u0275prd"](1024,null,nt.NG_VALUE_ACCESSOR,function(e){return[e]},[ft.InputSwitch]),i["\u0275did"](101,671744,null,0,nt.NgModel,[[8,null],[8,null],[8,null],[6,nt.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,nt.NgControl,null,[nt.NgModel]),i["\u0275did"](103,16384,null,0,nt.NgControlStatus,[[4,nt.NgControl]],null,null),(e()(),i["\u0275ted"](-1,null,["Normals "])),(e()(),i["\u0275eld"](105,0,null,0,8,"div",[["class","max-width"]],null,null,null,null,null)),(e()(),i["\u0275eld"](106,0,null,null,6,"p-inputSwitch",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"onChange"],[null,"ngModelChange"]],function(e,t,n){var i=!0,r=e.component;return"onChange"===t&&(i=!1!==r.onDebugChange(n,"ground")&&i),"ngModelChange"===t&&(i=!1!==(r.ground=n)&&i),i},mt,gt)),i["\u0275did"](107,49152,null,0,ft.InputSwitch,[i.ChangeDetectorRef],null,{onChange:"onChange"}),i["\u0275prd"](1024,null,nt.NG_VALUE_ACCESSOR,function(e){return[e]},[ft.InputSwitch]),i["\u0275did"](109,671744,null,0,nt.NgModel,[[8,null],[8,null],[8,null],[6,nt.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,nt.NgControl,null,[nt.NgModel]),i["\u0275did"](111,16384,null,0,nt.NgControlStatus,[[4,nt.NgControl]],null,null),(e()(),i["\u0275ted"](-1,null,["xxx"])),(e()(),i["\u0275ted"](-1,null,["Ground "]))],function(e,t){var n=t.component;e(t,3,0),e(t,5,0,n.display),e(t,9,0,"left","Slice size"),e(t,15,0,n.slice),e(t,18,0),e(t,22,0,"left","Slice size"),e(t,24,0,0,5,.25),e(t,26,0,n.slice),e(t,31,0,"left","Tool size"),e(t,37,0,n.radius),e(t,40,0),e(t,44,0,"left","Radius size"),e(t,46,0,0,10,.25),e(t,48,0,n.radius),e(t,58,0,n.layerIndex),e(t,61,0),e(t,65,0,"left",i["\u0275inlineInterpolate"](1,"Layer height (max: ",n.layerMax,")")),e(t,67,0,n.layerMin,n.layerMax,1),e(t,69,0,n.layerIndex),e(t,77,0,n.layer.visible),e(t,85,0,n.axesHelper),e(t,93,0,n.wireframe),e(t,101,0,n.normals),e(t,109,0,n.ground)},function(e,t){e(t,12,1,[i["\u0275nov"](t,17).ngClassUntouched,i["\u0275nov"](t,17).ngClassTouched,i["\u0275nov"](t,17).ngClassPristine,i["\u0275nov"](t,17).ngClassDirty,i["\u0275nov"](t,17).ngClassValid,i["\u0275nov"](t,17).ngClassInvalid,i["\u0275nov"](t,17).ngClassPending,!0,!0,!0,!0,i["\u0275nov"](t,18).filled]),e(t,23,0,i["\u0275nov"](t,28).ngClassUntouched,i["\u0275nov"](t,28).ngClassTouched,i["\u0275nov"](t,28).ngClassPristine,i["\u0275nov"](t,28).ngClassDirty,i["\u0275nov"](t,28).ngClassValid,i["\u0275nov"](t,28).ngClassInvalid,i["\u0275nov"](t,28).ngClassPending),e(t,34,1,[i["\u0275nov"](t,39).ngClassUntouched,i["\u0275nov"](t,39).ngClassTouched,i["\u0275nov"](t,39).ngClassPristine,i["\u0275nov"](t,39).ngClassDirty,i["\u0275nov"](t,39).ngClassValid,i["\u0275nov"](t,39).ngClassInvalid,i["\u0275nov"](t,39).ngClassPending,!0,!0,!0,!0,i["\u0275nov"](t,40).filled]),e(t,45,0,i["\u0275nov"](t,50).ngClassUntouched,i["\u0275nov"](t,50).ngClassTouched,i["\u0275nov"](t,50).ngClassPristine,i["\u0275nov"](t,50).ngClassDirty,i["\u0275nov"](t,50).ngClassValid,i["\u0275nov"](t,50).ngClassInvalid,i["\u0275nov"](t,50).ngClassPending),e(t,55,1,[i["\u0275nov"](t,60).ngClassUntouched,i["\u0275nov"](t,60).ngClassTouched,i["\u0275nov"](t,60).ngClassPristine,i["\u0275nov"](t,60).ngClassDirty,i["\u0275nov"](t,60).ngClassValid,i["\u0275nov"](t,60).ngClassInvalid,i["\u0275nov"](t,60).ngClassPending,!0,!0,!0,!0,i["\u0275nov"](t,61).filled]),e(t,66,0,i["\u0275nov"](t,71).ngClassUntouched,i["\u0275nov"](t,71).ngClassTouched,i["\u0275nov"](t,71).ngClassPristine,i["\u0275nov"](t,71).ngClassDirty,i["\u0275nov"](t,71).ngClassValid,i["\u0275nov"](t,71).ngClassInvalid,i["\u0275nov"](t,71).ngClassPending),e(t,74,0,i["\u0275nov"](t,79).ngClassUntouched,i["\u0275nov"](t,79).ngClassTouched,i["\u0275nov"](t,79).ngClassPristine,i["\u0275nov"](t,79).ngClassDirty,i["\u0275nov"](t,79).ngClassValid,i["\u0275nov"](t,79).ngClassInvalid,i["\u0275nov"](t,79).ngClassPending),e(t,82,0,i["\u0275nov"](t,87).ngClassUntouched,i["\u0275nov"](t,87).ngClassTouched,i["\u0275nov"](t,87).ngClassPristine,i["\u0275nov"](t,87).ngClassDirty,i["\u0275nov"](t,87).ngClassValid,i["\u0275nov"](t,87).ngClassInvalid,i["\u0275nov"](t,87).ngClassPending),e(t,90,0,i["\u0275nov"](t,95).ngClassUntouched,i["\u0275nov"](t,95).ngClassTouched,i["\u0275nov"](t,95).ngClassPristine,i["\u0275nov"](t,95).ngClassDirty,i["\u0275nov"](t,95).ngClassValid,i["\u0275nov"](t,95).ngClassInvalid,i["\u0275nov"](t,95).ngClassPending),e(t,98,0,i["\u0275nov"](t,103).ngClassUntouched,i["\u0275nov"](t,103).ngClassTouched,i["\u0275nov"](t,103).ngClassPristine,i["\u0275nov"](t,103).ngClassDirty,i["\u0275nov"](t,103).ngClassValid,i["\u0275nov"](t,103).ngClassInvalid,i["\u0275nov"](t,103).ngClassPending),e(t,106,0,i["\u0275nov"](t,111).ngClassUntouched,i["\u0275nov"](t,111).ngClassTouched,i["\u0275nov"](t,111).ngClassPristine,i["\u0275nov"](t,111).ngClassDirty,i["\u0275nov"](t,111).ngClassValid,i["\u0275nov"](t,111).ngClassInvalid,i["\u0275nov"](t,111).ngClassPending)})}function bt(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"app-stl-view",[],null,[["window","resize"],["window","vrdisplaypresentchange"]],function(e,t,n){var r=!0;return"window:resize"===t&&(r=!1!==i["\u0275nov"](e,1).resetWidthHeight()&&r),"window:vrdisplaypresentchange"===t&&(r=!1!==i["\u0275nov"](e,1).resetWidthHeight()&&r),r},_t,yt)),i["\u0275did"](1,4308992,null,0,vt,[i.ElementRef,ze.ActivatedRoute,be,ae,xe],null,null)],function(e,t){e(t,1,0)},null)}var wt=i["\u0275ccf"]("app-stl-view",vt,bt,{},{},[]),xt=n("sy7D"),Ct=i["\u0275crt"]({encapsulation:2,styles:[],data:{}});function St(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,3,"label",[],[[1,"for",0]],[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.select()&&i),i},null,null)),i["\u0275did"](1,278528,null,0,Fe.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](2,{"ui-radiobutton-label":0,"ui-label-active":1,"ui-label-disabled":2,"ui-label-focus":3}),(e()(),i["\u0275ted"](3,null,["",""]))],function(e,t){var n=t.component,r=n.labelStyleClass,s=e(t,2,0,!0,i["\u0275nov"](t.parent,5).checked,n.disabled,n.focused);e(t,1,0,r,s)},function(e,t){var n=t.component;e(t,0,0,n.inputId),e(t,3,0,n.label)})}function Et(e){return i["\u0275vid"](0,[i["\u0275qud"](402653184,1,{inputViewChild:0}),(e()(),i["\u0275eld"](1,0,null,null,10,"div",[],null,null,null,null,null)),i["\u0275did"](2,278528,null,0,Fe.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275did"](3,278528,null,0,Fe.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,"ngStyle"]},null),(e()(),i["\u0275eld"](4,0,null,null,1,"div",[["class","ui-helper-hidden-accessible"]],null,null,null,null,null)),(e()(),i["\u0275eld"](5,0,[[1,0],["rb",1]],null,0,"input",[["type","radio"]],[[1,"id",0],[1,"name",0],[1,"value",0],[1,"tabindex",0],[8,"checked",0],[8,"disabled",0]],[[null,"change"],[null,"focus"],[null,"blur"]],function(e,t,n){var i=!0,r=e.component;return"change"===t&&(i=!1!==r.onChange(n)&&i),"focus"===t&&(i=!1!==r.onFocus(n)&&i),"blur"===t&&(i=!1!==r.onBlur(n)&&i),i},null,null)),(e()(),i["\u0275eld"](6,0,null,null,5,"div",[],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.handleClick(n,i["\u0275nov"](e,5),!0)&&r),r},null,null)),i["\u0275did"](7,278528,null,0,Fe.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngClass:[0,"ngClass"]},null),i["\u0275pod"](8,{"ui-radiobutton-box ui-widget ui-state-default":0,"ui-state-active":1,"ui-state-disabled":2,"ui-state-focus":3}),(e()(),i["\u0275eld"](9,0,null,null,2,"span",[["class","ui-radiobutton-icon ui-clickable"]],null,null,null,null,null)),i["\u0275did"](10,278528,null,0,Fe.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](11,{"pi pi-circle-on":0}),(e()(),i["\u0275and"](16777216,null,null,1,null,St)),i["\u0275did"](13,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,2,0,n.styleClass,"ui-radiobutton ui-widget"),e(t,3,0,n.style);var r=e(t,8,0,!0,i["\u0275nov"](t,5).checked,n.disabled,n.focused);e(t,7,0,r);var s=e(t,11,0,i["\u0275nov"](t,5).checked);e(t,10,0,"ui-radiobutton-icon ui-clickable",s),e(t,13,0,n.label)},function(e,t){var n=t.component;e(t,5,0,n.inputId,n.name,n.value,n.tabindex,n.checked,n.disabled)})}var Tt=n("VSng"),Mt=n("G5kV"),It=n("7LN8"),Ot=i["\u0275crt"]({encapsulation:2,styles:[],data:{animation:[{type:7,name:"messageState",definitions:[{type:0,name:"visible",styles:{type:6,styles:{transform:"translateY(0)",opacity:1},offset:null},options:void 0},{type:1,expr:"void => *",animation:[{type:6,styles:{transform:"translateY(100%)",opacity:0},offset:null},{type:4,styles:null,timings:"{{showTransitionParams}}"}],options:null},{type:1,expr:"* => void",animation:[{type:4,styles:{type:6,styles:{height:0,opacity:0,transform:"translateY(-100%)"},offset:null},timings:"{{hideTransitionParams}}"}],options:null}],options:{}}]}});function At(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,0,"a",[["class","ui-toast-close-icon pi pi-times"],["tabindex","0"]],null,[[null,"click"],[null,"keydown.enter"]],function(e,t,n){var i=!0,r=e.component;return"click"===t&&(i=!1!==r.onCloseIconClick(n)&&i),"keydown.enter"===t&&(i=!1!==r.onCloseIconClick(n)&&i),i},null,null))],null,null)}function Dt(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,8,null,null,null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,2,"span",[["class","ui-toast-icon pi"]],null,null,null,null,null)),i["\u0275did"](2,278528,null,0,Fe.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](3,{"pi-info-circle":0,"pi-exclamation-triangle":1,"pi-times":2,"pi-check":3}),(e()(),i["\u0275eld"](4,0,null,null,4,"div",[["class","ui-toast-message-text-content"]],null,null,null,null,null)),(e()(),i["\u0275eld"](5,0,null,null,1,"div",[["class","ui-toast-summary"]],null,null,null,null,null)),(e()(),i["\u0275ted"](6,null,["",""])),(e()(),i["\u0275eld"](7,0,null,null,1,"div",[["class","ui-toast-detail"]],null,null,null,null,null)),(e()(),i["\u0275ted"](8,null,["",""]))],function(e,t){var n=t.component,i=e(t,3,0,"info"==n.message.severity,"warn"==n.message.severity,"error"==n.message.severity,"success"==n.message.severity);e(t,2,0,"ui-toast-icon pi",i)},function(e,t){var n=t.component;e(t,6,0,n.message.summary),e(t,8,0,n.message.detail)})}function kt(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Pt(e){return i["\u0275vid"](0,[i["\u0275qud"](402653184,1,{containerViewChild:0}),(e()(),i["\u0275eld"](1,0,[[1,0],["container",1]],null,12,"div",[["class","ui-toast-message ui-shadow"]],[[24,"@messageState",0]],[[null,"mouseenter"],[null,"mouseleave"]],function(e,t,n){var i=!0,r=e.component;return"mouseenter"===t&&(i=!1!==r.onMouseEnter()&&i),"mouseleave"===t&&(i=!1!==r.onMouseLeave()&&i),i},null,null)),i["\u0275did"](2,278528,null,0,Fe.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](3,{"ui-toast-message-info":0,"ui-toast-message-warn":1,"ui-toast-message-error":2,"ui-toast-message-success":3}),i["\u0275pod"](4,{showTransitionParams:0,hideTransitionParams:1}),i["\u0275pod"](5,{value:0,params:1}),(e()(),i["\u0275eld"](6,0,null,null,7,"div",[["class","ui-toast-message-content"]],null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,At)),i["\u0275did"](8,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Dt)),i["\u0275did"](10,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,2,null,kt)),i["\u0275did"](12,540672,null,0,Fe.NgTemplateOutlet,[i.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),i["\u0275pod"](13,{$implicit:0})],function(e,t){var n=t.component,i=e(t,3,0,"info"==n.message.severity,"warn"==n.message.severity,"error"==n.message.severity,"success"==n.message.severity);e(t,2,0,"ui-toast-message ui-shadow",i),e(t,8,0,!1!==n.message.closable),e(t,10,0,!n.template);var r=e(t,13,0,n.message);e(t,12,0,r,n.template)},function(e,t){var n=t.component,i=e(t,5,0,"visible",e(t,4,0,n.showTransitionOptions,n.hideTransitionOptions));e(t,1,0,i)})}var Rt=i["\u0275crt"]({encapsulation:2,styles:[],data:{animation:[{type:7,name:"toastAnimation",definitions:[{type:1,expr:":enter, :leave",animation:[{type:11,selector:"@*",animation:{type:9,options:null},options:null}],options:null}],options:{}}]}});function Lt(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"p-toastItem",[],[[24,"@toastAnimation",0]],[[null,"onClose"],[null,"@toastAnimation.start"]],function(e,t,n){var i=!0,r=e.component;return"onClose"===t&&(i=!1!==r.onMessageClose(n)&&i),"@toastAnimation.start"===t&&(i=!1!==r.onAnimationStart(n)&&i),i},Pt,Ot)),i["\u0275did"](1,4374528,null,0,Mt.ToastItem,[],{message:[0,"message"],index:[1,"index"],template:[2,"template"],showTransitionOptions:[3,"showTransitionOptions"],hideTransitionOptions:[4,"hideTransitionOptions"]},{onClose:"onClose"})],function(e,t){var n=t.component;e(t,1,0,t.context.$implicit,t.context.index,n.template,n.showTransitionOptions,n.hideTransitionOptions)},function(e,t){e(t,0,0,void 0)})}function Nt(e){return i["\u0275vid"](0,[i["\u0275qud"](402653184,1,{containerViewChild:0}),(e()(),i["\u0275eld"](1,0,[[1,0],["container",1]],null,5,"div",[],null,null,null,null,null)),i["\u0275did"](2,278528,null,0,Fe.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](3,{"ui-toast ui-widget":0,"ui-toast-top-right":1,"ui-toast-top-left":2,"ui-toast-bottom-right":3,"ui-toast-bottom-left":4,"ui-toast-top-center":5,"ui-toast-bottom-center":6,"ui-toast-center":7}),i["\u0275did"](4,278528,null,0,Fe.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,"ngStyle"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Lt)),i["\u0275did"](6,278528,null,0,Fe.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(e,t){var n=t.component,i=n.styleClass,r=e(t,3,0,!0,"top-right"===n.position,"top-left"===n.position,"bottom-right"===n.position,"bottom-left"===n.position,"top-center"===n.position,"bottom-center"===n.position,"center"===n.position);e(t,2,0,i,r),e(t,4,0,n.style),e(t,6,0,n.messages)},null)}class Ft{constructor(){}brim(e,t,n,i,r,s,o,a,l,u){const c=[];Q.each("inline"!==n?e.opened.children:e.closed.children,e=>{c.push({id:e.name,touch:e.getNearestPoint(i)})});const h=Q.sortBy(Q.flatMap(c,e=>({id:e.id,touch:e.touch,distance:i.getDistance(e.touch)})),e=>e.distance);switch(n){case"inline":{const n=Q.take(h,1);if(1===n.length){const i=Q.take(Q.sortBy(Q.flatMap(e.closeFinePath.children,e=>({id:e.name,touch:e.bounds.center,distance:n[0].touch.getDistance(e.bounds.center)})),e=>e.distance),1);if(i.length>0)return t.removeSegments(),t.add(n[0].touch),t.add(i[0].touch),t.data=new Ie,t.data.points=[{x:n[0].touch.x,y:n[0].touch.y},{x:i[0].touch.x,y:i[0].touch.y}],!0}}break;case"cross":{const e=Q.take(h,2);if(2===e.length)return t.removeSegments(),t.add(e[0].touch),t.add(e[1].touch),t.data=new Ie,t.data.points=[{x:e[0].touch.x,y:e[0].touch.y},{x:e[1].touch.x,y:e[1].touch.y}],!0}break;case"border":return this.border(h,t,s)}return!1}border(e,t,n){const i=Q.take(e,1);if(1===i.length){t.removeSegments();const e=n.getNearestPoint(i[0].touch);return t.add(e),t.add(i[0].touch),t.data=new Ie,t.data.points=[e,i[0].touch],t.data.points=[{x:e.x,y:e.y},{x:i[0].touch.x,y:i[0].touch.y}],!0}return!1}}let Vt=class{constructor(e,t,n,i,r,s,o){this.appComponent=e,this.messageService=t,this.parametersService=n,this.millingService=i,this.route=r,this.workbenchService=s,this.storageService=o,this.zoom=5,this.brimMode="cross",this.display=!1,this.radius=4,this.brim=new Ft,this.scanPiecesStream=this.parametersService.scanPieces(),this.layersStream=this.parametersService.layers(),this.radiusStream=this.parametersService.radius(),this.brimStream=this.parametersService.brims(),this.options={layer:{top:0,visible:!0},scanPieces:{minx:0,maxx:0,miny:0,maxy:0,minz:0,maxz:0,allZ:[]},brims:[]}}ngOnInit(){if(this.route.snapshot.queryParams.lastLoaded){const e=this.storageService.load("lastLoaded");this.workbenchService.loadBinary(e,()=>{})}this.radiusSubscription=this.radiusStream.subscribe(e=>{this.radius=e},e=>console.error(e),()=>{}),this.layersSubscription=this.layersStream.subscribe(e=>{this.options.layer=e},e=>console.error(e),()=>{}),this.scanPiecesSubscription=this.scanPiecesStream.subscribe(e=>{this.options.scanPieces=e},e=>console.error(e),()=>{}),this.brimSubscription=this.brimStream.subscribe(e=>{this.options.brims=e,this.slicer&&this.slicer.refreshBrims(this.options.brims,3)},e=>console.error(e),()=>{})}ngAfterViewInit(){this.sliceInit()}showSideBar(){this.display=!0}sliceInit(){console.log("Render slice of current layer"),this.slicer=new Ne(this.paperCanvas.nativeElement),this.slicer.init(this.options.scanPieces,this.zoom,this.radius),this.shapes=this.slicer.render(this.millingService.getAreas(),!1,!0),this.slicer.refreshBrims(this.options.brims,3);const e=new ce.Path({fillColor:"orange",strokeColor:"red",insert:!0}),t=Ce.bounds(this.options.scanPieces.minx,this.options.scanPieces.maxx,this.options.scanPieces.miny,this.options.scanPieces.maxy,2*this.radius),n=new ce.Path.Rectangle({from:new ce.Point(t.left,t.top),to:new ce.Point(t.right,t.bottom),strokeColor:"red",strokeWidth:.5,fillColor:"white",selected:!1,visible:!0,insert:!0});n.sendToBack(),n.onMouseMove=(t=>{this.brim.brim(this.shapes,e,this.brimMode,t.point,this.radius,n,this.options.scanPieces.minx,this.options.scanPieces.maxx,this.options.scanPieces.miny,this.options.scanPieces.maxy)}),e.onClick=(t=>{this.parametersService.dispatch({type:se,payload:{brim:Q.concat(e.data,this.options.brims)}})})}onToolChange(){this.slicer.onToolChange(this.zoom)}onClick(){this.slicer.setBrimMode(this.brimMode),this.parametersService.dispatch({type:ne,payload:{brimMode:this.brimMode}})}gcodeCopy(){const e=document.createElement("textarea");e.value=this.slicer.sampleGcode(this.options.layer.top,this.options.scanPieces.maxz,this.options.brims,3,this.shapes.journeys),document.body.appendChild(e),e.select(),document.execCommand("copy"),this.messageService.add({severity:"success",summary:"Gcode copied to clipboard",detail:e.value.length+" byte(s)"}),document.body.removeChild(e)}saveBrims(){this.storageService.saveAsObject("lastBrimConfig",this.options.brims)}clearBrims(){this.parametersService.dispatch({type:se,payload:{brim:[]}})}};Vt=o.__decorate([Ve()],Vt);var jt=i["\u0275crt"]({encapsulation:0,styles:[[".info[_ngcontent-%COMP%]{font-size:9px}canvas[_ngcontent-%COMP%]{display:inline-block;vertical-align:baseline}"]],data:{}});function Bt(e){return i["\u0275vid"](0,[i["\u0275qud"](402653184,1,{paperCanvas:0}),(e()(),i["\u0275eld"](1,0,[[1,0],["paperView",1]],null,0,"canvas",[["resize",""]],null,null,null,null,null)),(e()(),i["\u0275eld"](2,0,null,null,42,"p-sidebar",[],null,[[null,"visibleChange"]],function(e,t,n){var i=!0;return"visibleChange"===t&&(i=!1!==(e.component.display=n)&&i),i},et,Qe)),i["\u0275did"](3,12763136,[["side",4]],0,Xe.Sidebar,[i.ElementRef,i.Renderer2],{visible:[0,"visible"]},{visibleChange:"visibleChange"}),(e()(),i["\u0275eld"](4,0,null,0,1,"h4",[],null,null,null,null,null)),(e()(),i["\u0275ted"](5,null,["zoom: ",""])),(e()(),i["\u0275eld"](6,0,null,0,5,"p-slider",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"onChange"],[null,"ngModelChange"]],function(e,t,n){var i=!0,r=e.component;return"onChange"===t&&(i=!1!==r.onToolChange()&&i),"ngModelChange"===t&&(i=!1!==(r.zoom=n)&&i),i},pt,st)),i["\u0275did"](7,180224,null,0,rt.Slider,[i.ElementRef,i.Renderer2,i.NgZone,i.ChangeDetectorRef],{min:[0,"min"],max:[1,"max"],step:[2,"step"]},{onChange:"onChange"}),i["\u0275prd"](1024,null,nt.NG_VALUE_ACCESSOR,function(e){return[e]},[rt.Slider]),i["\u0275did"](9,671744,null,0,nt.NgModel,[[8,null],[8,null],[8,null],[6,nt.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,nt.NgControl,null,[nt.NgModel]),i["\u0275did"](11,16384,null,0,nt.NgControlStatus,[[4,nt.NgControl]],null,null),(e()(),i["\u0275eld"](12,0,null,0,0,"br",[],null,null,null,null,null)),(e()(),i["\u0275ted"](13,0,[" Brim mode = "," "])),(e()(),i["\u0275eld"](14,0,null,0,0,"br",[],null,null,null,null,null)),(e()(),i["\u0275eld"](15,0,null,0,6,"div",[],null,null,null,null,null)),(e()(),i["\u0275eld"](16,0,null,null,5,"p-radioButton",[["label","cross"],["name","groupname"],["value","cross"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"onClick"],[null,"ngModelChange"]],function(e,t,n){var i=!0,r=e.component;return"onClick"===t&&(i=!1!==r.onClick()&&i),"ngModelChange"===t&&(i=!1!==(r.brimMode=n)&&i),i},Et,Ct)),i["\u0275did"](17,49152,null,0,xt.RadioButton,[i.ChangeDetectorRef],{value:[0,"value"],name:[1,"name"],label:[2,"label"]},{onClick:"onClick"}),i["\u0275prd"](1024,null,nt.NG_VALUE_ACCESSOR,function(e){return[e]},[xt.RadioButton]),i["\u0275did"](19,671744,null,0,nt.NgModel,[[8,null],[8,null],[8,null],[6,nt.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,nt.NgControl,null,[nt.NgModel]),i["\u0275did"](21,16384,null,0,nt.NgControlStatus,[[4,nt.NgControl]],null,null),(e()(),i["\u0275eld"](22,0,null,0,6,"div",[],null,null,null,null,null)),(e()(),i["\u0275eld"](23,0,null,null,5,"p-radioButton",[["label","inline"],["name","groupname"],["value","inline"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"onClick"],[null,"ngModelChange"]],function(e,t,n){var i=!0,r=e.component;return"onClick"===t&&(i=!1!==r.onClick()&&i),"ngModelChange"===t&&(i=!1!==(r.brimMode=n)&&i),i},Et,Ct)),i["\u0275did"](24,49152,null,0,xt.RadioButton,[i.ChangeDetectorRef],{value:[0,"value"],name:[1,"name"],label:[2,"label"]},{onClick:"onClick"}),i["\u0275prd"](1024,null,nt.NG_VALUE_ACCESSOR,function(e){return[e]},[xt.RadioButton]),i["\u0275did"](26,671744,null,0,nt.NgModel,[[8,null],[8,null],[8,null],[6,nt.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,nt.NgControl,null,[nt.NgModel]),i["\u0275did"](28,16384,null,0,nt.NgControlStatus,[[4,nt.NgControl]],null,null),(e()(),i["\u0275eld"](29,0,null,0,6,"div",[],null,null,null,null,null)),(e()(),i["\u0275eld"](30,0,null,null,5,"p-radioButton",[["label","border"],["name","groupname"],["value","border"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"onClick"],[null,"ngModelChange"]],function(e,t,n){var i=!0,r=e.component;return"onClick"===t&&(i=!1!==r.onClick()&&i),"ngModelChange"===t&&(i=!1!==(r.brimMode=n)&&i),i},Et,Ct)),i["\u0275did"](31,49152,null,0,xt.RadioButton,[i.ChangeDetectorRef],{value:[0,"value"],name:[1,"name"],label:[2,"label"]},{onClick:"onClick"}),i["\u0275prd"](1024,null,nt.NG_VALUE_ACCESSOR,function(e){return[e]},[xt.RadioButton]),i["\u0275did"](33,671744,null,0,nt.NgModel,[[8,null],[8,null],[8,null],[6,nt.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,nt.NgControl,null,[nt.NgModel]),i["\u0275did"](35,16384,null,0,nt.NgControlStatus,[[4,nt.NgControl]],null,null),(e()(),i["\u0275eld"](36,0,null,0,0,"br",[],null,null,null,null,null)),(e()(),i["\u0275eld"](37,0,null,0,1,"button",[["label","Gcode"],["pButton",""],["type","button"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.gcodeCopy()&&i),i},null,null)),i["\u0275did"](38,4341760,null,0,Tt.ButtonDirective,[i.ElementRef],{label:[0,"label"]},null),(e()(),i["\u0275eld"](39,0,null,0,0,"br",[],null,null,null,null,null)),(e()(),i["\u0275eld"](40,0,null,0,1,"button",[["label","Save brims"],["pButton",""],["type","button"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.saveBrims()&&i),i},null,null)),i["\u0275did"](41,4341760,null,0,Tt.ButtonDirective,[i.ElementRef],{label:[0,"label"]},null),(e()(),i["\u0275eld"](42,0,null,0,0,"br",[],null,null,null,null,null)),(e()(),i["\u0275eld"](43,0,null,0,1,"button",[["label","Clear all brims"],["pButton",""],["type","button"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.clearBrims()&&i),i},null,null)),i["\u0275did"](44,4341760,null,0,Tt.ButtonDirective,[i.ElementRef],{label:[0,"label"]},null),(e()(),i["\u0275eld"](45,0,null,null,2,"p-toast",[["position","top-right"]],null,null,null,Nt,Rt)),i["\u0275did"](46,1294336,null,1,Mt.Toast,[je.MessageService],{position:[0,"position"]},null),i["\u0275qud"](603979776,2,{templates:1})],function(e,t){var n=t.component;e(t,3,0,n.display),e(t,7,0,1,30,1),e(t,9,0,n.zoom),e(t,17,0,"cross","groupname","cross"),e(t,19,0,"groupname",n.brimMode),e(t,24,0,"inline","groupname","inline"),e(t,26,0,"groupname",n.brimMode),e(t,31,0,"border","groupname","border"),e(t,33,0,"groupname",n.brimMode),e(t,38,0,"Gcode"),e(t,41,0,"Save brims"),e(t,44,0,"Clear all brims"),e(t,46,0,"top-right")},function(e,t){var n=t.component;e(t,5,0,n.zoom),e(t,6,0,i["\u0275nov"](t,11).ngClassUntouched,i["\u0275nov"](t,11).ngClassTouched,i["\u0275nov"](t,11).ngClassPristine,i["\u0275nov"](t,11).ngClassDirty,i["\u0275nov"](t,11).ngClassValid,i["\u0275nov"](t,11).ngClassInvalid,i["\u0275nov"](t,11).ngClassPending),e(t,13,0,n.brimMode),e(t,16,0,i["\u0275nov"](t,21).ngClassUntouched,i["\u0275nov"](t,21).ngClassTouched,i["\u0275nov"](t,21).ngClassPristine,i["\u0275nov"](t,21).ngClassDirty,i["\u0275nov"](t,21).ngClassValid,i["\u0275nov"](t,21).ngClassInvalid,i["\u0275nov"](t,21).ngClassPending),e(t,23,0,i["\u0275nov"](t,28).ngClassUntouched,i["\u0275nov"](t,28).ngClassTouched,i["\u0275nov"](t,28).ngClassPristine,i["\u0275nov"](t,28).ngClassDirty,i["\u0275nov"](t,28).ngClassValid,i["\u0275nov"](t,28).ngClassInvalid,i["\u0275nov"](t,28).ngClassPending),e(t,30,0,i["\u0275nov"](t,35).ngClassUntouched,i["\u0275nov"](t,35).ngClassTouched,i["\u0275nov"](t,35).ngClassPristine,i["\u0275nov"](t,35).ngClassDirty,i["\u0275nov"](t,35).ngClassValid,i["\u0275nov"](t,35).ngClassInvalid,i["\u0275nov"](t,35).ngClassPending)})}function zt(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,2,"app-toolpath-view",[],null,null,null,Bt,jt)),i["\u0275prd"](512,null,je.MessageService,je.MessageService,[]),i["\u0275did"](2,4308992,null,0,Vt,[Be,je.MessageService,ae,pe,ze.ActivatedRoute,be,xe],null,null)],function(e,t){e(t,2,0)},null)}var Ht=i["\u0275ccf"]("app-toolpath-view",Vt,zt,{},{},[]),Ut=n("GS7A");function Gt(){throw Error("Host already has a portal attached")}class Wt{attach(e){return null==e&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),e.hasAttached()&&Gt(),this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null==e?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class $t extends Wt{constructor(e,t,n,i){super(),this.component=e,this.viewContainerRef=t,this.injector=n,this.componentFactoryResolver=i}}class qt extends Wt{constructor(e,t,n){super(),this.templateRef=e,this.viewContainerRef=t,this.context=n}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Yt{constructor(){this._isDisposed=!1}hasAttached(){return!!this._attachedPortal}attach(e){return e||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&Gt(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),e instanceof $t?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof qt?(this._attachedPortal=e,this.attachTemplatePortal(e)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Zt extends Yt{constructor(e,t,n,i){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=n,this._defaultInjector=i}attachComponentPortal(e){const t=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let n;return e.viewContainerRef?(n=e.viewContainerRef.createComponent(t,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=t.create(e.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),n}attachTemplatePortal(e){let t=e.viewContainerRef,n=t.createEmbeddedView(e.templateRef,e.context);return n.detectChanges(),n.rootNodes.forEach(e=>this.outletElement.appendChild(e)),this.setDisposeFn(()=>{let e=t.indexOf(n);-1!==e&&t.remove(e)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class Kt extends Yt{constructor(e,t){super(),this._componentFactoryResolver=e,this._viewContainerRef=t,this._isInitialized=!1,this.attached=new i.EventEmitter}get portal(){return this._attachedPortal}set portal(e){(!this.hasAttached()||e||this._isInitialized)&&(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const t=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,n=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),i=t.createComponent(n,t.length,e.injector||t.injector);return super.setDisposeFn(()=>i.destroy()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}attachTemplatePortal(e){e.setAttachedHost(this);const t=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=t,this.attached.emit(t),t}}class Xt{}class Qt{constructor(e,t){this._parentInjector=e,this._customTokens=t}get(e,t){const n=this._customTokens.get(e);return void 0!==n?n:this._parentInjector.get(e,t)}}const Jt=27;var en=n("NXyV"),tn=n("LRne"),nn=n("pLZG"),rn=n("IzEk"),sn=n("JX91");const on=new i.InjectionToken("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(i.inject)(Fe.DOCUMENT)}});class an{constructor(e){if(this.value="ltr",this.change=new i.EventEmitter,e){const t=e.documentElement?e.documentElement.dir:null,n=(e.body?e.body.dir:null)||t;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}an.ngInjectableDef=Object(i.defineInjectable)({factory:function(){return new an(Object(i.inject)(on,8))},token:an,providedIn:"root"});class ln{}function un(e){return Array.isArray(e)?e:[e]}function cn(e){return null==e?"":"string"==typeof e?e:`${e}px`}function hn(e){return e instanceof i.ElementRef?e.nativeElement:e}var dn=n("xgIS"),pn=(n("eNwd"),n("VRyK")),fn=n("D0XW");class gn{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new mn(e,this.durationSelector))}}class mn extends d.a{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){if(this.value=e,this.hasValue=!0,!this.throttled){const t=Object(_.a)(this.durationSelector)(e);if(t===b.a)this.destination.error(b.a.e);else{const e=Object(p.a)(this,t);!e||e.closed?this.clearThrottle():this.add(this.throttled=e)}}}clearThrottle(){const{value:e,hasValue:t,throttled:n}=this;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),t&&(this.value=null,this.hasValue=!1,this.destination.next(e))}notifyNext(e,t,n,i){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var vn=n("PqYM");function yn(e,t=fn.a){return n=(()=>Object(vn.a)(e,t)),function(e){return e.lift(new gn(n))};var n}class _n{constructor(e){this.notifier=e}call(e,t){const n=new bn(e),i=Object(p.a)(n,this.notifier);return i&&!n.seenValue?(n.add(i),t.subscribe(n)):n}}class bn extends d.a{constructor(e){super(e),this.seenValue=!1}notifyNext(e,t,n,i,r){this.seenValue=!0,this.complete()}notifyComplete(){}}n("eIep"),n("jtHE");const wn="undefined"!=typeof Intl&&Intl.v8BreakIterator;class xn{constructor(e){this._platformId=e,this.isBrowser=this._platformId?Object(Fe.isPlatformBrowser)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!wn)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}xn.ngInjectableDef=Object(i.defineInjectable)({factory:function(){return new xn(Object(i.inject)(i.PLATFORM_ID,8))},token:xn,providedIn:"root"});class Cn{}let Sn;function En(e){return function(){if(null==Sn&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Sn=!0}))}finally{Sn=Sn||!1}return Sn}()?e:!!e.capture}class Tn{constructor(){this._listeners=[]}notify(e,t){for(let n of this._listeners)n(e,t)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(t=>e!==t)}}ngOnDestroy(){this._listeners=[]}}Tn.ngInjectableDef=Object(i.defineInjectable)({factory:function(){return new Tn},token:Tn,providedIn:"root"});const Mn=20;class In{constructor(e,t){this._ngZone=e,this._platform=t,this._scrolled=new u.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const t=this.scrollContainers.get(e);t&&(t.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=Mn){return this._platform.isBrowser?l.a.create(t=>{this._globalSubscription||this._addGlobalListener();const n=e>0?this._scrolled.pipe(yn(e)).subscribe(t):this._scrolled.subscribe(t);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Object(tn.a)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,t)=>this.deregister(t)),this._scrolled.complete()}ancestorScrolled(e,t){const n=this.getAncestorScrollContainers(e);return this.scrolled(t).pipe(Object(nn.a)(e=>!e||n.indexOf(e)>-1))}getAncestorScrollContainers(e){const t=[];return this.scrollContainers.forEach((n,i)=>{this._scrollableContainsElement(i,e)&&t.push(i)}),t}_scrollableContainsElement(e,t){let n=t.nativeElement,i=e.getElementRef().nativeElement;do{if(n==i)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Object(dn.a)(window.document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}In.ngInjectableDef=Object(i.defineInjectable)({factory:function(){return new In(Object(i.inject)(i.NgZone),Object(i.inject)(xn))},token:In,providedIn:"root"});class On{}const An=20;class Dn{constructor(e,t){this._platform=e,t.runOutsideAngular(()=>{this._change=e.isBrowser?Object(pn.a)(Object(dn.a)(window,"resize"),Object(dn.a)(window,"orientationchange")):Object(tn.a)(),this._invalidateCache=this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){this._invalidateCache.unsubscribe()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:t,height:n}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+n,right:e.left+t,height:n,width:t}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=document.documentElement,t=e.getBoundingClientRect();return{top:-t.top||document.body.scrollTop||window.scrollY||e.scrollTop||0,left:-t.left||document.body.scrollLeft||window.scrollX||e.scrollLeft||0}}change(e=An){return e>0?this._change.pipe(yn(e)):this._change}_updateViewportSize(){this._viewportSize=this._platform.isBrowser?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0}}}Dn.ngInjectableDef=Object(i.defineInjectable)({factory:function(){return new Dn(Object(i.inject)(xn),Object(i.inject)(i.NgZone))},token:Dn,providedIn:"root"});var kn=n("quSY");class Pn{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=cn(-this._previousScrollPosition.left),e.style.top=cn(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,t=e.style,n=this._document.body.style,i=t.scrollBehavior||"",r=n.scrollBehavior||"";this._isEnabled=!1,t.left=this._previousHTMLStyles.left,t.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),t.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),t.scrollBehavior=i,n.scrollBehavior=r}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,t=this._viewportRuler.getViewportSize();return e.scrollHeight>t.height||e.scrollWidth>t.width}}function Rn(){return Error("Scroll strategy has already been attached.")}class Ln{constructor(e,t,n,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=n,this._config=i,this._scrollSubscription=null,this._detach=(()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())})}attach(e){if(this._overlayRef)throw Rn();this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}}class Nn{enable(){}disable(){}attach(){}}function Fn(e,t){return t.some(t=>e.bottom<t.top||e.top>t.bottom||e.right<t.left||e.left>t.right)}function Vn(e,t){return t.some(t=>e.top<t.top||e.bottom>t.bottom||e.left<t.left||e.right>t.right)}class jn{constructor(e,t,n,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=n,this._config=i,this._scrollSubscription=null}attach(e){if(this._overlayRef)throw Rn();this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:t,height:n}=this._viewportRuler.getViewportSize();Fn(e,[{width:t,height:n,bottom:n,right:t,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}}class Bn{constructor(e,t,n,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=n,this.noop=(()=>new Nn),this.close=(e=>new Ln(this._scrollDispatcher,this._ngZone,this._viewportRuler,e)),this.block=(()=>new Pn(this._viewportRuler,this._document)),this.reposition=(e=>new jn(this._scrollDispatcher,this._viewportRuler,this._ngZone,e)),this._document=i}}Bn.ngInjectableDef=Object(i.defineInjectable)({factory:function(){return new Bn(Object(i.inject)(In),Object(i.inject)(Dn),Object(i.inject)(i.NgZone),Object(i.inject)(Fe.DOCUMENT))},token:Bn,providedIn:"root"});class zn{constructor(e){this.scrollStrategy=new Nn,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e&&Object.keys(e).forEach(t=>{void 0!==e[t]&&(this[t]=e[t])})}}class Hn{constructor(e,t,n,i,r){this.offsetX=n,this.offsetY=i,this.panelClass=r,this.originX=e.originX,this.originY=e.originY,this.overlayX=t.overlayX,this.overlayY=t.overlayY}}class Un{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}function Gn(e,t){if("top"!==t&&"bottom"!==t&&"center"!==t)throw Error(`ConnectedPosition: Invalid ${e} "${t}". `+'Expected "top", "bottom" or "center".')}function Wn(e,t){if("start"!==t&&"end"!==t&&"center"!==t)throw Error(`ConnectedPosition: Invalid ${e} "${t}". `+'Expected "start", "end" or "center".')}class $n{constructor(e){this._attachedOverlays=[],this._keydownListener=(e=>{const t=this._attachedOverlays;for(let n=t.length-1;n>-1;n--)if(t[n]._keydownEventSubscriptions>0){t[n]._keydownEvents.next(e);break}}),this._document=e}ngOnDestroy(){this._detach()}add(e){this.remove(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener,!0),this._isAttached=!0),this._attachedOverlays.push(e)}remove(e){const t=this._attachedOverlays.indexOf(e);t>-1&&this._attachedOverlays.splice(t,1),0===this._attachedOverlays.length&&this._detach()}_detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener,!0),this._isAttached=!1)}}$n.ngInjectableDef=Object(i.defineInjectable)({factory:function(){return new $n(Object(i.inject)(Fe.DOCUMENT))},token:$n,providedIn:"root"});class qn{constructor(e){this._document=e}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e=this._document.createElement("div");e.classList.add("cdk-overlay-container"),this._document.body.appendChild(e),this._containerElement=e}}qn.ngInjectableDef=Object(i.defineInjectable)({factory:function(){return new qn(Object(i.inject)(Fe.DOCUMENT))},token:qn,providedIn:"root"});class Yn{constructor(e,t,n,i,r,s,o,a){this._portalOutlet=e,this._host=t,this._pane=n,this._config=i,this._ngZone=r,this._keyboardDispatcher=s,this._document=o,this._location=a,this._backdropElement=null,this._backdropClick=new u.a,this._attachments=new u.a,this._detachments=new u.a,this._locationChanges=kn.a.EMPTY,this._keydownEventsObservable=l.a.create(e=>{const t=this._keydownEvents.subscribe(e);return this._keydownEventSubscriptions++,()=>{t.unsubscribe(),this._keydownEventSubscriptions--}}),this._keydownEvents=new u.a,this._keydownEventSubscriptions=0,i.scrollStrategy&&i.scrollStrategy.attach(this),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._config.scrollStrategy&&this._config.scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(Object(rn.a)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._config.scrollStrategy&&this._config.scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._config.scrollStrategy&&this._config.scrollStrategy.disable(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick.asObservable()}attachments(){return this._attachments.asObservable()}detachments(){return this._detachments.asObservable()}keydownEvents(){return this._keydownEventsObservable}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign({},this._config,e),this._updateElementSize()}setDirection(e){this._config=Object.assign({},this._config,{direction:e}),this._updateElementDirection()}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){const e=this._pane.style;e.width=cn(this._config.width),e.height=cn(this._config.height),e.minWidth=cn(this._config.minWidth),e.minHeight=cn(this._config.minHeight),e.maxWidth=cn(this._config.maxWidth),e.maxHeight=cn(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"auto":"none"}_attachBackdrop(){this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",e=>this._backdropClick.next(e)),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let e,t=this._backdropElement;if(!t)return;let n=()=>{t&&t.parentNode&&t.parentNode.removeChild(t),this._backdropElement==t&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(t,this._config.backdropClass,!1),clearTimeout(e)};t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",n)}),t.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(e,t,n){const i=e.classList;un(t).forEach(e=>{n?i.add(e):i.remove(e)})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.asObservable().pipe(function(e){return t=>t.lift(new _n(e))}(Object(pn.a)(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),e.unsubscribe())})})}}const Zn="cdk-overlay-connected-position-bounding-box";class Kn{constructor(e,t,n,i,r){this._viewportRuler=t,this._document=n,this._platform=i,this._overlayContainer=r,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this.scrollables=[],this._preferredPositions=[],this._positionChanges=new u.a,this._resizeSubscription=kn.a.EMPTY,this._offsetX=0,this._offsetY=0,this._positionChangeSubscriptions=0,this._appliedPanelClasses=[],this.positionChanges=l.a.create(e=>{const t=this._positionChanges.subscribe(e);return this._positionChangeSubscriptions++,()=>{t.unsubscribe(),this._positionChangeSubscriptions--}}),this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){if(this._overlayRef&&e!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),e.hostElement.classList.add(Zn),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||this._platform&&!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._origin.getBoundingClientRect(),this._overlayRect=this._pane.getBoundingClientRect();const e=this._originRect,t=this._overlayRect,n=this._viewportRect,i=[];let r;for(let s of this._preferredPositions){let o=this._getOriginPoint(e,s),a=this._getOverlayPoint(o,t,s),l=this._getOverlayFit(a,t,n,s);if(l.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(l,a,n)?i.push({position:s,origin:o,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!r||r.overlayFit.visibleArea<l.visibleArea)&&(r={overlayFit:l,overlayPoint:a,originPoint:o,position:s,overlayRect:t})}if(i.length){let e=null,t=-1;for(const n of i){const i=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);i>t&&(t=i,e=n)}return this._isPushed=!1,void this._applyPosition(e.position,e.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(r.position,r.originPoint);this._applyPosition(r.position,r.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Xn(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Zn),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._origin.getBoundingClientRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}}withScrollableContainers(e){this.scrollables=e}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=hn(e),this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t){let n,i;if("center"==t.originX)n=e.left+e.width/2;else{const i=this._isRtl()?e.right:e.left,r=this._isRtl()?e.left:e.right;n="start"==t.originX?i:r}return{x:n,y:i="center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom}}_getOverlayPoint(e,t,n){let i,r;return i="center"==n.overlayX?-t.width/2:"start"===n.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,{x:e.x+i,y:e.y+(r="center"==n.overlayY?-t.height/2:"top"==n.overlayY?0:-t.height)}}_getOverlayFit(e,t,n,i){let{x:r,y:s}=e,o=this._getOffset(i,"x"),a=this._getOffset(i,"y");o&&(r+=o),a&&(s+=a);let l=0-s,u=s+t.height-n.height,c=this._subtractOverflows(t.width,0-r,r+t.width-n.width),h=this._subtractOverflows(t.height,l,u),d=c*h;return{visibleArea:d,isCompletelyWithinViewport:t.width*t.height===d,fitsInViewportVertically:h===t.height,fitsInViewportHorizontally:c==t.width}}_canFitWithFlexibleDimensions(e,t,n){if(this._hasFlexibleDimensions){const i=n.bottom-t.y,r=n.right-t.x,s=this._overlayRef.getConfig().minHeight,o=this._overlayRef.getConfig().minWidth,a=e.fitsInViewportHorizontally||null!=o&&o<=r;return(e.fitsInViewportVertically||null!=s&&s<=i)&&a}}_pushOverlayOnScreen(e,t,n){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=this._viewportRect,r=Math.max(e.x+t.width-i.right,0),s=Math.max(e.y+t.height-i.bottom,0),o=Math.max(i.top-n.top-e.y,0),a=Math.max(i.left-n.left-e.x,0);let l=0,u=0;return this._previousPushAmount={x:l=t.width<i.width?a||-r:e.x<this._viewportMargin?i.left-n.left-e.x:0,y:u=t.height<i.height?o||-s:e.y<this._viewportMargin?i.top-n.top-e.y:0},{x:e.x+l,y:e.y+u}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChangeSubscriptions>0){const t=this._getScrollVisibility(),n=new Un(e,t);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,i=e.overlayY;n="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let r=0;r<t.length;r++)t[r].style.transformOrigin=`${n} ${i}`}_calculateBoundingBoxRect(e,t){const n=this._viewportRect,i=this._isRtl();let r,s,o,a,l,u;if("top"===t.overlayY)s=e.y,r=n.bottom-e.y;else if("bottom"===t.overlayY)r=n.height-(o=n.height-e.y+2*this._viewportMargin)+this._viewportMargin;else{const t=Math.min(n.bottom-e.y+n.top,e.y),i=this._lastBoundingBoxSize.height;s=e.y-t,(r=2*t)>i&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-i/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)u=n.right-e.x+this._viewportMargin,a=e.x-n.left;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)l=e.x,a=n.right-e.x;else{const t=Math.min(n.right-e.x+n.left,e.x),i=this._lastBoundingBoxSize.width;l=e.x-t,(a=2*t)>i&&!this._isInitialRender&&!this._growAfterOpen&&(l=e.x-i/2)}return{top:s,left:l,bottom:o,right:u,width:a,height:r}}_setBoundingBoxStyles(e,t){const n=this._calculateBoundingBoxRect(e,t);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right="",i.width=i.height="100%";else{const e=this._overlayRef.getConfig().maxHeight,r=this._overlayRef.getConfig().maxWidth;i.height=cn(n.height),i.top=cn(n.top),i.bottom=cn(n.bottom),i.width=cn(n.width),i.left=cn(n.left),i.right=cn(n.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",e&&(i.maxHeight=cn(e)),r&&(i.maxWidth=cn(r))}this._lastBoundingBoxSize=n,Xn(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Xn(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Xn(this._pane.style,{top:"",left:"",bottom:"",right:"",position:""})}_setOverlayElementStyles(e,t){const n={};if(this._hasExactPosition()){const i=this._viewportRuler.getViewportScrollPosition();Xn(n,this._getExactOverlayY(t,e,i)),Xn(n,this._getExactOverlayX(t,e,i))}else n.position="static";let i="",r=this._getOffset(t,"x"),s=this._getOffset(t,"y");r&&(i+=`translateX(${r}px) `),s&&(i+=`translateY(${s}px)`),n.transform=i.trim(),this._hasFlexibleDimensions&&this._overlayRef.getConfig().maxHeight&&(n.maxHeight=""),this._hasFlexibleDimensions&&this._overlayRef.getConfig().maxWidth&&(n.maxWidth=""),Xn(this._pane.style,n)}_getExactOverlayY(e,t,n){let i={top:null,bottom:null},r=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n));let s=this._overlayContainer?this._overlayContainer.getContainerElement().getBoundingClientRect().top:0;return r.y-=s,"bottom"===e.overlayY?i.bottom=`${this._document.documentElement.clientHeight-(r.y+this._overlayRect.height)}px`:i.top=cn(r.y),i}_getExactOverlayX(e,t,n){let i,r={left:null,right:null},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),"right"==(i=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left")?r.right=`${this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)}px`:r.left=cn(s.x),r}_getScrollVisibility(){const e=this._origin.getBoundingClientRect(),t=this._pane.getBoundingClientRect(),n=this.scrollables.map(e=>e.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Vn(e,n),isOriginOutsideView:Fn(e,n),isOverlayClipped:Vn(t,n),isOverlayOutsideView:Fn(t,n)}}_subtractOverflows(e,...t){return t.reduce((e,t)=>e-Math.max(t,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+e-this._viewportMargin,bottom:n.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach(e=>{Wn("originX",e.originX),Gn("originY",e.originY),Wn("overlayX",e.overlayX),Gn("overlayY",e.overlayY)})}_addPanelClasses(e){this._pane&&un(e).forEach(e=>{-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>this._pane.classList.remove(e)),this._appliedPanelClasses=[])}}function Xn(e,t){for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}class Qn{constructor(e,t,n,i,r,s){this._preferredPositions=[],this._positionStrategy=new Kn(n,i,r,s).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(e,t)}get _isRtl(){return"rtl"===this._overlayRef.getDirection()}get onPositionChange(){return this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(e){this._overlayRef=e,this._positionStrategy.attach(e),this._direction&&(e.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(e){this._positionStrategy.withScrollableContainers(e)}withFallbackPosition(e,t,n,i){const r=new Hn(e,t,n,i);return this._preferredPositions.push(r),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(e){return this._overlayRef?this._overlayRef.setDirection(e):this._direction=e,this}withOffsetX(e){return this._positionStrategy.withDefaultOffsetX(e),this}withOffsetY(e){return this._positionStrategy.withDefaultOffsetY(e),this}withLockedPosition(e){return this._positionStrategy.withLockedPosition(e),this}withPositions(e){return this._preferredPositions=e.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(e){return this._positionStrategy.setOrigin(e),this}}const Jn="cdk-global-overlay-wrapper";class ei{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(Jn),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig();e.position=this._cssPosition,e.marginLeft="100%"===n.width?"0":this._leftOffset,e.marginTop="100%"===n.height?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,"100%"===n.width?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems="100%"===n.height?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,n=t.style;t.classList.remove(Jn),n.justifyContent=n.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}class ti{constructor(e,t,n,i){this._viewportRuler=e,this._document=t,this._platform=n,this._overlayContainer=i}global(){return new ei}connectedTo(e,t,n){return new Qn(t,n,e,this._viewportRuler,this._document)}flexibleConnectedTo(e){return new Kn(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}ti.ngInjectableDef=Object(i.defineInjectable)({factory:function(){return new ti(Object(i.inject)(Dn),Object(i.inject)(Fe.DOCUMENT),Object(i.inject)(xn,8),Object(i.inject)(qn,8))},token:ti,providedIn:"root"});let ni=0;class ii{constructor(e,t,n,i,r,s,o,a,l,u){this.scrollStrategies=e,this._overlayContainer=t,this._componentFactoryResolver=n,this._positionBuilder=i,this._keyboardDispatcher=r,this._injector=s,this._ngZone=o,this._document=a,this._directionality=l,this._location=u}create(e){const t=this._createHostElement(),n=this._createPaneElement(t),i=this._createPortalOutlet(n),r=new zn(e);return r.direction=r.direction||this._directionality.value,new Yn(i,t,n,r,this._ngZone,this._keyboardDispatcher,this._document,this._location)}position(){return this._positionBuilder}_createPaneElement(e){const t=this._document.createElement("div");return t.id=`cdk-overlay-${ni++}`,t.classList.add("cdk-overlay-pane"),e.appendChild(t),t}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(i.ApplicationRef)),new Zt(e,this._componentFactoryResolver,this._appRef,this._injector)}}const ri=new i.InjectionToken("cdk-connected-overlay-scroll-strategy");function si(e){return()=>e.scrollStrategies.reposition()}class oi{}class ai extends qn{constructor(e){super(e)}ngOnDestroy(){super.ngOnDestroy(),this._fullScreenEventName&&this._fullScreenListener&&this._document.removeEventListener(this._fullScreenEventName,this._fullScreenListener)}_createContainer(){super._createContainer(),this._adjustParentForFullscreenChange(),this._addFullscreenChangeListener(()=>this._adjustParentForFullscreenChange())}_adjustParentForFullscreenChange(){this._containerElement&&(this.getFullscreenElement()||this._document.body).appendChild(this._containerElement)}_addFullscreenChangeListener(e){const t=this._getEventName();t&&(this._fullScreenListener&&this._document.removeEventListener(t,this._fullScreenListener),this._document.addEventListener(t,e),this._fullScreenListener=e)}_getEventName(){return this._fullScreenEventName||(this._document.fullscreenEnabled?this._fullScreenEventName="fullscreenchange":this._document.webkitFullscreenEnabled?this._fullScreenEventName="webkitfullscreenchange":this._document.mozFullScreenEnabled?this._fullScreenEventName="mozfullscreenchange":this._document.msFullscreenEnabled&&(this._fullScreenEventName="MSFullscreenChange")),this._fullScreenEventName}getFullscreenElement(){return this._document.fullscreenElement||this._document.webkitFullscreenElement||this._document.mozFullScreenElement||this._document.msFullscreenElement||null}}ai.ngInjectableDef=Object(i.defineInjectable)({factory:function(){return new ai(Object(i.inject)(Fe.DOCUMENT))},token:ai,providedIn:"root"});class li{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}function ui(){throw Error("Attempting to attach dialog content after content is already attached")}class ci extends Yt{constructor(e,t,n,r,s){super(),this._elementRef=e,this._focusTrapFactory=t,this._changeDetectorRef=n,this._document=r,this._config=s,this._elementFocusedBeforeDialogWasOpened=null,this._state="enter",this._animationStateChanged=new i.EventEmitter,this._ariaLabelledBy=null}attachComponentPortal(e){return this._portalOutlet.hasAttached()&&ui(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached()&&ui(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachTemplatePortal(e)}_trapFocus(){this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)),this._config.autoFocus&&this._focusTrap.focusInitialElementWhenReady()}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;this._config.restoreFocus&&e&&"function"==typeof e.focus&&e.focus(),this._focusTrap&&this._focusTrap.destroy()}_savePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement,this._elementRef.nativeElement.focus&&Promise.resolve().then(()=>this._elementRef.nativeElement.focus()))}_onAnimationDone(e){"enter"===e.toState?this._trapFocus():"exit"===e.toState&&this._restoreFocus(),this._animationStateChanged.emit(e)}_onAnimationStart(e){this._animationStateChanged.emit(e)}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}let hi=0;class di{constructor(e,t,n,i=`mat-dialog-${hi++}`){this._overlayRef=e,this._containerInstance=t,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new u.a,this._afterClosed=new u.a,this._beforeClosed=new u.a,t._id=i,t._animationStateChanged.pipe(Object(nn.a)(e=>"done"===e.phaseName&&"enter"===e.toState),Object(rn.a)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(Object(nn.a)(e=>"done"===e.phaseName&&"exit"===e.toState),Object(rn.a)(1)).subscribe(()=>this._overlayRef.dispose()),e.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),e.keydownEvents().pipe(Object(nn.a)(e=>e.keyCode===Jt&&!this.disableClose)).subscribe(()=>this.close())}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Object(nn.a)(e=>"start"===e.phaseName),Object(rn.a)(1)).subscribe(()=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._overlayRef.detachBackdrop()}),this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened.asObservable()}afterClosed(){return this._afterClosed.asObservable()}beforeClosed(){return this._beforeClosed.asObservable()}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(e){let t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(e="",t=""){return this._getPositionStrategy().width(e).height(t),this._overlayRef.updatePosition(),this}afterOpen(){return this.afterOpened()}beforeClose(){return this.beforeClosed()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}const pi=new i.InjectionToken("MatDialogData"),fi=new i.InjectionToken("mat-dialog-default-options"),gi=new i.InjectionToken("mat-dialog-scroll-strategy");function mi(e){return()=>e.scrollStrategies.block()}class vi{constructor(e,t,n,i,r,s,o){this._overlay=e,this._injector=t,this._location=n,this._defaultOptions=i,this._parentDialog=s,this._overlayContainer=o,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new u.a,this._afterOpenedAtThisLevel=new u.a,this._ariaHiddenElements=new Map,this.afterAllClosed=Object(en.a)(()=>this.openDialogs.length?this._afterAllClosed:this._afterAllClosed.pipe(Object(sn.a)(void 0))),this._scrollStrategy=r}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}get afterOpen(){return this.afterOpened}get _afterAllClosed(){const e=this._parentDialog;return e?e._afterAllClosed:this._afterAllClosedAtThisLevel}open(e,t){if((t=function(e,t){return Object.assign({},t,e)}(t,this._defaultOptions||new li)).id&&this.getDialogById(t.id))throw Error(`Dialog with id "${t.id}" exists already. The dialog id must be unique.`);const n=this._createOverlay(t),i=this._attachDialogContainer(n,t),r=this._attachDialogContent(e,i,n,t);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(r),r.afterClosed().subscribe(()=>this._removeOpenDialog(r)),this.afterOpened.next(r),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(t=>t.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const t=this._getOverlayConfig(e);return this._overlay.create(t)}_getOverlayConfig(e){const t=new zn({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(t.backdropClass=e.backdropClass),t}_attachDialogContainer(e,t){const n=new Qt(t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,new WeakMap([[li,t]])),i=new $t(ci,t.viewContainerRef,n);return e.attach(i).instance}_attachDialogContent(e,t,n,r){const s=new di(n,t,this._location,r.id);if(r.hasBackdrop&&n.backdropClick().subscribe(()=>{s.disableClose||s.close()}),e instanceof i.TemplateRef)t.attachTemplatePortal(new qt(e,null,{$implicit:r.data,dialogRef:s}));else{const n=this._createInjector(r,s,t),i=t.attachComponentPortal(new $t(e,void 0,n));s.componentInstance=i.instance}return s.updateSize(r.width,r.height).updatePosition(r.position),s}_createInjector(e,t,n){const i=e&&e.viewContainerRef&&e.viewContainerRef.injector,r=new WeakMap([[ci,n],[pi,e.data],[di,t]]);return!e.direction||i&&i.get(an,null)||r.set(an,{value:e.direction,change:Object(tn.a)()}),new Qt(i||this._injector,r)}_removeOpenDialog(e){const t=this.openDialogs.indexOf(e);t>-1&&(this.openDialogs.splice(t,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((e,t)=>{e?t.setAttribute("aria-hidden",e):t.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._afterAllClosed.next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const t=e.parentElement.children;for(let n=t.length-1;n>-1;n--){let i=t[n];i===e||"SCRIPT"===i.nodeName||"STYLE"===i.nodeName||i.hasAttribute("aria-live")||(this._ariaHiddenElements.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let t=e.length;for(;t--;)e[t].close()}}class yi{}var _i=n("cUpR"),bi=n("vkgz");const wi=" ";function xi(e,t){return(e.getAttribute(t)||"").match(/\S+/g)||[]}const Ci="cdk-describedby-message-container",Si="cdk-describedby-message",Ei="cdk-describedby-host";let Ti=0;const Mi=new Map;let Ii=null;class Oi{constructor(e){this._document=e}describe(e,t){this._canBeDescribed(e,t)&&(Mi.has(t)||this._createMessageElement(t),this._isElementDescribedByMessage(e,t)||this._addMessageReference(e,t))}removeDescription(e,t){if(!this._canBeDescribed(e,t))return;this._isElementDescribedByMessage(e,t)&&this._removeMessageReference(e,t);const n=Mi.get(t);n&&0===n.referenceCount&&this._deleteMessageElement(t),Ii&&0===Ii.childNodes.length&&this._deleteMessagesContainer()}ngOnDestroy(){const e=this._document.querySelectorAll(`[${Ei}]`);for(let t=0;t<e.length;t++)this._removeCdkDescribedByReferenceIds(e[t]),e[t].removeAttribute(Ei);Ii&&this._deleteMessagesContainer(),Mi.clear()}_createMessageElement(e){const t=this._document.createElement("div");t.setAttribute("id",`${Si}-${Ti++}`),t.appendChild(this._document.createTextNode(e)),this._createMessagesContainer(),Ii.appendChild(t),Mi.set(e,{messageElement:t,referenceCount:0})}_deleteMessageElement(e){const t=Mi.get(e),n=t&&t.messageElement;Ii&&n&&Ii.removeChild(n),Mi.delete(e)}_createMessagesContainer(){if(!Ii){const e=this._document.getElementById(Ci);e&&e.parentNode.removeChild(e),(Ii=this._document.createElement("div")).id=Ci,Ii.setAttribute("aria-hidden","true"),Ii.style.display="none",this._document.body.appendChild(Ii)}}_deleteMessagesContainer(){Ii&&Ii.parentNode&&(Ii.parentNode.removeChild(Ii),Ii=null)}_removeCdkDescribedByReferenceIds(e){const t=xi(e,"aria-describedby").filter(e=>0!=e.indexOf(Si));e.setAttribute("aria-describedby",t.join(" "))}_addMessageReference(e,t){const n=Mi.get(t);!function(e,t,n){const i=xi(e,t);i.some(e=>e.trim()==n.trim())||(i.push(n.trim()),e.setAttribute(t,i.join(wi)))}(e,"aria-describedby",n.messageElement.id),e.setAttribute(Ei,""),n.referenceCount++}_removeMessageReference(e,t){const n=Mi.get(t);n.referenceCount--,function(e,t,n){const i=xi(e,t).filter(e=>e!=n.trim());e.setAttribute(t,i.join(wi))}(e,"aria-describedby",n.messageElement.id),e.removeAttribute(Ei)}_isElementDescribedByMessage(e,t){const n=xi(e,"aria-describedby"),i=Mi.get(t),r=i&&i.messageElement.id;return!!r&&-1!=n.indexOf(r)}_canBeDescribed(e,t){return e.nodeType===this._document.ELEMENT_NODE&&null!=t&&!!`${t}`.trim()}}Oi.ngInjectableDef=Object(i.defineInjectable)({factory:function(){return new Oi(Object(i.inject)(Fe.DOCUMENT))},token:Oi,providedIn:"root"});class Ai{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function(e){return!!(e.offsetWidth||e.offsetHeight||"function"==typeof e.getClientRects&&e.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const t=function(e){try{return e.frameElement}catch(t){return null}}((n=e).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(t){const e=t&&t.nodeName.toLowerCase();if(-1===ki(t))return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&"object"===e)return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&!this.isVisible(t))return!1}let i=e.nodeName.toLowerCase(),r=ki(e);if(e.hasAttribute("contenteditable"))return-1!==r;if("iframe"===i)return!1;if("audio"===i){if(!e.hasAttribute("controls"))return!1;if(this._platform.BLINK)return!0}if("video"===i){if(!e.hasAttribute("controls")&&this._platform.TRIDENT)return!1;if(this._platform.BLINK||this._platform.FIREFOX)return!0}return("object"!==i||!this._platform.BLINK&&!this._platform.WEBKIT)&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(e){let t=e.nodeName.toLowerCase(),n="input"===t&&e.type;return"text"===n||"password"===n||"select"===t||"textarea"===t}(e))&&e.tabIndex>=0}isFocusable(e){return function(e){return!function(e){return function(e){return"input"==e.nodeName.toLowerCase()}(e)&&"hidden"==e.type}(e)&&(function(e){let t=e.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(e)||function(e){return function(e){return"a"==e.nodeName.toLowerCase()}(e)&&e.hasAttribute("href")}(e)||e.hasAttribute("contenteditable")||Di(e))}(e)&&!this.isDisabled(e)&&this.isVisible(e)}}function Di(e){if(!e.hasAttribute("tabindex")||void 0===e.tabIndex)return!1;let t=e.getAttribute("tabindex");return"-32768"!=t&&!(!t||isNaN(parseInt(t,10)))}function ki(e){if(!Di(e))return null;const t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}Ai.ngInjectableDef=Object(i.defineInjectable)({factory:function(){return new Ai(Object(i.inject)(xn))},token:Ai,providedIn:"root"});class Pi{constructor(e,t,n,i,r=!1){this._element=e,this._checker=t,this._ngZone=n,this._document=i,this._hasAttached=!1,this._startAnchorListener=(()=>this.focusLastTabbableElement()),this._endAnchorListener=(()=>this.focusFirstTabbableElement()),this._enabled=!0,r||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this._startAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),t&&(t.removeEventListener("focus",this._endAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),this._startAnchor=this._endAnchor=null}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this._startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this._endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement()))})}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], `+`[cdkFocusRegion${e}], `+`[cdk-focus-${e}]`);for(let n=0;n<t.length;n++)t[n].hasAttribute(`cdk-focus-${e}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${e}', `+`use 'cdkFocusRegion${e}' instead. The deprecated `+"attribute will be removed in 8.0.0.",t[n]):t[n].hasAttribute(`cdk-focus-region-${e}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${e}', `+`use 'cdkFocusRegion${e}' instead. The deprecated attribute `+"will be removed in 8.0.0.",t[n]);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return e?(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),Object(i.isDevMode)()&&!this._checker.isFocusable(e)&&console.warn("Element matching '[cdkFocusInitial]' is not focusable.",e),e.focus(),!0):this.focusFirstTabbableElement()}focusFirstTabbableElement(){const e=this._getRegionBoundary("start");return e&&e.focus(),!!e}focusLastTabbableElement(){const e=this._getRegionBoundary("end");return e&&e.focus(),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let n=0;n<t.length;n++){let e=t[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[n]):null;if(e)return e}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let n=t.length-1;n>=0;n--){let e=t[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[n]):null;if(e)return e}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.asObservable().pipe(Object(rn.a)(1)).subscribe(e)}}class Ri{constructor(e,t,n){this._checker=e,this._ngZone=t,this._document=n}create(e,t=!1){return new Pi(e,this._checker,this._ngZone,this._document,t)}}Ri.ngInjectableDef=Object(i.defineInjectable)({factory:function(){return new Ri(Object(i.inject)(Ai),Object(i.inject)(i.NgZone),Object(i.inject)(Fe.DOCUMENT))},token:Ri,providedIn:"root"});const Li=new i.InjectionToken("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}});class Ni{constructor(e,t,n){this._ngZone=t,this._document=n,this._liveElement=e||this._createLiveElement()}announce(e,...t){let n,i;return 1===t.length&&"number"==typeof t[0]?i=t[0]:[n,i]=t,this.clear(),clearTimeout(this._previousTimeout),this._liveElement.setAttribute("aria-live",n||"polite"),this._ngZone.runOutsideAngular(()=>new Promise(t=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,t(),"number"==typeof i&&(this._previousTimeout=setTimeout(()=>this.clear(),i))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const e=this._document.getElementsByClassName("cdk-live-announcer-element"),t=this._document.createElement("div");for(let n=0;n<e.length;n++)e[n].parentNode.removeChild(e[n]);return t.classList.add("cdk-live-announcer-element"),t.classList.add("cdk-visually-hidden"),t.setAttribute("aria-atomic","true"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),t}}Ni.ngInjectableDef=Object(i.defineInjectable)({factory:function(){return new Ni(Object(i.inject)(Li,8),Object(i.inject)(i.NgZone),Object(i.inject)(Fe.DOCUMENT))},token:Ni,providedIn:"root"});const Fi=650,Vi=En({passive:!0,capture:!0});class ji{constructor(e,t){this._ngZone=e,this._platform=t,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._documentKeydownListener=(()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")}),this._documentMousedownListener=(()=>{this._lastTouchTarget||this._setOriginForCurrentEventQueue("mouse")}),this._documentTouchstartListener=(e=>{null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=e.target,this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,Fi)}),this._windowFocusListener=(()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)})}monitor(e,t=!1){if(!this._platform.isBrowser)return Object(tn.a)(null);const n=hn(e);if(this._elementInfo.has(n)){let e=this._elementInfo.get(n);return e.checkChildren=t,e.subject.asObservable()}let i={unlisten:()=>{},checkChildren:t,subject:new u.a};this._elementInfo.set(n,i),this._incrementMonitoredElementCount();let r=e=>this._onFocus(e,n),s=e=>this._onBlur(e,n);return this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",r,!0),n.addEventListener("blur",s,!0)}),i.unlisten=(()=>{n.removeEventListener("focus",r,!0),n.removeEventListener("blur",s,!0)}),i.subject.asObservable()}stopMonitoring(e){const t=hn(e),n=this._elementInfo.get(t);n&&(n.unlisten(),n.subject.complete(),this._setClasses(t),this._elementInfo.delete(t),this._decrementMonitoredElementCount())}focusVia(e,t,n){const i=hn(e);this._setOriginForCurrentEventQueue(t),"function"==typeof i.focus&&i.focus(n)}ngOnDestroy(){this._elementInfo.forEach((e,t)=>this.stopMonitoring(t))}_toggleClass(e,t,n){n?e.classList.add(t):e.classList.remove(t)}_setClasses(e,t){this._elementInfo.get(e)&&(this._toggleClass(e,"cdk-focused",!!t),this._toggleClass(e,"cdk-touch-focused","touch"===t),this._toggleClass(e,"cdk-keyboard-focused","keyboard"===t),this._toggleClass(e,"cdk-mouse-focused","mouse"===t),this._toggleClass(e,"cdk-program-focused","program"===t))}_setOriginForCurrentEventQueue(e){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originTimeoutId=setTimeout(()=>this._origin=null,1)})}_wasCausedByTouch(e){let t=e.target;return this._lastTouchTarget instanceof Node&&t instanceof Node&&(t===this._lastTouchTarget||t.contains(this._lastTouchTarget))}_onFocus(e,t){const n=this._elementInfo.get(t);if(!n||!n.checkChildren&&t!==e.target)return;let i=this._origin;i||(i=this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(e)?"touch":"program"),this._setClasses(t,i),this._emitOrigin(n.subject,i),this._lastFocusOrigin=i}_onBlur(e,t){const n=this._elementInfo.get(t);!n||n.checkChildren&&e.relatedTarget instanceof Node&&t.contains(e.relatedTarget)||(this._setClasses(t),this._emitOrigin(n.subject,null))}_emitOrigin(e,t){this._ngZone.run(()=>e.next(t))}_incrementMonitoredElementCount(){1==++this._monitoredElementCount&&this._platform.isBrowser&&this._ngZone.runOutsideAngular(()=>{document.addEventListener("keydown",this._documentKeydownListener,Vi),document.addEventListener("mousedown",this._documentMousedownListener,Vi),document.addEventListener("touchstart",this._documentTouchstartListener,Vi),window.addEventListener("focus",this._windowFocusListener)})}_decrementMonitoredElementCount(){--this._monitoredElementCount||(document.removeEventListener("keydown",this._documentKeydownListener,Vi),document.removeEventListener("mousedown",this._documentMousedownListener,Vi),document.removeEventListener("touchstart",this._documentTouchstartListener,Vi),window.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId))}}ji.ngInjectableDef=Object(i.defineInjectable)({factory:function(){return new ji(Object(i.inject)(i.NgZone),Object(i.inject)(xn))},token:ji,providedIn:"root"});class Bi{}class zi{}zi.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",zi.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",zi.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",zi.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)";class Hi{}Hi.COMPLEX="375ms",Hi.ENTERING="225ms",Hi.EXITING="195ms";const Ui=new i.InjectionToken("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});class Gi{constructor(e,t){this._sanityChecksEnabled=e,this._hammerLoader=t,this._hasDoneGlobalChecks=!1,this._hasCheckedHammer=!1,this._document="object"==typeof document&&document?document:null,this._window="object"==typeof window&&window?window:null,this._areChecksEnabled()&&!this._hasDoneGlobalChecks&&(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._hasDoneGlobalChecks=!0)}_areChecksEnabled(){return this._sanityChecksEnabled&&Object(i.isDevMode)()&&!this._isTestEnv()}_isTestEnv(){const e=this._window;return e&&(e.__karma__||e.jasmine)}_checkDoctypeIsDefined(){this._document&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._document||!this._document.body||"function"!=typeof getComputedStyle)return;const e=this._document.createElement("div");e.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(e);const t=getComputedStyle(e);t&&"none"!==t.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(e)}_checkHammerIsAvailable(){!this._hasCheckedHammer&&this._window&&(!this._areChecksEnabled()||this._window.Hammer||this._hammerLoader||console.warn("Could not find HammerJS. Certain Angular Material components may not work correctly."),this._hasCheckedHammer=!0)}}class Wi{isErrorState(e,t){return!!(e&&e.invalid&&(e.touched||t&&t.submitted))}}Wi.ngInjectableDef=Object(i.defineInjectable)({factory:function(){return new Wi},token:Wi,providedIn:"root"});const $i=new i.InjectionToken("MAT_HAMMER_OPTIONS"),qi=["longpress","slide","slidestart","slideend","slideright","slideleft"],Yi={on:()=>{},off:()=>{}};class Zi extends _i.h{constructor(e,t){super(),this._hammerOptions=e,this.events=qi,t&&t._checkHammerIsAvailable()}buildHammer(e){const t="undefined"!=typeof window?window.Hammer:null;if(!t)return Yi;const n=new t(e,this._hammerOptions||void 0),i=new t.Pan,r=new t.Swipe,s=new t.Press,o=this._createRecognizer(i,{event:"slide",threshold:0},r),a=this._createRecognizer(s,{event:"longpress",time:500});return i.recognizeWith(r),a.recognizeWith(o),n.add([r,s,i,o,a]),n}_createRecognizer(e,t,...n){let i=new e.constructor(t);return n.push(e),n.forEach(e=>i.recognizeWith(e)),i}}class Ki{}class Xi{}class Qi{}var Ji=i["\u0275crt"]({encapsulation:2,styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}@media (-ms-high-contrast:active){.mat-dialog-container{outline:solid 1px}}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button+.mat-button,.mat-dialog-actions .mat-button+.mat-raised-button,.mat-dialog-actions .mat-raised-button+.mat-button,.mat-dialog-actions .mat-raised-button+.mat-raised-button{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button+.mat-button,[dir=rtl] .mat-dialog-actions .mat-button+.mat-raised-button,[dir=rtl] .mat-dialog-actions .mat-raised-button+.mat-button,[dir=rtl] .mat-dialog-actions .mat-raised-button+.mat-raised-button{margin-left:0;margin-right:8px}"],data:{animation:[{type:7,name:"dialogContainer",definitions:[{type:0,name:"void, exit",styles:{type:6,styles:{opacity:0,transform:"scale(0.7)"},offset:null},options:void 0},{type:0,name:"enter",styles:{type:6,styles:{transform:"none"},offset:null},options:void 0},{type:1,expr:"* => enter",animation:{type:4,styles:{type:6,styles:{transform:"none",opacity:1},offset:null},timings:"150ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => void, * => exit",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"75ms cubic-bezier(0.4, 0.0, 0.2, 1)"},options:null}],options:{}}]}});function er(e){return i["\u0275vid"](0,[(e()(),i["\u0275and"](0,null,null,0))],null,null)}function tr(e){return i["\u0275vid"](0,[i["\u0275qud"](402653184,1,{_portalOutlet:0}),(e()(),i["\u0275and"](16777216,null,null,1,null,er)),i["\u0275did"](2,212992,[[1,4]],0,Kt,[i.ComponentFactoryResolver,i.ViewContainerRef],{portal:[0,"portal"]},null)],function(e,t){e(t,2,0,"")},null)}function nr(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"mat-dialog-container",[["aria-modal","true"],["class","mat-dialog-container"],["tabindex","-1"]],[[1,"id",0],[1,"role",0],[1,"aria-labelledby",0],[1,"aria-label",0],[1,"aria-describedby",0],[40,"@dialogContainer",0]],[["component","@dialogContainer.start"],["component","@dialogContainer.done"]],function(e,t,n){var r=!0;return"component:@dialogContainer.start"===t&&(r=!1!==i["\u0275nov"](e,1)._onAnimationStart(n)&&r),"component:@dialogContainer.done"===t&&(r=!1!==i["\u0275nov"](e,1)._onAnimationDone(n)&&r),r},tr,Ji)),i["\u0275did"](1,49152,null,0,ci,[i.ElementRef,Ri,i.ChangeDetectorRef,[2,Fe.DOCUMENT],li],null,null)],null,function(e,t){e(t,0,0,i["\u0275nov"](t,1)._id,i["\u0275nov"](t,1)._config.role,i["\u0275nov"](t,1)._config.ariaLabel?null:i["\u0275nov"](t,1)._ariaLabelledBy,i["\u0275nov"](t,1)._config.ariaLabel,i["\u0275nov"](t,1)._config.ariaDescribedBy||null,i["\u0275nov"](t,1)._state)})}var ir=i["\u0275ccf"]("mat-dialog-container",ci,nr,{},{},[]);class rr{constructor(e){this.sanitizer=e}transform(e,t){return this.sanitizer.bypassSecurityTrustHtml(e)}}var sr=n("KZCy"),or=i["\u0275crt"]({encapsulation:2,styles:[],data:{}});function ar(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,2,"li",[["class","ui-menu-separator ui-widget-content"]],null,null,null,null,null)),i["\u0275did"](1,278528,null,0,Fe.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](2,{"ui-helper-hidden":0})],function(e,t){var n=e(t,2,0,!1===t.parent.context.$implicit.visible);e(t,1,0,"ui-menu-separator ui-widget-content",n)},null)}function lr(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"span",[["class","ui-menuitem-icon"]],null,null,null,null,null)),i["\u0275did"](1,278528,null,0,Fe.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null)],function(e,t){e(t,1,0,"ui-menuitem-icon",t.parent.parent.parent.context.$implicit.icon)},null)}function ur(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,2,"span",[["class","ui-submenu-icon pi pi-fw"]],null,null,null,null,null)),i["\u0275did"](1,278528,null,0,Fe.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](2,{"pi-caret-down":0,"pi-caret-right":1})],function(e,t){var n=t.component,i=e(t,2,0,n.root,!n.root);e(t,1,0,"ui-submenu-icon pi pi-fw",i)},null)}function cr(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,9,"a",[],[[8,"href",4],[1,"data-automationid",0],[1,"target",0],[1,"title",0],[1,"id",0]],[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.itemClick(n,e.parent.parent.context.$implicit)&&i),i},null,null)),i["\u0275did"](1,278528,null,0,Fe.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](2,{"ui-menuitem-link ui-corner-all":0,"ui-state-disabled":1}),i["\u0275did"](3,278528,null,0,Fe.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,"ngStyle"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,lr)),i["\u0275did"](5,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275eld"](6,0,null,null,1,"span",[["class","ui-menuitem-text"]],null,null,null,null,null)),(e()(),i["\u0275ted"](7,null,["",""])),(e()(),i["\u0275and"](16777216,null,null,1,null,ur)),i["\u0275did"](9,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.parent.parent.context.$implicit.styleClass,i=e(t,2,0,!0,t.parent.parent.context.$implicit.disabled);e(t,1,0,n,i),e(t,3,0,t.parent.parent.context.$implicit.style),e(t,5,0,t.parent.parent.context.$implicit.icon),e(t,9,0,t.parent.parent.context.$implicit.items)},function(e,t){e(t,0,0,t.parent.parent.context.$implicit.url||"#",t.parent.parent.context.$implicit.automationId,t.parent.parent.context.$implicit.target,t.parent.parent.context.$implicit.title,t.parent.parent.context.$implicit.id),e(t,7,0,t.parent.parent.context.$implicit.label)})}function hr(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"span",[["class","ui-menuitem-icon"]],null,null,null,null,null)),i["\u0275did"](1,278528,null,0,Fe.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null)],function(e,t){e(t,1,0,"ui-menuitem-icon",t.parent.parent.parent.context.$implicit.icon)},null)}function dr(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,2,"span",[["class","ui-submenu-icon pi pi-fw"]],null,null,null,null,null)),i["\u0275did"](1,278528,null,0,Fe.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](2,{"pi-caret-down":0,"pi-caret-right":1})],function(e,t){var n=t.component,i=e(t,2,0,n.root,!n.root);e(t,1,0,"ui-submenu-icon pi pi-fw",i)},null)}function pr(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,14,"a",[],[[1,"data-automationid",0],[1,"target",0],[1,"title",0],[1,"id",0],[1,"target",0],[8,"href",4]],[[null,"click"]],function(e,t,n){var r=!0,s=e.component;return"click"===t&&(r=!1!==i["\u0275nov"](e,4).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),"click"===t&&(r=!1!==s.itemClick(n,e.parent.parent.context.$implicit)&&r),r},null,null)),i["\u0275did"](1,278528,null,0,Fe.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](2,{"ui-menuitem-link ui-corner-all":0,"ui-state-disabled":1}),i["\u0275did"](3,278528,null,0,Fe.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,"ngStyle"]},null),i["\u0275did"](4,671744,[[2,4]],0,ze.RouterLinkWithHref,[ze.Router,ze.ActivatedRoute,Fe.LocationStrategy],{queryParams:[0,"queryParams"],routerLink:[1,"routerLink"]},null),i["\u0275did"](5,1720320,null,2,ze.RouterLinkActive,[ze.Router,i.ElementRef,i.Renderer2,i.ChangeDetectorRef],{routerLinkActiveOptions:[0,"routerLinkActiveOptions"],routerLinkActive:[1,"routerLinkActive"]},null),i["\u0275qud"](603979776,1,{links:1}),i["\u0275qud"](603979776,2,{linksWithHrefs:1}),i["\u0275pod"](8,{exact:0}),(e()(),i["\u0275and"](16777216,null,null,1,null,hr)),i["\u0275did"](10,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275eld"](11,0,null,null,1,"span",[["class","ui-menuitem-text"]],null,null,null,null,null)),(e()(),i["\u0275ted"](12,null,["",""])),(e()(),i["\u0275and"](16777216,null,null,1,null,dr)),i["\u0275did"](14,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.parent.parent.context.$implicit.styleClass,i=e(t,2,0,!0,t.parent.parent.context.$implicit.disabled);e(t,1,0,n,i),e(t,3,0,t.parent.parent.context.$implicit.style),e(t,4,0,t.parent.parent.context.$implicit.queryParams,t.parent.parent.context.$implicit.routerLink);var r=t.parent.parent.context.$implicit.routerLinkActiveOptions||e(t,8,0,!1);e(t,5,0,r,"ui-state-active"),e(t,10,0,t.parent.parent.context.$implicit.icon),e(t,14,0,t.parent.parent.context.$implicit.items)},function(e,t){e(t,0,0,t.parent.parent.context.$implicit.automationId,t.parent.parent.context.$implicit.target,t.parent.parent.context.$implicit.title,t.parent.parent.context.$implicit.id,i["\u0275nov"](t,4).target,i["\u0275nov"](t,4).href),e(t,12,0,t.parent.parent.context.$implicit.label)})}function fr(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"p-menubarSub",[["class","ui-submenu"]],null,null,null,vr,or)),i["\u0275did"](1,180224,null,0,sr.MenubarSub,[i.Renderer2,i.ChangeDetectorRef],{item:[0,"item"],autoDisplay:[1,"autoDisplay"]},null)],function(e,t){e(t,1,0,t.parent.parent.context.$implicit,!0)},null)}function gr(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,[["listItem",1]],null,8,"li",[],null,[[null,"mouseenter"],[null,"mouseleave"],[null,"click"]],function(e,t,n){var r=!0,s=e.component;return"mouseenter"===t&&(r=!1!==s.onItemMouseEnter(n,i["\u0275nov"](e,0),e.parent.context.$implicit)&&r),"mouseleave"===t&&(r=!1!==s.onItemMouseLeave(n)&&r),"click"===t&&(r=!1!==s.onItemMenuClick(n,i["\u0275nov"](e,0),e.parent.context.$implicit)&&r),r},null,null)),i["\u0275did"](1,278528,null,0,Fe.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngClass:[0,"ngClass"]},null),i["\u0275pod"](2,{"ui-menuitem ui-corner-all":0,"ui-menu-parent":1,"ui-menuitem-active":2,"ui-helper-hidden":3}),(e()(),i["\u0275and"](16777216,null,null,1,null,cr)),i["\u0275did"](4,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,pr)),i["\u0275did"](6,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,fr)),i["\u0275did"](8,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,r=e(t,2,0,!0,t.parent.context.$implicit.items,i["\u0275nov"](t,0)==n.activeItem,!1===t.parent.context.$implicit.visible);e(t,1,0,r),e(t,4,0,!t.parent.context.$implicit.routerLink),e(t,6,0,t.parent.context.$implicit.routerLink),e(t,8,0,t.parent.context.$implicit.items)},null)}function mr(e){return i["\u0275vid"](0,[(e()(),i["\u0275and"](16777216,null,null,1,null,ar)),i["\u0275did"](1,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,gr)),i["\u0275did"](3,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](0,null,null,0))],function(e,t){e(t,1,0,t.context.$implicit.separator),e(t,3,0,!t.context.$implicit.separator)},null)}function vr(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,4,"ul",[],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.listClick(n)&&i),i},null,null)),i["\u0275did"](1,278528,null,0,Fe.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngClass:[0,"ngClass"]},null),i["\u0275pod"](2,{"ui-menubar-root-list":0,"ui-widget-content ui-corner-all ui-submenu-list ui-shadow":1}),(e()(),i["\u0275and"](16777216,null,null,1,null,mr)),i["\u0275did"](4,278528,null,0,Fe.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(e,t){var n=t.component,i=e(t,2,0,n.root,!n.root);e(t,1,0,i),e(t,4,0,n.root?n.item:n.item.items)},null)}var yr=i["\u0275crt"]({encapsulation:2,styles:[],data:{}});function _r(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,8,"div",[],null,null,null,null,null)),i["\u0275did"](1,278528,null,0,Fe.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](2,{"ui-menubar ui-widget ui-widget-content ui-corner-all":0}),i["\u0275did"](3,278528,null,0,Fe.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,"ngStyle"]},null),(e()(),i["\u0275eld"](4,0,null,null,2,"p-menubarSub",[["root","root"]],null,null,null,vr,or)),i["\u0275did"](5,180224,null,0,sr.MenubarSub,[i.Renderer2,i.ChangeDetectorRef],{item:[0,"item"],root:[1,"root"],autoDisplay:[2,"autoDisplay"],autoZIndex:[3,"autoZIndex"],baseZIndex:[4,"baseZIndex"]},null),i["\u0275ncd"](null,0),(e()(),i["\u0275eld"](7,0,null,null,1,"div",[["class","ui-menubar-custom"]],null,null,null,null,null)),i["\u0275ncd"](null,1)],function(e,t){var n=t.component,i=n.styleClass,r=e(t,2,0,!0);e(t,1,0,i,r),e(t,3,0,n.style),e(t,5,0,n.model,"root",n.autoDisplay,n.autoZIndex,n.baseZIndex)},null)}var br=n("66nc"),wr=i["\u0275crt"]({encapsulation:2,styles:[],data:{animation:[{type:7,name:"animation",definitions:[{type:0,name:"void",styles:{type:6,styles:{transform:"translate3d(0, 25%, 0) scale(0.9)",opacity:0},offset:null},options:void 0},{type:0,name:"visible",styles:{type:6,styles:{transform:"none",opacity:1},offset:null},options:void 0},{type:1,expr:"* => *",animation:{type:4,styles:null,timings:"{{transitionParams}}"},options:null}],options:{}}]}});function xr(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"span",[["class","ui-dialog-title"]],[[1,"id",0]],null,null,null,null)),(e()(),i["\u0275ted"](1,null,["",""]))],null,function(e,t){var n=t.component;e(t,0,0,n.id+"-label"),e(t,1,0,n.header)})}function Cr(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"span",[["class","ui-dialog-title"]],[[1,"id",0]],null,null,null,null)),i["\u0275ncd"](null,0)],null,function(e,t){e(t,0,0,t.component.id+"-label")})}function Sr(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,3,"a",[["role","button"],["tabindex","0"]],null,[[null,"click"],[null,"keydown.enter"],[null,"mousedown"]],function(e,t,n){var i=!0,r=e.component;return"click"===t&&(i=!1!==r.close(n)&&i),"keydown.enter"===t&&(i=!1!==r.close(n)&&i),"mousedown"===t&&(i=!1!==r.onCloseMouseDown(n)&&i),i},null,null)),i["\u0275did"](1,278528,null,0,Fe.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngClass:[0,"ngClass"]},null),i["\u0275pod"](2,{"ui-dialog-titlebar-icon ui-dialog-titlebar-close ui-corner-all":0}),(e()(),i["\u0275eld"](3,0,null,null,0,"span",[["class","pi pi-times"]],null,null,null,null,null))],function(e,t){var n=e(t,2,0,!0);e(t,1,0,n)},null)}function Er(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,4,"a",[["role","button"],["tabindex","0"]],null,[[null,"click"],[null,"keydown.enter"]],function(e,t,n){var i=!0,r=e.component;return"click"===t&&(i=!1!==r.toggleMaximize(n)&&i),"keydown.enter"===t&&(i=!1!==r.toggleMaximize(n)&&i),i},null,null)),i["\u0275did"](1,278528,null,0,Fe.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngClass:[0,"ngClass"]},null),i["\u0275pod"](2,{"ui-dialog-titlebar-icon ui-dialog-titlebar-maximize ui-corner-all":0}),(e()(),i["\u0275eld"](3,0,null,null,1,"span",[],null,null,null,null,null)),i["\u0275did"](4,278528,null,0,Fe.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngClass:[0,"ngClass"]},null)],function(e,t){var n=t.component,i=e(t,2,0,!0);e(t,1,0,i),e(t,4,0,n.maximized?"pi pi-window-minimize":"pi pi-window-maximize")},null)}function Tr(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,[[1,0],["titlebar",1]],null,8,"div",[["class","ui-dialog-titlebar ui-widget-header ui-helper-clearfix ui-corner-top"]],null,[[null,"mousedown"]],function(e,t,n){var i=!0;return"mousedown"===t&&(i=!1!==e.component.initDrag(n)&&i),i},null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,xr)),i["\u0275did"](2,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Cr)),i["\u0275did"](4,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Sr)),i["\u0275did"](6,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Er)),i["\u0275did"](8,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,2,0,n.header),e(t,4,0,n.headerFacet&&n.headerFacet.first),e(t,6,0,n.closable),e(t,8,0,n.maximizable)},null)}function Mr(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,[[3,0],["footer",1]],null,1,"div",[["class","ui-dialog-footer ui-widget-content"]],null,null,null,null,null)),i["\u0275ncd"](null,2)],null,null)}function Ir(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,0,"div",[["class","ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se"],["style","z-index: 90;"]],null,[[null,"mousedown"]],function(e,t,n){var i=!0;return"mousedown"===t&&(i=!1!==e.component.initResize(n)&&i),i},null,null))],null,null)}function Or(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,[["container",1]],null,14,"div",[["role","dialog"]],[[24,"@animation",0],[1,"aria-labelledby",0]],[[null,"@animation.start"]],function(e,t,n){var i=!0;return"@animation.start"===t&&(i=!1!==e.component.onAnimationStart(n)&&i),i},null,null)),i["\u0275did"](1,278528,null,0,Fe.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](2,{"ui-dialog ui-widget ui-widget-content ui-corner-all ui-shadow":0,"ui-dialog-rtl":1,"ui-dialog-draggable":2,"ui-dialog-resizable":3}),i["\u0275did"](3,278528,null,0,Fe.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,"ngStyle"]},null),i["\u0275pod"](4,{transitionParams:0}),i["\u0275pod"](5,{value:0,params:1}),(e()(),i["\u0275and"](16777216,null,null,1,null,Tr)),i["\u0275did"](7,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275eld"](8,0,[[2,0],["content",1]],null,2,"div",[["class","ui-dialog-content ui-widget-content"]],null,null,null,null,null)),i["\u0275did"](9,278528,null,0,Fe.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,"ngStyle"]},null),i["\u0275ncd"](null,1),(e()(),i["\u0275and"](16777216,null,null,1,null,Mr)),i["\u0275did"](12,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Ir)),i["\u0275did"](14,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,i=n.styleClass,r=e(t,2,0,!0,n.rtl,n.draggable,n.resizable);e(t,1,0,i,r),e(t,3,0,n.style),e(t,7,0,n.showHeader),e(t,9,0,n.contentStyle),e(t,12,0,n.footerFacet&&n.footerFacet.first),e(t,14,0,n.resizable)},function(e,t){var n=t.component,i=e(t,5,0,"visible",e(t,4,0,n.transitionOptions));e(t,0,0,i,n.id+"-label")})}function Ar(e){return i["\u0275vid"](0,[i["\u0275qud"](671088640,1,{headerViewChild:0}),i["\u0275qud"](671088640,2,{contentViewChild:0}),i["\u0275qud"](671088640,3,{footerViewChild:0}),(e()(),i["\u0275and"](16777216,null,null,1,null,Or)),i["\u0275did"](4,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,4,0,t.component.visible)},null)}var Dr=i["\u0275crt"]({encapsulation:2,styles:[],data:{}});function kr(e){return i["\u0275vid"](0,[i["\u0275ncd"](null,0)],null,null)}var Pr=i["\u0275crt"]({encapsulation:2,styles:[],data:{}});function Rr(e){return i["\u0275vid"](0,[i["\u0275ncd"](null,0)],null,null)}var Lr=n("Czxz"),Nr=n("nciF"),Fr=n("mU/a"),Vr=i["\u0275crt"]({encapsulation:2,styles:[],data:{animation:[{type:7,name:"overlayAnimation",definitions:[{type:0,name:"void",styles:{type:6,styles:{transform:"translateY(5%)",opacity:0},offset:null},options:void 0},{type:0,name:"visible",styles:{type:6,styles:{transform:"translateY(0)",opacity:1},offset:null},options:void 0},{type:1,expr:"void => visible",animation:{type:4,styles:null,timings:"{{showTransitionParams}}"},options:null},{type:1,expr:"visible => void",animation:{type:4,styles:null,timings:"{{hideTransitionParams}}"},options:null}],options:{}}]}});function jr(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"option",[],null,null,null,null,null)),(e()(),i["\u0275ted"](1,null,["",""]))],null,function(e,t){e(t,1,0,t.component.placeholder)})}function Br(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"option",[],[[8,"value",0],[8,"selected",0]],null,null,null,null)),(e()(),i["\u0275ted"](1,null,["",""]))],null,function(e,t){e(t,0,0,t.context.$implicit.value,t.component.selectedOption==t.context.$implicit),e(t,1,0,t.context.$implicit.label)})}function zr(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,2,"optgroup",[],[[1,"label",0]],null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,Br)),i["\u0275did"](2,278528,null,0,Fe.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,2,0,t.context.$implicit.items)},function(e,t){e(t,0,0,t.context.$implicit.label)})}function Hr(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,3,null,null,null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,zr)),i["\u0275did"](2,278528,null,0,Fe.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),i["\u0275eld"](3,0,null,null,0,"optgroup",[],null,null,null,null,null))],function(e,t){e(t,2,0,t.component.options)},null)}function Ur(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"option",[],[[8,"value",0],[8,"selected",0]],null,null,null,null)),(e()(),i["\u0275ted"](1,null,["",""]))],null,function(e,t){e(t,0,0,t.context.$implicit.value,t.component.selectedOption==t.context.$implicit),e(t,1,0,t.context.$implicit.label)})}function Gr(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,Ur)),i["\u0275did"](2,278528,null,0,Fe.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),i["\u0275and"](0,null,null,0))],function(e,t){e(t,2,0,t.component.options)},null)}function Wr(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,7,"div",[["class","ui-helper-hidden-accessible"]],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,6,"select",[["aria-hidden","true"],["tabindex","-1"]],[[1,"id",0],[8,"required",0],[1,"name",0],[1,"aria-label",0]],null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,jr)),i["\u0275did"](3,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Hr)),i["\u0275did"](5,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Gr)),i["\u0275did"](7,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,3,0,n.placeholder),e(t,5,0,n.group),e(t,7,0,!n.group)},function(e,t){var n=t.component;e(t,1,0,n.selectId,n.required,n.name,n.selectedOption?n.selectedOption.label:" ")})}function $r(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),i["\u0275ted"](1,null,["",""]))],null,function(e,t){e(t,1,0,t.component.label||"empty")})}function qr(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Yr(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,7,"label",[],null,null,null,null,null)),i["\u0275did"](1,278528,null,0,Fe.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngClass:[0,"ngClass"]},null),i["\u0275pod"](2,{"ui-dropdown-label ui-inputtext ui-corner-all":0,"ui-dropdown-label-empty":1}),(e()(),i["\u0275and"](16777216,null,null,1,null,$r)),i["\u0275did"](4,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,2,null,qr)),i["\u0275did"](6,540672,null,0,Fe.NgTemplateOutlet,[i.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),i["\u0275pod"](7,{$implicit:0})],function(e,t){var n=t.component,i=e(t,2,0,!0,null==n.label||0===n.label.length);e(t,1,0,i),e(t,4,0,!n.selectedItemTemplate);var r=e(t,7,0,n.selectedOption);e(t,6,0,r,n.selectedItemTemplate)},null)}function Zr(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,3,"label",[],null,null,null,null,null)),i["\u0275did"](1,278528,null,0,Fe.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngClass:[0,"ngClass"]},null),i["\u0275pod"](2,{"ui-dropdown-label ui-inputtext ui-corner-all ui-placeholder":0,"ui-dropdown-label-empty":1}),(e()(),i["\u0275ted"](3,null,["",""]))],function(e,t){var n=t.component,i=e(t,2,0,!0,null==n.placeholder||0===n.placeholder.length);e(t,1,0,i)},function(e,t){e(t,3,0,t.component.placeholder||"empty")})}function Kr(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,[[4,0],["editableInput",1]],null,0,"input",[["class","ui-dropdown-label ui-inputtext ui-corner-all"],["type","text"]],[[1,"aria-label",0],[8,"disabled",0],[1,"placeholder",0]],[[null,"click"],[null,"input"],[null,"focus"],[null,"blur"]],function(e,t,n){var i=!0,r=e.component;return"click"===t&&(i=!1!==r.onEditableInputClick(n)&&i),"input"===t&&(i=!1!==r.onEditableInputChange(n)&&i),"focus"===t&&(i=!1!==r.onEditableInputFocus(n)&&i),"blur"===t&&(i=!1!==r.onInputBlur(n)&&i),i},null,null))],null,function(e,t){var n=t.component;e(t,0,0,n.selectedOption?n.selectedOption.label:" ",n.disabled,n.placeholder)})}function Xr(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,0,"i",[["class","ui-dropdown-clear-icon pi pi-times"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.clear(n)&&i),i},null,null))],null,null)}function Qr(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,2,"div",[["class","ui-dropdown-filter-container"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==n.stopPropagation()&&i),i},null,null)),(e()(),i["\u0275eld"](1,0,[[2,0],["filter",1]],null,0,"input",[["autocomplete","off"],["class","ui-dropdown-filter ui-inputtext ui-widget ui-state-default ui-corner-all"],["type","text"]],[[8,"value",0],[1,"placeholder",0]],[[null,"keydown.enter"],[null,"keydown"],[null,"input"]],function(e,t,n){var i=!0,r=e.component;return"keydown.enter"===t&&(i=!1!==n.preventDefault()&&i),"keydown"===t&&(i=!1!==r.onKeydown(n,!1)&&i),"input"===t&&(i=!1!==r.onFilter(n)&&i),i},null,null)),(e()(),i["\u0275eld"](2,0,null,null,0,"span",[["class","ui-dropdown-filter-icon pi pi-search"]],null,null,null,null,null))],null,function(e,t){var n=t.component;e(t,1,0,n.filterValue||"",n.filterPlaceholder)})}function Jr(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),i["\u0275ted"](1,null,["",""]))],null,function(e,t){e(t,1,0,t.parent.context.$implicit.label||"empty")})}function es(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function ts(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function ns(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,5,"li",[["class","ui-dropdown-item-group"]],null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,Jr)),i["\u0275did"](2,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,2,null,es)),i["\u0275did"](4,540672,null,0,Fe.NgTemplateOutlet,[i.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),i["\u0275pod"](5,{$implicit:0}),(e()(),i["\u0275and"](16777216,null,null,2,null,ts)),i["\u0275did"](7,540672,null,0,Fe.NgTemplateOutlet,[i.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),i["\u0275pod"](8,{$implicit:0,selectedOption:1}),(e()(),i["\u0275and"](0,null,null,0))],function(e,t){var n=t.component;e(t,2,0,!n.groupTemplate);var r=e(t,5,0,t.context.$implicit);e(t,4,0,r,n.groupTemplate);var s=e(t,8,0,t.context.$implicit.items,n.selectedOption);e(t,7,0,s,i["\u0275nov"](t.parent.parent,13))},null)}function is(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,ns)),i["\u0275did"](2,278528,null,0,Fe.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),i["\u0275and"](0,null,null,0))],function(e,t){e(t,2,0,t.component.optionsToDisplay)},null)}function rs(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function ss(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,3,null,null,null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,2,null,rs)),i["\u0275did"](2,540672,null,0,Fe.NgTemplateOutlet,[i.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),i["\u0275pod"](3,{$implicit:0,selectedOption:1}),(e()(),i["\u0275and"](0,null,null,0))],function(e,t){var n=t.component,r=e(t,3,0,n.optionsToDisplay,n.selectedOption);e(t,2,0,r,i["\u0275nov"](t.parent,13))},null)}function os(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),i["\u0275ted"](1,null,["",""]))],null,function(e,t){e(t,1,0,t.parent.context.$implicit.label||"empty")})}function as(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function ls(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,7,"li",[],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onItemClick(n,e.context.$implicit)&&i),i},null,null)),i["\u0275did"](1,278528,null,0,Fe.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngClass:[0,"ngClass"]},null),i["\u0275pod"](2,{"ui-dropdown-item ui-corner-all":0,"ui-state-highlight":1,"ui-state-disabled":2,"ui-dropdown-item-empty":3}),(e()(),i["\u0275and"](16777216,null,null,1,null,os)),i["\u0275did"](4,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,2,null,as)),i["\u0275did"](6,540672,null,0,Fe.NgTemplateOutlet,[i.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),i["\u0275pod"](7,{$implicit:0})],function(e,t){var n=t.component,i=e(t,2,0,!0,t.parent.context.selectedOption==t.context.$implicit,t.context.$implicit.disabled,!t.context.$implicit.label||0===t.context.$implicit.label.length);e(t,1,0,i),e(t,4,0,!n.itemTemplate);var r=e(t,7,0,t.context.$implicit);e(t,6,0,r,n.itemTemplate)},null)}function us(e){return i["\u0275vid"](0,[(e()(),i["\u0275and"](16777216,null,null,1,null,ls)),i["\u0275did"](1,278528,null,0,Fe.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),i["\u0275and"](0,null,null,0))],function(e,t){e(t,1,0,t.context.$implicit)},null)}function cs(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"li",[["class","ui-dropdown-empty-message"]],null,null,null,null,null)),(e()(),i["\u0275ted"](1,null,["",""]))],null,function(e,t){e(t,1,0,t.component.emptyFilterMessage)})}function hs(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,15,"div",[],[[24,"@overlayAnimation",0]],[[null,"@overlayAnimation.start"]],function(e,t,n){var i=!0;return"@overlayAnimation.start"===t&&(i=!1!==e.component.onOverlayAnimationStart(n)&&i),i},null,null)),i["\u0275did"](1,278528,null,0,Fe.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275did"](2,278528,null,0,Fe.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,"ngStyle"]},null),i["\u0275pod"](3,{showTransitionParams:0,hideTransitionParams:1}),i["\u0275pod"](4,{value:0,params:1}),(e()(),i["\u0275and"](16777216,null,null,1,null,Qr)),i["\u0275did"](6,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275eld"](7,0,null,null,8,"div",[["class","ui-dropdown-items-wrapper"]],[[4,"max-height",null]],null,null,null,null)),(e()(),i["\u0275eld"](8,0,null,null,7,"ul",[["class","ui-dropdown-items ui-dropdown-list ui-widget-content ui-widget ui-corner-all ui-helper-reset"]],null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,is)),i["\u0275did"](10,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,ss)),i["\u0275did"](12,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](0,[["itemslist",2]],null,0,null,us)),(e()(),i["\u0275and"](16777216,null,null,1,null,cs)),i["\u0275did"](15,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,1,0,n.panelStyleClass,"ui-dropdown-panel  ui-widget ui-widget-content ui-corner-all ui-shadow"),e(t,2,0,n.panelStyle),e(t,6,0,n.filter),e(t,10,0,n.group),e(t,12,0,!n.group),e(t,15,0,n.filter&&n.optionsToDisplay&&0===n.optionsToDisplay.length)},function(e,t){var n=t.component,i=e(t,4,0,"visible",e(t,3,0,n.showTransitionOptions,n.hideTransitionOptions));e(t,0,0,i),e(t,7,0,n.scrollHeight||"auto")})}function ds(e){return i["\u0275vid"](0,[i["\u0275qud"](402653184,1,{containerViewChild:0}),i["\u0275qud"](671088640,2,{filterViewChild:0}),i["\u0275qud"](402653184,3,{focusViewChild:0}),i["\u0275qud"](671088640,4,{editableInputViewChild:0}),(e()(),i["\u0275eld"](4,0,[[1,0],["container",1]],null,20,"div",[],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onMouseclick(n)&&i),i},null,null)),i["\u0275did"](5,278528,null,0,Fe.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](6,{"ui-dropdown ui-widget ui-state-default ui-corner-all ui-helper-clearfix":0,"ui-state-disabled":1,"ui-dropdown-open":2,"ui-state-focus":3,"ui-dropdown-clearable":4}),i["\u0275did"](7,278528,null,0,Fe.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,"ngStyle"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Wr)),i["\u0275did"](9,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275eld"](10,0,null,null,1,"div",[["class","ui-helper-hidden-accessible"]],null,null,null,null,null)),(e()(),i["\u0275eld"](11,0,[[3,0],["in",1]],null,0,"input",[["readonly",""],["role","listbox"],["type","text"]],[[1,"id",0],[1,"aria-label",0],[8,"disabled",0],[1,"tabindex",0],[1,"autofocus",0]],[[null,"focus"],[null,"blur"],[null,"keydown"]],function(e,t,n){var i=!0,r=e.component;return"focus"===t&&(i=!1!==r.onInputFocus(n)&&i),"blur"===t&&(i=!1!==r.onInputBlur(n)&&i),"keydown"===t&&(i=!1!==r.onKeydown(n,!0)&&i),i},null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,Yr)),i["\u0275did"](13,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Zr)),i["\u0275did"](15,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Kr)),i["\u0275did"](17,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Xr)),i["\u0275did"](19,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275eld"](20,0,null,null,2,"div",[["class","ui-dropdown-trigger ui-state-default ui-corner-right"]],null,null,null,null,null)),(e()(),i["\u0275eld"](21,0,null,null,1,"span",[["class","ui-dropdown-trigger-icon ui-clickable"]],null,null,null,null,null)),i["\u0275did"](22,278528,null,0,Fe.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,hs)),i["\u0275did"](24,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,i=n.styleClass,r=e(t,6,0,!0,n.disabled,n.overlayVisible,n.focused,n.showClear&&!n.disabled);e(t,5,0,i,r),e(t,7,0,n.style),e(t,9,0,n.autoWidth),e(t,13,0,!n.editable&&null!=n.label),e(t,15,0,!n.editable&&null==n.label),e(t,17,0,n.editable),e(t,19,0,null!=n.value&&n.showClear&&!n.disabled),e(t,22,0,"ui-dropdown-trigger-icon ui-clickable",n.dropdownIcon),e(t,24,0,n.overlayVisible)},function(e,t){var n=t.component;e(t,11,0,n.inputId,n.selectedOption?n.selectedOption.label:" ",n.disabled,n.tabindex,n.autofocus)})}var ps=i["\u0275crt"]({encapsulation:2,styles:[],data:{}});function fs(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function gs(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,3,"div",[["class","ui-paginator-left-content"]],null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,2,null,fs)),i["\u0275did"](2,540672,null,0,Fe.NgTemplateOutlet,[i.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),i["\u0275pod"](3,{$implicit:0})],function(e,t){var n=t.component,i=e(t,3,0,n.paginatorState);e(t,2,0,i,n.templateLeft)},null)}function ms(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,3,"a",[["class","ui-paginator-page ui-paginator-element ui-state-default ui-corner-all"],["tabindex","0"]],null,[[null,"click"],[null,"keydown.enter"]],function(e,t,n){var i=!0,r=e.component;return"click"===t&&(i=!1!==r.onPageLinkClick(n,e.context.$implicit-1)&&i),"keydown.enter"===t&&(i=!1!==r.onPageLinkClick(n,e.context.$implicit-1)&&i),i},null,null)),i["\u0275did"](1,278528,null,0,Fe.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](2,{"ui-state-active":0}),(e()(),i["\u0275ted"](3,null,["",""]))],function(e,t){var n=e(t,2,0,t.context.$implicit-1==t.component.getPage());e(t,1,0,"ui-paginator-page ui-paginator-element ui-state-default ui-corner-all",n)},function(e,t){e(t,3,0,t.context.$implicit)})}function vs(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,6,"p-dropdown",[],[[2,"ui-inputwrapper-filled",null],[2,"ui-inputwrapper-focus",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],function(e,t,n){var i=!0,r=e.component;return"ngModelChange"===t&&(i=!1!==(r.rows=n)&&i),"onChange"===t&&(i=!1!==r.onRppChange(n)&&i),i},ds,Vr)),i["\u0275did"](1,13877248,null,1,Nr.Dropdown,[i.ElementRef,i.Renderer2,i.ChangeDetectorRef,i.NgZone],{autoWidth:[0,"autoWidth"],appendTo:[1,"appendTo"],options:[2,"options"]},{onChange:"onChange"}),i["\u0275qud"](603979776,1,{templates:1}),i["\u0275prd"](1024,null,nt.NG_VALUE_ACCESSOR,function(e){return[e]},[Nr.Dropdown]),i["\u0275did"](4,671744,null,0,nt.NgModel,[[8,null],[8,null],[8,null],[6,nt.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,nt.NgControl,null,[nt.NgModel]),i["\u0275did"](6,16384,null,0,nt.NgControlStatus,[[4,nt.NgControl]],null,null)],function(e,t){var n=t.component;e(t,1,0,!1,n.dropdownAppendTo,n.rowsPerPageItems),e(t,4,0,n.rows)},function(e,t){e(t,0,0,i["\u0275nov"](t,1).filled,i["\u0275nov"](t,1).focused,i["\u0275nov"](t,6).ngClassUntouched,i["\u0275nov"](t,6).ngClassTouched,i["\u0275nov"](t,6).ngClassPristine,i["\u0275nov"](t,6).ngClassDirty,i["\u0275nov"](t,6).ngClassValid,i["\u0275nov"](t,6).ngClassInvalid,i["\u0275nov"](t,6).ngClassPending)})}function ys(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function _s(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,3,"div",[["class","ui-paginator-right-content"]],null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,2,null,ys)),i["\u0275did"](2,540672,null,0,Fe.NgTemplateOutlet,[i.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),i["\u0275pod"](3,{$implicit:0})],function(e,t){var n=t.component,i=e(t,3,0,n.paginatorState);e(t,2,0,i,n.templateRight)},null)}function bs(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,27,"div",[],null,null,null,null,null)),i["\u0275did"](1,278528,null,0,Fe.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275did"](2,278528,null,0,Fe.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,"ngStyle"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,gs)),i["\u0275did"](4,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275eld"](5,0,null,null,3,"a",[["class","ui-paginator-first ui-paginator-element ui-state-default ui-corner-all"]],[[1,"tabindex",0],[8,"tabIndex",0]],[[null,"click"],[null,"keydown.enter"]],function(e,t,n){var i=!0,r=e.component;return"click"===t&&(i=!1!==r.changePageToFirst(n)&&i),"keydown.enter"===t&&(i=!1!==r.changePageToFirst(n)&&i),i},null,null)),i["\u0275did"](6,278528,null,0,Fe.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](7,{"ui-state-disabled":0}),(e()(),i["\u0275eld"](8,0,null,null,0,"span",[["class","ui-paginator-icon pi pi-step-backward"]],null,null,null,null,null)),(e()(),i["\u0275eld"](9,0,null,null,3,"a",[["class","ui-paginator-prev ui-paginator-element ui-state-default ui-corner-all"],["tabindex","0"]],[[1,"tabindex",0],[8,"tabIndex",0]],[[null,"click"],[null,"keydown.enter"]],function(e,t,n){var i=!0,r=e.component;return"click"===t&&(i=!1!==r.changePageToPrev(n)&&i),"keydown.enter"===t&&(i=!1!==r.changePageToPrev(n)&&i),i},null,null)),i["\u0275did"](10,278528,null,0,Fe.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](11,{"ui-state-disabled":0}),(e()(),i["\u0275eld"](12,0,null,null,0,"span",[["class","ui-paginator-icon pi pi-caret-left"]],null,null,null,null,null)),(e()(),i["\u0275eld"](13,0,null,null,2,"span",[["class","ui-paginator-pages"]],null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,ms)),i["\u0275did"](15,278528,null,0,Fe.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),i["\u0275eld"](16,0,null,null,3,"a",[["class","ui-paginator-next ui-paginator-element ui-state-default ui-corner-all"]],[[1,"tabindex",0],[8,"tabIndex",0]],[[null,"click"],[null,"keydown.enter"]],function(e,t,n){var i=!0,r=e.component;return"click"===t&&(i=!1!==r.changePageToNext(n)&&i),"keydown.enter"===t&&(i=!1!==r.changePageToNext(n)&&i),i},null,null)),i["\u0275did"](17,278528,null,0,Fe.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](18,{"ui-state-disabled":0}),(e()(),i["\u0275eld"](19,0,null,null,0,"span",[["class","ui-paginator-icon pi pi-caret-right"]],null,null,null,null,null)),(e()(),i["\u0275eld"](20,0,null,null,3,"a",[["class","ui-paginator-last ui-paginator-element ui-state-default ui-corner-all"]],[[1,"tabindex",0],[8,"tabIndex",0]],[[null,"click"],[null,"keydown.enter"]],function(e,t,n){var i=!0,r=e.component;return"click"===t&&(i=!1!==r.changePageToLast(n)&&i),"keydown.enter"===t&&(i=!1!==r.changePageToLast(n)&&i),i},null,null)),i["\u0275did"](21,278528,null,0,Fe.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](22,{"ui-state-disabled":0}),(e()(),i["\u0275eld"](23,0,null,null,0,"span",[["class","ui-paginator-icon pi pi-step-forward"]],null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,vs)),i["\u0275did"](25,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,_s)),i["\u0275did"](27,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,1,0,n.styleClass,"ui-paginator ui-widget ui-widget-header ui-unselectable-text ui-helper-clearfix"),e(t,2,0,n.style),e(t,4,0,n.templateLeft);var i=e(t,7,0,n.isFirstPage());e(t,6,0,"ui-paginator-first ui-paginator-element ui-state-default ui-corner-all",i);var r=e(t,11,0,n.isFirstPage());e(t,10,0,"ui-paginator-prev ui-paginator-element ui-state-default ui-corner-all",r),e(t,15,0,n.pageLinks);var s=e(t,18,0,n.isLastPage());e(t,17,0,"ui-paginator-next ui-paginator-element ui-state-default ui-corner-all",s);var o=e(t,22,0,n.isLastPage());e(t,21,0,"ui-paginator-last ui-paginator-element ui-state-default ui-corner-all",o),e(t,25,0,n.rowsPerPageOptions),e(t,27,0,n.templateRight)},function(e,t){var n=t.component;e(t,5,0,n.isFirstPage()?null:"0",n.isFirstPage()?-1:null),e(t,9,0,n.isFirstPage()?null:"0",n.isFirstPage()?-1:null),e(t,16,0,n.isLastPage()?null:"0",n.isLastPage()?-1:null),e(t,20,0,n.isLastPage()?null:"0",n.isLastPage()?-1:null)})}function ws(e){return i["\u0275vid"](0,[(e()(),i["\u0275and"](16777216,null,null,1,null,bs)),i["\u0275did"](1,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,1,0,!!n.alwaysShow||n.pageLinks&&n.pageLinks.length>1)},null)}var xs=i["\u0275crt"]({encapsulation:2,styles:[],data:{}});function Cs(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,0,"div",[["class","ui-table-loading ui-widget-overlay"]],null,null,null,null,null))],null,null)}function Ss(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"div",[["class","ui-table-loading-content"]],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,0,"i",[],[[8,"className",0]],null,null,null,null))],null,function(e,t){e(t,1,0,"ui-table-loading-icon pi-spin "+t.component.loadingIcon)})}function Es(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Ts(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,2,"div",[["class","ui-table-caption ui-widget-header"]],null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,Es)),i["\u0275did"](2,540672,null,0,Fe.NgTemplateOutlet,[i.ViewContainerRef],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null)],function(e,t){e(t,2,0,t.component.captionTemplate)},null)}function Ms(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"p-paginator",[["styleClass","ui-paginator-top"]],null,[[null,"onPageChange"]],function(e,t,n){var i=!0;return"onPageChange"===t&&(i=!1!==e.component.onPageChange(n)&&i),i},ws,ps)),i["\u0275did"](1,114688,null,0,Fr.Paginator,[],{pageLinkSize:[0,"pageLinkSize"],styleClass:[1,"styleClass"],alwaysShow:[2,"alwaysShow"],templateLeft:[3,"templateLeft"],templateRight:[4,"templateRight"],dropdownAppendTo:[5,"dropdownAppendTo"],totalRecords:[6,"totalRecords"],first:[7,"first"],rows:[8,"rows"],rowsPerPageOptions:[9,"rowsPerPageOptions"]},{onPageChange:"onPageChange"})],function(e,t){var n=t.component;e(t,1,0,n.pageLinks,"ui-paginator-top",n.alwaysShowPaginator,n.paginatorLeftTemplate,n.paginatorRightTemplate,n.paginatorDropdownAppendTo,n.totalRecords,n.first,n.rows,n.rowsPerPageOptions)},null)}function Is(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Os(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function As(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Ds(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,16,"div",[["class","ui-table-wrapper"]],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,[[5,0],["table",1]],null,15,"table",[],null,null,null,null,null)),i["\u0275did"](2,278528,null,0,Fe.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngClass:[0,"ngClass"]},null),i["\u0275did"](3,278528,null,0,Fe.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,"ngStyle"]},null),(e()(),i["\u0275and"](16777216,null,null,2,null,Is)),i["\u0275did"](5,540672,null,0,Fe.NgTemplateOutlet,[i.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),i["\u0275pod"](6,{$implicit:0}),(e()(),i["\u0275eld"](7,0,null,null,3,"thead",[["class","ui-table-thead"]],null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,2,null,Os)),i["\u0275did"](9,540672,null,0,Fe.NgTemplateOutlet,[i.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),i["\u0275pod"](10,{$implicit:0}),(e()(),i["\u0275eld"](11,0,null,null,3,"tfoot",[["class","ui-table-tfoot"]],null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,2,null,As)),i["\u0275did"](13,540672,null,0,Fe.NgTemplateOutlet,[i.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),i["\u0275pod"](14,{$implicit:0}),(e()(),i["\u0275eld"](15,0,null,null,1,"tbody",[["class","ui-table-tbody"]],null,null,null,Qs,zs)),i["\u0275did"](16,49152,null,0,Lr.TableBody,[Lr.Table],{columns:[0,"columns"],template:[1,"template"]},null)],function(e,t){var n=t.component;e(t,2,0,n.tableStyleClass),e(t,3,0,n.tableStyle);var i=e(t,6,0,n.columns);e(t,5,0,i,n.colGroupTemplate);var r=e(t,10,0,n.columns);e(t,9,0,r,n.headerTemplate);var s=e(t,14,0,n.columns);e(t,13,0,s,n.footerTemplate),e(t,16,0,n.columns,n.bodyTemplate)},null)}function ks(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,3,"div",[["class","ui-table-scrollable-view ui-table-frozen-view"]],null,null,null,lo,Js)),i["\u0275did"](1,278528,null,0,Fe.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,"ngStyle"]},null),i["\u0275pod"](2,{width:0}),i["\u0275did"](3,12763136,null,0,Lr.ScrollableView,[Lr.Table,i.ElementRef,i.NgZone],{columns:[0,"columns"],frozen:[1,"frozen"],scrollHeight:[2,"scrollHeight"]},null)],function(e,t){var n=t.component,i=e(t,2,0,n.frozenWidth);e(t,1,0,i),e(t,3,0,n.frozenColumns,!0,n.scrollHeight)},null)}function Ps(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,6,"div",[["class","ui-table-scrollable-wrapper"]],null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,ks)),i["\u0275did"](2,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275eld"](3,0,null,null,3,"div",[["class","ui-table-scrollable-view"]],null,null,null,lo,Js)),i["\u0275did"](4,278528,null,0,Fe.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,"ngStyle"]},null),i["\u0275pod"](5,{left:0,width:1}),i["\u0275did"](6,12763136,null,0,Lr.ScrollableView,[Lr.Table,i.ElementRef,i.NgZone],{columns:[0,"columns"],frozen:[1,"frozen"],scrollHeight:[2,"scrollHeight"]},null)],function(e,t){var n=t.component;e(t,2,0,n.frozenColumns||n.frozenBodyTemplate);var i=e(t,5,0,n.frozenWidth,"calc(100% - "+n.frozenWidth+")");e(t,4,0,i),e(t,6,0,n.columns,!1,n.scrollHeight)},null)}function Rs(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"p-paginator",[["styleClass","ui-paginator-bottom"]],null,[[null,"onPageChange"]],function(e,t,n){var i=!0;return"onPageChange"===t&&(i=!1!==e.component.onPageChange(n)&&i),i},ws,ps)),i["\u0275did"](1,114688,null,0,Fr.Paginator,[],{pageLinkSize:[0,"pageLinkSize"],styleClass:[1,"styleClass"],alwaysShow:[2,"alwaysShow"],templateLeft:[3,"templateLeft"],templateRight:[4,"templateRight"],dropdownAppendTo:[5,"dropdownAppendTo"],totalRecords:[6,"totalRecords"],first:[7,"first"],rows:[8,"rows"],rowsPerPageOptions:[9,"rowsPerPageOptions"]},{onPageChange:"onPageChange"})],function(e,t){var n=t.component;e(t,1,0,n.pageLinks,"ui-paginator-bottom",n.alwaysShowPaginator,n.paginatorLeftTemplate,n.paginatorRightTemplate,n.paginatorDropdownAppendTo,n.totalRecords,n.first,n.rows,n.rowsPerPageOptions)},null)}function Ls(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Ns(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,2,"div",[["class","ui-table-summary ui-widget-header"]],null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,Ls)),i["\u0275did"](2,540672,null,0,Fe.NgTemplateOutlet,[i.ViewContainerRef],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null)],function(e,t){e(t,2,0,t.component.summaryTemplate)},null)}function Fs(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,[[2,0],["resizeHelper",1]],null,0,"div",[["class","ui-column-resizer-helper ui-state-highlight"],["style","display:none"]],null,null,null,null,null))],null,null)}function Vs(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,[[3,0],["reorderIndicatorUp",1]],null,0,"span",[["class","pi pi-arrow-down ui-table-reorder-indicator-up"],["style","display:none"]],null,null,null,null,null))],null,null)}function js(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,[[4,0],["reorderIndicatorDown",1]],null,0,"span",[["class","pi pi-arrow-up ui-table-reorder-indicator-down"],["style","display:none"]],null,null,null,null,null))],null,null)}function Bs(e){return i["\u0275vid"](0,[i["\u0275qud"](402653184,1,{containerViewChild:0}),i["\u0275qud"](671088640,2,{resizeHelperViewChild:0}),i["\u0275qud"](671088640,3,{reorderIndicatorUpViewChild:0}),i["\u0275qud"](671088640,4,{reorderIndicatorDownViewChild:0}),i["\u0275qud"](671088640,5,{tableViewChild:0}),(e()(),i["\u0275eld"](5,0,[[1,0],["container",1]],null,25,"div",[],null,null,null,null,null)),i["\u0275did"](6,278528,null,0,Fe.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](7,{"ui-table ui-widget":0,"ui-table-responsive":1,"ui-table-resizable":2,"ui-table-resizable-fit":3,"ui-table-hoverable-rows":4,"ui-table-auto-layout":5}),i["\u0275did"](8,278528,null,0,Fe.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,"ngStyle"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Cs)),i["\u0275did"](10,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Ss)),i["\u0275did"](12,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Ts)),i["\u0275did"](14,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Ms)),i["\u0275did"](16,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Ds)),i["\u0275did"](18,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Ps)),i["\u0275did"](20,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Rs)),i["\u0275did"](22,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Ns)),i["\u0275did"](24,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Fs)),i["\u0275did"](26,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Vs)),i["\u0275did"](28,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,js)),i["\u0275did"](30,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,i=n.styleClass,r=e(t,7,0,!0,n.responsive,n.resizableColumns,n.resizableColumns&&"fit"===n.columnResizeMode,n.rowHover||n.selectionMode,n.autoLayout);e(t,6,0,i,r),e(t,8,0,n.style),e(t,10,0,n.loading),e(t,12,0,n.loading),e(t,14,0,n.captionTemplate),e(t,16,0,n.paginator&&("top"===n.paginatorPosition||"both"==n.paginatorPosition)),e(t,18,0,!n.scrollable),e(t,20,0,n.scrollable),e(t,22,0,n.paginator&&("bottom"===n.paginatorPosition||"both"==n.paginatorPosition)),e(t,24,0,n.summaryTemplate),e(t,26,0,n.resizableColumns),e(t,28,0,n.reorderableColumns),e(t,30,0,n.reorderableColumns)},null)}var zs=i["\u0275crt"]({encapsulation:2,styles:[],data:{}});function Hs(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Us(e){return i["\u0275vid"](0,[(e()(),i["\u0275and"](16777216,null,null,2,null,Hs)),i["\u0275did"](1,540672,null,0,Fe.NgTemplateOutlet,[i.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),i["\u0275pod"](2,{$implicit:0,rowIndex:1,columns:2}),(e()(),i["\u0275and"](0,null,null,0))],function(e,t){var n=t.component,i=e(t,2,0,t.context.$implicit,n.dt.paginator?n.dt.first+t.context.index:t.context.index,n.columns);e(t,1,0,i,n.template)},null)}function Gs(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,3,null,null,null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,2,null,Us)),i["\u0275did"](2,278528,null,0,Fe.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),i["\u0275pid"](0,Fe.SlicePipe,[]),(e()(),i["\u0275and"](0,null,null,0))],function(e,t){var n=t.component;e(t,2,0,n.dt.paginator&&!n.dt.lazy?i["\u0275unv"](t,2,0,i["\u0275nov"](t,3).transform(n.dt.filteredValue||n.dt.value,n.dt.first,n.dt.first+n.dt.rows)):n.dt.filteredValue||n.dt.value,n.dt.rowTrackBy)},null)}function Ws(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function $s(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function qs(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,3,null,null,null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,2,null,$s)),i["\u0275did"](2,540672,null,0,Fe.NgTemplateOutlet,[i.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),i["\u0275pod"](3,{$implicit:0,rowIndex:1,columns:2}),(e()(),i["\u0275and"](0,null,null,0))],function(e,t){var n=t.component,i=e(t,3,0,t.parent.context.$implicit,n.dt.paginator?n.dt.first+t.parent.context.index:t.parent.context.index,n.columns);e(t,2,0,i,n.dt.expandedRowTemplate)},null)}function Ys(e){return i["\u0275vid"](0,[(e()(),i["\u0275and"](16777216,null,null,2,null,Ws)),i["\u0275did"](1,540672,null,0,Fe.NgTemplateOutlet,[i.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),i["\u0275pod"](2,{$implicit:0,rowIndex:1,columns:2,expanded:3}),(e()(),i["\u0275and"](16777216,null,null,1,null,qs)),i["\u0275did"](4,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](0,null,null,0))],function(e,t){var n=t.component,i=e(t,2,0,t.context.$implicit,n.dt.paginator?n.dt.first+t.context.index:t.context.index,n.columns,n.dt.isRowExpanded(t.context.$implicit));e(t,1,0,i,n.template),e(t,4,0,n.dt.isRowExpanded(t.context.$implicit))},null)}function Zs(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,3,null,null,null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,2,null,Ys)),i["\u0275did"](2,278528,null,0,Fe.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),i["\u0275pid"](0,Fe.SlicePipe,[]),(e()(),i["\u0275and"](0,null,null,0))],function(e,t){var n=t.component;e(t,2,0,n.dt.paginator&&!n.dt.lazy?i["\u0275unv"](t,2,0,i["\u0275nov"](t,3).transform(n.dt.filteredValue||n.dt.value,n.dt.first,n.dt.first+n.dt.rows)):n.dt.filteredValue||n.dt.value,n.dt.rowTrackBy)},null)}function Ks(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Xs(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,3,null,null,null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,2,null,Ks)),i["\u0275did"](2,540672,null,0,Fe.NgTemplateOutlet,[i.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),i["\u0275pod"](3,{$implicit:0}),(e()(),i["\u0275and"](0,null,null,0))],function(e,t){var n=t.component,i=e(t,3,0,n.columns);e(t,2,0,i,n.dt.emptyMessageTemplate)},null)}function Qs(e){return i["\u0275vid"](0,[(e()(),i["\u0275and"](16777216,null,null,1,null,Gs)),i["\u0275did"](1,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Zs)),i["\u0275did"](3,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,Xs)),i["\u0275did"](5,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,1,0,!n.dt.expandedRowTemplate),e(t,3,0,n.dt.expandedRowTemplate),e(t,5,0,n.dt.isEmpty())},null)}var Js=i["\u0275crt"]({encapsulation:2,styles:[],data:{}});function eo(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function to(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function no(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function io(e){return i["\u0275vid"](0,[(e()(),i["\u0275and"](16777216,null,null,2,null,no)),i["\u0275did"](1,540672,null,0,Fe.NgTemplateOutlet,[i.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),i["\u0275pod"](2,{$implicit:0,rowIndex:1,columns:2}),(e()(),i["\u0275and"](0,null,null,0))],function(e,t){var n=t.component,i=e(t,2,0,t.context.$implicit,t.context.index,n.columns);e(t,1,0,i,n.dt.frozenRowsTemplate)},null)}function ro(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function so(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function oo(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function ao(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,[[5,0],["scrollFooter",1]],null,11,"div",[["class","ui-table-scrollable-footer ui-widget-header"]],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,[[6,0],["scrollFooterBox",1]],null,10,"div",[["class","ui-table-scrollable-footer-box"]],null,null,null,null,null)),(e()(),i["\u0275eld"](2,0,null,null,9,"table",[["class","ui-table-scrollable-footer-table"]],null,null,null,null,null)),i["\u0275did"](3,278528,null,0,Fe.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275did"](4,278528,null,0,Fe.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,"ngStyle"]},null),(e()(),i["\u0275and"](16777216,null,null,2,null,so)),i["\u0275did"](6,540672,null,0,Fe.NgTemplateOutlet,[i.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),i["\u0275pod"](7,{$implicit:0}),(e()(),i["\u0275eld"](8,0,null,null,3,"tfoot",[["class","ui-table-tfoot"]],null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,2,null,oo)),i["\u0275did"](10,540672,null,0,Fe.NgTemplateOutlet,[i.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),i["\u0275pod"](11,{$implicit:0})],function(e,t){var n=t.component;e(t,3,0,"ui-table-scrollable-footer-table",n.dt.tableStyleClass),e(t,4,0,n.dt.tableStyle);var i=e(t,7,0,n.columns);e(t,6,0,i,n.frozen&&n.dt.frozenColGroupTemplate||n.dt.colGroupTemplate);var r=e(t,11,0,n.columns);e(t,10,0,r,n.frozen&&n.dt.frozenFooterTemplate||n.dt.footerTemplate)},null)}function lo(e){return i["\u0275vid"](0,[i["\u0275qud"](402653184,1,{scrollHeaderViewChild:0}),i["\u0275qud"](402653184,2,{scrollHeaderBoxViewChild:0}),i["\u0275qud"](402653184,3,{scrollBodyViewChild:0}),i["\u0275qud"](402653184,4,{scrollTableViewChild:0}),i["\u0275qud"](671088640,5,{scrollFooterViewChild:0}),i["\u0275qud"](671088640,6,{scrollFooterBoxViewChild:0}),i["\u0275qud"](402653184,7,{virtualScrollerViewChild:0}),(e()(),i["\u0275eld"](7,0,[[1,0],["scrollHeader",1]],null,14,"div",[["class","ui-table-scrollable-header ui-widget-header"]],null,null,null,null,null)),(e()(),i["\u0275eld"](8,0,[[2,0],["scrollHeaderBox",1]],null,13,"div",[["class","ui-table-scrollable-header-box"]],null,null,null,null,null)),(e()(),i["\u0275eld"](9,0,null,null,12,"table",[["class","ui-table-scrollable-header-table"]],null,null,null,null,null)),i["\u0275did"](10,278528,null,0,Fe.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275did"](11,278528,null,0,Fe.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,"ngStyle"]},null),(e()(),i["\u0275and"](16777216,null,null,2,null,eo)),i["\u0275did"](13,540672,null,0,Fe.NgTemplateOutlet,[i.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),i["\u0275pod"](14,{$implicit:0}),(e()(),i["\u0275eld"](15,0,null,null,3,"thead",[["class","ui-table-thead"]],null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,2,null,to)),i["\u0275did"](17,540672,null,0,Fe.NgTemplateOutlet,[i.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),i["\u0275pod"](18,{$implicit:0}),(e()(),i["\u0275eld"](19,0,null,null,2,"tbody",[["class","ui-table-tbody"]],null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,io)),i["\u0275did"](21,278528,null,0,Fe.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(e()(),i["\u0275eld"](22,0,[[3,0],["scrollBody",1]],null,10,"div",[["class","ui-table-scrollable-body"]],null,null,null,null,null)),(e()(),i["\u0275eld"](23,0,[[4,0],["scrollTable",1]],null,8,"table",[],null,null,null,null,null)),i["\u0275did"](24,278528,null,0,Fe.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](25,{"ui-table-scrollable-body-table":0,"ui-table-virtual-table":1}),i["\u0275did"](26,278528,null,0,Fe.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,"ngStyle"]},null),(e()(),i["\u0275and"](16777216,null,null,2,null,ro)),i["\u0275did"](28,540672,null,0,Fe.NgTemplateOutlet,[i.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),i["\u0275pod"](29,{$implicit:0}),(e()(),i["\u0275eld"](30,0,null,null,1,"tbody",[["class","ui-table-tbody"]],null,null,null,Qs,zs)),i["\u0275did"](31,49152,null,0,Lr.TableBody,[Lr.Table],{columns:[0,"columns"],template:[1,"template"]},null),(e()(),i["\u0275eld"](32,0,[[7,0],["virtualScroller",1]],null,0,"div",[["class","ui-table-virtual-scroller"]],null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,ao)),i["\u0275did"](34,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,10,0,"ui-table-scrollable-header-table",n.dt.tableStyleClass),e(t,11,0,n.dt.tableStyle);var i=e(t,14,0,n.columns);e(t,13,0,i,n.frozen&&n.dt.frozenColGroupTemplate||n.dt.colGroupTemplate);var r=e(t,18,0,n.columns);e(t,17,0,r,n.frozen&&n.dt.frozenHeaderTemplate||n.dt.headerTemplate),e(t,21,0,n.dt.frozenValue,n.dt.rowTrackBy);var s=n.dt.tableStyleClass,o=e(t,25,0,!0,n.dt.virtualScroll);e(t,24,0,s,o),e(t,26,0,n.dt.tableStyle);var a=e(t,29,0,n.columns);e(t,28,0,a,n.frozen&&n.dt.frozenColGroupTemplate||n.dt.colGroupTemplate),e(t,31,0,n.columns,n.frozen&&n.dt.frozenBodyTemplate||n.dt.bodyTemplate),e(t,34,0,n.dt.footerTemplate)},null)}var uo=n("HQi4"),co=i["\u0275crt"]({encapsulation:2,styles:[],data:{animation:[{type:7,name:"animation",definitions:[{type:0,name:"void",styles:{type:6,styles:{transform:"translateY(5%)",opacity:0},offset:null},options:void 0},{type:0,name:"visible",styles:{type:6,styles:{transform:"translateY(0)",opacity:1},offset:null},options:void 0},{type:1,expr:"void => visible",animation:{type:4,styles:null,timings:"{{showTransitionParams}}"},options:null},{type:1,expr:"visible => void",animation:{type:4,styles:null,timings:"{{hideTransitionParams}}"},options:null}],options:{}}]}});function ho(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"a",[["class","ui-overlaypanel-close ui-state-default"],["tabindex","0"]],null,[[null,"click"],[null,"keydown.enter"]],function(e,t,n){var i=!0,r=e.component;return"click"===t&&(i=!1!==r.onCloseClick(n)&&i),"keydown.enter"===t&&(i=!1!==r.hide()&&i),i},null,null)),(e()(),i["\u0275eld"](1,0,null,null,0,"span",[["class","ui-overlaypanel-close-icon pi pi-times"]],null,null,null,null,null))],null,null)}function po(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,8,"div",[],[[24,"@animation",0]],[[null,"click"],[null,"@animation.start"]],function(e,t,n){var i=!0,r=e.component;return"click"===t&&(i=!1!==r.onPanelClick(n)&&i),"@animation.start"===t&&(i=!1!==r.onAnimationStart(n)&&i),i},null,null)),i["\u0275did"](1,278528,null,0,Fe.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275did"](2,278528,null,0,Fe.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,"ngStyle"]},null),i["\u0275pod"](3,{showTransitionParams:0,hideTransitionParams:1}),i["\u0275pod"](4,{value:0,params:1}),(e()(),i["\u0275eld"](5,0,null,null,1,"div",[["class","ui-overlaypanel-content"]],null,null,null,null,null)),i["\u0275ncd"](null,0),(e()(),i["\u0275and"](16777216,null,null,1,null,ho)),i["\u0275did"](8,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,1,0,n.styleClass,"ui-overlaypanel ui-widget ui-widget-content ui-corner-all ui-shadow"),e(t,2,0,n.style),e(t,8,0,n.showCloseIcon)},function(e,t){var n=t.component,i=e(t,4,0,"visible",e(t,3,0,n.showTransitionOptions,n.hideTransitionOptions));e(t,0,0,i)})}function fo(e){return i["\u0275vid"](0,[(e()(),i["\u0275and"](16777216,null,null,1,null,po)),i["\u0275did"](1,16384,null,0,Fe.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,1,0,t.component.visible)},null)}var go=n("bOdf");class mo{}class vo{}class yo{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(e=>{const t=e.indexOf(":");if(t>0){const n=e.slice(0,t),i=n.toLowerCase(),r=e.slice(t+1).trim();this.maybeSetNormalizedName(n,i),this.headers.has(i)?this.headers.get(i).push(r):this.headers.set(i,[r])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let n=e[t];const i=t.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(i,n),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof yo?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new yo;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof yo?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...n),this.headers.set(t,i);break;case"d":const r=e.value;if(r){let e=this.headers.get(t);if(!e)return;0===(e=e.filter(e=>-1===r.indexOf(e))).length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class _o{encodeKey(e){return bo(e)}encodeValue(e){return bo(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}function bo(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class wo{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new _o,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){const n=new Map;return e.length>0&&e.split("&").forEach(e=>{const i=e.indexOf("="),[r,s]=-1==i?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,i)),t.decodeValue(e.slice(i+1))],o=n.get(r)||[];o.push(s),n.set(r,o)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const n=e.fromObject[t];this.map.set(t,Array.isArray(n)?n:[n])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(e=>t+"="+this.encoder.encodeValue(e)).join("&")}).join("&")}clone(e){const t=new wo({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat([e]),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(e.value),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[];const n=t.indexOf(e.value);-1!==n&&t.splice(n,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}}),this.cloneFrom=null)}}function xo(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function Co(e){return"undefined"!=typeof Blob&&e instanceof Blob}function So(e){return"undefined"!=typeof FormData&&e instanceof FormData}class Eo{constructor(e,t,n,i){let r;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,r=i):r=n,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.params&&(this.params=r.params)),this.headers||(this.headers=new yo),this.params){const e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{const n=t.indexOf("?");this.urlWithParams=t+(-1===n?"?":n<t.length-1?"&":"")+e}}else this.params=new wo,this.urlWithParams=t}serializeBody(){return null===this.body?null:xo(this.body)||Co(this.body)||So(this.body)||"string"==typeof this.body?this.body:this.body instanceof wo?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body?null:So(this.body)?null:Co(this.body)?this.body.type||null:xo(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof wo?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(e={}){const t=e.method||this.method,n=e.url||this.url,i=e.responseType||this.responseType,r=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,o=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let a=e.headers||this.headers,l=e.params||this.params;return void 0!==e.setHeaders&&(a=Object.keys(e.setHeaders).reduce((t,n)=>t.set(n,e.setHeaders[n]),a)),e.setParams&&(l=Object.keys(e.setParams).reduce((t,n)=>t.set(n,e.setParams[n]),l)),new Eo(t,n,r,{params:l,headers:a,reportProgress:o,responseType:i,withCredentials:s})}}const To=function(){var e={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return e[e.Sent]="Sent",e[e.UploadProgress]="UploadProgress",e[e.ResponseHeader]="ResponseHeader",e[e.DownloadProgress]="DownloadProgress",e[e.Response]="Response",e[e.User]="User",e}();class Mo{constructor(e,t=200,n="OK"){this.headers=e.headers||new yo,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Io extends Mo{constructor(e={}){super(e),this.type=To.ResponseHeader}clone(e={}){return new Io({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Oo extends Mo{constructor(e={}){super(e),this.type=To.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Oo({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Ao extends Mo{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Do(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}class ko{constructor(e){this.handler=e}request(e,t,n={}){let i;if(e instanceof Eo)i=e;else{let r=void 0;r=n.headers instanceof yo?n.headers:new yo(n.headers);let s=void 0;n.params&&(s=n.params instanceof wo?n.params:new wo({fromObject:n.params})),i=new Eo(e,t,void 0!==n.body?n.body:null,{headers:r,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const r=Object(tn.a)(i).pipe(Object(go.a)(e=>this.handler.handle(e)));if(e instanceof Eo||"events"===n.observe)return r;const s=r.pipe(Object(nn.a)(e=>e instanceof Oo));switch(n.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return s.pipe(Object(v.a)(e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return s.pipe(Object(v.a)(e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return s.pipe(Object(v.a)(e=>{if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return s.pipe(Object(v.a)(e=>e.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new wo).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,n={}){return this.request("PATCH",e,Do(n,t))}post(e,t,n={}){return this.request("POST",e,Do(n,t))}put(e,t,n={}){return this.request("PUT",e,Do(n,t))}}class Po{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const Ro=new i.InjectionToken("HTTP_INTERCEPTORS");class Lo{intercept(e,t){return t.handle(e)}}const No=/^\)\]\}',?\n/;class Fo{}class Vo{constructor(){}build(){return new XMLHttpRequest}}class jo{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new l.a(t=>{const n=this.xhrFactory.build();if(n.open(e.method,e.urlWithParams),e.withCredentials&&(n.withCredentials=!0),e.headers.forEach((e,t)=>n.setRequestHeader(e,t.join(","))),e.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const t=e.detectContentTypeHeader();null!==t&&n.setRequestHeader("Content-Type",t)}if(e.responseType){const t=e.responseType.toLowerCase();n.responseType="json"!==t?t:"text"}const i=e.serializeBody();let r=null;const s=()=>{if(null!==r)return r;const t=1223===n.status?204:n.status,i=n.statusText||"OK",s=new yo(n.getAllResponseHeaders()),o=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(n)||e.url;return r=new Io({headers:s,status:t,statusText:i,url:o})},o=()=>{let{headers:i,status:r,statusText:o,url:a}=s(),l=null;204!==r&&(l=void 0===n.response?n.responseText:n.response),0===r&&(r=l?200:0);let u=r>=200&&r<300;if("json"===e.responseType&&"string"==typeof l){const e=l;l=l.replace(No,"");try{l=""!==l?JSON.parse(l):null}catch(c){l=e,u&&(u=!1,l={error:c,text:l})}}u?(t.next(new Oo({body:l,headers:i,status:r,statusText:o,url:a||void 0})),t.complete()):t.error(new Ao({error:l,headers:i,status:r,statusText:o,url:a||void 0}))},a=e=>{const{url:i}=s(),r=new Ao({error:e,status:n.status||0,statusText:n.statusText||"Unknown Error",url:i||void 0});t.error(r)};let l=!1;const u=i=>{l||(t.next(s()),l=!0);let r={type:To.DownloadProgress,loaded:i.loaded};i.lengthComputable&&(r.total=i.total),"text"===e.responseType&&n.responseText&&(r.partialText=n.responseText),t.next(r)},c=e=>{let n={type:To.UploadProgress,loaded:e.loaded};e.lengthComputable&&(n.total=e.total),t.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),e.reportProgress&&(n.addEventListener("progress",u),null!==i&&n.upload&&n.upload.addEventListener("progress",c)),n.send(i),t.next({type:To.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",o),e.reportProgress&&(n.removeEventListener("progress",u),null!==i&&n.upload&&n.upload.removeEventListener("progress",c)),n.abort()}})}}const Bo=new i.InjectionToken("XSRF_COOKIE_NAME"),zo=new i.InjectionToken("XSRF_HEADER_NAME");class Ho{}class Uo{constructor(e,t,n){this.doc=e,this.platform=t,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Object(Fe["\u0275parseCookieValue"])(e,this.cookieName),this.lastCookieString=e),this.lastToken}}class Go{constructor(e,t){this.tokenService=e,this.headerName=t}intercept(e,t){const n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);const i=this.tokenService.getToken();return null===i||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,i)})),t.handle(e)}}class Wo{constructor(e,t){this.backend=e,this.injector=t,this.chain=null}handle(e){if(null===this.chain){const e=this.injector.get(Ro,[]);this.chain=e.reduceRight((e,t)=>new Po(e,t),this.backend)}return this.chain.handle(e)}}class $o{static disable(){return{ngModule:$o,providers:[{provide:Go,useClass:Lo}]}}static withOptions(e={}){return{ngModule:$o,providers:[e.cookieName?{provide:Bo,useValue:e.cookieName}:[],e.headerName?{provide:zo,useValue:e.headerName}:[]]}}}class qo{}var Yo=i["\u0275crt"]({encapsulation:0,styles:[["p-menubar[_ngcontent-%COMP%]{z-index:100}"]],data:{}});function Zo(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Name"])),(e()(),i["\u0275eld"](3,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["Value"]))],null,null)}function Ko(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,1,"td",[],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.refresh(n,e.context.$implicit.name)&&i),i},null,null)),(e()(),i["\u0275ted"](2,null,["",""])),(e()(),i["\u0275eld"](3,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),i["\u0275ted"](4,null,["",""]))],null,function(e,t){e(t,2,0,t.context.$implicit.name),e(t,4,0,t.context.$implicit.value)})}function Xo(e){return i["\u0275vid"](0,[i["\u0275pid"](0,rr,[_i.c]),i["\u0275qud"](402653184,1,{op:0}),i["\u0275qud"](402653184,2,{fileInput:0}),i["\u0275qud"](402653184,3,{paperCanvas:0}),(e()(),i["\u0275eld"](4,0,null,null,4,"p-menubar",[],null,null,null,_r,yr)),i["\u0275did"](5,49152,null,0,sr.Menubar,[i.ElementRef,i.Renderer2],{model:[0,"model"],autoDisplay:[1,"autoDisplay"]},null),(e()(),i["\u0275eld"](6,0,null,1,2,"div",[],null,null,null,null,null)),(e()(),i["\u0275eld"](7,0,null,null,1,"button",[["icon","fa fa-sign-out"],["label","Parameters"],["pButton",""],["style","margin-left:.25em"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=0!=(e.component.displayDlg=!0)&&i),i},null,null)),i["\u0275did"](8,4341760,null,0,Tt.ButtonDirective,[i.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),(e()(),i["\u0275eld"](9,16777216,null,null,1,"router-outlet",[],null,[[null,"activate"]],function(e,t,n){var i=!0;return"activate"===t&&(i=!1!==e.component.onActivate(n)&&i),i},null,null)),i["\u0275did"](10,212992,null,0,ze.RouterOutlet,[ze.ChildrenOutletContexts,i.ViewContainerRef,i.ComponentFactoryResolver,[8,null],i.ChangeDetectorRef],null,{activateEvents:"activate"}),(e()(),i["\u0275eld"](11,0,[[2,0],["fileInput",1]],null,2,"input",[["id","txtfiletoread"],["type","file"]],null,null,null,null,null)),i["\u0275did"](12,278528,null,0,Fe.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,"ngStyle"]},null),i["\u0275pod"](13,{display:0}),(e()(),i["\u0275eld"](14,0,[[3,0],["gcodeView",1]],null,2,"canvas",[],[[8,"width",0],[8,"height",0]],null,null,null,null)),i["\u0275did"](15,278528,null,0,Fe.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,"ngStyle"]},null),i["\u0275pod"](16,{display:0}),(e()(),i["\u0275eld"](17,0,null,null,20,"p-dialog",[["modal","true"]],null,[[null,"visibleChange"]],function(e,t,n){var i=!0;return"visibleChange"===t&&(i=!1!==(e.component.displayDlg=n)&&i),i},Ar,wr)),i["\u0275did"](18,180224,null,2,br.Dialog,[i.ElementRef,i.Renderer2,i.NgZone],{visible:[0,"visible"],modal:[1,"modal"]},{visibleChange:"visibleChange"}),i["\u0275qud"](603979776,4,{headerFacet:1}),i["\u0275qud"](603979776,5,{footerFacet:1}),(e()(),i["\u0275eld"](21,0,null,0,2,"p-header",[],null,null,null,kr,Dr)),i["\u0275did"](22,49152,[[4,4]],0,It.Header,[],null,null),(e()(),i["\u0275ted"](-1,0,[" Parameters "])),(e()(),i["\u0275eld"](24,0,null,1,7,"p-table",[],null,null,null,Bs,xs)),i["\u0275prd"](512,null,Lr.TableService,Lr.TableService,[]),i["\u0275did"](26,5488640,null,1,Lr.Table,[i.ElementRef,i.NgZone,Lr.TableService],{value:[0,"value"]},null),i["\u0275qud"](603979776,6,{templates:1}),(e()(),i["\u0275and"](0,null,null,1,null,Zo)),i["\u0275did"](29,16384,[[6,4]],0,It.PrimeTemplate,[i.TemplateRef],{name:[0,"name"]},null),(e()(),i["\u0275and"](0,null,null,1,null,Ko)),i["\u0275did"](31,16384,[[6,4]],0,It.PrimeTemplate,[i.TemplateRef],{name:[0,"name"]},null),(e()(),i["\u0275eld"](32,0,null,2,5,"p-footer",[],null,null,null,Rr,Pr)),i["\u0275did"](33,49152,[[5,4]],0,It.Footer,[],null,null),(e()(),i["\u0275eld"](34,0,null,0,1,"button",[["icon","pi pi-check"],["label","Validate"],["pButton",""],["type","button"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.validate()&&i),i},null,null)),i["\u0275did"](35,4341760,null,0,Tt.ButtonDirective,[i.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),(e()(),i["\u0275eld"](36,0,null,0,1,"button",[["class","ui-button-secondary"],["icon","pi pi-close"],["label","Close"],["pButton",""],["type","button"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=0!=(e.component.displayDlg=!1)&&i),i},null,null)),i["\u0275did"](37,4341760,null,0,Tt.ButtonDirective,[i.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),(e()(),i["\u0275eld"](38,0,null,null,3,"p-overlayPanel",[],null,null,null,fo,co)),i["\u0275did"](39,180224,[[1,4],["op",4]],0,uo.OverlayPanel,[i.ElementRef,i.Renderer2,i.ChangeDetectorRef,i.NgZone],null,null),(e()(),i["\u0275eld"](40,0,null,0,1,":svg:svg",[["height","400"],["width","400"]],[[8,"innerHTML",1]],null,null,null,null)),i["\u0275ppd"](41,1),(e()(),i["\u0275eld"](42,0,null,null,5,"p-dialog",[["modal","true"]],null,[[null,"visibleChange"]],function(e,t,n){var i=!0;return"visibleChange"===t&&(i=!1!==(e.component.displayHelp=n)&&i),i},Ar,wr)),i["\u0275did"](43,180224,null,2,br.Dialog,[i.ElementRef,i.Renderer2,i.NgZone],{visible:[0,"visible"],modal:[1,"modal"]},{visibleChange:"visibleChange"}),i["\u0275qud"](603979776,7,{headerFacet:1}),i["\u0275qud"](603979776,8,{footerFacet:1}),(e()(),i["\u0275eld"](46,0,null,1,1,"div",[],[[8,"innerHTML",1]],null,null,null,null)),i["\u0275ppd"](47,1),(e()(),i["\u0275eld"](48,0,null,null,2,"p-toast",[["position","top-right"]],null,null,null,Nt,Rt)),i["\u0275did"](49,1294336,null,1,Mt.Toast,[je.MessageService],{position:[0,"position"]},null),i["\u0275qud"](603979776,9,{templates:1})],function(e,t){var n=t.component;e(t,5,0,n.items,!1),e(t,8,0,"Parameters","fa fa-sign-out"),e(t,10,0);var i=e(t,13,0,"none");e(t,12,0,i);var r=e(t,16,0,"none");e(t,15,0,r),e(t,18,0,n.displayDlg,"true"),e(t,26,0,n.parameterTable),e(t,29,0,"header"),e(t,31,0,"body"),e(t,35,0,"Validate","pi pi-check"),e(t,37,0,"Close","pi pi-close"),e(t,43,0,n.displayHelp,"true"),e(t,49,0,"top-right")},function(e,t){var n=t.component;e(t,14,0,0,0);var r=i["\u0275unv"](t,40,0,e(t,41,0,i["\u0275nov"](t,0),n.svg));e(t,40,0,r);var s=i["\u0275unv"](t,46,0,e(t,47,0,i["\u0275nov"](t,0),n.svg));e(t,46,0,s)})}function Qo(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,2,"app-root",[],null,null,null,Xo,Yo)),i["\u0275prd"](512,null,je.MessageService,je.MessageService,[]),i["\u0275did"](2,114688,null,0,Be,[_i.c,je.MessageService,ko,ae,pe,be,xe],null,null)],function(e,t){e(t,2,0)},null)}var Jo=i["\u0275ccf"]("app-root",Be,Qo,{},{},[]);function ea(){return"undefined"!=typeof process}function ta(e){switch(e.length){case 0:return new Ut.NoopAnimationPlayer;case 1:return e[0];default:return new Ut["\u0275AnimationGroupPlayer"](e)}}function na(e,t,n,i,r={},s={}){const o=[],a=[];let l=-1,u=null;if(i.forEach(e=>{const n=e.offset,i=n==l,c=i&&u||{};Object.keys(e).forEach(n=>{let i=n,a=e[n];if("offset"!==n)switch(i=t.normalizePropertyName(i,o),a){case Ut["\u0275PRE_STYLE"]:a=r[n];break;case Ut.AUTO_STYLE:a=s[n];break;default:a=t.normalizeStyleValue(n,i,a,o)}c[i]=a}),i||a.push(c),u=c,l=n}),o.length){const e="\n - ";throw new Error(`Unable to animate due to the following errors:${e}${o.join(e)}`)}return a}function ia(e,t,n,i){switch(t){case"start":e.onStart(()=>i(n&&ra(n,"start",e)));break;case"done":e.onDone(()=>i(n&&ra(n,"done",e)));break;case"destroy":e.onDestroy(()=>i(n&&ra(n,"destroy",e)))}}function ra(e,t,n){const i=n.totalTime,r=sa(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==i?e.totalTime:i,!!n.disabled),s=e._data;return null!=s&&(r._data=s),r}function sa(e,t,n,i,r="",s=0,o){return{element:e,triggerName:t,fromState:n,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function oa(e,t,n){let i;return e instanceof Map?(i=e.get(t))||e.set(t,i=n):(i=e[t])||(i=e[t]=n),i}function aa(e){const t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}let la=(e,t)=>!1,ua=(e,t)=>!1,ca=(e,t,n)=>[];const ha=ea();if(ha||"undefined"!=typeof Element){if(la=((e,t)=>e.contains(t)),ha||Element.prototype.matches)ua=((e,t)=>e.matches(t));else{const e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;t&&(ua=((e,n)=>t.apply(e,[n])))}ca=((e,t,n)=>{let i=[];if(n)i.push(...e.querySelectorAll(t));else{const n=e.querySelector(t);n&&i.push(n)}return i})}let da=null,pa=!1;function fa(e){da||(da=("undefined"!=typeof document?document.body:null)||{},pa=!!da.style&&"WebkitAppearance"in da.style);let t=!0;return da.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&!(t=e in da.style)&&pa&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in da.style),t}const ga=ua,ma=la,va=ca;function ya(e){const t={};return Object.keys(e).forEach(n=>{const i=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=e[n]}),t}class _a{validateStyleProperty(e){return fa(e)}matchesElement(e,t){return ga(e,t)}containsElement(e,t){return ma(e,t)}query(e,t,n){return va(e,t,n)}computeStyle(e,t,n){return n||""}animate(e,t,n,i,r,s=[],o){return new Ut.NoopAnimationPlayer(n,i)}}class ba{}ba.NOOP=new _a;const wa=1e3,xa="{{",Ca="ng-enter",Sa="ng-leave",Ea="ng-trigger",Ta=".ng-trigger",Ma="ng-animating",Ia=".ng-animating";function Oa(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Aa(parseFloat(t[1]),t[2])}function Aa(e,t){switch(t){case"s":return e*wa;default:return e}}function Da(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){let i,r=0,s="";if("string"==typeof e){const n=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return t.push(`The provided timing value "${e}" is invalid.`),{duration:0,delay:0,easing:""};i=Aa(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(r=Aa(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else i=e;if(!n){let n=!1,s=t.length;i<0&&(t.push("Duration values below 0 are not allowed for this animation step."),n=!0),r<0&&(t.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&t.splice(s,0,`The provided timing value "${e}" is invalid.`)}return{duration:i,delay:r,easing:s}}(e,t,n)}function ka(e,t={}){return Object.keys(e).forEach(n=>{t[n]=e[n]}),t}function Pa(e,t,n={}){if(t)for(let i in e)n[i]=e[i];else ka(e,n);return n}function Ra(e,t,n){return n?t+":"+n+";":""}function La(e){let t="";for(let n=0;n<e.style.length;n++){const i=e.style.item(n);t+=Ra(0,i,e.style.getPropertyValue(i))}for(const n in e.style)e.style.hasOwnProperty(n)&&!n.startsWith("_")&&(t+=Ra(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[n]));e.setAttribute("style",t)}function Na(e,t){e.style&&(Object.keys(t).forEach(n=>{const i=Ga(n);e.style[i]=t[n]}),ea()&&La(e))}function Fa(e,t){e.style&&(Object.keys(t).forEach(t=>{const n=Ga(t);e.style[n]=""}),ea()&&La(e))}function Va(e){return Array.isArray(e)?1==e.length?e[0]:Object(Ut.sequence)(e):e}const ja=new RegExp(`${xa}\\s*(.+?)\\s*}}`,"g");function Ba(e){let t=[];if("string"==typeof e){const n=e.toString();let i;for(;i=ja.exec(n);)t.push(i[1]);ja.lastIndex=0}return t}function za(e,t,n){const i=e.toString(),r=i.replace(ja,(e,i)=>{let r=t[i];return t.hasOwnProperty(i)||(n.push(`Please provide a value for the animation param ${i}`),r=""),r.toString()});return r==i?e:r}function Ha(e){const t=[];let n=e.next();for(;!n.done;)t.push(n.value),n=e.next();return t}const Ua=/-+([a-z0-9])/g;function Ga(e){return e.replace(Ua,(...e)=>e[1].toUpperCase())}function Wa(e,t){return 0===e||0===t}function $a(e,t,n){const i=Object.keys(n);if(i.length&&t.length){let s=t[0],o=[];if(i.forEach(e=>{s.hasOwnProperty(e)||o.push(e),s[e]=n[e]}),o.length)for(var r=1;r<t.length;r++){let n=t[r];o.forEach(function(t){n[t]=Ya(e,t)})}}return t}function qa(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function Ya(e,t){return window.getComputedStyle(e)[t]}const Za="*";function Ka(e,t){const n=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(e=>(function(e,t,n){if(":"==e[0]){const i=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,t)=>parseFloat(t)>parseFloat(e);case":decrement":return(e,t)=>parseFloat(t)<parseFloat(e);default:return t.push(`The transition alias value "${e}" is not supported`),"* => *"}}(e,n);if("function"==typeof i)return void t.push(i);e=i}const i=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push(`The provided transition expression "${e}" is not supported`),t;const r=i[1],s=i[2],o=i[3];t.push(Ja(r,o)),"<"!=s[0]||r==Za&&o==Za||t.push(Ja(o,r))})(e,n,t)):n.push(e),n}const Xa=new Set(["true","1"]),Qa=new Set(["false","0"]);function Ja(e,t){const n=Xa.has(e)||Qa.has(e),i=Xa.has(t)||Qa.has(t);return(r,s)=>{let o=e==Za||e==r,a=t==Za||t==s;return!o&&n&&"boolean"==typeof r&&(o=r?Xa.has(e):Qa.has(e)),!a&&i&&"boolean"==typeof s&&(a=s?Xa.has(t):Qa.has(t)),o&&a}}const el=":self",tl=new RegExp(`s*${el}s*,?`,"g");function nl(e,t,n){return new rl(e).build(t,n)}const il="";class rl{constructor(e){this._driver=e}build(e,t){const n=new sl(t);return this._resetContextStyleTimingState(n),qa(this,Va(e),n)}_resetContextStyleTimingState(e){e.currentQuerySelector=il,e.collectedStyles={},e.collectedStyles[il]={},e.currentTime=0}visitTrigger(e,t){let n=t.queryCount=0,i=t.depCount=0;const r=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(e=>{if(this._resetContextStyleTimingState(t),0==e.type){const n=e,i=n.name;i.toString().split(/\s*,\s*/).forEach(e=>{n.name=e,r.push(this.visitState(n,t))}),n.name=i}else if(1==e.type){const r=this.visitTransition(e,t);n+=r.queryCount,i+=r.depCount,s.push(r)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:r,transitions:s,queryCount:n,depCount:i,options:null}}visitState(e,t){const n=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(n.containsDynamicStyles){const r=new Set,s=i||{};if(n.styles.forEach(e=>{if(ol(e)){const t=e;Object.keys(t).forEach(e=>{Ba(t[e]).forEach(e=>{s.hasOwnProperty(e)||r.add(e)})})}}),r.size){const n=Ha(r.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:e.name,style:n,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const n=qa(this,Va(e.animation),t);return{type:1,matchers:Ka(e.expr,t.errors),animation:n,queryCount:t.queryCount,depCount:t.depCount,options:al(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(e=>qa(this,e,t)),options:al(e.options)}}visitGroup(e,t){const n=t.currentTime;let i=0;const r=e.steps.map(e=>{t.currentTime=n;const r=qa(this,e,t);return i=Math.max(i,t.currentTime),r});return t.currentTime=i,{type:3,steps:r,options:al(e.options)}}visitAnimate(e,t){const n=function(e,t){let n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return ll(Da(e,t).duration,0,"");const i=e;if(i.split(/\s+/).some(e=>"{"==e.charAt(0)&&"{"==e.charAt(1))){const e=ll(0,0,"");return e.dynamic=!0,e.strValue=i,e}return ll((n=n||Da(i,t)).duration,n.delay,n.easing)}(e.timings,t.errors);let i;t.currentAnimateTimings=n;let r=e.styles?e.styles:Object(Ut.style)({});if(5==r.type)i=this.visitKeyframes(r,t);else{let r=e.styles,s=!1;if(!r){s=!0;const e={};n.easing&&(e.easing=n.easing),r=Object(Ut.style)(e)}t.currentTime+=n.duration+n.delay;const o=this.visitStyle(r,t);o.isEmptyStep=s,i=o}return t.currentAnimateTimings=null,{type:4,timings:n,style:i,options:null}}visitStyle(e,t){const n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}_makeStyleAst(e,t){const n=[];Array.isArray(e.styles)?e.styles.forEach(e=>{"string"==typeof e?e==Ut.AUTO_STYLE?n.push(e):t.errors.push(`The provided style string value ${e} is not allowed.`):n.push(e)}):n.push(e.styles);let i=!1,r=null;return n.forEach(e=>{if(ol(e)){const t=e,n=t.easing;if(n&&(r=n,delete t.easing),!i)for(let e in t)if(t[e].toString().indexOf(xa)>=0){i=!0;break}}}),{type:6,styles:n,easing:r,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const n=t.currentAnimateTimings;let i=t.currentTime,r=t.currentTime;n&&r>0&&(r-=n.duration+n.delay),e.styles.forEach(e=>{"string"!=typeof e&&Object.keys(e).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void t.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=t.collectedStyles[t.currentQuerySelector],o=s[n];let a=!0;o&&(r!=i&&r>=o.startTime&&i<=o.endTime&&(t.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${r}ms" and "${i}ms"`),a=!1),r=o.startTime),a&&(s[n]={startTime:r,endTime:i}),t.options&&function(i,r,s){const o=t.options.params||{},a=Ba(e[n]);a.length&&a.forEach(e=>{o.hasOwnProperty(e)||s.push(`Unable to resolve the local animation param ${e} in the given list of values`)})}(0,0,t.errors)})})}visitKeyframes(e,t){const n={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),n;let i=0;const r=[];let s=!1,o=!1,a=0;const l=e.steps.map(e=>{const n=this._makeStyleAst(e,t);let l=null!=n.offset?n.offset:function(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(e=>{if(ol(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}});else if(ol(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}return t}(n.styles),u=0;return null!=l&&(i++,u=n.offset=l),o=o||u<0||u>1,s=s||u<a,a=u,r.push(u),n});o&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&t.errors.push("Please ensure that all keyframe offsets are in order");const u=e.steps.length;let c=0;i>0&&i<u?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(c=1/(u-1));const h=u-1,d=t.currentTime,p=t.currentAnimateTimings,f=p.duration;return l.forEach((e,i)=>{const s=c>0?i==h?1:c*i:r[i],o=s*f;t.currentTime=d+p.delay+o,p.duration=o,this._validateStyleAst(e,t),e.offset=s,n.styles.push(e)}),n}visitReference(e,t){return{type:8,animation:qa(this,Va(e.animation),t),options:al(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:al(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:al(e.options)}}visitQuery(e,t){const n=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[r,s]=function(e){const t=!!e.split(/\s*,\s*/).find(e=>e==el);return t&&(e=e.replace(tl,"")),[e=e.replace(/@\*/g,Ta).replace(/@\w+/g,e=>Ta+"-"+e.substr(1)).replace(/:animating/g,Ia),t]}(e.selector);t.currentQuerySelector=n.length?n+" "+r:r,oa(t.collectedStyles,t.currentQuerySelector,{});const o=qa(this,Va(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:r,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:o,originalSelector:e.selector,options:al(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const n="full"===e.timings?{duration:0,delay:0,easing:"full"}:Da(e.timings,t.errors,!0);return{type:12,animation:qa(this,Va(e.animation),t),timings:n,options:null}}}class sl{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function ol(e){return!Array.isArray(e)&&"object"==typeof e}function al(e){var t;return e?(e=ka(e)).params&&(e.params=(t=e.params)?ka(t):null):e={},e}function ll(e,t,n){return{duration:e,delay:t,easing:n}}function ul(e,t,n,i,r,s,o=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class cl{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const hl=1,dl=new RegExp(":enter","g"),pl=new RegExp(":leave","g");function fl(e,t,n,i,r,s={},o={},a,l,u=[]){return(new gl).buildKeyframes(e,t,n,i,r,s,o,a,l,u)}class gl{buildKeyframes(e,t,n,i,r,s,o,a,l,u=[]){l=l||new cl;const c=new vl(e,t,l,i,r,u,[]);c.options=a,c.currentTimeline.setStyles([s],null,c.errors,a),qa(this,n,c);const h=c.timelines.filter(e=>e.containsAnimation());if(h.length&&Object.keys(o).length){const e=h[h.length-1];e.allowOnlyTimelineStyles()||e.setStyles([o],null,c.errors,a)}return h.length?h.map(e=>e.buildKeyframes()):[ul(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const n=t.subInstructions.consume(t.element);if(n){const i=t.createSubContext(e.options),r=t.currentTimeline.currentTime,s=this._visitSubInstructions(n,i,i.options);r!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,n){let i=t.currentTimeline.currentTime;const r=null!=n.duration?Oa(n.duration):null,s=null!=n.delay?Oa(n.delay):null;return 0!==r&&e.forEach(e=>{const n=t.appendInstructionToTimeline(e,r,s);i=Math.max(i,n.duration+n.delay)}),i}visitReference(e,t){t.updateOptions(e.options,!0),qa(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const n=t.subContextCount;let i=t;const r=e.options;if(r&&(r.params||r.delay)&&((i=t.createSubContext(r)).transformIntoNewTimeline(),null!=r.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=ml);const e=Oa(r.delay);i.delayNextStep(e)}e.steps.length&&(e.steps.forEach(e=>qa(this,e,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const n=[];let i=t.currentTimeline.currentTime;const r=e.options&&e.options.delay?Oa(e.options.delay):0;e.steps.forEach(s=>{const o=t.createSubContext(e.options);r&&o.delayNextStep(r),qa(this,s,o),i=Math.max(i,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(e=>t.currentTimeline.mergeTimelineCollectedStyles(e)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const n=e.strValue;return Da(t.params?za(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const n=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),i.snapshotCurrentStyles());const r=e.style;5==r.type?this.visitKeyframes(r,t):(t.incrementTime(n.duration),this.visitStyle(r,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const n=t.currentTimeline,i=t.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();const r=i&&i.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(r):n.setStyles(e.styles,r,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const n=t.currentAnimateTimings,i=t.currentTimeline.duration,r=n.duration,s=t.createSubContext().currentTimeline;s.easing=n.easing,e.styles.forEach(e=>{s.forwardTime((e.offset||0)*r),s.setStyles(e.styles,e.easing,t.errors,t.options),s.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(s),t.transformIntoNewTimeline(i+r),t.previousNode=e}visitQuery(e,t){const n=t.currentTimeline.currentTime,i=e.options||{},r=i.delay?Oa(i.delay):0;r&&(6===t.previousNode.type||0==n&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=ml);let s=n;const o=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=o.length;let a=null;o.forEach((n,i)=>{t.currentQueryIndex=i;const o=t.createSubContext(e.options,n);r&&o.delayNextStep(r),n===t.element&&(a=o.currentTimeline),qa(this,e.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),a&&(t.currentTimeline.mergeTimelineCollectedStyles(a),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const n=t.parentContext,i=t.currentTimeline,r=e.timings,s=Math.abs(r.duration),o=s*(t.currentQueryTotal-1);let a=s*t.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const l=t.currentTimeline;a&&l.delayNextStep(a);const u=l.currentTime;qa(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=i.currentTime-u+(i.startTime-n.currentTimeline.startTime)}}const ml={};class vl{constructor(e,t,n,i,r,s,o,a){this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=r,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ml,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new yl(this._driver,t,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const n=e;let i=this.options;null!=n.duration&&(i.duration=Oa(n.duration)),null!=n.delay&&(i.delay=Oa(n.delay));const r=n.params;if(r){let e=i.params;e||(e=this.options.params={}),Object.keys(r).forEach(n=>{t&&e.hasOwnProperty(n)||(e[n]=za(r[n],e,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const n=e.params={};Object.keys(t).forEach(e=>{n[e]=t[e]})}}return e}createSubContext(e=null,t,n){const i=t||this.element,r=new vl(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(e),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(e){return this.previousNode=ml,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,n){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},r=new _l(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(r),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,n,i,r,s){let o=[];if(i&&o.push(this.element),e.length>0){e=(e=e.replace(dl,"."+this._enterClassName)).replace(pl,"."+this._leaveClassName);let t=this._driver.query(this.element,e,1!=n);0!==n&&(t=n<0?t.slice(t.length+n,t.length):t.slice(0,n)),o.push(...t)}return r||0!=o.length||s.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),o}}class yl{constructor(e,t,n,i){this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new yl(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=hl,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Ut.AUTO_STYLE,this._currentKeyframe[e]=Ut.AUTO_STYLE}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,n,i){t&&(this._previousKeyframe.easing=t);const r=i&&i.params||{},s=function(e,t){const n={};let i;return e.forEach(e=>{"*"===e?(i=i||Object.keys(t)).forEach(e=>{n[e]=Ut.AUTO_STYLE}):Pa(e,!1,n)}),n}(e,this._globalTimelineStyles);Object.keys(s).forEach(e=>{const t=za(s[e],r,n);this._pendingStyles[e]=t,this._localTimelineStyles.hasOwnProperty(e)||(this._backFill[e]=this._globalTimelineStyles.hasOwnProperty(e)?this._globalTimelineStyles[e]:Ut.AUTO_STYLE),this._updateStyle(e,t)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(t=>{this._currentKeyframe[t]=e[t]}),Object.keys(this._localTimelineStyles).forEach(e=>{this._currentKeyframe.hasOwnProperty(e)||(this._currentKeyframe[e]=this._localTimelineStyles[e])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const n=this._styleSummary[t],i=e._styleSummary[t];(!n||i.time>n.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,n=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((r,s)=>{const o=Pa(r,!0);Object.keys(o).forEach(n=>{const i=o[n];i==Ut["\u0275PRE_STYLE"]?e.add(n):i==Ut.AUTO_STYLE&&t.add(n)}),n||(o.offset=s/this.duration),i.push(o)});const r=e.size?Ha(e.values()):[],s=t.size?Ha(t.values()):[];if(n){const e=i[0],t=ka(e);e.offset=0,t.offset=1,i=[e,t]}return ul(this.element,i,r,s,this.duration,this.startTime,this.easing,!1)}}class _l extends yl{constructor(e,t,n,i,r,s,o=!1){super(e,t,s.delay),this.element=t,this.keyframes=n,this.preStyleProps=i,this.postStyleProps=r,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const r=[],s=n+t,o=t/s,a=Pa(e[0],!1);a.offset=0,r.push(a);const l=Pa(e[0],!1);l.offset=bl(o),r.push(l);const u=e.length-1;for(let i=1;i<=u;i++){let o=Pa(e[i],!1);o.offset=bl((t+o.offset*n)/s),r.push(o)}n=s,t=0,i="",e=r}return ul(this.element,e,this.preStyleProps,this.postStyleProps,n,t,i,!0)}}function bl(e,t=3){const n=Math.pow(10,t-1);return Math.round(e*n)/n}class wl{}class xl extends wl{normalizePropertyName(e,t){return Ga(e)}normalizeStyleValue(e,t,n,i){let r="";const s=n.toString().trim();if(Cl[t]&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{const t=n.match(/^[+-]?[\d\.]+([a-z]*)$/);t&&0==t[1].length&&i.push(`Please provide a CSS unit value for ${e}:${n}`)}return s+r}}const Cl=Sl("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function Sl(e){const t={};return e.forEach(e=>t[e]=!0),t}function El(e,t,n,i,r,s,o,a,l,u,c,h,d){return{type:0,element:e,triggerName:t,isRemovalTransition:r,fromState:n,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:c,totalTime:h,errors:d}}const Tl={};class Ml{constructor(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n}match(e,t,n,i){return function(e,t,n,i,r){return e.some(e=>e(t,n,i,r))}(this.ast.matchers,e,t,n,i)}buildStyles(e,t,n){const i=this._stateStyles["*"],r=this._stateStyles[e],s=i?i.buildStyles(t,n):{};return r?r.buildStyles(t,n):s}build(e,t,n,i,r,s,o,a,l,u){const c=[],h=this.ast.options&&this.ast.options.params||Tl,d=this.buildStyles(n,o&&o.params||Tl,c),p=a&&a.params||Tl,f=this.buildStyles(i,p,c),g=new Set,m=new Map,v=new Map,y="void"===i,_={params:Object.assign({},h,p)},b=u?[]:fl(e,t,this.ast.animation,r,s,d,f,_,l,c);let w=0;if(b.forEach(e=>{w=Math.max(e.duration+e.delay,w)}),c.length)return El(t,this._triggerName,n,i,y,d,f,[],[],m,v,w,c);b.forEach(e=>{const n=e.element,i=oa(m,n,{});e.preStyleProps.forEach(e=>i[e]=!0);const r=oa(v,n,{});e.postStyleProps.forEach(e=>r[e]=!0),n!==t&&g.add(n)});const x=Ha(g.values());return El(t,this._triggerName,n,i,y,d,f,b,x,m,v,w)}}class Il{constructor(e,t){this.styles=e,this.defaultParams=t}buildStyles(e,t){const n={},i=ka(this.defaultParams);return Object.keys(e).forEach(t=>{const n=e[t];null!=n&&(i[t]=n)}),this.styles.styles.forEach(e=>{if("string"!=typeof e){const r=e;Object.keys(r).forEach(e=>{let s=r[e];s.length>1&&(s=za(s,i,t)),n[e]=s})}}),n}}class Ol{constructor(e,t){this.name=e,this.ast=t,this.transitionFactories=[],this.states={},t.states.forEach(e=>{this.states[e.name]=new Il(e.style,e.options&&e.options.params||{})}),Al(this.states,"true","1"),Al(this.states,"false","0"),t.transitions.forEach(t=>{this.transitionFactories.push(new Ml(e,t,this.states))}),this.fallbackTransition=new Ml(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(e,t)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,n,i){return this.transitionFactories.find(r=>r.match(e,t,n,i))||null}matchStyles(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}}function Al(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}const Dl=new cl;class kl{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(e,t){const n=[],i=nl(this._driver,t,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[e]=i}_buildPlayer(e,t,n){const i=e.element,r=na(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(i,r,e.duration,e.delay,e.easing,[],!0)}create(e,t,n={}){const i=[],r=this._animations[e];let s;const o=new Map;if(r?(s=fl(this._driver,t,r,Ca,Sa,{},{},n,Dl,i)).forEach(e=>{const t=oa(o,e.element,{});e.postStyleProps.forEach(e=>t[e]=null)}):(i.push("The requested animation doesn't exist or has already been destroyed"),s=[]),i.length)throw new Error(`Unable to create the animation due to the following errors: ${i.join("\n")}`);o.forEach((e,t)=>{Object.keys(e).forEach(n=>{e[n]=this._driver.computeStyle(t,n,Ut.AUTO_STYLE)})});const a=ta(s.map(e=>{const t=o.get(e.element);return this._buildPlayer(e,{},t)}));return this._playersById[e]=a,a.onDestroy(()=>this.destroy(e)),this.players.push(a),a}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,n,i){const r=sa(t,"","","");return ia(this._getPlayer(e),n,r,i),()=>{}}command(e,t,n,i){if("register"==n)return void this.register(e,i[0]);if("create"==n)return void this.create(e,t,i[0]||{});const r=this._getPlayer(e);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const Pl="ng-animate-queued",Rl=".ng-animate-queued",Ll="ng-animate-disabled",Nl=".ng-animate-disabled",Fl="ng-star-inserted",Vl=".ng-star-inserted",jl=[],Bl={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},zl={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Hl="__ng_removed";class Ul{constructor(e,t=""){this.namespaceId=t;const n=e&&e.hasOwnProperty("value");if(this.value=function(e){return null!=e?e:null}(n?e.value:e),n){const t=ka(e);delete t.value,this.options=t}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const e=this.options.params;Object.keys(t).forEach(n=>{null==e[n]&&(e[n]=t[n])})}}}const Gl="void",Wl=new Ul(Gl);class $l{constructor(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,eu(t,this._hostClassName)}listen(e,t,n,i){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${t}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if("start"!=(r=n)&&"done"!=r)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${t}" is not supported!`);var r;const s=oa(this._elementListeners,e,[]),o={name:t,phase:n,callback:i};s.push(o);const a=oa(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(eu(e,Ea),eu(e,Ea+"-"+t),a[t]=Wl),()=>{this._engine.afterFlush(()=>{const e=s.indexOf(o);e>=0&&s.splice(e,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,n,i=!0){const r=this._getTrigger(t),s=new Yl(this.id,t,e);let o=this._engine.statesByElement.get(e);o||(eu(e,Ea),eu(e,Ea+"-"+t),this._engine.statesByElement.set(e,o={}));let a=o[t];const l=new Ul(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),o[t]=l,a||(a=Wl),l.value!==Gl&&a.value===l.value){if(!function(e,t){const n=Object.keys(e),i=Object.keys(t);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){const i=n[r];if(!t.hasOwnProperty(i)||e[i]!==t[i])return!1}return!0}(a.params,l.params)){const t=[],n=r.matchStyles(a.value,a.params,t),i=r.matchStyles(l.value,l.params,t);t.length?this._engine.reportError(t):this._engine.afterFlush(()=>{Fa(e,n),Na(e,i)})}return}const u=oa(this._engine.playersByElement,e,[]);u.forEach(e=>{e.namespaceId==this.id&&e.triggerName==t&&e.queued&&e.destroy()});let c=r.matchTransition(a.value,l.value,e,l.params),h=!1;if(!c){if(!i)return;c=r.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:c,fromState:a,toState:l,player:s,isFallbackTransition:h}),h||(eu(e,Pl),s.onStart(()=>{tu(e,Pl)})),s.onDone(()=>{let t=this.players.indexOf(s);t>=0&&this.players.splice(t,1);const n=this._engine.playersByElement.get(e);if(n){let e=n.indexOf(s);e>=0&&n.splice(e,1)}}),this.players.push(s),u.push(s),s}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,n)=>{delete t[e]}),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(t=>t.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(e=>e.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t,n=!1){this._engine.driver.query(e,Ta,!0).forEach(e=>{if(e[Hl])return;const n=this._engine.fetchNamespacesByElement(e);n.size?n.forEach(n=>n.triggerLeaveAnimation(e,t,!1,!0)):this.clearElementCache(e)})}triggerLeaveAnimation(e,t,n,i){const r=this._engine.statesByElement.get(e);if(r){const s=[];if(Object.keys(r).forEach(t=>{if(this._triggers[t]){const n=this.trigger(e,t,Gl,i);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&ta(s).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e);if(t){const n=new Set;t.forEach(t=>{const i=t.name;if(n.has(i))return;n.add(i);const r=this._triggers[i].fallbackTransition,s=this._engine.statesByElement.get(e)[i]||Wl,o=new Ul(Gl),a=new Yl(this.id,i,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:i,transition:r,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(e,t){const n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t,!0),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(n.totalAnimations){const t=n.players.length?n.playersByQueriedElement.get(e):[];if(t&&t.length)i=!0;else{let t=e;for(;t=t.parentNode;)if(n.statesByElement.get(t)){i=!0;break}}}this.prepareLeaveAnimationListeners(e),i?n.markElementAsRemoved(this.id,e,!1,t):(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,t))}insertNode(e,t){eu(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(n=>{const i=n.player;if(i.destroyed)return;const r=n.element,s=this._elementListeners.get(r);s&&s.forEach(t=>{if(t.name==n.triggerName){const i=sa(r,n.triggerName,n.fromState.value,n.toState.value);i._data=e,ia(n.player,t.phase,i,t.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(n)}),this._queue=[],t.sort((e,t)=>{const n=e.transition.ast.depCount,i=t.transition.ast.depCount;return 0==n||0==i?n-i:this._engine.driver.containsElement(e.element,t.element)?1:-1})}destroy(e){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),!!this._queue.find(t=>t.element===e)||t}}class ql{constructor(e,t,n){this.bodyNode=e,this.driver=t,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=((e,t)=>{})}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(t=>{t.queued&&e.push(t)})}),e}createNamespace(e,t){const n=new $l(e,t,this);return t.parentNode?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,t){const n=this._namespaceList.length-1;if(n>=0){let i=!1;for(let r=n;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,t)){this._namespaceList.splice(r+1,0,e),i=!0;break}i||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}registerTrigger(e,t,n){let i=this._namespaceLookup[e];i&&i.register(t,n)&&this.totalAnimations++}destroy(e,t){if(!e)return;const n=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[e];const t=this._namespaceList.indexOf(n);t>=0&&this._namespaceList.splice(t,1)}),this.afterFlushAnimationsDone(()=>n.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,n=this.statesByElement.get(e);if(n){const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=n[e[i]].namespaceId;if(r){const e=this._fetchNamespace(r);e&&t.add(e)}}}return t}trigger(e,t,n,i){if(Zl(t)){const r=this._fetchNamespace(e);if(r)return r.trigger(t,n,i),!0}return!1}insertNode(e,t,n,i){if(!Zl(t))return;const r=t[Hl];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const e=this.collectedLeaveElements.indexOf(t);e>=0&&this.collectedLeaveElements.splice(e,1)}if(e){const i=this._fetchNamespace(e);i&&i.insertNode(t,n)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),eu(e,Ll)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),tu(e,Ll))}removeNode(e,t,n){if(!Zl(t))return void this._onRemovalComplete(t,n);const i=e?this._fetchNamespace(e):null;i?i.removeNode(t,n):this.markElementAsRemoved(e,t,!1,n)}markElementAsRemoved(e,t,n,i){this.collectedLeaveElements.push(t),t[Hl]={namespaceId:e,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}listen(e,t,n,i,r){return Zl(t)?this._fetchNamespace(e).listen(t,n,i,r):()=>{}}_buildInstruction(e,t,n,i,r){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,i,e.fromState.options,e.toState.options,t,r)}destroyInnerAnimations(e){let t=this.driver.query(e,Ta,!0);t.forEach(e=>this.destroyActiveAnimationsForElement(e)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Ia,!0)).forEach(e=>this.finishActiveQueriedAnimationOnElement(e))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(e=>{e.queued?e.markedForDestroy=!0:e.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(e=>e.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ta(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Hl];if(t&&t.setForRemoval){if(e[Hl]=Bl,t.namespaceId){this.destroyInnerAnimations(e);const n=this._fetchNamespace(t.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,Nl)&&this.markElementAsDisabled(e,!1),this.driver.query(e,Nl,!0).forEach(e=>{this.markElementAsDisabled(e,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((e,t)=>this._balanceNamespaceList(e,t)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)eu(this.collectedEnterElements[n],Fl);if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{t=this._flushAnimations(n,e)}finally{for(let e=0;e<n.length;e++)n[e]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(e=>e()),this._flushFns=[],this._whenQuietFns.length){const e=this._whenQuietFns;this._whenQuietFns=[],t.length?ta(t).onDone(()=>{e.forEach(e=>e())}):e.forEach(e=>e())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const n=new cl,i=[],r=new Map,s=[],o=new Map,a=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(e=>{u.add(e);const t=this.driver.query(e,Rl,!0);for(let n=0;n<t.length;n++)u.add(t[n])});const c=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=Ql(h,this.collectedEnterElements),p=new Map;let f=0;d.forEach((e,t)=>{const n=Ca+f++;p.set(t,n),e.forEach(e=>eu(e,n))});const g=[],m=new Set,v=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){const e=this.collectedLeaveElements[A],t=e[Hl];t&&t.setForRemoval&&(g.push(e),m.add(e),t.hasAnimation?this.driver.query(e,Vl,!0).forEach(e=>m.add(e)):v.add(e))}const y=new Map,_=Ql(h,Array.from(m));_.forEach((e,t)=>{const n=Sa+f++;y.set(t,n),e.forEach(e=>eu(e,n))}),e.push(()=>{d.forEach((e,t)=>{const n=p.get(t);e.forEach(e=>tu(e,n))}),_.forEach((e,t)=>{const n=y.get(t);e.forEach(e=>tu(e,n))}),g.forEach(e=>{this.processLeaveNode(e)})});const b=[],w=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(t).forEach(e=>{const t=e.player,r=e.element;if(b.push(t),this.collectedEnterElements.length){const e=r[Hl];if(e&&e.setForMove)return void t.destroy()}const u=!c||!this.driver.containsElement(c,r),h=y.get(r),d=p.get(r),f=this._buildInstruction(e,n,d,h,u);if(!f.errors||!f.errors.length)return u?(t.onStart(()=>Fa(r,f.fromStyles)),t.onDestroy(()=>Na(r,f.toStyles)),void i.push(t)):e.isFallbackTransition?(t.onStart(()=>Fa(r,f.fromStyles)),t.onDestroy(()=>Na(r,f.toStyles)),void i.push(t)):(f.timelines.forEach(e=>e.stretchStartingKeyframe=!0),n.append(r,f.timelines),s.push({instruction:f,player:t,element:r}),f.queriedElements.forEach(e=>oa(o,e,[]).push(t)),f.preStyleProps.forEach((e,t)=>{const n=Object.keys(e);if(n.length){let e=a.get(t);e||a.set(t,e=new Set),n.forEach(t=>e.add(t))}}),void f.postStyleProps.forEach((e,t)=>{const n=Object.keys(e);let i=l.get(t);i||l.set(t,i=new Set),n.forEach(e=>i.add(e))}));w.push(f)});if(w.length){const e=[];w.forEach(t=>{e.push(`@${t.triggerName} has failed due to:\n`),t.errors.forEach(t=>e.push(`- ${t}\n`))}),b.forEach(e=>e.destroy()),this.reportError(e)}const x=new Map,C=new Map;s.forEach(e=>{const t=e.element;n.has(t)&&(C.set(t,t),this._beforeAnimationBuild(e.player.namespaceId,e.instruction,x))}),i.forEach(e=>{const t=e.element;this._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach(e=>{oa(x,t,[]).push(e),e.destroy()})});const S=g.filter(e=>iu(e,a,l)),E=new Map;Xl(E,this.driver,v,l,Ut.AUTO_STYLE).forEach(e=>{iu(e,a,l)&&S.push(e)});const T=new Map;d.forEach((e,t)=>{Xl(T,this.driver,new Set(e),a,Ut["\u0275PRE_STYLE"])}),S.forEach(e=>{const t=E.get(e),n=T.get(e);E.set(e,Object.assign({},t,n))});const M=[],I=[],O={};s.forEach(e=>{const{element:t,player:s,instruction:o}=e;if(n.has(t)){if(u.has(t))return s.onDestroy(()=>Na(t,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void i.push(s);let e=O;if(C.size>1){let n=t;const i=[];for(;n=n.parentNode;){const t=C.get(n);if(t){e=t;break}i.push(n)}i.forEach(t=>C.set(t,e))}const n=this._buildAnimation(s.namespaceId,o,x,r,T,E);if(s.setRealPlayer(n),e===O)M.push(s);else{const t=this.playersByElement.get(e);t&&t.length&&(s.parentPlayer=ta(t)),i.push(s)}}else Fa(t,o.fromStyles),s.onDestroy(()=>Na(t,o.toStyles)),I.push(s),u.has(t)&&i.push(s)}),I.forEach(e=>{const t=r.get(e.element);if(t&&t.length){const n=ta(t);e.setRealPlayer(n)}}),i.forEach(e=>{e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()});for(let A=0;A<g.length;A++){const e=g[A],t=e[Hl];if(tu(e,Sa),t&&t.hasAnimation)continue;let n=[];if(o.size){let t=o.get(e);t&&t.length&&n.push(...t);let i=this.driver.query(e,Ia,!0);for(let e=0;e<i.length;e++){let t=o.get(i[e]);t&&t.length&&n.push(...t)}}const i=n.filter(e=>!e.destroyed);i.length?nu(this,e,i):this.processLeaveNode(e)}return g.length=0,M.forEach(e=>{this.players.push(e),e.onDone(()=>{e.destroy();const t=this.players.indexOf(e);this.players.splice(t,1)}),e.play()}),M}elementContainsData(e,t){let n=!1;const i=t[Hl];return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,n,i,r){let s=[];if(t){const t=this.playersByQueriedElement.get(e);t&&(s=t)}else{const t=this.playersByElement.get(e);if(t){const e=!r||r==Gl;t.forEach(t=>{t.queued||(e||t.triggerName==i)&&s.push(t)})}}return(n||i)&&(s=s.filter(e=>!(n&&n!=e.namespaceId||i&&i!=e.triggerName))),s}_beforeAnimationBuild(e,t,n){const i=t.element,r=t.isRemovalTransition?void 0:e,s=t.isRemovalTransition?void 0:t.triggerName;for(const o of t.timelines){const e=o.element,a=e!==i,l=oa(n,e,[]);this._getPreviousPlayers(e,a,r,s,t.toState).forEach(e=>{const t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),l.push(e)})}Fa(i,t.fromStyles)}_buildAnimation(e,t,n,i,r,s){const o=t.triggerName,a=t.element,l=[],u=new Set,c=new Set,h=t.timelines.map(t=>{const h=t.element;u.add(h);const d=h[Hl];if(d&&d.removedBeforeQueried)return new Ut.NoopAnimationPlayer(t.duration,t.delay);const p=h!==a,f=function(e){const t=[];return function e(t,n){for(let i=0;i<t.length;i++){const r=t[i];r instanceof Ut["\u0275AnimationGroupPlayer"]?e(r.players,n):n.push(r)}}((n.get(h)||jl).map(e=>e.getRealPlayer()),t),t}().filter(e=>!!e.element&&e.element===h),g=r.get(h),m=s.get(h),v=na(0,this._normalizer,0,t.keyframes,g,m),y=this._buildPlayer(t,v,f);if(t.subTimeline&&i&&c.add(h),p){const t=new Yl(e,o,h);t.setRealPlayer(y),l.push(t)}return y});l.forEach(e=>{oa(this.playersByQueriedElement,e.element,[]).push(e),e.onDone(()=>(function(e,t,n){let i;if(e instanceof Map){if(i=e.get(t)){if(i.length){const e=i.indexOf(n);i.splice(e,1)}0==i.length&&e.delete(t)}}else if(i=e[t]){if(i.length){const e=i.indexOf(n);i.splice(e,1)}0==i.length&&delete e[t]}return i})(this.playersByQueriedElement,e.element,e))}),u.forEach(e=>eu(e,Ma));const d=ta(h);return d.onDestroy(()=>{u.forEach(e=>tu(e,Ma)),Na(a,t.toStyles)}),c.forEach(e=>{oa(i,e,[]).push(d)}),d}_buildPlayer(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new Ut.NoopAnimationPlayer(e.duration,e.delay)}}class Yl{constructor(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n,this._player=new Ut.NoopAnimationPlayer,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(n=>ia(e,t,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){oa(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Zl(e){return e&&1===e.nodeType}function Kl(e,t){const n=e.style.display;return e.style.display=null!=t?t:"none",n}function Xl(e,t,n,i,r){const s=[];n.forEach(e=>s.push(Kl(e)));const o=[];i.forEach((n,i)=>{const s={};n.forEach(e=>{const n=s[e]=t.computeStyle(i,e,r);n&&0!=n.length||(i[Hl]=zl,o.push(i))}),e.set(i,s)});let a=0;return n.forEach(e=>Kl(e,s[a++])),o}function Ql(e,t){const n=new Map;if(e.forEach(e=>n.set(e,[])),0==t.length)return n;const i=new Set(t),r=new Map;return t.forEach(e=>{const t=function e(t){if(!t)return 1;let s=r.get(t);if(s)return s;const o=t.parentNode;return s=n.has(o)?o:i.has(o)?1:e(o),r.set(t,s),s}(e);1!==t&&n.get(t).push(e)}),n}const Jl="$$classes";function eu(e,t){if(e.classList)e.classList.add(t);else{let n=e[Jl];n||(n=e[Jl]={}),n[t]=!0}}function tu(e,t){if(e.classList)e.classList.remove(t);else{let n=e[Jl];n&&delete n[t]}}function nu(e,t,n){ta(n).onDone(()=>e.processLeaveNode(t))}function iu(e,t,n){const i=n.get(e);if(!i)return!1;let r=t.get(e);return r?i.forEach(e=>r.add(e)):t.set(e,i),n.delete(e),!0}class ru{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._triggerCache={},this.onRemovalComplete=((e,t)=>{}),this._transitionEngine=new ql(e,t,n),this._timelineEngine=new kl(e,t,n),this._transitionEngine.onRemovalComplete=((e,t)=>this.onRemovalComplete(e,t))}registerTrigger(e,t,n,i,r){const s=e+"-"+i;let o=this._triggerCache[s];if(!o){const e=[],t=nl(this._driver,r,e);if(e.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${e.join("\n - ")}`);o=function(e,t){return new Ol(e,t)}(i,t),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(t,i,o)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,n,i){this._transitionEngine.insertNode(e,t,n,i)}onRemove(e,t,n){this._transitionEngine.removeNode(e,t,n)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,n,i){if("@"==n.charAt(0)){const[e,r]=aa(n);this._timelineEngine.command(e,t,r,i)}else this._transitionEngine.trigger(e,t,n,i)}listen(e,t,n,i,r){if("@"==n.charAt(0)){const[e,i]=aa(n);return this._timelineEngine.listen(e,t,i,r)}return this._transitionEngine.listen(e,t,n,i,r)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}const su=3,ou="animation",au="animationend",lu=1e3;class uu{constructor(e,t,n,i,r,s,o){this._element=e,this._name=t,this._duration=n,this._delay=i,this._easing=r,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=(e=>this._handleCallback(e))}apply(){!function(e,t){const n=gu(e,"").trim();n.length&&(function(e,t){let n=0;for(let i=0;i<e.length;i++)","===e.charAt(i)&&n++}(n),t=`${n}, ${t}`),fu(e,"",t)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),pu(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){cu(this._element,this._name,"paused")}resume(){cu(this._element,this._name,"running")}setPosition(e){const t=hu(this._element,this._name);this._position=e*this._duration,fu(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),n=parseFloat(e.elapsedTime.toFixed(su))*lu;e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),pu(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(e,t){const n=gu(e,"").split(","),i=du(n,t);i>=0&&(n.splice(i,1),fu(e,"",n.join(",")))}(this._element,this._name))}}function cu(e,t,n){fu(e,"PlayState",n,hu(e,t))}function hu(e,t){const n=gu(e,"");return n.indexOf(",")>0?du(n.split(","),t):du([n],t)}function du(e,t){for(let n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function pu(e,t,n){n?e.removeEventListener(au,t):e.addEventListener(au,t)}function fu(e,t,n,i){const r=ou+t;if(null!=i){const t=e.style[r];if(t.length){const e=t.split(",");e[i]=n,n=e.join(",")}}e.style[r]=n}function gu(e,t){return e.style[ou+t]}const mu="forwards",vu="linear";class yu{constructor(e,t,n,i,r,s,o){this.element=e,this.keyframes=t,this.animationName=n,this._duration=i,this._delay=r,this._finalStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||vu,this.totalTime=i+r,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new uu(this.element,this.animationName,this._duration,this._delay,this.easing,mu,()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(e[n]=t?this._finalStyles[n]:Ya(this.element,n))})}this.currentSnapshot=e}}class _u extends Ut.NoopAnimationPlayer{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=ya(t)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}const bu="gen_css_kf_",wu=" ";class xu{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(e){return fa(e)}matchesElement(e,t){return ga(e,t)}containsElement(e,t){return ma(e,t)}query(e,t,n){return va(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,n){n=n.map(e=>ya(e));let i=`@keyframes ${t} {\n`,r="";n.forEach(e=>{r=wu;const t=parseFloat(e.offset);i+=`${r}${100*t}% {\n`,r+=wu,Object.keys(e).forEach(t=>{const n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(i+=`${r}animation-timing-function: ${n};\n`));default:return void(i+=`${r}${t}: ${n};\n`)}}),i+=`${r}}\n`}),i+="}\n";const s=document.createElement("style");return s.innerHTML=i,s}animate(e,t,n,i,r,s=[],o){o&&this._notifyFaultyScrubber();const a=s.filter(e=>e instanceof yu),l={};Wa(n,i)&&a.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>l[e]=t[e])});const u=function(e){let t={};return e&&(Array.isArray(e)?e:[e]).forEach(e=>{Object.keys(e).forEach(n=>{"offset"!=n&&"easing"!=n&&(t[n]=e[n])})}),t}(t=$a(e,t,l));if(0==n)return new _u(e,u);const c=`${bu}${this._count++}`,h=this.buildKeyframeElement(e,c,t);document.querySelector("head").appendChild(h);const d=new yu(e,t,c,n,i,r,u);return d.onDestroy(()=>(function(e){h.parentNode.removeChild(h)})()),d}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class Cu{constructor(e,t,n){this.element=e,this.keyframes=t,this.options=n,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,n){return e.animate(t,n)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:Ya(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class Su{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Eu().toString()),this._cssKeyframesDriver=new xu}validateStyleProperty(e){return fa(e)}matchesElement(e,t){return ga(e,t)}containsElement(e,t){return ma(e,t)}query(e,t,n){return va(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,n,i,r,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,i,r,s);const a={duration:n,delay:i,fill:0==i?"both":"forwards"};r&&(a.easing=r);const l={},u=s.filter(e=>e instanceof Cu);return Wa(n,i)&&u.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>l[e]=t[e])}),t=$a(e,t=t.map(e=>Pa(e,!1)),l),new Cu(e,t,a)}}function Eu(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}class Tu extends Ut.AnimationBuilder{constructor(e,t){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(t.body,{id:"0",encapsulation:i.ViewEncapsulation.None,styles:[],data:{animation:[]}})}build(e){const t=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(e)?Object(Ut.sequence)(e):e;return Ou(this._renderer,null,t,"register",[n]),new Mu(t,this._renderer)}}class Mu extends Ut.AnimationFactory{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Iu(this._id,e,t||{},this._renderer)}}class Iu{constructor(e,t,n,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Ou(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(e){this._command("setPosition",e)}getPosition(){return 0}}function Ou(e,t,n,i,r){return e.setProperty(t,`@@${n}:${i}`,r)}const Au="@",Du="@.disabled";class ku{constructor(e,t,n){this.delegate=e,this.engine=t,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),t.onRemovalComplete=((e,t)=>{t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)})}createRenderer(e,t){const n=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){let e=this._rendererCache.get(n);return e||(e=new Pu("",n,this.engine),this._rendererCache.set(n,e)),e}const i=t.id,r=t.id+"-"+this._currentId;return this._currentId++,this.engine.register(r,e),t.data.animation.forEach(t=>this.engine.registerTrigger(i,r,e,t.name,t)),new Ru(this,r,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,n){e>=0&&e<this._microtaskId?this._zone.run(()=>t(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(e=>{const[t,n]=e;t(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([t,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}class Pu{constructor(e,t,n){this.namespaceId=e,this.delegate=t,this.engine=n,this.destroyNode=this.delegate.destroyNode?e=>t.destroyNode(e):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,n){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,!0)}removeChild(e,t){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,i){this.delegate.setAttribute(e,t,n,i)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,i){this.delegate.setStyle(e,t,n,i)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){t.charAt(0)==Au&&t==Du?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n){return this.delegate.listen(e,t,n)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Ru extends Pu{constructor(e,t,n,i){super(t,n,i),this.factory=e,this.namespaceId=t}setProperty(e,t,n){t.charAt(0)==Au?"."==t.charAt(1)&&t==Du?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}listen(e,t,n){if(t.charAt(0)==Au){const i=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e);let r=t.substr(1),s="";return r.charAt(0)!=Au&&([r,s]=function(e){const t=e.indexOf(".");return[e.substring(0,t),e.substr(t+1)]}(r)),this.engine.listen(this.namespaceId,i,r,s,e=>{this.factory.scheduleListenerCallback(e._data||-1,n,e)})}return this.delegate.listen(e,t,n)}}class Lu extends ru{constructor(e,t,n){super(e.body,t,n)}}function Nu(){return"function"==typeof Eu()?new Su:new xu}function Fu(){return new xl}function Vu(e,t,n){return new ku(e,t,n)}const ju=new i.InjectionToken("AnimationModuleType");class Bu{}n("7Hc7"),n("WMd4");const zu=new i.InjectionToken("mat-menu-scroll-strategy");function Hu(e){return()=>e.scrollStrategies.reposition()}class Uu{}class Gu{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}Gu.ngInjectableDef=Object(i.defineInjectable)({factory:function(){return new Gu},token:Gu,providedIn:"root"});class Wu{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,t)=>this._cleanupObserver(t))}observe(e){const t=hn(e);return l.a.create(e=>{const n=this._observeElement(t).subscribe(e);return()=>{n.unsubscribe(),this._unobserveElement(t)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const t=new u.a,n=this._mutationObserverFactory.create(e=>t.next(e));n&&n.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:n,stream:t,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:t,stream:n}=this._observedElements.get(e);t&&t.disconnect(),n.complete(),this._observedElements.delete(e)}}}Wu.ngInjectableDef=Object(i.defineInjectable)({factory:function(){return new Wu(Object(i.inject)(Gu))},token:Wu,providedIn:"root"});class $u{}class qu{}var Yu=n("fBTL"),Zu=n("pmWI"),Ku=n("4WZM"),Xu=n("KB/w"),Qu=n("rmC/"),Ju=n("T+K8"),ec=n("WwML"),tc=n("IL0X"),nc=n("pODc"),ic=n("Itiq"),rc=n("xhcO");class sc{}class oc{}var ac=n("z6cu"),lc=n("cp0P"),uc=n("JIr8"),cc=n("nYR2"),hc=n("w1tV");function dc(e){return Error(`Unable to find icon with the name "${e}"`)}function pc(e){return Error("The URL provided to MatIconRegistry was not trusted as a resource URL "+`via Angular's DomSanitizer. Attempted URL was "${e}".`)}function fc(e){return Error("The literal provided to MatIconRegistry was not trusted as safe HTML by "+`Angular's DomSanitizer. Attempted literal was "${e}".`)}class gc{constructor(e){e.nodeName?this.svgElement=e:this.url=e}}class mc{constructor(e,t,n){this._httpClient=e,this._sanitizer=t,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(e,t){return this.addSvgIconInNamespace("",e,t)}addSvgIconLiteral(e,t){return this.addSvgIconLiteralInNamespace("",e,t)}addSvgIconInNamespace(e,t,n){return this._addSvgIconConfig(e,t,new gc(n))}addSvgIconLiteralInNamespace(e,t,n){const r=this._sanitizer.sanitize(i.SecurityContext.HTML,n);if(!r)throw fc(n);const s=this._createSvgElementForSingleIcon(r);return this._addSvgIconConfig(e,t,new gc(s))}addSvgIconSet(e){return this.addSvgIconSetInNamespace("",e)}addSvgIconSetLiteral(e){return this.addSvgIconSetLiteralInNamespace("",e)}addSvgIconSetInNamespace(e,t){return this._addSvgIconSetConfig(e,new gc(t))}addSvgIconSetLiteralInNamespace(e,t){const n=this._sanitizer.sanitize(i.SecurityContext.HTML,t);if(!n)throw fc(t);const r=this._svgElementFromString(n);return this._addSvgIconSetConfig(e,new gc(r))}registerFontClassAlias(e,t=e){return this._fontCssClassesByAlias.set(e,t),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const t=this._sanitizer.sanitize(i.SecurityContext.RESOURCE_URL,e);if(!t)throw pc(e);const n=this._cachedIconsByUrl.get(t);return n?Object(tn.a)(vc(n)):this._loadSvgIconFromConfig(new gc(e)).pipe(Object(bi.a)(e=>this._cachedIconsByUrl.set(t,e)),Object(v.a)(e=>vc(e)))}getNamedSvgIcon(e,t=""){const n=yc(t,e),i=this._svgIconConfigs.get(n);if(i)return this._getSvgFromConfig(i);const r=this._iconSetConfigs.get(t);return r?this._getSvgFromIconSetConfigs(e,r):Object(ac.a)(dc(n))}_getSvgFromConfig(e){return e.svgElement?Object(tn.a)(vc(e.svgElement)):this._loadSvgIconFromConfig(e).pipe(Object(bi.a)(t=>e.svgElement=t),Object(v.a)(e=>vc(e)))}_getSvgFromIconSetConfigs(e,t){const n=this._extractIconWithNameFromAnySet(e,t);if(n)return Object(tn.a)(n);const r=t.filter(e=>!e.svgElement).map(e=>this._loadSvgIconSetFromConfig(e).pipe(Object(uc.a)(t=>{const n=this._sanitizer.sanitize(i.SecurityContext.RESOURCE_URL,e.url);return console.error(`Loading icon set URL: ${n} failed: ${t.message}`),Object(tn.a)(null)})));return Object(lc.a)(r).pipe(Object(v.a)(()=>{const n=this._extractIconWithNameFromAnySet(e,t);if(!n)throw dc(e);return n}))}_extractIconWithNameFromAnySet(e,t){for(let n=t.length-1;n>=0;n--){const i=t[n];if(i.svgElement){const t=this._extractSvgIconFromSet(i.svgElement,e);if(t)return t}}return null}_loadSvgIconFromConfig(e){return this._fetchUrl(e.url).pipe(Object(v.a)(e=>this._createSvgElementForSingleIcon(e)))}_loadSvgIconSetFromConfig(e){return e.svgElement?Object(tn.a)(e.svgElement):this._fetchUrl(e.url).pipe(Object(v.a)(t=>(e.svgElement||(e.svgElement=this._svgElementFromString(t)),e.svgElement)))}_createSvgElementForSingleIcon(e){const t=this._svgElementFromString(e);return this._setSvgAttributes(t),t}_extractSvgIconFromSet(e,t){const n=e.querySelector("#"+t);if(!n)return null;const i=n.cloneNode(!0);if(i.removeAttribute("id"),"svg"===i.nodeName.toLowerCase())return this._setSvgAttributes(i);if("symbol"===i.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(i));const r=this._svgElementFromString("<svg></svg>");return r.appendChild(i),this._setSvgAttributes(r)}_svgElementFromString(e){const t=this._document.createElement("DIV");t.innerHTML=e;const n=t.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(e){let t=this._svgElementFromString("<svg></svg>");for(let n=0;n<e.childNodes.length;n++)e.childNodes[n].nodeType===this._document.ELEMENT_NODE&&t.appendChild(e.childNodes[n].cloneNode(!0));return t}_setSvgAttributes(e){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),e}_fetchUrl(e){if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==e)throw Error(`Cannot fetch icon from URL "${e}".`);const t=this._sanitizer.sanitize(i.SecurityContext.RESOURCE_URL,e);if(!t)throw pc(e);const n=this._inProgressUrlFetches.get(t);if(n)return n;const r=this._httpClient.get(t,{responseType:"text"}).pipe(Object(cc.a)(()=>this._inProgressUrlFetches.delete(t)),Object(hc.a)());return this._inProgressUrlFetches.set(t,r),r}_addSvgIconConfig(e,t,n){return this._svgIconConfigs.set(yc(e,t),n),this}_addSvgIconSetConfig(e,t){const n=this._iconSetConfigs.get(e);return n?n.push(t):this._iconSetConfigs.set(e,[t]),this}}function vc(e){return e.cloneNode(!0)}function yc(e,t){return e+":"+t}mc.ngInjectableDef=Object(i.defineInjectable)({factory:function(){return new mc(Object(i.inject)(ko,8),Object(i.inject)(_i.c),Object(i.inject)(Fe.DOCUMENT,8))},token:mc,providedIn:"root"});class _c{}class bc{}var wc=n("EY2u");const xc=En({passive:!0});class Cc{constructor(e,t){this._platform=e,this._ngZone=t,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return wc.a;const t=hn(e),n=this._monitoredElements.get(t);if(n)return n.subject.asObservable();const i=new u.a,r="cdk-text-field-autofilled",s=e=>{"cdk-text-field-autofill-start"!==e.animationName||t.classList.contains(r)?"cdk-text-field-autofill-end"===e.animationName&&t.classList.contains(r)&&(t.classList.remove(r),this._ngZone.run(()=>i.next({target:e.target,isAutofilled:!1}))):(t.classList.add(r),this._ngZone.run(()=>i.next({target:e.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{t.addEventListener("animationstart",s,xc),t.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(t,{subject:i,unlisten:()=>{t.removeEventListener("animationstart",s,xc)}}),i.asObservable()}stopMonitoring(e){const t=hn(e),n=this._monitoredElements.get(t);n&&(n.unlisten(),n.subject.complete(),t.classList.remove("cdk-text-field-autofill-monitored"),t.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(t))}ngOnDestroy(){this._monitoredElements.forEach((e,t)=>this.stopMonitoring(t))}}Cc.ngInjectableDef=Object(i.defineInjectable)({factory:function(){return new Cc(Object(i.inject)(xn),Object(i.inject)(i.NgZone))},token:Cc,providedIn:"root"});class Sc{}class Ec{}class Tc{}class Mc{}class Ic{}class Oc{}class Ac{}class Dc{}class kc{}class Pc{}class Rc{}class Lc{}var Nc=i["\u0275cmf"](s,[Be],function(e){return i["\u0275mod"]([i["\u0275mpd"](512,i.ComponentFactoryResolver,i["\u0275CodegenComponentFactoryResolver"],[[8,[We,wt,Ht,ir,Jo]],[3,i.ComponentFactoryResolver],i.NgModuleRef]),i["\u0275mpd"](5120,i.LOCALE_ID,i["\u0275angular_packages_core_core_r"],[[3,i.LOCALE_ID]]),i["\u0275mpd"](4608,Fe.NgLocalization,Fe.NgLocaleLocalization,[i.LOCALE_ID,[2,Fe["\u0275angular_packages_common_common_a"]]]),i["\u0275mpd"](5120,i.APP_ID,i["\u0275angular_packages_core_core_g"],[]),i["\u0275mpd"](5120,i.IterableDiffers,i["\u0275angular_packages_core_core_p"],[]),i["\u0275mpd"](5120,i.KeyValueDiffers,i["\u0275angular_packages_core_core_q"],[]),i["\u0275mpd"](4608,_i.c,_i.l,[Fe.DOCUMENT]),i["\u0275mpd"](6144,i.Sanitizer,null,[_i.c]),i["\u0275mpd"](4608,_i.f,Zi,[[2,$i],[2,Gi]]),i["\u0275mpd"](5120,_i.d,function(e,t,n,i,r,s,o,a){return[new _i.j(e,t,n),new _i.o(i),new _i.n(r,s,o,a)]},[Fe.DOCUMENT,i.NgZone,i.PLATFORM_ID,Fe.DOCUMENT,Fe.DOCUMENT,_i.f,i["\u0275Console"],[2,_i.g]]),i["\u0275mpd"](4608,_i.e,_i.e,[_i.d,i.NgZone]),i["\u0275mpd"](135680,_i.m,_i.m,[Fe.DOCUMENT]),i["\u0275mpd"](4608,_i.k,_i.k,[_i.e,_i.m]),i["\u0275mpd"](5120,ba,Nu,[]),i["\u0275mpd"](5120,wl,Fu,[]),i["\u0275mpd"](4608,ru,Lu,[Fe.DOCUMENT,ba,wl]),i["\u0275mpd"](5120,i.RendererFactory2,Vu,[_i.k,ru,i.NgZone]),i["\u0275mpd"](6144,_i.p,null,[_i.m]),i["\u0275mpd"](4608,i.Testability,i.Testability,[i.NgZone]),i["\u0275mpd"](5120,ze.ActivatedRoute,ze["\u0275angular_packages_router_router_g"],[ze.Router]),i["\u0275mpd"](4608,ze.NoPreloading,ze.NoPreloading,[]),i["\u0275mpd"](6144,ze.PreloadingStrategy,null,[ze.NoPreloading]),i["\u0275mpd"](135680,ze.RouterPreloader,ze.RouterPreloader,[ze.Router,i.NgModuleFactoryLoader,i.Compiler,i.Injector,ze.PreloadingStrategy]),i["\u0275mpd"](4608,ze.PreloadAllModules,ze.PreloadAllModules,[]),i["\u0275mpd"](5120,ze["\u0275angular_packages_router_router_n"],ze["\u0275angular_packages_router_router_c"],[ze.Router,Fe.ViewportScroller,ze.ROUTER_CONFIGURATION]),i["\u0275mpd"](5120,ze.ROUTER_INITIALIZER,ze["\u0275angular_packages_router_router_j"],[ze["\u0275angular_packages_router_router_h"]]),i["\u0275mpd"](5120,i.APP_BOOTSTRAP_LISTENER,function(e){return[e]},[ze.ROUTER_INITIALIZER]),i["\u0275mpd"](4608,Ut.AnimationBuilder,Tu,[i.RendererFactory2,_i.b]),i["\u0275mpd"](4608,nt["\u0275angular_packages_forms_forms_j"],nt["\u0275angular_packages_forms_forms_j"],[]),i["\u0275mpd"](4608,Ho,Uo,[Fe.DOCUMENT,i.PLATFORM_ID,Bo]),i["\u0275mpd"](4608,Go,Go,[Ho,zo]),i["\u0275mpd"](5120,Ro,function(e){return[e]},[Go]),i["\u0275mpd"](4608,Vo,Vo,[]),i["\u0275mpd"](6144,Fo,null,[Vo]),i["\u0275mpd"](4608,jo,jo,[Fo]),i["\u0275mpd"](6144,vo,null,[jo]),i["\u0275mpd"](4608,mo,Wo,[vo,i.Injector]),i["\u0275mpd"](4608,ko,ko,[mo]),i["\u0275mpd"](4608,ii,ii,[Bn,qn,i.ComponentFactoryResolver,ti,$n,i.Injector,i.NgZone,Fe.DOCUMENT,an,[2,Fe.Location]]),i["\u0275mpd"](5120,ri,si,[ii]),i["\u0275mpd"](5120,zu,Hu,[ii]),i["\u0275mpd"](5120,gi,mi,[ii]),i["\u0275mpd"](135680,vi,vi,[ii,i.Injector,[2,Fe.Location],[2,fi],gi,[3,vi],qn]),i["\u0275mpd"](4608,Gu,Gu,[]),i["\u0275mpd"](4608,Wi,Wi,[]),i["\u0275mpd"](4608,ge,ge,[]),i["\u0275mpd"](4608,ae,ae,[G]),i["\u0275mpd"](4608,pe,pe,[ae]),i["\u0275mpd"](1073742336,Fe.CommonModule,Fe.CommonModule,[]),i["\u0275mpd"](1024,i.ErrorHandler,_i.q,[]),i["\u0275mpd"](1024,i.NgProbeToken,function(){return[ze["\u0275angular_packages_router_router_b"]()]},[]),i["\u0275mpd"](512,ze["\u0275angular_packages_router_router_h"],ze["\u0275angular_packages_router_router_h"],[i.Injector]),i["\u0275mpd"](1024,i.APP_INITIALIZER,function(e,t){return[_i.r(e),ze["\u0275angular_packages_router_router_i"](t)]},[[2,i.NgProbeToken],ze["\u0275angular_packages_router_router_h"]]),i["\u0275mpd"](512,i.ApplicationInitStatus,i.ApplicationInitStatus,[[2,i.APP_INITIALIZER]]),i["\u0275mpd"](131584,i.ApplicationRef,i.ApplicationRef,[i.NgZone,i["\u0275Console"],i.Injector,i.ErrorHandler,i.ComponentFactoryResolver,i.ApplicationInitStatus]),i["\u0275mpd"](1073742336,i.ApplicationModule,i.ApplicationModule,[i.ApplicationRef]),i["\u0275mpd"](1073742336,_i.a,_i.a,[[3,_i.a]]),i["\u0275mpd"](131584,S,S,[]),i["\u0275mpd"](2048,F,null,[S]),i["\u0275mpd"](256,E,void 0,[]),i["\u0275mpd"](1024,T,X,[E]),i["\u0275mpd"](256,A,{parameters:ae.reducer},[]),i["\u0275mpd"](2048,k,null,[A]),i["\u0275mpd"](1024,O,K,[i.Injector,A,k]),i["\u0275mpd"](256,I,P,[]),i["\u0275mpd"](256,D,[],[]),i["\u0275mpd"](1024,M,L,[I,D]),i["\u0275mpd"](131584,j,j,[F,T,O,M]),i["\u0275mpd"](2048,N,null,[j]),i["\u0275mpd"](131584,B,B,[]),i["\u0275mpd"](131584,H,H,[S,N,B,T]),i["\u0275mpd"](2048,z,null,[H]),i["\u0275mpd"](512,G,G,[z,S,j]),i["\u0275mpd"](1073742336,Z,Z,[S,N,B,G]),i["\u0275mpd"](1024,ze["\u0275angular_packages_router_router_a"],ze["\u0275angular_packages_router_router_e"],[[3,ze.Router]]),i["\u0275mpd"](512,ze.UrlSerializer,ze.DefaultUrlSerializer,[]),i["\u0275mpd"](512,ze.ChildrenOutletContexts,ze.ChildrenOutletContexts,[]),i["\u0275mpd"](256,ze.ROUTER_CONFIGURATION,{enableTracing:!1},[]),i["\u0275mpd"](1024,Fe.LocationStrategy,ze["\u0275angular_packages_router_router_d"],[Fe.PlatformLocation,[2,Fe.APP_BASE_HREF],ze.ROUTER_CONFIGURATION]),i["\u0275mpd"](512,Fe.Location,Fe.Location,[Fe.LocationStrategy]),i["\u0275mpd"](512,i.Compiler,i.Compiler,[]),i["\u0275mpd"](512,i.NgModuleFactoryLoader,i.SystemJsNgModuleLoader,[i.Compiler,[2,i.SystemJsNgModuleLoaderConfig]]),i["\u0275mpd"](1024,ze.ROUTES,function(){return[[{path:"scene",component:vt},{path:"slice",component:Vt},{path:"",redirectTo:"/scene",pathMatch:"full"},{path:"**",component:vt}]]},[]),i["\u0275mpd"](1024,ze.Router,ze["\u0275angular_packages_router_router_f"],[i.ApplicationRef,ze.UrlSerializer,ze.ChildrenOutletContexts,Fe.Location,i.Injector,i.NgModuleFactoryLoader,i.Compiler,ze.ROUTES,ze.ROUTER_CONFIGURATION,[2,ze.UrlHandlingStrategy],[2,ze.RouteReuseStrategy]]),i["\u0275mpd"](1073742336,ze.RouterModule,ze.RouterModule,[[2,ze["\u0275angular_packages_router_router_a"]],[2,ze.Router]]),i["\u0275mpd"](1073742336,qu,qu,[]),i["\u0275mpd"](1073742336,Bu,Bu,[]),i["\u0275mpd"](1073742336,nt["\u0275angular_packages_forms_forms_bc"],nt["\u0275angular_packages_forms_forms_bc"],[]),i["\u0275mpd"](1073742336,nt.FormsModule,nt.FormsModule,[]),i["\u0275mpd"](1073742336,$o,$o,[]),i["\u0275mpd"](1073742336,qo,qo,[]),i["\u0275mpd"](1073742336,rt.SliderModule,rt.SliderModule,[]),i["\u0275mpd"](1073742336,ft.InputSwitchModule,ft.InputSwitchModule,[]),i["\u0275mpd"](1073742336,It.SharedModule,It.SharedModule,[]),i["\u0275mpd"](1073742336,Yu.PanelModule,Yu.PanelModule,[]),i["\u0275mpd"](1073742336,Zu.FieldsetModule,Zu.FieldsetModule,[]),i["\u0275mpd"](1073742336,Ku.CardModule,Ku.CardModule,[]),i["\u0275mpd"](1073742336,Tt.ButtonModule,Tt.ButtonModule,[]),i["\u0275mpd"](1073742336,Nr.DropdownModule,Nr.DropdownModule,[]),i["\u0275mpd"](1073742336,Xu.CalendarModule,Xu.CalendarModule,[]),i["\u0275mpd"](1073742336,Fr.PaginatorModule,Fr.PaginatorModule,[]),i["\u0275mpd"](1073742336,Lr.TableModule,Lr.TableModule,[]),i["\u0275mpd"](1073742336,Qu.ListboxModule,Qu.ListboxModule,[]),i["\u0275mpd"](1073742336,tt.TooltipModule,tt.TooltipModule,[]),i["\u0275mpd"](1073742336,Ju.CheckboxModule,Ju.CheckboxModule,[]),i["\u0275mpd"](1073742336,Mt.ToastModule,Mt.ToastModule,[]),i["\u0275mpd"](1073742336,ec.MessagesModule,ec.MessagesModule,[]),i["\u0275mpd"](1073742336,tc.MessageModule,tc.MessageModule,[]),i["\u0275mpd"](1073742336,nc.TabViewModule,nc.TabViewModule,[]),i["\u0275mpd"](1073742336,xt.RadioButtonModule,xt.RadioButtonModule,[]),i["\u0275mpd"](1073742336,ic.AccordionModule,ic.AccordionModule,[]),i["\u0275mpd"](1073742336,br.DialogModule,br.DialogModule,[]),i["\u0275mpd"](1073742336,rc.CodeHighlighterModule,rc.CodeHighlighterModule,[]),i["\u0275mpd"](1073742336,it.InputTextModule,it.InputTextModule,[]),i["\u0275mpd"](1073742336,sr.MenubarModule,sr.MenubarModule,[]),i["\u0275mpd"](1073742336,Xe.SidebarModule,Xe.SidebarModule,[]),i["\u0275mpd"](1073742336,uo.OverlayPanelModule,uo.OverlayPanelModule,[]),i["\u0275mpd"](1073742336,ln,ln,[]),i["\u0275mpd"](1073742336,Gi,Gi,[[2,Ui],[2,_i.g]]),i["\u0275mpd"](1073742336,Cn,Cn,[]),i["\u0275mpd"](1073742336,Xi,Xi,[]),i["\u0275mpd"](1073742336,Xt,Xt,[]),i["\u0275mpd"](1073742336,On,On,[]),i["\u0275mpd"](1073742336,oi,oi,[]),i["\u0275mpd"](1073742336,Uu,Uu,[]),i["\u0275mpd"](1073742336,sc,sc,[]),i["\u0275mpd"](1073742336,oc,oc,[]),i["\u0275mpd"](1073742336,_c,_c,[]),i["\u0275mpd"](1073742336,yi,yi,[]),i["\u0275mpd"](1073742336,bc,bc,[]),i["\u0275mpd"](1073742336,Sc,Sc,[]),i["\u0275mpd"](1073742336,$u,$u,[]),i["\u0275mpd"](1073742336,Ec,Ec,[]),i["\u0275mpd"](1073742336,Tc,Tc,[]),i["\u0275mpd"](1073742336,Mc,Mc,[]),i["\u0275mpd"](1073742336,Ic,Ic,[]),i["\u0275mpd"](1073742336,Oc,Oc,[]),i["\u0275mpd"](1073742336,Ac,Ac,[]),i["\u0275mpd"](1073742336,Dc,Dc,[]),i["\u0275mpd"](1073742336,Bi,Bi,[]),i["\u0275mpd"](1073742336,kc,kc,[]),i["\u0275mpd"](1073742336,Pc,Pc,[]),i["\u0275mpd"](1073742336,Rc,Rc,[]),i["\u0275mpd"](1073742336,Ki,Ki,[]),i["\u0275mpd"](1073742336,Qi,Qi,[]),i["\u0275mpd"](1073742336,Lc,Lc,[]),i["\u0275mpd"](1073742336,s,s,[]),i["\u0275mpd"](256,i["\u0275APP_ROOT"],!0,[]),i["\u0275mpd"](256,ju,"BrowserAnimations",[]),i["\u0275mpd"](256,Bo,"XSRF-TOKEN",[]),i["\u0275mpd"](256,zo,"X-XSRF-TOKEN",[]),i["\u0275mpd"](256,fi,r,[])])});Object(i.enableProdMode)(),_i.i().bootstrapModuleFactory(Nc).catch(e=>console.error(e))}},[[0,0]]]);